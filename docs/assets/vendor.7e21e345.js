function SE(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var Vn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function kE(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function Yr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TE={exports:{}},Dn={},Ee={exports:{}},Le={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Uv=Object.getOwnPropertySymbols,CE=Object.prototype.hasOwnProperty,IE=Object.prototype.propertyIsEnumerable;function OE(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function AE(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ay=AE()?Object.assign:function(t,e){for(var n,r=OE(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)CE.call(n,o)&&(r[o]=n[o]);if(Uv){i=Uv(n);for(var a=0;a<i.length;a++)IE.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Ay,Gs=60103,Ry=60106;Le.Fragment=60107;Le.StrictMode=60108;Le.Profiler=60114;var Ny=60109,Dy=60110,Py=60112;Le.Suspense=60113;var Ly=60115,zy=60116;if(typeof Symbol=="function"&&Symbol.for){var Fn=Symbol.for;Gs=Fn("react.element"),Ry=Fn("react.portal"),Le.Fragment=Fn("react.fragment"),Le.StrictMode=Fn("react.strict_mode"),Le.Profiler=Fn("react.profiler"),Ny=Fn("react.provider"),Dy=Fn("react.context"),Py=Fn("react.forward_ref"),Le.Suspense=Fn("react.suspense"),Ly=Fn("react.memo"),zy=Fn("react.lazy")}var Fv=typeof Symbol=="function"&&Symbol.iterator;function RE(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}function qa(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var My={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},By={};function Qs(t,e,n){this.props=t,this.context=e,this.refs=By,this.updater=n||My}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(qa(85));this.updater.enqueueSetState(this,t,e,"setState")};Qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uy(){}Uy.prototype=Qs.prototype;function Ld(t,e,n){this.props=t,this.context=e,this.refs=By,this.updater=n||My}var zd=Ld.prototype=new Uy;zd.constructor=Ld;Pd(zd,Qs.prototype);zd.isPureReactComponent=!0;var Md={current:null},Fy=Object.prototype.hasOwnProperty,jy={key:!0,ref:!0,__self:!0,__source:!0};function Wy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fy.call(e,r)&&!jy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gs,type:t,key:s,ref:o,props:i,_owner:Md.current}}function NE(t,e){return{$$typeof:Gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gs}function DE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jv=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DE(""+t.key):e.toString(36)}function Yu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gs:case Ry:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zf(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(jv,"$&/")+"/"),Yu(i,e,n,"",function(l){return l})):i!=null&&(Bd(i)&&(i=NE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Zf(s,a);o+=Yu(s,e,n,u,i)}else if(u=RE(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Zf(s,a++),o+=Yu(s,e,n,u,i);else if(s==="object")throw e=""+t,Error(qa(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Eu(t,e,n){if(t==null)return t;var r=[],i=0;return Yu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PE(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Ky={current:null};function Ur(){var t=Ky.current;if(t===null)throw Error(qa(321));return t}var LE={ReactCurrentDispatcher:Ky,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Md,IsSomeRendererActing:{current:!1},assign:Pd};Le.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!Bd(t))throw Error(qa(143));return t}};Le.Component=Qs;Le.PureComponent=Ld;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LE;Le.cloneElement=function(t,e,n){if(t==null)throw Error(qa(267,t));var r=Pd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Md.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Fy.call(e,u)&&!jy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Gs,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Dy,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Ny,_context:t},t.Consumer=t};Le.createElement=Wy;Le.createFactory=function(t){var e=Wy.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:Py,render:t}};Le.isValidElement=Bd;Le.lazy=function(t){return{$$typeof:zy,_payload:{_status:-1,_result:t},_init:PE}};Le.memo=function(t,e){return{$$typeof:Ly,type:t,compare:e===void 0?null:e}};Le.useCallback=function(t,e){return Ur().useCallback(t,e)};Le.useContext=function(t,e){return Ur().useContext(t,e)};Le.useDebugValue=function(){};Le.useEffect=function(t,e){return Ur().useEffect(t,e)};Le.useImperativeHandle=function(t,e,n){return Ur().useImperativeHandle(t,e,n)};Le.useLayoutEffect=function(t,e){return Ur().useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Ur().useMemo(t,e)};Le.useReducer=function(t,e,n){return Ur().useReducer(t,e,n)};Le.useRef=function(t){return Ur().useRef(t)};Le.useState=function(t){return Ur().useState(t)};Le.version="17.0.2";Ee.exports=Le;var Zu=Ee.exports,ZA=Object.freeze(SE({__proto__:null,[Symbol.toStringTag]:"Module",default:Zu},[Ee.exports])),$y={exports:{}},Hy={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var u=null,l=null,f=function(){if(u!==null)try{var q=t.unstable_now();u(!0,q),u=null}catch(Y){throw setTimeout(f,0),Y}};e=function(q){u!==null?setTimeout(e,0,q):(u=q,setTimeout(f,0))},n=function(q,Y){l=setTimeout(q,Y)},r=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,d=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,E=null,p=-1,h=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},i=function(){},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h=0<q?Math.floor(1e3/q):5};var y=new MessageChannel,x=y.port2;y.port1.onmessage=function(){if(E!==null){var q=t.unstable_now();v=q+h;try{E(!0,q)?x.postMessage(null):(w=!1,E=null)}catch(Y){throw x.postMessage(null),Y}}else w=!1},e=function(q){E=q,w||(w=!0,x.postMessage(null))},n=function(q,Y){p=c(function(){q(t.unstable_now())},Y)},r=function(){d(p),p=-1}}function _(q,Y){var ue=q.length;q.push(Y);e:for(;;){var de=ue-1>>>1,Te=q[de];if(Te!==void 0&&0<O(Te,Y))q[de]=Y,q[ue]=Te,ue=de;else break e}}function b(q){return q=q[0],q===void 0?null:q}function T(q){var Y=q[0];if(Y!==void 0){var ue=q.pop();if(ue!==Y){q[0]=ue;e:for(var de=0,Te=q.length;de<Te;){var Fe=2*(de+1)-1,Me=q[Fe],Se=Fe+1,He=q[Se];if(Me!==void 0&&0>O(Me,ue))He!==void 0&&0>O(He,Me)?(q[de]=He,q[Se]=ue,de=Se):(q[de]=Me,q[Fe]=ue,de=Fe);else if(He!==void 0&&0>O(He,ue))q[de]=He,q[Se]=ue,de=Se;else break e}}return Y}return null}function O(q,Y){var ue=q.sortIndex-Y.sortIndex;return ue!==0?ue:q.id-Y.id}var R=[],z=[],W=1,U=null,H=3,fe=!1,X=!1,ie=!1;function se(q){for(var Y=b(z);Y!==null;){if(Y.callback===null)T(z);else if(Y.startTime<=q)T(z),Y.sortIndex=Y.expirationTime,_(R,Y);else break;Y=b(z)}}function oe(q){if(ie=!1,se(q),!X)if(b(R)!==null)X=!0,e(_e);else{var Y=b(z);Y!==null&&n(oe,Y.startTime-q)}}function _e(q,Y){X=!1,ie&&(ie=!1,r()),fe=!0;var ue=H;try{for(se(Y),U=b(R);U!==null&&(!(U.expirationTime>Y)||q&&!t.unstable_shouldYield());){var de=U.callback;if(typeof de=="function"){U.callback=null,H=U.priorityLevel;var Te=de(U.expirationTime<=Y);Y=t.unstable_now(),typeof Te=="function"?U.callback=Te:U===b(R)&&T(R),se(Y)}else T(R);U=b(R)}if(U!==null)var Fe=!0;else{var Me=b(z);Me!==null&&n(oe,Me.startTime-Y),Fe=!1}return Fe}finally{U=null,H=ue,fe=!1}}var ke=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){X||fe||(X=!0,e(_e))},t.unstable_getCurrentPriorityLevel=function(){return H},t.unstable_getFirstCallbackNode=function(){return b(R)},t.unstable_next=function(q){switch(H){case 1:case 2:case 3:var Y=3;break;default:Y=H}var ue=H;H=Y;try{return q()}finally{H=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ke,t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=H;H=q;try{return Y()}finally{H=ue}},t.unstable_scheduleCallback=function(q,Y,ue){var de=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?de+ue:de):ue=de,q){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ue+Te,q={id:W++,callback:Y,priorityLevel:q,startTime:ue,expirationTime:Te,sortIndex:-1},ue>de?(q.sortIndex=ue,_(z,q),b(R)===null&&q===b(z)&&(ie?r():ie=!0,n(oe,ue-de))):(q.sortIndex=Te,_(R,q),X||fe||(X=!0,e(_e))),q},t.unstable_wrapCallback=function(q){var Y=H;return function(){var ue=H;H=Y;try{return q.apply(this,arguments)}finally{H=ue}}}})(Hy);$y.exports=Hy;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Ee.exports,st=Ay,It=$y.exports;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!lf)throw Error(ne(227));var Vy=new Set,va={};function qi(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(va[t]=e,t=0;t<e.length;t++)Vy.add(e[t])}var Nr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv=Object.prototype.hasOwnProperty,Kv={},$v={};function ME(t){return Wv.call($v,t)?!0:Wv.call(Kv,t)?!1:zE.test(t)?$v[t]=!0:(Kv[t]=!0,!1)}function BE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UE(t,e,n,r){if(e===null||typeof e=="undefined"||BE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ud=/[\-:]([a-z])/g;function Fd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ud,Fd);Pt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ud,Fd);Pt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ud,Fd);Pt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jd(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(UE(e,n,i,r)&&(n=null),r||i===null?ME(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yi=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=60103,Oi=60106,qr=60107,Wd=60108,Go=60114,Kd=60109,$d=60110,ff=60112,Qo=60113,gl=60120,cf=60115,Hd=60116,Vd=60121,qd=60128,qy=60129,Yd=60130,qc=60131;if(typeof Symbol=="function"&&Symbol.for){var Ct=Symbol.for;jo=Ct("react.element"),Oi=Ct("react.portal"),qr=Ct("react.fragment"),Wd=Ct("react.strict_mode"),Go=Ct("react.profiler"),Kd=Ct("react.provider"),$d=Ct("react.context"),ff=Ct("react.forward_ref"),Qo=Ct("react.suspense"),gl=Ct("react.suspense_list"),cf=Ct("react.memo"),Hd=Ct("react.lazy"),Vd=Ct("react.block"),Ct("react.scope"),qd=Ct("react.opaque.id"),qy=Ct("react.debug_trace_mode"),Yd=Ct("react.offscreen"),qc=Ct("react.legacy_hidden")}var Hv=typeof Symbol=="function"&&Symbol.iterator;function _o(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var Xf;function Wo(t){if(Xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xf=e&&e[1]||""}return`
`+Xf+t}var Gf=!1;function xu(t,e){if(!t||Gf)return"";Gf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{Gf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wo(t):""}function FE(t){switch(t.tag){case 5:return Wo(t.type);case 16:return Wo("Lazy");case 13:return Wo("Suspense");case 19:return Wo("SuspenseList");case 0:case 2:case 15:return t=xu(t.type,!1),t;case 11:return t=xu(t.type.render,!1),t;case 22:return t=xu(t.type._render,!1),t;case 1:return t=xu(t.type,!0),t;default:return""}}function Ss(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qr:return"Fragment";case Oi:return"Portal";case Go:return"Profiler";case Wd:return"StrictMode";case Qo:return"Suspense";case gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $d:return(t.displayName||"Context")+".Consumer";case Kd:return(t._context.displayName||"Context")+".Provider";case ff:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case cf:return Ss(t.type);case Vd:return Ss(t._render);case Hd:e=t._payload,t=t._init;try{return Ss(t(e))}catch{}}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Yy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jE(t){var e=Yy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=jE(t))}function Zy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yc(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Vv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xy(t,e){e=e.checked,e!=null&&jd(t,"checked",e,!1)}function Zc(t,e){Xy(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xc(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xc(t,e,n){(e!=="number"||yl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function WE(t){var e="";return lf.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Gc(t,e){return t=st({children:void 0},e),(e=WE(e.children))&&(t.children=e),t}function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function Gy(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Jc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Qy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Su,Jy=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Jc.svg||"innerHTML"in t)t.innerHTML=e;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KE=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){KE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jo[e]=Jo[t]})});function e0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+e).trim():e+"px"}function t0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $E=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(t,e){if(e){if($E[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function nh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Zd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rh=null,Ts=null,Cs=null;function Xv(t){if(t=Za(t)){if(typeof rh!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=gf(e),rh(t.stateNode,t.type,e))}}function n0(t){Ts?Cs?Cs.push(t):Cs=[t]:Ts=t}function r0(){if(Ts){var t=Ts,e=Cs;if(Cs=Ts=null,Xv(t),e)for(t=0;t<e.length;t++)Xv(e[t])}}function Xd(t,e){return t(e)}function i0(t,e,n,r,i){return t(e,n,r,i)}function Gd(){}var s0=Xd,Ai=!1,Qf=!1;function Qd(){(Ts!==null||Cs!==null)&&(Gd(),r0())}function HE(t,e,n){if(Qf)return t(e,n);Qf=!0;try{return s0(t,e,n)}finally{Qf=!1,Qd()}}function ga(t,e){var n=t.stateNode;if(n===null)return null;var r=gf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var ih=!1;if(Nr)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){ih=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{ih=!1}function VE(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(f){this.onError(f)}}var ea=!1,_l=null,wl=!1,sh=null,qE={onError:function(t){ea=!0,_l=t}};function YE(t,e,n,r,i,s,o,a,u){ea=!1,_l=null,VE.apply(qE,arguments)}function ZE(t,e,n,r,i,s,o,a,u){if(YE.apply(this,arguments),ea){if(ea){var l=_l;ea=!1,_l=null}else throw Error(ne(198));wl||(wl=!0,sh=l)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gv(t){if(Zi(t)!==t)throw Error(ne(188))}function XE(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gv(i),t;if(s===r)return Gv(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function a0(t){if(t=XE(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Qv(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var u0,Jd,l0,f0,oh=!1,or=[],ei=null,ti=null,ni=null,ya=new Map,_a=new Map,Eo=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ah(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function em(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=ah(e,n,r,i,s),e!==null&&(e=Za(e),e!==null&&Jd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GE(t,e,n,r,i){switch(e){case"focusin":return ei=xo(ei,t,e,n,r,i),!0;case"dragenter":return ti=xo(ti,t,e,n,r,i),!0;case"mouseover":return ni=xo(ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ya.set(s,xo(ya.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_a.set(s,xo(_a.get(s)||null,t,e,n,r,i)),!0}return!1}function QE(t){var e=Ri(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=o0(n),e!==null){t.blockedOn=e,f0(t.lanePriority,function(){It.unstable_runWithPriority(t.priority,function(){l0(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Za(n),e!==null&&Jd(e),t.blockedOn=n,!1;e.shift()}return!0}function tm(t,e,n){Xu(t)&&n.delete(e)}function JE(){for(oh=!1;0<or.length;){var t=or[0];if(t.blockedOn!==null){t=Za(t.blockedOn),t!==null&&u0(t);break}for(var e=t.targetContainers;0<e.length;){var n=rp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&or.shift()}ei!==null&&Xu(ei)&&(ei=null),ti!==null&&Xu(ti)&&(ti=null),ni!==null&&Xu(ni)&&(ni=null),ya.forEach(tm),_a.forEach(tm)}function bo(t,e){t.blockedOn===e&&(t.blockedOn=null,oh||(oh=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,JE)))}function c0(t){function e(i){return bo(i,t)}if(0<or.length){bo(or[0],t);for(var n=1;n<or.length;n++){var r=or[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&bo(ei,t),ti!==null&&bo(ti,t),ni!==null&&bo(ni,t),ya.forEach(e),_a.forEach(e),n=0;n<Eo.length;n++)r=Eo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Eo.length&&(n=Eo[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&Eo.shift()}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Jf={},h0={};Nr&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function hf(t){if(Jf[t])return Jf[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h0)return Jf[t]=e[n];return t}var d0=hf("animationend"),p0=hf("animationiteration"),v0=hf("animationstart"),m0=hf("transitionend"),g0=new Map,ep=new Map,ex=["abort","abort",d0,"animationEnd",p0,"animationIteration",v0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",m0,"transitionEnd","waiting","waiting"];function tp(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),ep.set(r,e),g0.set(r,i),qi(i,[r])}}var tx=It.unstable_now;tx();var qe=8;function ps(t){if((1&t)!==0)return qe=15,1;if((2&t)!==0)return qe=14,2;if((4&t)!==0)return qe=13,4;var e=24&t;return e!==0?(qe=12,e):(t&32)!==0?(qe=11,32):(e=192&t,e!==0?(qe=10,e):(t&256)!==0?(qe=9,256):(e=3584&t,e!==0?(qe=8,e):(t&4096)!==0?(qe=7,4096):(e=4186112&t,e!==0?(qe=6,e):(e=62914560&t,e!==0?(qe=5,e):t&67108864?(qe=4,67108864):(t&134217728)!==0?(qe=3,134217728):(e=805306368&t,e!==0?(qe=2,e):(1073741824&t)!==0?(qe=1,1073741824):(qe=8,t))))))}function nx(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function rx(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ne(358,t))}}function wa(t,e){var n=t.pendingLanes;if(n===0)return qe=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)r=s,i=qe=15;else if(s=n&134217727,s!==0){var u=s&~o;u!==0?(r=ps(u),i=qe):(a&=s,a!==0&&(r=ps(a),i=qe))}else s=n&~o,s!==0?(r=ps(s),i=qe):a!==0&&(r=ps(a),i=qe);if(r===0)return 0;if(r=31-ci(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(ps(e),i<=qe)return e;qe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ci(e),i=1<<n,r|=t[n],e&=~i;return r}function y0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function El(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=vs(24&~e),t===0?El(10,e):t;case 10:return t=vs(192&~e),t===0?El(8,e):t;case 8:return t=vs(3584&~e),t===0&&(t=vs(4186112&~e),t===0&&(t=512)),t;case 2:return e=vs(805306368&~e),e===0&&(e=268435456),e}throw Error(ne(358,t))}function vs(t){return t&-t}function ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function df(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-ci(e),t[e]=n}var ci=Math.clz32?Math.clz32:ox,ix=Math.log,sx=Math.LN2;function ox(t){return t===0?32:31-(ix(t)/sx|0)|0}var ax=It.unstable_UserBlockingPriority,ux=It.unstable_runWithPriority,Gu=!0;function lx(t,e,n,r){Ai||Gd();var i=np,s=Ai;Ai=!0;try{i0(i,t,e,n,r)}finally{(Ai=s)||Qd()}}function fx(t,e,n,r){ux(ax,np.bind(null,t,e,n,r))}function np(t,e,n,r){if(Gu){var i;if((i=(e&4)===0)&&0<or.length&&-1<Jv.indexOf(t))t=ah(null,t,e,n,r),or.push(t);else{var s=rp(t,e,n,r);if(s===null)i&&em(t,r);else{if(i){if(-1<Jv.indexOf(t)){t=ah(s,t,e,n,r),or.push(t);return}if(GE(s,t,e,n,r))return;em(t,r)}R0(t,e,r,null,n)}}}}function rp(t,e,n,r){var i=Zd(r);if(i=Ri(i),i!==null){var s=Zi(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=o0(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return R0(t,e,r,i,n),null}var Zr=null,ip=null,Qu=null;function _0(){if(Qu)return Qu;var t,e=ip,n=e.length,r,i="value"in Zr?Zr.value:Zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qu=i.slice(t,1<r?1-r:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function nm(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tu:nm,this.isPropagationStopped=nm,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sp=wn(Js),Ya=st({},Js,{view:0,detail:0}),cx=wn(Ya),tc,nc,So,pf=st({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(tc=t.screenX-So.screenX,nc=t.screenY-So.screenY):nc=tc=0,So=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:nc}}),rm=wn(pf),hx=st({},pf,{dataTransfer:0}),dx=wn(hx),px=st({},Ya,{relatedTarget:0}),rc=wn(px),vx=st({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=wn(vx),gx=st({},Js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yx=wn(gx),_x=st({},Js,{data:0}),im=wn(_x),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xx[t])?!!e[t]:!1}function op(){return bx}var Sx=st({},Ya,{key:function(t){if(t.key){var e=wx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ex[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kx=wn(Sx),Tx=st({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=wn(Tx),Cx=st({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),Ix=wn(Cx),Ox=st({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ax=wn(Ox),Rx=st({},pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=wn(Rx),Dx=[9,13,27,32],ap=Nr&&"CompositionEvent"in window,ta=null;Nr&&"documentMode"in document&&(ta=document.documentMode);var Px=Nr&&"TextEvent"in window&&!ta,w0=Nr&&(!ap||ta&&8<ta&&11>=ta),om=String.fromCharCode(32),am=!1;function E0(t,e){switch(t){case"keyup":return Dx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function Lx(t,e){switch(t){case"compositionend":return x0(e);case"keypress":return e.which!==32?null:(am=!0,om);case"textInput":return t=e.data,t===om&&am?null:t;default:return null}}function zx(t,e){if(ys)return t==="compositionend"||!ap&&E0(t,e)?(t=_0(),Qu=ip=Zr=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w0&&e.locale!=="ko"?null:e.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mx[t.type]:e==="textarea"}function b0(t,e,n,r){n0(r),e=xl(e,"onChange"),0<e.length&&(n=new sp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var na=null,Ea=null;function Bx(t){I0(t,0)}function vf(t){var e=ws(t);if(Zy(e))return t}function Ux(t,e){if(t==="change")return e}var S0=!1;if(Nr){var ic;if(Nr){var sc="oninput"in document;if(!sc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),sc=typeof lm.oninput=="function"}ic=sc}else ic=!1;S0=ic&&(!document.documentMode||9<document.documentMode)}function fm(){na&&(na.detachEvent("onpropertychange",k0),Ea=na=null)}function k0(t){if(t.propertyName==="value"&&vf(Ea)){var e=[];if(b0(e,Ea,t,Zd(t)),t=Bx,Ai)t(e);else{Ai=!0;try{Xd(t,e)}finally{Ai=!1,Qd()}}}}function Fx(t,e,n){t==="focusin"?(fm(),na=e,Ea=n,na.attachEvent("onpropertychange",k0)):t==="focusout"&&fm()}function jx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vf(Ea)}function Wx(t,e){if(t==="click")return vf(e)}function Kx(t,e){if(t==="input"||t==="change")return vf(e)}function $x(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:$x,Hx=Object.prototype.hasOwnProperty;function xa(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hx.call(e,n[r])||!Sn(t[n[r]],e[n[r]]))return!1;return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,e){var n=cm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cm(n)}}function T0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dm(){for(var t=window,e=yl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yl(t.document)}return e}function uh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Vx=Nr&&"documentMode"in document&&11>=document.documentMode,_s=null,lh=null,ra=null,fh=!1;function pm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fh||_s==null||_s!==yl(r)||(r=_s,"selectionStart"in r&&uh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ra&&xa(ra,r)||(ra=r,r=xl(lh,"onSelect"),0<r.length&&(e=new sp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}tp("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);tp("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);tp(ex,2);for(var vm="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),oc=0;oc<vm.length;oc++)ep.set(vm[oc],0);Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function mm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZE(r,e,void 0,t),t.currentTarget=null}function I0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;mm(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;mm(i,a,l),s=u}}}if(wl)throw t=sh,wl=!1,sh=null,t}function Xe(t,e){var n=D0(e),r=t+"__bubble";n.has(r)||(A0(e,t,2,!1),n.add(r))}var gm="_reactListening"+Math.random().toString(36).slice(2);function O0(t){t[gm]||(t[gm]=!0,Vy.forEach(function(e){C0.has(e)||ym(e,!1,t,null),ym(e,!0,t,null)}))}function ym(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&C0.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=D0(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),A0(s,t,i,e),o.add(a))}function A0(t,e,n,r){var i=ep.get(e);switch(i===void 0?2:i){case 0:i=lx;break;case 1:i=fx;break;default:i=np}n=i.bind(null,e,n,t),i=void 0,!ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function R0(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ri(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}HE(function(){var l=s,f=Zd(n),c=[];e:{var d=g0.get(t);if(d!==void 0){var g=sp,w=t;switch(t){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":g=kx;break;case"focusin":w="focus",g=rc;break;case"focusout":w="blur",g=rc;break;case"beforeblur":case"afterblur":g=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ix;break;case d0:case p0:case v0:g=mx;break;case m0:g=Ax;break;case"scroll":g=cx;break;case"wheel":g=Nx;break;case"copy":case"cut":case"paste":g=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sm}var E=(e&4)!==0,p=!E&&t==="scroll",h=E?d!==null?d+"Capture":null:d;E=[];for(var v=l,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,h!==null&&(x=ga(v,h),x!=null&&E.push(ba(v,x,y)))),p)break;v=v.return}0<E.length&&(d=new g(d,w,null,n,f),c.push({event:d,listeners:E}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&(e&16)===0&&(w=n.relatedTarget||n.fromElement)&&(Ri(w)||w[eo]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=l,w=w?Ri(w):null,w!==null&&(p=Zi(w),w!==p||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=l),g!==w)){if(E=rm,x="onMouseLeave",h="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=sm,x="onPointerLeave",h="onPointerEnter",v="pointer"),p=g==null?d:ws(g),y=w==null?d:ws(w),d=new E(x,v+"leave",g,n,f),d.target=p,d.relatedTarget=y,x=null,Ri(f)===l&&(E=new E(h,v+"enter",w,n,f),E.target=y,E.relatedTarget=p,x=E),p=x,g&&w)t:{for(E=g,h=w,v=0,y=E;y;y=os(y))v++;for(y=0,x=h;x;x=os(x))y++;for(;0<v-y;)E=os(E),v--;for(;0<y-v;)h=os(h),y--;for(;v--;){if(E===h||h!==null&&E===h.alternate)break t;E=os(E),h=os(h)}E=null}else E=null;g!==null&&_m(c,d,g,E,!1),w!==null&&p!==null&&_m(c,p,w,E,!0)}}e:{if(d=l?ws(l):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var _=Ux;else if(um(d))if(S0)_=Kx;else{_=jx;var b=Fx}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=Wx);if(_&&(_=_(t,l))){b0(c,_,n,f);break e}b&&b(t,d,l),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Xc(d,"number",d.value)}switch(b=l?ws(l):window,t){case"focusin":(um(b)||b.contentEditable==="true")&&(_s=b,lh=l,ra=null);break;case"focusout":ra=lh=_s=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,pm(c,n,f);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":pm(c,n,f)}var T;if(ap)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ys?E0(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(w0&&n.locale!=="ko"&&(ys||O!=="onCompositionStart"?O==="onCompositionEnd"&&ys&&(T=_0()):(Zr=f,ip="value"in Zr?Zr.value:Zr.textContent,ys=!0)),b=xl(l,O),0<b.length&&(O=new im(O,t,null,n,f),c.push({event:O,listeners:b}),T?O.data=T:(T=x0(n),T!==null&&(O.data=T)))),(T=Px?Lx(t,n):zx(t,n))&&(l=xl(l,"onBeforeInput"),0<l.length&&(f=new im("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:l}),f.data=T))}I0(c,e)})}function ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ga(t,n),s!=null&&r.unshift(ba(t,s,i)),s=ga(t,e),s!=null&&r.push(ba(t,s,i))),t=t.return}return r}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _m(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ga(n,s),u!=null&&o.unshift(ba(n,u,a))):i||(u=ga(n,s),u!=null&&o.push(ba(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function bl(){}var ac=null,uc=null;function N0(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function ch(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0;function up(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Em(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lc=0;function Yx(t){return{$$typeof:qd,toString:t,valueOf:t}}var mf=Math.random().toString(36).slice(2),Xr="__reactFiber$"+mf,Sl="__reactProps$"+mf,eo="__reactContainer$"+mf,xm="__reactEvents$"+mf;function Ri(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[eo]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Em(t);t!==null;){if(n=t[Xr])return n;t=Em(t)}return e}t=n,n=t.parentNode}return null}function Za(t){return t=t[Xr]||t[eo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function gf(t){return t[Sl]||null}function D0(t){var e=t[xm];return e===void 0&&(e=t[xm]=new Set),e}var hh=[],Es=-1;function Ei(t){return{current:t}}function Je(t){0>Es||(t.current=hh[Es],hh[Es]=null,Es--)}function ft(t,e){Es++,hh[Es]=t.current,t.current=e}var hi={},Kt=Ei(hi),an=Ei(!1),Ui=hi;function Bs(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function kl(){Je(an),Je(Kt)}function bm(t,e,n){if(Kt.current!==hi)throw Error(ne(168));ft(Kt,e),ft(an,n)}function P0(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,Ss(e)||"Unknown",i));return st({},n,r)}function el(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Ui=Kt.current,ft(Kt,t),ft(an,an.current),!0}function Sm(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=P0(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,Je(an),Je(Kt),ft(Kt,t)):Je(an),ft(an,n)}var lp=null,zi=null,Zx=It.unstable_runWithPriority,fp=It.unstable_scheduleCallback,dh=It.unstable_cancelCallback,Xx=It.unstable_shouldYield,km=It.unstable_requestPaint,ph=It.unstable_now,Gx=It.unstable_getCurrentPriorityLevel,yf=It.unstable_ImmediatePriority,L0=It.unstable_UserBlockingPriority,z0=It.unstable_NormalPriority,M0=It.unstable_LowPriority,B0=It.unstable_IdlePriority,fc={},Qx=km!==void 0?km:function(){},Er=null,tl=null,cc=!1,Tm=ph(),Ut=1e4>Tm?ph:function(){return ph()-Tm};function Us(){switch(Gx()){case yf:return 99;case L0:return 98;case z0:return 97;case M0:return 96;case B0:return 95;default:throw Error(ne(332))}}function U0(t){switch(t){case 99:return yf;case 98:return L0;case 97:return z0;case 96:return M0;case 95:return B0;default:throw Error(ne(332))}}function Fi(t,e){return t=U0(t),Zx(t,e)}function Sa(t,e,n){return t=U0(t),fp(t,e,n)}function dr(){if(tl!==null){var t=tl;tl=null,dh(t)}F0()}function F0(){if(!cc&&Er!==null){cc=!0;var t=0;try{var e=Er;Fi(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Er=null}catch(n){throw Er!==null&&(Er=Er.slice(t+1)),fp(yf,dr),n}finally{cc=!1}}}var Jx=Yi.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Tl=Ei(null),Cl=null,xs=null,Il=null;function cp(){Il=xs=Cl=null}function hp(t){var e=Tl.current;Je(Tl),t.type._context._currentValue=e}function j0(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Os(t,e){Cl=t,Il=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(qn=!0),t.firstContext=null)}function An(t,e){if(Il!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Il=t,e=1073741823),e={context:t,observedBits:e,next:null},xs===null){if(Cl===null)throw Error(ne(308));xs=e,Cl.dependencies={lanes:0,firstContext:e,responders:null}}else xs=xs.next=e;return t._currentValue}var $r=!1;function dp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function W0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Cm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ka(t,e,n,r){var i=t.updateQueue;$r=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var f=t.alternate;if(f!==null){f=f.updateQueue;var c=f.lastBaseUpdate;c!==o&&(c===null?f.firstBaseUpdate=l:c.next=l,f.lastBaseUpdate=u)}}if(s!==null){c=i.baseState,o=0,f=l=u=null;do{a=s.lane;var d=s.eventTime;if((r&a)===a){f!==null&&(f=f.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,w=s;switch(a=e,d=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(d,c,a);break e}c=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=w.payload,a=typeof g=="function"?g.call(d,c,a):g,a==null)break e;c=st({},c,a);break e;case 2:$r=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else d={eventTime:d,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(l=f=d,u=c):f=f.next=d,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);f===null&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Ga|=o,t.lanes=o,t.memoizedState=c}}function Im(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var K0=new lf.Component().refs;function Ol(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _f={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=si(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),ii(t,s),oi(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=si(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),ii(t,s),oi(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=si(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),ii(t,i),oi(t,r,n)}};function Om(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xa(n,r)||!xa(i,s):!0}function $0(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=un(e)?Ui:Kt.current,r=e.contextTypes,s=(r=r!=null)?Bs(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Am(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_f.enqueueReplaceState(e,e.state,null)}function vh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=K0,dp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=un(e)?Ui:Kt.current,i.context=Bs(t,s)),ka(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ol(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_f.enqueueReplaceState(i,i.state,null),ka(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Cu=Array.isArray;function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===K0&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Iu(t,e){if(t.type!=="textarea")throw Error(ne(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function H0(t){function e(p,h){if(t){var v=p.lastEffect;v!==null?(v.nextEffect=h,p.lastEffect=h):p.firstEffect=p.lastEffect=h,h.nextEffect=null,h.flags=8}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=pi(p,h),p.index=0,p.sibling=null,p}function s(p,h,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<h?(p.flags=2,h):v):(p.flags=2,h)):h}function o(p){return t&&p.alternate===null&&(p.flags=2),p}function a(p,h,v,y){return h===null||h.tag!==6?(h=mc(v,p.mode,y),h.return=p,h):(h=i(h,v),h.return=p,h)}function u(p,h,v,y){return h!==null&&h.elementType===v.type?(y=i(h,v.props),y.ref=ko(p,h,v),y.return=p,y):(y=sl(v.type,v.key,v.props,null,p.mode,y),y.ref=ko(p,h,v),y.return=p,y)}function l(p,h,v,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=gc(v,p.mode,y),h.return=p,h):(h=i(h,v.children||[]),h.return=p,h)}function f(p,h,v,y,x){return h===null||h.tag!==7?(h=Ds(v,p.mode,y,x),h.return=p,h):(h=i(h,v),h.return=p,h)}function c(p,h,v){if(typeof h=="string"||typeof h=="number")return h=mc(""+h,p.mode,v),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case jo:return v=sl(h.type,h.key,h.props,null,p.mode,v),v.ref=ko(p,null,h),v.return=p,v;case Oi:return h=gc(h,p.mode,v),h.return=p,h}if(Cu(h)||_o(h))return h=Ds(h,p.mode,v,null),h.return=p,h;Iu(p,h)}return null}function d(p,h,v,y){var x=h!==null?h.key:null;if(typeof v=="string"||typeof v=="number")return x!==null?null:a(p,h,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jo:return v.key===x?v.type===qr?f(p,h,v.props.children,y,x):u(p,h,v,y):null;case Oi:return v.key===x?l(p,h,v,y):null}if(Cu(v)||_o(v))return x!==null?null:f(p,h,v,y,null);Iu(p,v)}return null}function g(p,h,v,y,x){if(typeof y=="string"||typeof y=="number")return p=p.get(v)||null,a(h,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:return p=p.get(y.key===null?v:y.key)||null,y.type===qr?f(h,p,y.props.children,x,y.key):u(h,p,y,x);case Oi:return p=p.get(y.key===null?v:y.key)||null,l(h,p,y,x)}if(Cu(y)||_o(y))return p=p.get(v)||null,f(h,p,y,x,null);Iu(h,y)}return null}function w(p,h,v,y){for(var x=null,_=null,b=h,T=h=0,O=null;b!==null&&T<v.length;T++){b.index>T?(O=b,b=null):O=b.sibling;var R=d(p,b,v[T],y);if(R===null){b===null&&(b=O);break}t&&b&&R.alternate===null&&e(p,b),h=s(R,h,T),_===null?x=R:_.sibling=R,_=R,b=O}if(T===v.length)return n(p,b),x;if(b===null){for(;T<v.length;T++)b=c(p,v[T],y),b!==null&&(h=s(b,h,T),_===null?x=b:_.sibling=b,_=b);return x}for(b=r(p,b);T<v.length;T++)O=g(b,p,T,v[T],y),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?T:O.key),h=s(O,h,T),_===null?x=O:_.sibling=O,_=O);return t&&b.forEach(function(z){return e(p,z)}),x}function E(p,h,v,y){var x=_o(v);if(typeof x!="function")throw Error(ne(150));if(v=x.call(v),v==null)throw Error(ne(151));for(var _=x=null,b=h,T=h=0,O=null,R=v.next();b!==null&&!R.done;T++,R=v.next()){b.index>T?(O=b,b=null):O=b.sibling;var z=d(p,b,R.value,y);if(z===null){b===null&&(b=O);break}t&&b&&z.alternate===null&&e(p,b),h=s(z,h,T),_===null?x=z:_.sibling=z,_=z,b=O}if(R.done)return n(p,b),x;if(b===null){for(;!R.done;T++,R=v.next())R=c(p,R.value,y),R!==null&&(h=s(R,h,T),_===null?x=R:_.sibling=R,_=R);return x}for(b=r(p,b);!R.done;T++,R=v.next())R=g(b,p,T,R.value,y),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?T:R.key),h=s(R,h,T),_===null?x=R:_.sibling=R,_=R);return t&&b.forEach(function(W){return e(p,W)}),x}return function(p,h,v,y){var x=typeof v=="object"&&v!==null&&v.type===qr&&v.key===null;x&&(v=v.props.children);var _=typeof v=="object"&&v!==null;if(_)switch(v.$$typeof){case jo:e:{for(_=v.key,x=h;x!==null;){if(x.key===_){switch(x.tag){case 7:if(v.type===qr){n(p,x.sibling),h=i(x,v.props.children),h.return=p,p=h;break e}break;default:if(x.elementType===v.type){n(p,x.sibling),h=i(x,v.props),h.ref=ko(p,x,v),h.return=p,p=h;break e}}n(p,x);break}else e(p,x);x=x.sibling}v.type===qr?(h=Ds(v.props.children,p.mode,y,v.key),h.return=p,p=h):(y=sl(v.type,v.key,v.props,null,p.mode,y),y.ref=ko(p,h,v),y.return=p,p=y)}return o(p);case Oi:e:{for(x=v.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(p,h.sibling),h=i(h,v.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=gc(v,p.mode,y),h.return=p,p=h}return o(p)}if(typeof v=="string"||typeof v=="number")return v=""+v,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,v),h.return=p,p=h):(n(p,h),h=mc(v,p.mode,y),h.return=p,p=h),o(p);if(Cu(v))return w(p,h,v,y);if(_o(v))return E(p,h,v,y);if(_&&Iu(p,v),typeof v=="undefined"&&!x)switch(p.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ne(152,Ss(p.type)||"Component"))}return n(p,h)}}var Al=H0(!0),V0=H0(!1),Xa={},lr=Ei(Xa),Ta=Ei(Xa),Ca=Ei(Xa);function Ni(t){if(t===Xa)throw Error(ne(174));return t}function mh(t,e){switch(ft(Ca,e),ft(Ta,t),ft(lr,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eh(e,t)}Je(lr),ft(lr,e)}function Fs(){Je(lr),Je(Ta),Je(Ca)}function Rm(t){Ni(Ca.current);var e=Ni(lr.current),n=eh(e,t.type);e!==n&&(ft(Ta,t),ft(lr,n))}function pp(t){Ta.current===t&&(Je(lr),Je(Ta))}var lt=Ei(0);function Rl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sr=null,Gr=null,fr=!1;function q0(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Nm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function gh(t){if(fr){var e=Gr;if(e){var n=e;if(!Nm(t,e)){if(e=Is(n.nextSibling),!e||!Nm(t,e)){t.flags=t.flags&-1025|2,fr=!1,Sr=t;return}q0(Sr,n)}Sr=t,Gr=Is(e.firstChild)}else t.flags=t.flags&-1025|2,fr=!1,Sr=t}}function Dm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function Ou(t){if(t!==Sr)return!1;if(!fr)return Dm(t),fr=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!ch(e,t.memoizedProps))for(e=Gr;e;)q0(t,e),e=Is(e.nextSibling);if(Dm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gr=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gr=null}}else Gr=Sr?Is(t.stateNode.nextSibling):null;return!0}function hc(){Gr=Sr=null,fr=!1}var As=[];function vp(){for(var t=0;t<As.length;t++)As[t]._workInProgressVersionPrimary=null;As.length=0}var ia=Yi.ReactCurrentDispatcher,On=Yi.ReactCurrentBatchConfig,Ia=0,vt=null,Mt=null,Rt=null,Nl=!1,sa=!1;function sn(){throw Error(ne(321))}function mp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function gp(t,e,n,r,i,s){if(Ia=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=t===null||t.memoizedState===null?tb:nb,t=n(r,i),sa){s=0;do{if(sa=!1,!(25>s))throw Error(ne(301));s+=1,Rt=Mt=null,e.updateQueue=null,ia.current=rb,t=n(r,i)}while(sa)}if(ia.current=zl,e=Mt!==null&&Mt.next!==null,Ia=0,Rt=Mt=vt=null,Nl=!1,e)throw Error(ne(300));return t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?vt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Xi(){if(Mt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Rt===null?vt.memoizedState:Rt.next;if(e!==null)Rt=e,Mt=t;else{if(t===null)throw Error(ne(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Rt===null?vt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ar(t,e){return typeof e=="function"?e(t):e}function To(t){var e=Xi(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,u=i;do{var l=u.lane;if((Ia&l)===l)a!==null&&(a=a.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var f={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};a===null?(o=a=f,s=r):a=a.next=f,vt.lanes|=l,Ga|=l}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=o,Sn(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Co(t){var e=Xi(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Sn(s,e.memoizedState)||(qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Pm(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Ia&t)===t)&&(e._workInProgressVersionPrimary=r,As.push(e))),t)return n(e._source);throw As.push(e),Error(ne(350))}function Y0(t,e,n,r){var i=Xt;if(i===null)throw Error(ne(349));var s=e._getVersion,o=s(e._source),a=ia.current,u=a.useState(function(){return Pm(i,e,n)}),l=u[1],f=u[0];u=Rt;var c=t.memoizedState,d=c.refs,g=d.getSnapshot,w=c.source;c=c.subscribe;var E=vt;return t.memoizedState={refs:d,source:e,subscribe:r},a.useEffect(function(){d.getSnapshot=n,d.setSnapshot=l;var p=s(e._source);if(!Sn(o,p)){p=n(e._source),Sn(f,p)||(l(p),p=si(E),i.mutableReadLanes|=p&i.pendingLanes),p=i.mutableReadLanes,i.entangledLanes|=p;for(var h=i.entanglements,v=p;0<v;){var y=31-ci(v),x=1<<y;h[y]|=p,v&=~x}}},[n,e,r]),a.useEffect(function(){return r(e._source,function(){var p=d.getSnapshot,h=d.setSnapshot;try{h(p(e._source));var v=si(E);i.mutableReadLanes|=v&i.pendingLanes}catch(y){h(function(){throw y})}})},[e,r]),Sn(g,n)&&Sn(w,e)&&Sn(c,r)||(t={pending:null,dispatch:null,lastRenderedReducer:ar,lastRenderedState:f},t.dispatch=l=wp.bind(null,vt,t),u.queue=t,u.baseQueue=null,f=Pm(i,e,n),u.memoizedState=u.baseState=f),f}function Z0(t,e,n){var r=Xi();return Y0(r,t,e,n)}function Io(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},t=t.dispatch=wp.bind(null,vt,t),[e.memoizedState,t]}function Dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lm(t){var e=Di();return t={current:t},e.memoizedState=t}function Pl(){return Xi().memoizedState}function yh(t,e,n,r){var i=Di();vt.flags|=t,i.memoizedState=Dl(1|e,n,void 0,r===void 0?null:r)}function yp(t,e,n,r){var i=Xi();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&mp(r,o.deps)){Dl(e,n,s,r);return}}vt.flags|=t,i.memoizedState=Dl(1|e,n,s,r)}function zm(t,e){return yh(516,4,t,e)}function Ll(t,e){return yp(516,4,t,e)}function X0(t,e){return yp(4,2,t,e)}function G0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q0(t,e,n){return n=n!=null?n.concat([t]):null,yp(4,2,G0.bind(null,e,t),n)}function _p(){}function J0(t,e){var n=Xi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e_(t,e){var n=Xi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eb(t,e){var n=Us();Fi(98>n?98:n,function(){t(!0)}),Fi(97<n?97:n,function(){var r=On.transition;On.transition=1;try{t(!1),e()}finally{On.transition=r}})}function wp(t,e,n){var r=yn(),i=si(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===vt||o!==null&&o===vt)sa=Nl=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(s.eagerReducer=o,s.eagerState=u,Sn(u,a))return}catch{}finally{}oi(t,i,r)}}var zl={readContext:An,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useOpaqueIdentifier:sn,unstable_isNewReconciler:!1},tb={readContext:An,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:zm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yh(4,2,G0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yh(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=wp.bind(null,vt,t),[r.memoizedState,t]},useRef:Lm,useState:Io,useDebugValue:_p,useDeferredValue:function(t){var e=Io(t),n=e[0],r=e[1];return zm(function(){var i=On.transition;On.transition=1;try{r(t)}finally{On.transition=i}},[t]),n},useTransition:function(){var t=Io(!1),e=t[0];return t=eb.bind(null,t[1]),Lm(t),[t,e]},useMutableSource:function(t,e,n){var r=Di();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Y0(r,t,e,n)},useOpaqueIdentifier:function(){if(fr){var t=!1,e=Yx(function(){throw t||(t=!0,n("r:"+(lc++).toString(36))),Error(ne(355))}),n=Io(e)[1];return(vt.mode&2)===0&&(vt.flags|=516,Dl(5,function(){n("r:"+(lc++).toString(36))},void 0,null)),e}return e="r:"+(lc++).toString(36),Io(e),e},unstable_isNewReconciler:!1},nb={readContext:An,useCallback:J0,useContext:An,useEffect:Ll,useImperativeHandle:Q0,useLayoutEffect:X0,useMemo:e_,useReducer:To,useRef:Pl,useState:function(){return To(ar)},useDebugValue:_p,useDeferredValue:function(t){var e=To(ar),n=e[0],r=e[1];return Ll(function(){var i=On.transition;On.transition=1;try{r(t)}finally{On.transition=i}},[t]),n},useTransition:function(){var t=To(ar)[0];return[Pl().current,t]},useMutableSource:Z0,useOpaqueIdentifier:function(){return To(ar)[0]},unstable_isNewReconciler:!1},rb={readContext:An,useCallback:J0,useContext:An,useEffect:Ll,useImperativeHandle:Q0,useLayoutEffect:X0,useMemo:e_,useReducer:Co,useRef:Pl,useState:function(){return Co(ar)},useDebugValue:_p,useDeferredValue:function(t){var e=Co(ar),n=e[0],r=e[1];return Ll(function(){var i=On.transition;On.transition=1;try{r(t)}finally{On.transition=i}},[t]),n},useTransition:function(){var t=Co(ar)[0];return[Pl().current,t]},useMutableSource:Z0,useOpaqueIdentifier:function(){return Co(ar)[0]},unstable_isNewReconciler:!1},ib=Yi.ReactCurrentOwner,qn=!1;function on(t,e,n,r){e.child=t===null?V0(e,null,n,r):Al(e,t.child,n,r)}function Mm(t,e,n,r,i){n=n.render;var s=e.ref;return Os(e,i),r=gp(t,e,n,r,s,i),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,kr(t,e,i)):(e.flags|=1,on(t,e,r,i),e.child)}function Bm(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Tp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,t_(t,e,o,r,i,s)):(t=sl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:xa,n(i,r)&&t.ref===e.ref)?kr(t,e,s):(e.flags|=1,t=pi(o,r),t.ref=e.ref,t.return=e,e.child=t)}function t_(t,e,n,r,i,s){if(t!==null&&xa(t.memoizedProps,r)&&t.ref===e.ref)if(qn=!1,(s&i)!==0)(t.flags&16384)!==0&&(qn=!0);else return e.lanes=t.lanes,kr(t,e,s);return _h(t,e,n,r,s)}function dc(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Ru(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},Ru(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Ru(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ru(e,r);return on(t,e,i,n),e.child}function n_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function _h(t,e,n,r,i){var s=un(n)?Ui:Kt.current;return s=Bs(e,s),Os(e,i),n=gp(t,e,n,r,s,i),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,kr(t,e,i)):(e.flags|=1,on(t,e,n,i),e.child)}function Um(t,e,n,r,i){if(un(n)){var s=!0;el(e)}else s=!1;if(Os(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),$0(e,n,r),vh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=An(l):(l=un(n)?Ui:Kt.current,l=Bs(e,l));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Am(e,o,r,l),$r=!1;var d=e.memoizedState;o.state=d,ka(e,r,o,i),u=e.memoizedState,a!==r||d!==u||an.current||$r?(typeof f=="function"&&(Ol(e,n,f,r),u=e.memoizedState),(a=$r||Om(e,n,a,r,d,u,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,W0(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Wn(e.type,a),o.props=l,c=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=An(u):(u=un(n)?Ui:Kt.current,u=Bs(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||d!==u)&&Am(e,o,r,u),$r=!1,d=e.memoizedState,o.state=d,ka(e,r,o,i);var w=e.memoizedState;a!==c||d!==w||an.current||$r?(typeof g=="function"&&(Ol(e,n,g,r),w=e.memoizedState),(l=$r||Om(e,n,l,r,d,w,u))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return wh(t,e,n,r,s,i)}function wh(t,e,n,r,i,s){n_(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Sm(e,n,!1),kr(t,e,s);r=e.stateNode,ib.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Al(e,t.child,null,s),e.child=Al(e,null,a,s)):on(t,e,a,s),e.memoizedState=r.state,i&&Sm(e,n,!0),e.child}function Fm(t){var e=t.stateNode;e.pendingContext?bm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bm(t,e.context,!1),mh(t,e.containerInfo)}var Au={dehydrated:null,retryLane:0};function jm(t,e,n){var r=e.pendingProps,i=lt.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ft(lt,i&1),t===null?(r.fallback!==void 0&&gh(e),t=r.children,i=r.fallback,s?(t=Wm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Au,t):typeof r.unstable_expectedLoadTime=="number"?(t=Wm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Au,e.lanes=33554432,t):(n=Cp({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=$m(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Au,r):(n=Km(t,e,r.children,n),e.memoizedState=null,n):s?(r=$m(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Au,r):(n=Km(t,e,r.children,n),e.memoizedState=null,n)}function Wm(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Cp(e,i,0,null),n=Ds(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Km(t,e,n,r){var i=t.child;return t=i.sibling,n=pi(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function $m(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=a,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=pi(o,a),t!==null?r=pi(t,r):(r=Ds(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Hm(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),j0(t.return,e)}function pc(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Vm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(on(t,e,r.children,n),r=lt.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hm(t,n);else if(t.tag===19)Hm(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(lt,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pc(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pc(e,!0,n,null,s,e.lastEffect);break;case"together":pc(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ga|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var r_,Eh,i_,s_;r_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eh=function(){};i_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ni(lr.current);var s=null;switch(n){case"input":i=Yc(t,i),r=Yc(t,r),s=[];break;case"option":i=Gc(t,i),r=Gc(t,r),s=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),s=[];break;case"textarea":i=Qc(t,i),r=Qc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bl)}th(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(va.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(va.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Xe("scroll",t),s||a===u||(s=[])):typeof u=="object"&&u!==null&&u.$$typeof===qd?u.toString():(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};s_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oo(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sb(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return un(e.type)&&kl(),null;case 3:return Fs(),Je(an),Je(Kt),vp(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ou(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Eh(e),null;case 5:pp(e);var i=Ni(Ca.current);if(n=e.type,t!==null&&e.stateNode!=null)i_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return null}if(t=Ni(lr.current),Ou(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xr]=e,r[Sl]=s,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(t=0;t<Ko.length;t++)Xe(Ko[t],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Vv(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":Yv(r,s),Xe("invalid",r)}th(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):va.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Xe("scroll",r));switch(n){case"input":bu(r),qv(r,s,!0);break;case"textarea":bu(r),Zv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bl)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Jc.html&&(t=Qy(n)),t===Jc.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[Sl]=r,r_(t,e,!1,!1),e.stateNode=t,o=nh(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ko.length;i++)Xe(Ko[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":Vv(t,r),i=Yc(t,r),Xe("invalid",t);break;case"option":i=Gc(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Yv(t,r),i=Qc(t,r),Xe("invalid",t);break;default:i=r}th(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?t0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Jy(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ma(t,u):typeof u=="number"&&ma(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(va.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Xe("scroll",t):u!=null&&jd(t,s,u,o))}switch(n){case"input":bu(t),qv(t,r,!1);break;case"textarea":bu(t),Zv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ks(t,!!r.multiple,s,!1):r.defaultValue!=null&&ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bl)}N0(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)s_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));n=Ni(Ca.current),Ni(lr.current),Ou(e)?(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r)}return null;case 13:return Je(lt),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Ou(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(lt.current&1)!==0?Nt===0&&(Nt=3):((Nt===0||Nt===3)&&(Nt=4),Xt===null||(Ga&134217727)===0&&(no&134217727)===0||Rs(Xt,jt))),(r||n)&&(e.flags|=4),null);case 4:return Fs(),Eh(e),t===null&&O0(e.stateNode.containerInfo),null;case 10:return hp(e),null;case 17:return un(e.type)&&kl(),null;case 19:if(Je(lt),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Oo(r,!1);else{if(Nt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Rl(t),o!==null){for(e.flags|=64,Oo(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(lt,lt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ut()>Ch&&(e.flags|=64,s=!0,Oo(r,!1),e.lanes=33554432)}else{if(!s)if(t=Rl(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!fr)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ut()-r.renderingStartTime>Ch&&n!==1073741824&&(e.flags|=64,s=!0,Oo(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ut(),n.sibling=null,e=lt.current,ft(lt,s?e&1|2:e&1),n):null;case 23:case 24:return kp(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ne(156,e.tag))}function ob(t){switch(t.tag){case 1:un(t.type)&&kl();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Fs(),Je(an),Je(Kt),vp(),e=t.flags,(e&64)!==0)throw Error(ne(285));return t.flags=e&-4097|64,t;case 5:return pp(t),null;case 13:return Je(lt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Je(lt),null;case 4:return Fs(),null;case 10:return hp(t),null;case 23:case 24:return kp(),null;default:return null}}function Ep(t,e){try{var n="",r=e;do n+=FE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ab=typeof WeakMap=="function"?WeakMap:Map;function o_(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bl||(Bl=!0,Ih=r),xh(t,e)},n}function a_(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return xh(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this),xh(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var ub=typeof WeakSet=="function"?WeakSet:Set;function qm(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){ai(t,n)}else e.current=null}function lb(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Wn(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&up(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ne(163))}function fb(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(m_(n,t),yb(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Wn(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Im(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Im(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&N0(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&c0(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ne(163))}function Ym(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=e0("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Zm(t,e){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(lp,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)m_(e,n);else{r=e;try{i()}catch(s){ai(r,s)}}n=n.next}while(n!==t)}break;case 1:if(qm(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){ai(e,s)}break;case 5:qm(e);break;case 4:u_(t,e)}}function Xm(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Gm(t){return t.tag===5||t.tag===3||t.tag===4}function Qm(t){e:{for(var e=t.return;e!==null;){if(Gm(e))break e;e=e.return}throw Error(ne(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(ne(161))}n.flags&16&&(ma(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Gm(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?bh(t,n,e):Sh(t,n,e)}function bh(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bl));else if(r!==4&&(t=t.child,t!==null))for(bh(t,e,n),t=t.sibling;t!==null;)bh(t,e,n),t=t.sibling}function Sh(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sh(t,e,n),t=t.sibling;t!==null;)Sh(t,e,n),t=t.sibling}function u_(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(ne(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,a=n,u=a;;)if(Zm(o,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(o=i,a=n.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Zm(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function vc(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Sl]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Xy(n,r),nh(t,i),e=nh(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?t0(n,a):o==="dangerouslySetInnerHTML"?Jy(n,a):o==="children"?ma(n,a):jd(n,o,a,e)}switch(t){case"input":Zc(n,r);break;case"textarea":Gy(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?ks(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?ks(n,!!r.multiple,r.defaultValue,!0):ks(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ne(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,c0(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Sp=Ut(),Ym(e.child,!0)),Jm(e);return;case 19:Jm(e);return;case 17:return;case 23:case 24:Ym(e,e.memoizedState!==null);return}throw Error(ne(163))}function Jm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ub),e.forEach(function(r){var i=Eb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cb(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var hb=Math.ceil,Ml=Yi.ReactCurrentDispatcher,xp=Yi.ReactCurrentOwner,be=0,Xt=null,bt=null,jt=0,ji=0,kh=Ei(0),Nt=0,wf=null,to=0,Ga=0,no=0,bp=0,Th=null,Sp=0,Ch=1/0;function ro(){Ch=Ut()+500}var ve=null,Bl=!1,Ih=null,ur=null,di=!1,oa=null,$o=90,Oh=[],Ah=[],Ir=null,aa=0,Rh=null,nl=-1,xr=0,rl=0,ua=null,il=!1;function yn(){return(be&48)!==0?Ut():nl!==-1?nl:nl=Ut()}function si(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Us()===99?1:2;if(xr===0&&(xr=to),Jx.transition!==0){rl!==0&&(rl=Th!==null?Th.pendingLanes:0),t=xr;var e=4186112&~rl;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Us(),(be&4)!==0&&t===98?t=El(12,xr):(t=nx(t),t=El(t,xr)),t}function oi(t,e,n){if(50<aa)throw aa=0,Rh=null,Error(ne(185));if(t=Ef(t,e),t===null)return null;df(t,e,n),t===Xt&&(no|=e,Nt===4&&Rs(t,jt));var r=Us();e===1?(be&8)!==0&&(be&48)===0?Nh(t):(Rn(t,n),be===0&&(ro(),dr())):((be&4)===0||r!==98&&r!==99||(Ir===null?Ir=new Set([t]):Ir.add(t)),Rn(t,n)),Th=t}function Ef(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Rn(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ci(o),u=1<<a,l=s[a];if(l===-1){if((u&r)===0||(u&i)!==0){l=e,ps(u);var f=qe;s[a]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=e&&(t.expiredLanes|=u);o&=~u}if(r=wa(t,t===Xt?jt:0),e=qe,r===0)n!==null&&(n!==fc&&dh(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==fc&&dh(n)}e===15?(n=Nh.bind(null,t),Er===null?(Er=[n],tl=fp(yf,F0)):Er.push(n),n=fc):e===14?n=Sa(99,Nh.bind(null,t)):(n=rx(e),n=Sa(n,l_.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function l_(t){if(nl=-1,rl=xr=0,(be&48)!==0)throw Error(ne(327));var e=t.callbackNode;if(xi()&&t.callbackNode!==e)return null;var n=wa(t,t===Xt?jt:0);if(n===0)return null;var r=n,i=be;be|=16;var s=d_();(Xt!==t||jt!==r)&&(ro(),Ns(t,r));do try{vb();break}catch(a){h_(t,a)}while(1);if(cp(),Ml.current=s,be=i,bt!==null?r=0:(Xt=null,jt=0,r=Nt),(to&no)!==0)Ns(t,0);else if(r!==0){if(r===2&&(be|=64,t.hydrate&&(t.hydrate=!1,up(t.containerInfo)),n=y0(t),n!==0&&(r=Ho(t,n))),r===1)throw e=wf,Ns(t,0),Rs(t,n),Rn(t,Ut()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(ne(345));case 2:ki(t);break;case 3:if(Rs(t,n),(n&62914560)===n&&(r=Sp+500-Ut(),10<r)){if(wa(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wm(ki.bind(null,t),r);break}ki(t);break;case 4:if(Rs(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-ci(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hb(n/1960))-n,10<n){t.timeoutHandle=wm(ki.bind(null,t),n);break}ki(t);break;case 5:ki(t);break;default:throw Error(ne(329))}}return Rn(t,Ut()),t.callbackNode===e?l_.bind(null,t):null}function Rs(t,e){for(e&=~bp,e&=~no,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ci(e),r=1<<n;t[n]=-1,e&=~r}}function Nh(t){if((be&48)!==0)throw Error(ne(327));if(xi(),t===Xt&&(t.expiredLanes&jt)!==0){var e=jt,n=Ho(t,e);(to&no)!==0&&(e=wa(t,e),n=Ho(t,e))}else e=wa(t,0),n=Ho(t,e);if(t.tag!==0&&n===2&&(be|=64,t.hydrate&&(t.hydrate=!1,up(t.containerInfo)),e=y0(t),e!==0&&(n=Ho(t,e))),n===1)throw n=wf,Ns(t,0),Rs(t,e),Rn(t,Ut()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t),Rn(t,Ut()),null}function db(){if(Ir!==null){var t=Ir;Ir=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Rn(e,Ut())})}dr()}function f_(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(ro(),dr())}}function c_(t,e){var n=be;be&=-2,be|=8;try{return t(e)}finally{be=n,be===0&&(ro(),dr())}}function Ru(t,e){ft(kh,ji),ji|=e,to|=e}function kp(){ji=kh.current,Je(kh)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qx(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:Fs(),Je(an),Je(Kt),vp();break;case 5:pp(r);break;case 4:Fs();break;case 13:Je(lt);break;case 19:Je(lt);break;case 10:hp(r);break;case 23:case 24:kp()}n=n.return}Xt=t,bt=pi(t.current,null),jt=ji=to=e,Nt=0,wf=null,bp=no=Ga=0}function h_(t,e){do{var n=bt;try{if(cp(),ia.current=zl,Nl){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nl=!1}if(Ia=0,Rt=Mt=vt=null,sa=!1,xp.current=null,n===null||n.return===null){Nt=1,wf=e,bt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=jt,a.flags|=2048,a.firstEffect=a.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if((a.mode&2)===0){var f=a.alternate;f?(a.updateQueue=f.updateQueue,a.memoizedState=f.memoizedState,a.lanes=f.lanes):(a.updateQueue=null,a.memoizedState=null)}var c=(lt.current&1)!==0,d=o;do{var g;if(g=d.tag===13){var w=d.memoizedState;if(w!==null)g=w.dehydrated!==null;else{var E=d.memoizedProps;g=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!c}}if(g){var p=d.updateQueue;if(p===null){var h=new Set;h.add(l),d.updateQueue=h}else p.add(l);if((d.mode&2)===0){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var v=ri(-1,1);v.tag=2,ii(a,v)}a.lanes|=1;break e}u=void 0,a=e;var y=s.pingCache;if(y===null?(y=s.pingCache=new ab,u=new Set,y.set(l,u)):(u=y.get(l),u===void 0&&(u=new Set,y.set(l,u))),!u.has(a)){u.add(a);var x=wb.bind(null,s,l,a);l.then(x,x)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);u=Error((Ss(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Nt!==5&&(Nt=2),u=Ep(u,a),d=o;do{switch(d.tag){case 3:s=u,d.flags|=4096,e&=-e,d.lanes|=e;var _=o_(d,s,e);Cm(d,_);break e;case 1:s=u;var b=d.type,T=d.stateNode;if((d.flags&64)===0&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ur===null||!ur.has(T)))){d.flags|=4096,e&=-e,d.lanes|=e;var O=a_(d,s,e);Cm(d,O);break e}}d=d.return}while(d!==null)}v_(n)}catch(R){e=R,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(1)}function d_(){var t=Ml.current;return Ml.current=zl,t===null?zl:t}function Ho(t,e){var n=be;be|=16;var r=d_();Xt===t&&jt===e||Ns(t,e);do try{pb();break}catch(i){h_(t,i)}while(1);if(cp(),be=n,Ml.current=r,bt!==null)throw Error(ne(261));return Xt=null,jt=0,Nt}function pb(){for(;bt!==null;)p_(bt)}function vb(){for(;bt!==null&&!Xx();)p_(bt)}function p_(t){var e=g_(t.alternate,t,ji);t.memoizedProps=t.pendingProps,e===null?v_(t):bt=e,xp.current=null}function v_(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=sb(n,e,ji),n!==null){bt=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(ji&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=ob(e),n!==null){n.flags&=2047,bt=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Nt===0&&(Nt=5)}function ki(t){var e=Us();return Fi(99,mb.bind(null,t,e)),null}function mb(t,e){do xi();while(oa!==null);if((be&48)!==0)throw Error(ne(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var u=31-ci(s),l=1<<u;i[u]=0,o[u]=-1,a[u]=-1,s&=~l}if(Ir!==null&&(r&24)===0&&Ir.has(t)&&Ir.delete(t),t===Xt&&(bt=Xt=null,jt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=be,be|=32,xp.current=null,ac=Gu,o=dm(),uh(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(l=a.getSelection&&a.getSelection())&&l.rangeCount!==0){a=l.anchorNode,s=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var f=0,c=-1,d=-1,g=0,w=0,E=o,p=null;t:for(;;){for(var h;E!==a||s!==0&&E.nodeType!==3||(c=f+s),E!==u||l!==0&&E.nodeType!==3||(d=f+l),E.nodeType===3&&(f+=E.nodeValue.length),(h=E.firstChild)!==null;)p=E,E=h;for(;;){if(E===o)break t;if(p===a&&++g===s&&(c=f),p===u&&++w===l&&(d=f),(h=E.nextSibling)!==null)break;E=p,p=E.parentNode}E=h}a=c===-1||d===-1?null:{start:c,end:d}}else a=null;a=a||{start:0,end:0}}else a=null;uc={focusedElem:o,selectionRange:a},Gu=!1,ua=null,il=!1,ve=r;do try{gb()}catch(R){if(ve===null)throw Error(ne(330));ai(ve,R),ve=ve.nextEffect}while(ve!==null);ua=null,ve=r;do try{for(o=t;ve!==null;){var v=ve.flags;if(v&16&&ma(ve.stateNode,""),v&128){var y=ve.alternate;if(y!==null){var x=y.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(v&1038){case 2:Qm(ve),ve.flags&=-3;break;case 6:Qm(ve),ve.flags&=-3,vc(ve.alternate,ve);break;case 1024:ve.flags&=-1025;break;case 1028:ve.flags&=-1025,vc(ve.alternate,ve);break;case 4:vc(ve.alternate,ve);break;case 8:a=ve,u_(o,a);var _=a.alternate;Xm(a),_!==null&&Xm(_)}ve=ve.nextEffect}}catch(R){if(ve===null)throw Error(ne(330));ai(ve,R),ve=ve.nextEffect}while(ve!==null);if(x=uc,y=dm(),v=x.focusedElem,o=x.selectionRange,y!==v&&v&&v.ownerDocument&&T0(v.ownerDocument.documentElement,v)){for(o!==null&&uh(v)&&(y=o.start,x=o.end,x===void 0&&(x=y),"selectionStart"in v?(v.selectionStart=y,v.selectionEnd=Math.min(x,v.value.length)):(x=(y=v.ownerDocument||document)&&y.defaultView||window,x.getSelection&&(x=x.getSelection(),a=v.textContent.length,_=Math.min(o.start,a),o=o.end===void 0?_:Math.min(o.end,a),!x.extend&&_>o&&(a=o,o=_,_=a),a=hm(v,_),s=hm(v,o),a&&s&&(x.rangeCount!==1||x.anchorNode!==a.node||x.anchorOffset!==a.offset||x.focusNode!==s.node||x.focusOffset!==s.offset)&&(y=y.createRange(),y.setStart(a.node,a.offset),x.removeAllRanges(),_>o?(x.addRange(y),x.extend(s.node,s.offset)):(y.setEnd(s.node,s.offset),x.addRange(y)))))),y=[],x=v;x=x.parentNode;)x.nodeType===1&&y.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<y.length;v++)x=y[v],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Gu=!!ac,uc=ac=null,t.current=n,ve=r;do try{for(v=t;ve!==null;){var b=ve.flags;if(b&36&&fb(v,ve.alternate,ve),b&128){y=void 0;var T=ve.ref;if(T!==null){var O=ve.stateNode;switch(ve.tag){case 5:y=O;break;default:y=O}typeof T=="function"?T(y):T.current=y}}ve=ve.nextEffect}}catch(R){if(ve===null)throw Error(ne(330));ai(ve,R),ve=ve.nextEffect}while(ve!==null);ve=null,Qx(),be=i}else t.current=n;if(di)di=!1,oa=t,$o=e;else for(ve=r;ve!==null;)e=ve.nextEffect,ve.nextEffect=null,ve.flags&8&&(b=ve,b.sibling=null,b.stateNode=null),ve=e;if(r=t.pendingLanes,r===0&&(ur=null),r===1?t===Rh?aa++:(aa=0,Rh=t):aa=0,n=n.stateNode,zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(lp,n,void 0,(n.current.flags&64)===64)}catch{}if(Rn(t,Ut()),Bl)throw Bl=!1,t=Ih,Ih=null,t;return(be&8)!==0||dr(),null}function gb(){for(;ve!==null;){var t=ve.alternate;il||ua===null||((ve.flags&8)!==0?Qv(ve,ua)&&(il=!0):ve.tag===13&&cb(t,ve)&&Qv(ve,ua)&&(il=!0));var e=ve.flags;(e&256)!==0&&lb(t,ve),(e&512)===0||di||(di=!0,Sa(97,function(){return xi(),null})),ve=ve.nextEffect}}function xi(){if($o!==90){var t=97<$o?97:$o;return $o=90,Fi(t,_b)}return!1}function yb(t,e){Oh.push(e,t),di||(di=!0,Sa(97,function(){return xi(),null}))}function m_(t,e){Ah.push(e,t),di||(di=!0,Sa(97,function(){return xi(),null}))}function _b(){if(oa===null)return!1;var t=oa;if(oa=null,(be&48)!==0)throw Error(ne(331));var e=be;be|=32;var n=Ah;Ah=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(u){if(s===null)throw Error(ne(330));ai(s,u)}}for(n=Oh,Oh=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(u){if(s===null)throw Error(ne(330));ai(s,u)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return be=e,dr(),!0}function eg(t,e,n){e=Ep(n,e),e=o_(t,e,1),ii(t,e),e=yn(),t=Ef(t,1),t!==null&&(df(t,1,e),Rn(t,e))}function ai(t,e){if(t.tag===3)eg(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){eg(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){t=Ep(e,t);var i=a_(n,t,1);if(ii(n,i),i=yn(),n=Ef(n,1),n!==null)df(n,1,i),Rn(n,i);else if(typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function wb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(jt&n)===n&&(Nt===4||Nt===3&&(jt&62914560)===jt&&500>Ut()-Sp?Ns(t,0):bp|=n),Rn(t,e)}function Eb(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Us()===99?1:2:(xr===0&&(xr=to),e=vs(62914560&~xr),e===0&&(e=4194304))),n=yn(),t=Ef(t,e),t!==null&&(df(t,e,n),Rn(t,n))}var g_;g_=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||an.current)qn=!0;else if((n&r)!==0)qn=(t.flags&16384)!==0;else{switch(qn=!1,e.tag){case 3:Fm(e),hc();break;case 5:Rm(e);break;case 1:un(e.type)&&el(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ft(Tl,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?jm(t,e,n):(ft(lt,lt.current&1),e=kr(t,e,n),e!==null?e.sibling:null);ft(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return Vm(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(lt,lt.current),r)break;return null;case 23:case 24:return e.lanes=0,dc(t,e,n)}return kr(t,e,n)}else qn=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Bs(e,Kt.current),Os(e,n),i=gp(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)){var s=!0;el(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dp(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Ol(e,r,o,t),i.updater=_f,e.stateNode=i,i._reactInternals=e,vh(e,r,t,n),e=wh(null,e,r,!0,s,n)}else e.tag=0,on(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=bb(i),t=Wn(i,t),s){case 0:e=_h(null,e,i,t,n);break e;case 1:e=Um(null,e,i,t,n);break e;case 11:e=Mm(null,e,i,t,n);break e;case 14:e=Bm(null,e,i,Wn(i.type,t),r,n);break e}throw Error(ne(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),_h(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Um(t,e,r,i,n);case 3:if(Fm(e),r=e.updateQueue,t===null||r===null)throw Error(ne(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,W0(t,e),ka(e,r,null,n),r=e.memoizedState.element,r===i)hc(),e=kr(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Gr=Is(e.stateNode.containerInfo.firstChild),Sr=e,s=fr=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],As.push(s);for(n=V0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else on(t,e,r,n),hc();e=e.child}return e;case 5:return Rm(e),t===null&&gh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ch(r,i)?o=null:s!==null&&ch(r,s)&&(e.flags|=16),n_(t,e),on(t,e,o,n),e.child;case 6:return t===null&&gh(e),null;case 13:return jm(t,e,n);case 4:return mh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Al(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Mm(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(ft(Tl,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Sn(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!an.current){e=kr(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){o=a.child;for(var l=u.firstContext;l!==null;){if(l.context===r&&(l.observedBits&s)!==0){a.tag===1&&(l=ri(-1,n&-n),l.tag=2,ii(a,l)),a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),j0(a.return,n),u.lanes|=n;break}l=l.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Os(e,n),i=An(i,s.unstable_observedBits),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return i=e.type,s=Wn(i,e.pendingProps),s=Wn(i.type,s),Bm(t,e,i,s,r,n);case 15:return t_(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,un(r)?(t=!0,el(e)):t=!1,Os(e,n),$0(e,r,i),vh(e,r,i,n),wh(null,e,r,!0,t,n);case 19:return Vm(t,e,n);case 23:return dc(t,e,n);case 24:return dc(t,e,n)}throw Error(ne(156,e.tag))};function xb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new xb(t,e,n,r)}function Tp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bb(t){if(typeof t=="function")return Tp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ff)return 11;if(t===cf)return 14}return 2}function pi(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Tp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qr:return Ds(n.children,i,s,e);case qy:o=8,i|=16;break;case Wd:o=8,i|=1;break;case Go:return t=kn(12,n,e,i|8),t.elementType=Go,t.type=Go,t.lanes=s,t;case Qo:return t=kn(13,n,e,i),t.type=Qo,t.elementType=Qo,t.lanes=s,t;case gl:return t=kn(19,n,e,i),t.elementType=gl,t.lanes=s,t;case Yd:return Cp(n,i,s,e);case qc:return t=kn(24,n,e,i),t.elementType=qc,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kd:o=10;break e;case $d:o=9;break e;case ff:o=11;break e;case cf:o=14;break e;case Hd:o=16,r=null;break e;case Vd:o=22;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Cp(t,e,n,r){return t=kn(23,t,r,e),t.elementType=Yd,t.lanes=n,t}function mc(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function gc(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sb(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.mutableSourceEagerHydrationData=null}function kb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ul(t,e,n,r){var i=e.current,s=yn(),o=si(i);e:if(n){n=n._reactInternals;t:{if(Zi(n)!==n||n.tag!==1)throw Error(ne(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(un(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(ne(171))}if(n.tag===1){var u=n.type;if(un(u)){n=P0(n,u,a);break e}}n=a}else n=hi;return e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),ii(i,e),oi(i,o,s),o}function yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ip(t,e){tg(t,e),(t=t.alternate)&&tg(t,e)}function Tb(){return null}function Op(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Sb(t,e,n!=null&&n.hydrate===!0),e=kn(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,dp(e),t[eo]=n.current,O0(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Op.prototype.render=function(t){Ul(t,this._internalRoot,null,null)};Op.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ul(null,t,null,function(){e[eo]=null})};function Qa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cb(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Op(t,0,e?{hydrate:!0}:void 0)}function xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var l=yc(o);a.call(l)}}Ul(e,o,t,i)}else{if(s=n._reactRootContainer=Cb(n,r),o=s._internalRoot,typeof i=="function"){var u=i;i=function(){var l=yc(o);u.call(l)}}c_(function(){Ul(e,o,t,i)})}return yc(o)}u0=function(t){if(t.tag===13){var e=yn();oi(t,4,e),Ip(t,4)}};Jd=function(t){if(t.tag===13){var e=yn();oi(t,67108864,e),Ip(t,67108864)}};l0=function(t){if(t.tag===13){var e=yn(),n=si(t);oi(t,n,e),Ip(t,n)}};f0=function(t,e){return e()};rh=function(t,e,n){switch(e){case"input":if(Zc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gf(r);if(!i)throw Error(ne(90));Zy(r),Zc(r,i)}}}break;case"textarea":Gy(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};Xd=f_;i0=function(t,e,n,r,i){var s=be;be|=4;try{return Fi(98,t.bind(null,e,n,r,i))}finally{be=s,be===0&&(ro(),dr())}};Gd=function(){(be&49)===0&&(db(),xi())};s0=function(t,e){var n=be;be|=2;try{return t(e)}finally{be=n,be===0&&(ro(),dr())}};function y_(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qa(e))throw Error(ne(200));return kb(t,e,null,n)}var Ib={Events:[Za,ws,gf,n0,r0,xi,{current:!1}]},Ao={findFiberByHostInstance:Ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ob={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||Tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{lp=Nu.inject(Ob),zi=Nu}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ib;Dn.createPortal=y_;Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):Error(ne(268,Object.keys(t)));return t=a0(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t,e){var n=be;if((n&48)!==0)return t(e);be|=1;try{if(t)return Fi(99,t.bind(null,e))}finally{be=n,dr()}};Dn.hydrate=function(t,e,n){if(!Qa(e))throw Error(ne(200));return xf(null,t,e,!0,n)};Dn.render=function(t,e,n){if(!Qa(e))throw Error(ne(200));return xf(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Qa(t))throw Error(ne(40));return t._reactRootContainer?(c_(function(){xf(null,null,t,!1,function(){t._reactRootContainer=null,t[eo]=null})}),!0):!1};Dn.unstable_batchedUpdates=f_;Dn.unstable_createPortal=function(t,e){return y_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qa(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return xf(t,e,n,!1,r)};Dn.version="17.0.2";function __(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(__)}catch(t){console.error(t)}}__(),TE.exports=Dn;function Fl(){return Fl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}var Pi,Ap=Pi||(Pi={});Ap.Pop="POP";Ap.Push="PUSH";Ap.Replace="REPLACE";var ng=function(t){return t};function rg(t){t.preventDefault(),t.returnValue=""}function ig(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(n){return n!==e})}},call:function(e){t.forEach(function(n){return n&&n(e)})}}}function Ab(){return Math.random().toString(36).substr(2,8)}function Dh(t){var e=t.pathname;e=e===void 0?"/":e;var n=t.search;return n=n===void 0?"":n,t=t.hash,t=t===void 0?"":t,n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Gi(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),n=t.indexOf("?"),0<=n&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Rb(t){function e(){var p=u.location,h=l.state||{};return[h.idx,ng({pathname:p.pathname,search:p.search,hash:p.hash,state:h.usr||null,key:h.key||"default"})]}function n(p){return typeof p=="string"?p:Dh(p)}function r(p,h){return h===void 0&&(h=null),ng(Fl({pathname:g.pathname,hash:"",search:""},typeof p=="string"?Gi(p):p,{state:h,key:Ab()}))}function i(p){c=p,p=e(),d=p[0],g=p[1],w.call({action:c,location:g})}function s(p,h){function v(){s(p,h)}var y=Pi.Push,x=r(p,h);if(!E.length||(E.call({action:y,location:x,retry:v}),!1)){var _=[{usr:x.state,key:x.key,idx:d+1},n(x)];x=_[0],_=_[1];try{l.pushState(x,"",_)}catch{u.location.assign(_)}i(y)}}function o(p,h){function v(){o(p,h)}var y=Pi.Replace,x=r(p,h);E.length&&(E.call({action:y,location:x,retry:v}),1)||(x=[{usr:x.state,key:x.key,idx:d},n(x)],l.replaceState(x[0],"",x[1]),i(y))}function a(p){l.go(p)}t===void 0&&(t={}),t=t.window;var u=t===void 0?document.defaultView:t,l=u.history,f=null;u.addEventListener("popstate",function(){if(f)E.call(f),f=null;else{var p=Pi.Pop,h=e(),v=h[0];if(h=h[1],E.length){if(v!=null){var y=d-v;y&&(f={action:p,location:h,retry:function(){a(-1*y)}},a(y))}}else i(p)}});var c=Pi.Pop;t=e();var d=t[0],g=t[1],w=ig(),E=ig();return d==null&&(d=0,l.replaceState(Fl({},l.state,{idx:d}),"")),{get action(){return c},get location(){return g},createHref:n,push:s,replace:o,go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(p){return w.push(p)},block:function(p){var h=E.push(p);return E.length===1&&u.addEventListener("beforeunload",rg),function(){h(),E.length||u.removeEventListener("beforeunload",rg)}}}}/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hr(t,e){if(!t)throw new Error(e)}const Rp=Ee.exports.createContext(null),Np=Ee.exports.createContext(null),io=Ee.exports.createContext({outlet:null,matches:[]});function Nb(t){return Mb(t.context)}function Db(t){hr(!1)}function Pb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pi.Pop,navigator:s,static:o=!1}=t;Ja()&&hr(!1);let a=rS(e),u=Ee.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Gi(r));let{pathname:l="/",search:f="",hash:c="",state:d=null,key:g="default"}=r,w=Ee.exports.useMemo(()=>{let E=S_(l,a);return E==null?null:{pathname:E,search:f,hash:c,state:d,key:g}},[a,l,f,c,d,g]);return w==null?null:Ee.exports.createElement(Rp.Provider,{value:u},Ee.exports.createElement(Np.Provider,{children:n,value:{location:w,navigationType:i}}))}function XA(t){let{children:e,location:n}=t;return Bb(Ph(e),n)}function Lb(t){Ja()||hr(!1);let{basename:e,navigator:n}=Ee.exports.useContext(Rp),{hash:r,pathname:i,search:s}=E_(t),o=i;if(e!=="/"){let a=nS(t),u=a!=null&&a.endsWith("/");o=i==="/"?e+(u?"/":""):ui([e,i])}return n.createHref({pathname:o,search:s,hash:r})}function Ja(){return Ee.exports.useContext(Np)!=null}function eu(){return Ja()||hr(!1),Ee.exports.useContext(Np).location}function w_(){Ja()||hr(!1);let{basename:t,navigator:e}=Ee.exports.useContext(Rp),{matches:n}=Ee.exports.useContext(io),{pathname:r}=eu(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=Ee.exports.useRef(!1);return Ee.exports.useEffect(()=>{s.current=!0}),Ee.exports.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let l=b_(a,JSON.parse(i),r);t!=="/"&&(l.pathname=ui([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state)},[t,e,i,r])}const zb=Ee.exports.createContext(null);function Mb(t){let e=Ee.exports.useContext(io).outlet;return e&&Ee.exports.createElement(zb.Provider,{value:t},e)}function GA(){let{matches:t}=Ee.exports.useContext(io),e=t[t.length-1];return e?e.params:{}}function E_(t){let{matches:e}=Ee.exports.useContext(io),{pathname:n}=eu(),r=JSON.stringify(e.map(i=>i.pathnameBase));return Ee.exports.useMemo(()=>b_(t,JSON.parse(r),n),[t,r,n])}function Bb(t,e){Ja()||hr(!1);let{matches:n}=Ee.exports.useContext(io),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=eu(),a;if(e){var u;let d=typeof e=="string"?Gi(e):e;s==="/"||((u=d.pathname)==null?void 0:u.startsWith(s))||hr(!1),a=d}else a=o;let l=a.pathname||"/",f=s==="/"?l:l.slice(s.length)||"/",c=Ub(t,{pathname:f});return Xb(c&&c.map(d=>Object.assign({},d,{params:Object.assign({},i,d.params),pathname:ui([s,d.pathname]),pathnameBase:d.pathnameBase==="/"?s:ui([s,d.pathnameBase])})),n)}function Ph(t){let e=[];return Ee.exports.Children.forEach(t,n=>{if(!Ee.exports.isValidElement(n))return;if(n.type===Ee.exports.Fragment){e.push.apply(e,Ph(n.props.children));return}n.type!==Db&&hr(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Ph(n.props.children)),e.push(r)}),e}function Ub(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Gi(e):e,i=S_(r.pathname||"/",n);if(i==null)return null;let s=x_(t);Fb(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Zb(s[a],i);return o}function x_(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||hr(!1),o.relativePath=o.relativePath.slice(r.length));let a=ui([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&hr(!1),x_(i.children,e,u,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:qb(a,i.index),routesMeta:u})}),e}function Fb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jb=/^:\w+$/,Wb=3,Kb=2,$b=1,Hb=10,Vb=-2,sg=t=>t==="*";function qb(t,e){let n=t.split("/"),r=n.length;return n.some(sg)&&(r+=Vb),e&&(r+=Kb),n.filter(i=>!sg(i)).reduce((i,s)=>i+(jb.test(s)?Wb:s===""?$b:Hb),r)}function Yb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Zb(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",f=Gb({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!f)return null;Object.assign(r,f.params);let c=a.route;s.push({params:r,pathname:ui([i,f.pathname]),pathnameBase:ui([i,f.pathnameBase]),route:c}),f.pathnameBase!=="/"&&(i=ui([i,f.pathnameBase]))}return s}function Xb(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>Ee.exports.createElement(io.Provider,{children:r.route.element!==void 0?r.route.element:Ee.exports.createElement(Nb,null),value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function Gb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Qb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,f,c)=>{if(f==="*"){let d=a[c]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[f]=Jb(a[c]||""),l},{}),pathname:s,pathnameBase:o,pattern:t}}function Qb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function Jb(t,e){try{return decodeURIComponent(t)}catch{return t}}function eS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gi(t):t;return{pathname:n?n.startsWith("/")?n:tS(n,e):e,search:iS(r),hash:sS(i)}}function tS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function b_(t,e,n){let r=typeof t=="string"?Gi(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let u=i.split("/");for(;u[0]==="..";)u.shift(),a-=1;r.pathname=u.join("/")}s=a>=0?e[a]:"/"}let o=eS(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function nS(t){return t===""||t.pathname===""?"/":typeof t=="string"?Gi(t).pathname:t.pathname}function S_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),rS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function oS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const aS=["onClick","reloadDocument","replace","state","target","to"];function QA(t){let{basename:e,children:n,window:r}=t,i=Ee.exports.useRef();i.current==null&&(i.current=Rb({window:r}));let s=i.current,[o,a]=Ee.exports.useState({action:s.action,location:s.location});return Ee.exports.useLayoutEffect(()=>s.listen(a),[s]),Ee.exports.createElement(Pb,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function uS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const JA=Ee.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:u}=e,l=oS(e,aS),f=Lb(u),c=lS(u,{replace:s,state:o,target:a});function d(g){r&&r(g),!g.defaultPrevented&&!i&&c(g)}return Ee.exports.createElement("a",Lh({},l,{href:f,onClick:d,ref:n,target:a}))});function lS(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=w_(),o=eu(),a=E_(t);return Ee.exports.useCallback(u=>{if(u.button===0&&(!n||n==="_self")&&!uS(u)){u.preventDefault();let l=!!r||Dh(o)===Dh(a);s(t,{replace:l,state:i})}},[o,s,a,r,i,n,t])}function eR(t){let e=Ee.exports.useRef(_c(t)),n=eu(),r=Ee.exports.useMemo(()=>{let o=_c(n.search);for(let a of e.current.keys())o.has(a)||e.current.getAll(a).forEach(u=>{o.append(a,u)});return o},[n.search]),i=w_(),s=Ee.exports.useCallback((o,a)=>{i("?"+_c(o),a)},[i]);return[r,s]}function _c(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}var bf="delete",Ge=5,Tn=1<<Ge,Zt=Tn-1,Ne={};function zh(){return{value:!1}}function Cn(t){t&&(t.value=!0)}function Dp(){}function js(t){return t.size===void 0&&(t.size=t.__iterate(k_)),t.size}function vi(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?js(t)+e:e}function k_(){return!0}function Sf(t,e,n){return(t===0&&!C_(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function tu(t,e){return T_(t,e,0)}function kf(t,e){return T_(t,e,e)}function T_(t,e,n){return t===void 0?n:C_(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function C_(t){return t<0||t===0&&1/t===-1/0}var I_="@@__IMMUTABLE_ITERABLE__@@";function fn(t){return Boolean(t&&t[I_])}var O_="@@__IMMUTABLE_KEYED__@@";function ot(t){return Boolean(t&&t[O_])}var A_="@@__IMMUTABLE_INDEXED__@@";function ln(t){return Boolean(t&&t[A_])}function Tf(t){return ot(t)||ln(t)}var mt=function(e){return fn(e)?e:_n(e)},Jn=function(t){function e(n){return ot(n)?n:bi(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mt),Qi=function(t){function e(n){return ln(n)?n:er(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mt),so=function(t){function e(n){return fn(n)&&!Tf(n)?n:uo(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mt);mt.Keyed=Jn;mt.Indexed=Qi;mt.Set=so;var R_="@@__IMMUTABLE_SEQ__@@";function Pp(t){return Boolean(t&&t[R_])}var fS="@@__IMMUTABLE_RECORD__@@";function Lp(t){return Boolean(t&&t[fS])}function Fr(t){return fn(t)||Lp(t)}var oo="@@__IMMUTABLE_ORDERED__@@";function Yn(t){return Boolean(t&&t[oo])}var nu=0,Gn=1,Qn=2,Mh=typeof Symbol=="function"&&Symbol.iterator,N_="@@iterator",zp=Mh||N_,Ue=function(e){this.next=e};Ue.prototype.toString=function(){return"[Iterator]"};Ue.KEYS=nu;Ue.VALUES=Gn;Ue.ENTRIES=Qn;Ue.prototype.inspect=Ue.prototype.toSource=function(){return this.toString()};Ue.prototype[zp]=function(){return this};function it(t,e,n,r){var i=t===0?e:t===1?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function cn(){return{value:void 0,done:!0}}function D_(t){return Array.isArray(t)?!0:!!Cf(t)}function og(t){return t&&typeof t.next=="function"}function Bh(t){var e=Cf(t);return e&&e.call(t)}function Cf(t){var e=t&&(Mh&&t[Mh]||t[N_]);if(typeof e=="function")return e}function cS(t){var e=Cf(t);return e&&e===t.entries}function hS(t){var e=Cf(t);return e&&e===t.keys}var ao=Object.prototype.hasOwnProperty;function P_(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var _n=function(t){function e(n){return n==null?Bp():Fr(n)?n.toSeq():pS(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,i){var s=this._cache;if(s){for(var o=s.length,a=0;a!==o;){var u=s[i?o-++a:a++];if(r(u[1],u[0],this)===!1)break}return a}return this.__iterateUncached(r,i)},e.prototype.__iterator=function(r,i){var s=this._cache;if(s){var o=s.length,a=0;return new Ue(function(){if(a===o)return cn();var u=s[i?o-++a:a++];return it(r,u[0],u[1])})}return this.__iteratorUncached(r,i)},e}(mt),bi=function(t){function e(n){return n==null?Bp().toKeyedSeq():fn(n)?ot(n)?n.toSeq():n.fromEntrySeq():Lp(n)?n.toSeq():L_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(_n),er=function(t){function e(n){return n==null?Bp():fn(n)?ot(n)?n.entrySeq():n.toIndexedSeq():Lp(n)?n.toSeq().entrySeq():z_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(_n),uo=function(t){function e(n){return(fn(n)&&!Tf(n)?n:er(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(_n);_n.isSeq=Pp;_n.Keyed=bi;_n.Set=uo;_n.Indexed=er;_n.prototype[R_]=!0;var Wi=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this.has(r)?this._array[vi(this,r)]:i},e.prototype.__iterate=function(r,i){for(var s=this._array,o=s.length,a=0;a!==o;){var u=i?o-++a:a++;if(r(s[u],u,this)===!1)break}return a},e.prototype.__iterator=function(r,i){var s=this._array,o=s.length,a=0;return new Ue(function(){if(a===o)return cn();var u=i?o-++a:a++;return it(r,u,s[u])})},e}(er),Mp=function(t){function e(n){var r=Object.keys(n);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},e.prototype.has=function(r){return ao.call(this._object,r)},e.prototype.__iterate=function(r,i){for(var s=this._object,o=this._keys,a=o.length,u=0;u!==a;){var l=o[i?a-++u:u++];if(r(s[l],l,this)===!1)break}return u},e.prototype.__iterator=function(r,i){var s=this._object,o=this._keys,a=o.length,u=0;return new Ue(function(){if(u===a)return cn();var l=o[i?a-++u:u++];return it(r,l,s[l])})},e}(bi);Mp.prototype[oo]=!0;var dS=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var s=this._collection,o=Bh(s),a=0;if(og(o))for(var u;!(u=o.next()).done&&r(u.value,a++,this)!==!1;);return a},e.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=this._collection,o=Bh(s);if(!og(o))return new Ue(cn);var a=0;return new Ue(function(){var u=o.next();return u.done?u:it(r,a++,u.value)})},e}(er),ag;function Bp(){return ag||(ag=new Wi([]))}function L_(t){var e=Up(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Mp(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function z_(t){var e=Up(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function pS(t){var e=Up(t);if(e)return cS(t)?e.fromEntrySeq():hS(t)?e.toSetSeq():e;if(typeof t=="object")return new Mp(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function Up(t){return P_(t)?new Wi(t):D_(t)?new dS(t):void 0}var M_="@@__IMMUTABLE_MAP__@@";function Fp(t){return Boolean(t&&t[M_])}function B_(t){return Fp(t)&&Yn(t)}function ug(t){return Boolean(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function gn(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(ug(t)&&ug(e)&&t.equals(e))}var Ro=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,i=n&65535;return r*i+((e>>>16)*i+r*(n>>>16)<<16>>>0)|0};function If(t){return t>>>1&1073741824|t&3221225471}var vS=Object.prototype.valueOf;function mn(t){if(t==null)return lg(t);if(typeof t.hashCode=="function")return If(t.hashCode(t));var e=ES(t);if(e==null)return lg(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return mS(e);case"string":return e.length>xS?gS(e):Uh(e);case"object":case"function":return _S(e);case"symbol":return yS(e);default:if(typeof e.toString=="function")return Uh(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function lg(t){return t===null?1108378658:1108378659}function mS(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return If(e)}function gS(t){var e=xc[t];return e===void 0&&(e=Uh(t),Ec===bS&&(Ec=0,xc={}),Ec++,xc[t]=e),e}function Uh(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return If(e)}function yS(t){var e=hg[t];return e!==void 0||(e=U_(),hg[t]=e),e}function _S(t){var e;if(Fh&&(e=jh.get(t),e!==void 0)||(e=t[Ti],e!==void 0)||!cg&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ti],e!==void 0||(e=wS(t),e!==void 0)))return e;if(e=U_(),Fh)jh.set(t,e);else{if(fg!==void 0&&fg(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(cg)Object.defineProperty(t,Ti,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ti]=e;else if(t.nodeType!==void 0)t[Ti]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var fg=Object.isExtensible,cg=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function wS(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ES(t){return t.valueOf!==vS&&typeof t.valueOf=="function"?t.valueOf(t):t}function U_(){var t=++wc;return wc&1073741824&&(wc=0),t}var Fh=typeof WeakMap=="function",jh;Fh&&(jh=new WeakMap);var hg=Object.create(null),wc=0,Ti="__immutablehash__";typeof Symbol=="function"&&(Ti=Symbol(Ti));var xS=16,bS=255,Ec=0,xc={},Of=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this._iter.get(r,i)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,i=jp(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},e.prototype.map=function(r,i){var s=this,o=$_(this,r,i);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(r,i)}),o},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(o,a){return r(o,a,s)},i)},e.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},e}(bi);Of.prototype[oo]=!0;var F_=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this,o=0;return i&&js(this),this._iter.__iterate(function(a){return r(a,i?s.size-++o:o++,s)},i)},e.prototype.__iterator=function(r,i){var s=this,o=this._iter.__iterator(Gn,i),a=0;return i&&js(this),new Ue(function(){var u=o.next();return u.done?u:it(r,i?s.size-++a:a++,u.value,u)})},e}(er),j_=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(o){return r(o,o,s)},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Gn,i);return new Ue(function(){var o=s.next();return o.done?o:it(r,o.value,o.value,o)})},e}(uo),W_=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(o){if(o){pg(o);var a=fn(o);return r(a?o.get(1):o[1],a?o.get(0):o[0],s)}},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Gn,i);return new Ue(function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value;if(a){pg(a);var u=fn(a);return it(r,u?a.get(0):a[0],u?a.get(1):a[1],o)}}})},e}(bi);F_.prototype.cacheResult=Of.prototype.cacheResult=j_.prototype.cacheResult=W_.prototype.cacheResult=Kp;function K_(t){var e=pr(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=Kp,e.__iterateUncached=function(n,r){var i=this;return t.__iterate(function(s,o){return n(o,s,i)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===Qn){var i=t.__iterator(n,r);return new Ue(function(){var s=i.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(n===Gn?nu:Gn,r)},e}function $_(t,e,n){var r=pr(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(i,s){var o=t.get(i,Ne);return o===Ne?s:e.call(n,o,i,t)},r.__iterateUncached=function(i,s){var o=this;return t.__iterate(function(a,u,l){return i(e.call(n,a,u,l),u,o)!==!1},s)},r.__iteratorUncached=function(i,s){var o=t.__iterator(Qn,s);return new Ue(function(){var a=o.next();if(a.done)return a;var u=a.value,l=u[0];return it(i,l,e.call(n,u[1],l,t),a)})},r}function jp(t,e){var n=this,r=pr(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=K_(t);return i.reverse=function(){return t.flip()},i}),r.get=function(i,s){return t.get(e?i:-1-i,s)},r.has=function(i){return t.has(e?i:-1-i)},r.includes=function(i){return t.includes(i)},r.cacheResult=Kp,r.__iterate=function(i,s){var o=this,a=0;return s&&js(t),t.__iterate(function(u,l){return i(u,e?l:s?o.size-++a:a++,o)},!s)},r.__iterator=function(i,s){var o=0;s&&js(t);var a=t.__iterator(Qn,!s);return new Ue(function(){var u=a.next();if(u.done)return u;var l=u.value;return it(i,e?l[0]:s?n.size-++o:o++,l[1],u)})},r}function H_(t,e,n,r){var i=pr(t);return r&&(i.has=function(s){var o=t.get(s,Ne);return o!==Ne&&!!e.call(n,o,s,t)},i.get=function(s,o){var a=t.get(s,Ne);return a!==Ne&&e.call(n,a,s,t)?a:o}),i.__iterateUncached=function(s,o){var a=this,u=0;return t.__iterate(function(l,f,c){if(e.call(n,l,f,c))return u++,s(l,r?f:u-1,a)},o),u},i.__iteratorUncached=function(s,o){var a=t.__iterator(Qn,o),u=0;return new Ue(function(){for(;;){var l=a.next();if(l.done)return l;var f=l.value,c=f[0],d=f[1];if(e.call(n,d,c,t))return it(s,r?c:u++,d,l)}})},i}function SS(t,e,n){var r=fo().asMutable();return t.__iterate(function(i,s){r.update(e.call(n,i,s,t),0,function(o){return o+1})}),r.asImmutable()}function kS(t,e,n){var r=ot(t),i=(Yn(t)?Pr():fo()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(u){return u=u||[],u.push(r?[a,o]:o),u})});var s=Y_(t);return i.map(function(o){return Ye(t,s(o))}).asImmutable()}function Wp(t,e,n,r){var i=t.size;if(Sf(e,n,i))return t;var s=tu(e,i),o=kf(n,i);if(s!==s||o!==o)return Wp(t.toSeq().cacheResult(),e,n,r);var a=o-s,u;a===a&&(u=a<0?0:a);var l=pr(t);return l.size=u===0?u:t.size&&u||void 0,!r&&Pp(t)&&u>=0&&(l.get=function(f,c){return f=vi(this,f),f>=0&&f<u?t.get(f+s,c):c}),l.__iterateUncached=function(f,c){var d=this;if(u===0)return 0;if(c)return this.cacheResult().__iterate(f,c);var g=0,w=!0,E=0;return t.__iterate(function(p,h){if(!(w&&(w=g++<s)))return E++,f(p,r?h:E-1,d)!==!1&&E!==u}),E},l.__iteratorUncached=function(f,c){if(u!==0&&c)return this.cacheResult().__iterator(f,c);if(u===0)return new Ue(cn);var d=t.__iterator(f,c),g=0,w=0;return new Ue(function(){for(;g++<s;)d.next();if(++w>u)return cn();var E=d.next();return r||f===Gn||E.done?E:f===nu?it(f,w-1,void 0,E):it(f,w-1,E.value[1],E)})},l}function TS(t,e,n){var r=pr(t);return r.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var a=0;return t.__iterate(function(u,l,f){return e.call(n,u,l,f)&&++a&&i(u,l,o)}),a},r.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(Qn,s),u=!0;return new Ue(function(){if(!u)return cn();var l=a.next();if(l.done)return l;var f=l.value,c=f[0],d=f[1];return e.call(n,d,c,o)?i===Qn?l:it(i,c,d,l):(u=!1,cn())})},r}function V_(t,e,n,r){var i=pr(t);return i.__iterateUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterate(s,o);var u=!0,l=0;return t.__iterate(function(f,c,d){if(!(u&&(u=e.call(n,f,c,d))))return l++,s(f,r?c:l-1,a)}),l},i.__iteratorUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterator(s,o);var u=t.__iterator(Qn,o),l=!0,f=0;return new Ue(function(){var c,d,g;do{if(c=u.next(),c.done)return r||s===Gn?c:s===nu?it(s,f++,void 0,c):it(s,f++,c.value[1],c);var w=c.value;d=w[0],g=w[1],l&&(l=e.call(n,g,d,a))}while(l);return s===Qn?c:it(s,d,g,c)})},i}function CS(t,e){var n=ot(t),r=[t].concat(e).map(function(o){return fn(o)?n&&(o=Jn(o)):o=n?L_(o):z_(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(r.length===0)return t;if(r.length===1){var i=r[0];if(i===t||n&&ot(i)||ln(t)&&ln(i))return i}var s=new Wi(r);return n?s=s.toKeyedSeq():ln(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=r.reduce(function(o,a){if(o!==void 0){var u=a.size;if(u!==void 0)return o+u}},0),s}function q_(t,e,n){var r=pr(t);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var o=0,a=!1;function u(l,f){l.__iterate(function(c,d){return(!e||f<e)&&fn(c)?u(c,f+1):(o++,i(c,n?d:o-1,r)===!1&&(a=!0)),!a},s)}return u(t,0),o},r.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(i,s),a=[],u=0;return new Ue(function(){for(;o;){var l=o.next();if(l.done!==!1){o=a.pop();continue}var f=l.value;if(i===Qn&&(f=f[1]),(!e||a.length<e)&&fn(f))a.push(o),o=f.__iterator(i,s);else return n?l:it(i,u++,f,l)}return cn()})},r}function IS(t,e,n){var r=Y_(t);return t.toSeq().map(function(i,s){return r(e.call(n,i,s,t))}).flatten(!0)}function OS(t,e){var n=pr(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,i){var s=this,o=0;return t.__iterate(function(a){return(!o||r(e,o++,s)!==!1)&&r(a,o++,s)!==!1},i),o},n.__iteratorUncached=function(r,i){var s=t.__iterator(Gn,i),o=0,a;return new Ue(function(){return(!a||o%2)&&(a=s.next(),a.done)?a:o%2?it(r,o++,e):it(r,o++,a.value,a)})},n}function Ws(t,e,n){e||(e=Z_);var r=ot(t),i=0,s=t.toSeq().map(function(o,a){return[a,o,i++,n?n(o,a,t):o]}).valueSeq().toArray();return s.sort(function(o,a){return e(o[3],a[3])||o[2]-a[2]}).forEach(r?function(o,a){s[a].length=2}:function(o,a){s[a]=o[1]}),r?bi(s):ln(t)?er(s):uo(s)}function Du(t,e,n){if(e||(e=Z_),n){var r=t.toSeq().map(function(i,s){return[i,n(i,s,t)]}).reduce(function(i,s){return dg(e,i[1],s[1])?s:i});return r&&r[0]}return t.reduce(function(i,s){return dg(e,i,s)?s:i})}function dg(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function Pu(t,e,n,r){var i=pr(t),s=new Wi(n).map(function(o){return o.size});return i.size=r?s.max():s.min(),i.__iterate=function(o,a){for(var u=this.__iterator(Gn,a),l,f=0;!(l=u.next()).done&&o(l.value,f++,this)!==!1;);return f},i.__iteratorUncached=function(o,a){var u=n.map(function(c){return c=mt(c),Bh(a?c.reverse():c)}),l=0,f=!1;return new Ue(function(){var c;return f||(c=u.map(function(d){return d.next()}),f=r?c.every(function(d){return d.done}):c.some(function(d){return d.done})),f?cn():it(o,l++,e.apply(null,c.map(function(d){return d.value})))})},i}function Ye(t,e){return t===e?t:Pp(t)?e:t.constructor(e)}function pg(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Y_(t){return ot(t)?Jn:ln(t)?Qi:so}function pr(t){return Object.create((ot(t)?bi:ln(t)?er:uo).prototype)}function Kp(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):_n.prototype.cacheResult.call(this)}function Z_(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function sr(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function X_(t,e){if(!t)throw new Error(e)}function In(t){X_(t!==1/0,"Cannot perform this action with an infinite size.")}function G_(t){if(P_(t)&&typeof t!="string")return t;if(Yn(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var AS=Object.prototype.toString;function RS(t){if(!t||typeof t!="object"||AS.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function mi(t){return typeof t=="object"&&(Fr(t)||Array.isArray(t)||RS(t))}function jl(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function NS(t,e){return Fr(t)?t.has(e):mi(t)&&ao.call(t,e)}function Q_(t,e,n){return Fr(t)?t.get(e,n):NS(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Wl(t){if(Array.isArray(t))return sr(t);var e={};for(var n in t)ao.call(t,n)&&(e[n]=t[n]);return e}function DS(t,e){if(!mi(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Fr(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!ao.call(t,e))return t;var n=Wl(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function PS(t,e,n){if(!mi(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Fr(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(ao.call(t,e)&&n===t[e])return t;var r=Wl(t);return r[e]=n,r}function lo(t,e,n,r){r||(r=n,n=void 0);var i=J_(Fr(t),t,G_(e),0,n,r);return i===Ne?n:i}function J_(t,e,n,r,i,s){var o=e===Ne;if(r===n.length){var a=o?i:e,u=s(a);return u===a?e:u}if(!o&&!mi(e))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(jl)+"]: "+e);var l=n[r],f=o?Ne:Q_(e,l,Ne),c=J_(f===Ne?t:Fr(f),f,n,r+1,i,s);return c===f?e:c===Ne?DS(e,l):PS(o?t?Hn():{}:e,l,c)}function LS(t,e,n){return lo(t,e,Ne,function(){return n})}function ew(t,e){return LS(this,t,e)}function zS(t,e){return lo(t,e,function(){return Ne})}function tw(t){return zS(this,t)}function nw(t,e,n,r){return lo(t,[e],n,r)}function rw(t,e,n){return arguments.length===1?t(this):nw(this,t,e,n)}function iw(t,e,n){return lo(this,t,e,n)}function MS(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return sw(this,t)}function BS(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return sw(this,e,t)}function sw(t,e,n){for(var r=[],i=0;i<e.length;i++){var s=Jn(e[i]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?t.constructor(r[0]):t.withMutations(function(o){for(var a=n?function(l,f){nw(o,f,Ne,function(c){return c===Ne?l:n(c,l,f)})}:function(l,f){o.set(f,l)},u=0;u<r.length;u++)r[u].forEach(a)})}function $p(t,e,n){return Hp(t,e,US(n))}function Hp(t,e,n){if(!mi(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Fr(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,s=r?Qi:Jn,o=r?function(u){i===t&&(i=Wl(i)),i.push(u)}:function(u,l){var f=ao.call(i,l),c=f&&n?n(i[l],u,l):u;(!f||c!==i[l])&&(i===t&&(i=Wl(i)),i[l]=c)},a=0;a<e.length;a++)s(e[a]).forEach(o);return i}function US(t){function e(n,r,i){return mi(n)&&mi(r)&&FS(n,r)?Hp(n,[r],e):t?t(n,r,i):r}return e}function FS(t,e){var n=_n(t),r=_n(e);return ln(n)===ln(r)&&ot(n)===ot(r)}function jS(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return $p(this,t)}function WS(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return $p(this,e,t)}function ow(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return lo(this,t,Hn(),function(r){return Hp(r,e)})}function aw(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return lo(this,t,Hn(),function(r){return $p(r,e)})}function Af(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Rf(){return this.__ownerID?this:this.__ensureOwner(new Dp)}function Nf(){return this.__ensureOwner()}function Vp(){return this.__altered}var fo=function(t){function e(n){return n==null?Hn():Fp(n)&&!Yn(n)?n:Hn().withMutations(function(r){var i=t(n);In(i.size),i.forEach(function(s,o){return r.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return Hn().withMutations(function(s){for(var o=0;o<r.length;o+=2){if(o+1>=r.length)throw new Error("Missing value for key: "+r[o]);s.set(r[o],r[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},e.prototype.set=function(r,i){return gg(this,r,i)},e.prototype.remove=function(r){return gg(this,r,Ne)},e.prototype.deleteAll=function(r){var i=mt(r);return i.size===0?this:this.withMutations(function(s){i.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Hn()},e.prototype.sort=function(r){return Pr(Ws(this,r))},e.prototype.sortBy=function(r,i){return Pr(Ws(this,i,r))},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(o){o.forEach(function(a,u){o.set(u,r.call(i,a,u,s))})})},e.prototype.__iterator=function(r,i){return new KS(this,r,i)},e.prototype.__iterate=function(r,i){var s=this,o=0;return this._root&&this._root.iterate(function(a){return o++,r(a[1],a[0],s)},i),o},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?qp(this.size,this._root,r,this.__hash):this.size===0?Hn():(this.__ownerID=r,this.__altered=!1,this)},e}(Jn);fo.isMap=Fp;var et=fo.prototype;et[M_]=!0;et[bf]=et.remove;et.removeAll=et.deleteAll;et.setIn=ew;et.removeIn=et.deleteIn=tw;et.update=rw;et.updateIn=iw;et.merge=et.concat=MS;et.mergeWith=BS;et.mergeDeep=jS;et.mergeDeepWith=WS;et.mergeIn=ow;et.mergeDeepIn=aw;et.withMutations=Af;et.wasAltered=Vp;et.asImmutable=Nf;et["@@transducer/init"]=et.asMutable=Rf;et["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};et["@@transducer/result"]=function(t){return t.asImmutable()};var Oa=function(e,n){this.ownerID=e,this.entries=n};Oa.prototype.get=function(e,n,r,i){for(var s=this.entries,o=0,a=s.length;o<a;o++)if(gn(r,s[o][0]))return s[o][1];return i};Oa.prototype.update=function(e,n,r,i,s,o,a){for(var u=s===Ne,l=this.entries,f=0,c=l.length;f<c&&!gn(i,l[f][0]);f++);var d=f<c;if(d?l[f][1]===s:u)return this;if(Cn(a),(u||!d)&&Cn(o),!(u&&l.length===1)){if(!d&&!u&&l.length>=ZS)return $S(e,l,i,s);var g=e&&e===this.ownerID,w=g?l:sr(l);return d?u?f===c-1?w.pop():w[f]=w.pop():w[f]=[i,s]:w.push([i,s]),g?(this.entries=w,this):new Oa(e,w)}};var Ks=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};Ks.prototype.get=function(e,n,r,i){n===void 0&&(n=mn(r));var s=1<<((e===0?n:n>>>e)&Zt),o=this.bitmap;return(o&s)===0?i:this.nodes[uw(o&s-1)].get(e+Ge,n,r,i)};Ks.prototype.update=function(e,n,r,i,s,o,a){r===void 0&&(r=mn(i));var u=(n===0?r:r>>>n)&Zt,l=1<<u,f=this.bitmap,c=(f&l)!==0;if(!c&&s===Ne)return this;var d=uw(f&l-1),g=this.nodes,w=c?g[d]:void 0,E=Yp(w,e,n+Ge,r,i,s,o,a);if(E===w)return this;if(!c&&E&&g.length>=XS)return VS(e,g,f,u,E);if(c&&!E&&g.length===2&&yg(g[d^1]))return g[d^1];if(c&&E&&g.length===1&&yg(E))return E;var p=e&&e===this.ownerID,h=c?E?f:f^l:f|l,v=c?E?lw(g,d,E,p):YS(g,d,p):qS(g,d,E,p);return p?(this.bitmap=h,this.nodes=v,this):new Ks(e,h,v)};var Aa=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};Aa.prototype.get=function(e,n,r,i){n===void 0&&(n=mn(r));var s=(e===0?n:n>>>e)&Zt,o=this.nodes[s];return o?o.get(e+Ge,n,r,i):i};Aa.prototype.update=function(e,n,r,i,s,o,a){r===void 0&&(r=mn(i));var u=(n===0?r:r>>>n)&Zt,l=s===Ne,f=this.nodes,c=f[u];if(l&&!c)return this;var d=Yp(c,e,n+Ge,r,i,s,o,a);if(d===c)return this;var g=this.count;if(!c)g++;else if(!d&&(g--,g<GS))return HS(e,f,g,u);var w=e&&e===this.ownerID,E=lw(f,u,d,w);return w?(this.count=g,this.nodes=E,this):new Aa(e,g,E)};var $s=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};$s.prototype.get=function(e,n,r,i){for(var s=this.entries,o=0,a=s.length;o<a;o++)if(gn(r,s[o][0]))return s[o][1];return i};$s.prototype.update=function(e,n,r,i,s,o,a){r===void 0&&(r=mn(i));var u=s===Ne;if(r!==this.keyHash)return u?this:(Cn(a),Cn(o),Zp(this,e,n,r,[i,s]));for(var l=this.entries,f=0,c=l.length;f<c&&!gn(i,l[f][0]);f++);var d=f<c;if(d?l[f][1]===s:u)return this;if(Cn(a),(u||!d)&&Cn(o),u&&c===2)return new Dr(e,this.keyHash,l[f^1]);var g=e&&e===this.ownerID,w=g?l:sr(l);return d?u?f===c-1?w.pop():w[f]=w.pop():w[f]=[i,s]:w.push([i,s]),g?(this.entries=w,this):new $s(e,this.keyHash,w)};var Dr=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};Dr.prototype.get=function(e,n,r,i){return gn(r,this.entry[0])?this.entry[1]:i};Dr.prototype.update=function(e,n,r,i,s,o,a){var u=s===Ne,l=gn(i,this.entry[0]);if(l?s===this.entry[1]:u)return this;if(Cn(a),u){Cn(o);return}return l?e&&e===this.ownerID?(this.entry[1]=s,this):new Dr(e,this.keyHash,[i,s]):(Cn(o),Zp(this,e,n,mn(i),[i,s]))};Oa.prototype.iterate=$s.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1};Ks.prototype.iterate=Aa.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[e?i-r:r];if(s&&s.iterate(t,e)===!1)return!1}};Dr.prototype.iterate=function(t,e){return t(this.entry)};var KS=function(t){function e(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&vg(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var s=i.node,o=i.index++,a=void 0;if(s.entry){if(o===0)return bc(r,s.entry)}else if(s.entries){if(a=s.entries.length-1,o<=a)return bc(r,s.entries[this._reverse?a-o:o])}else if(a=s.nodes.length-1,o<=a){var u=s.nodes[this._reverse?a-o:o];if(u){if(u.entry)return bc(r,u.entry);i=this._stack=vg(u,i)}continue}i=this._stack=this._stack.__prev}return cn()},e}(Ue);function bc(t,e){return it(t,e[0],e[1])}function vg(t,e){return{node:t,index:0,__prev:e}}function qp(t,e,n,r){var i=Object.create(et);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var mg;function Hn(){return mg||(mg=qp(0))}function gg(t,e,n){var r,i;if(t._root){var s=zh(),o=zh();if(r=Yp(t._root,t.__ownerID,0,void 0,e,n,s,o),!o.value)return t;i=t.size+(s.value?n===Ne?-1:1:0)}else{if(n===Ne)return t;i=1,r=new Oa(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?qp(i,r):Hn()}function Yp(t,e,n,r,i,s,o,a){return t?t.update(e,n,r,i,s,o,a):s===Ne?t:(Cn(a),Cn(o),new Dr(e,r,[i,s]))}function yg(t){return t.constructor===Dr||t.constructor===$s}function Zp(t,e,n,r,i){if(t.keyHash===r)return new $s(e,r,[t.entry,i]);var s=(n===0?t.keyHash:t.keyHash>>>n)&Zt,o=(n===0?r:r>>>n)&Zt,a,u=s===o?[Zp(t,e,n+Ge,r,i)]:(a=new Dr(e,r,i),s<o?[t,a]:[a,t]);return new Ks(e,1<<s|1<<o,u)}function $S(t,e,n,r){t||(t=new Dp);for(var i=new Dr(t,mn(n),[n,r]),s=0;s<e.length;s++){var o=e[s];i=i.update(t,0,void 0,o[0],o[1])}return i}function HS(t,e,n,r){for(var i=0,s=0,o=new Array(n),a=0,u=1,l=e.length;a<l;a++,u<<=1){var f=e[a];f!==void 0&&a!==r&&(i|=u,o[s++]=f)}return new Ks(t,i,o)}function VS(t,e,n,r,i){for(var s=0,o=new Array(Tn),a=0;n!==0;a++,n>>>=1)o[a]=n&1?e[s++]:void 0;return o[r]=i,new Aa(t,s+1,o)}function uw(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function lw(t,e,n,r){var i=r?t:sr(t);return i[e]=n,i}function qS(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var s=new Array(i),o=0,a=0;a<i;a++)a===e?(s[a]=n,o=-1):s[a]=t[a+o];return s}function YS(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),s=0,o=0;o<r;o++)o===e&&(s=1),i[o]=t[o+s];return i}var ZS=Tn/4,XS=Tn/2,GS=Tn/4,fw="@@__IMMUTABLE_LIST__@@";function cw(t){return Boolean(t&&t[fw])}var Xp=function(t){function e(n){var r=ol();if(n==null)return r;if(cw(n))return n;var i=t(n),s=i.size;return s===0?r:(In(s),s>0&&s<Tn?Ra(0,s,Ge,null,new li(i.toArray())):r.withMutations(function(o){o.setSize(s),i.forEach(function(a,u){return o.set(u,a)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,i){if(r=vi(this,r),r>=0&&r<this.size){r+=this._origin;var s=hw(this,r);return s&&s.array[r&Zt]}return i},e.prototype.set=function(r,i){return QS(this,r,i)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,i){return this.splice(r,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ge,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):ol()},e.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(s){Hr(s,0,i+r.length);for(var o=0;o<r.length;o++)s.set(i+o,r[o])})},e.prototype.pop=function(){return Hr(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){Hr(i,-r.length);for(var s=0;s<r.length;s++)i.set(s,r[s])})},e.prototype.shift=function(){return Hr(this,1)},e.prototype.concat=function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++){var o=r[s],a=t(typeof o!="string"&&D_(o)?o:[o]);a.size!==0&&i.push(a)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(l){return l.forEach(function(f){return u.push(f)})})})},e.prototype.setSize=function(r){return Hr(this,0,r)},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(o){for(var a=0;a<s.size;a++)o.set(a,r.call(i,o.get(a),a,s))})},e.prototype.slice=function(r,i){var s=this.size;return Sf(r,i,s)?this:Hr(this,tu(r,s),kf(i,s))},e.prototype.__iterator=function(r,i){var s=i?this.size:0,o=_g(this,i);return new Ue(function(){var a=o();return a===la?cn():it(r,i?--s:s++,a)})},e.prototype.__iterate=function(r,i){for(var s=i?this.size:0,o=_g(this,i),a;(a=o())!==la&&r(a,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Ra(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?ol():(this.__ownerID=r,this.__altered=!1,this)},e}(Qi);Xp.isList=cw;var _t=Xp.prototype;_t[fw]=!0;_t[bf]=_t.remove;_t.merge=_t.concat;_t.setIn=ew;_t.deleteIn=_t.removeIn=tw;_t.update=rw;_t.updateIn=iw;_t.mergeIn=ow;_t.mergeDeepIn=aw;_t.withMutations=Af;_t.wasAltered=Vp;_t.asImmutable=Nf;_t["@@transducer/init"]=_t.asMutable=Rf;_t["@@transducer/step"]=function(t,e){return t.push(e)};_t["@@transducer/result"]=function(t){return t.asImmutable()};var li=function(e,n){this.array=e,this.ownerID=n};li.prototype.removeBefore=function(e,n,r){if(r===n?1<<n:this.array.length===0)return this;var i=r>>>n&Zt;if(i>=this.array.length)return new li([],e);var s=i===0,o;if(n>0){var a=this.array[i];if(o=a&&a.removeBefore(e,n-Ge,r),o===a&&s)return this}if(s&&!o)return this;var u=Hs(this,e);if(!s)for(var l=0;l<i;l++)u.array[l]=void 0;return o&&(u.array[i]=o),u};li.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var i=r-1>>>n&Zt;if(i>=this.array.length)return this;var s;if(n>0){var o=this.array[i];if(s=o&&o.removeAfter(e,n-Ge,r),s===o&&i===this.array.length-1)return this}var a=Hs(this,e);return a.array.splice(i+1),s&&(a.array[i]=s),a};var la={};function _g(t,e){var n=t._origin,r=t._capacity,i=Na(r),s=t._tail;return o(t._root,t._level,0);function o(l,f,c){return f===0?a(l,c):u(l,f,c)}function a(l,f){var c=f===i?s&&s.array:l&&l.array,d=f>n?0:n-f,g=r-f;return g>Tn&&(g=Tn),function(){if(d===g)return la;var w=e?--g:d++;return c&&c[w]}}function u(l,f,c){var d,g=l&&l.array,w=c>n?0:n-c>>f,E=(r-c>>f)+1;return E>Tn&&(E=Tn),function(){for(;;){if(d){var p=d();if(p!==la)return p;d=null}if(w===E)return la;var h=e?--E:w++;d=o(g&&g[h],f-Ge,c+(h<<f))}}}}function Ra(t,e,n,r,i,s,o){var a=Object.create(_t);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=s,a.__hash=o,a.__altered=!1,a}var wg;function ol(){return wg||(wg=Ra(0,0,Ge))}function QS(t,e,n){if(e=vi(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?Hr(o,e).set(0,n):Hr(o,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,s=zh();return e>=Na(t._capacity)?r=Wh(r,t.__ownerID,0,e,n,s):i=Wh(i,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ra(t._origin,t._capacity,t._level,i,r):t}function Wh(t,e,n,r,i,s){var o=r>>>n&Zt,a=t&&o<t.array.length;if(!a&&i===void 0)return t;var u;if(n>0){var l=t&&t.array[o],f=Wh(l,e,n-Ge,r,i,s);return f===l?t:(u=Hs(t,e),u.array[o]=f,u)}return a&&t.array[o]===i?t:(s&&Cn(s),u=Hs(t,e),i===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=i,u)}function Hs(t,e){return e&&t&&e===t.ownerID?t:new li(t?t.array.slice():[],e)}function hw(t,e){if(e>=Na(t._capacity))return t._tail;if(e<1<<t._level+Ge){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&Zt],r-=Ge;return n}}function Hr(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new Dp,i=t._origin,s=t._capacity,o=i+e,a=n===void 0?s:n<0?s+n:i+n;if(o===i&&a===s)return t;if(o>=a)return t.clear();for(var u=t._level,l=t._root,f=0;o+f<0;)l=new li(l&&l.array.length?[void 0,l]:[],r),u+=Ge,f+=1<<u;f&&(o+=f,i+=f,a+=f,s+=f);for(var c=Na(s),d=Na(a);d>=1<<u+Ge;)l=new li(l&&l.array.length?[l]:[],r),u+=Ge;var g=t._tail,w=d<c?hw(t,a-1):d>c?new li([],r):g;if(g&&d>c&&o<s&&g.array.length){l=Hs(l,r);for(var E=l,p=u;p>Ge;p-=Ge){var h=c>>>p&Zt;E=E.array[h]=Hs(E.array[h],r)}E.array[c>>>Ge&Zt]=g}if(a<s&&(w=w&&w.removeAfter(r,0,a)),o>=d)o-=d,a-=d,u=Ge,l=null,w=w&&w.removeBefore(r,0,o);else if(o>i||d<c){for(f=0;l;){var v=o>>>u&Zt;if(v!==d>>>u&Zt)break;v&&(f+=(1<<u)*v),u-=Ge,l=l.array[v]}l&&o>i&&(l=l.removeBefore(r,u,o-f)),l&&d<c&&(l=l.removeAfter(r,u,d-f)),f&&(o-=f,a-=f)}return t.__ownerID?(t.size=a-o,t._origin=o,t._capacity=a,t._level=u,t._root=l,t._tail=w,t.__hash=void 0,t.__altered=!0,t):Ra(o,a,u,l,w)}function Na(t){return t<Tn?0:t-1>>>Ge<<Ge}var Pr=function(t){function e(n){return n==null?Vo():B_(n)?n:Vo().withMutations(function(r){var i=Jn(n);In(i.size),i.forEach(function(s,o){return r.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,i){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Vo()},e.prototype.set=function(r,i){return xg(this,r,i)},e.prototype.remove=function(r){return xg(this,r,Ne)},e.prototype.__iterate=function(r,i){var s=this;return this._list.__iterate(function(o){return o&&r(o[1],o[0],s)},i)},e.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?Gp(i,s,r,this.__hash):this.size===0?Vo():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=s,this)},e}(fo);Pr.isOrderedMap=B_;Pr.prototype[oo]=!0;Pr.prototype[bf]=Pr.prototype.remove;function Gp(t,e,n,r){var i=Object.create(Pr.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var Eg;function Vo(){return Eg||(Eg=Gp(Hn(),ol()))}function xg(t,e,n){var r=t._map,i=t._list,s=r.get(e),o=s!==void 0,a,u;if(n===Ne){if(!o)return t;i.size>=Tn&&i.size>=r.size*2?(u=i.filter(function(l,f){return l!==void 0&&s!==f}),a=u.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=r.remove(e),u=s===i.size-1?i.pop():i.set(s,void 0))}else if(o){if(n===i.get(s)[1])return t;a=r,u=i.set(s,[e,n])}else a=r.set(e,i.size),u=i.set(i.size,[e,n]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t.__altered=!0,t):Gp(a,u)}var dw="@@__IMMUTABLE_STACK__@@";function Kh(t){return Boolean(t&&t[dw])}var Qp=function(t){function e(n){return n==null?Lu():Kh(n)?n:Lu().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,i){var s=this._head;for(r=vi(this,r);s&&r--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:r[o],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):qo(i,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&Kh(r))return r;In(r.size);var i=this.size,s=this._head;return r.__iterate(function(o){i++,s={value:o,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):qo(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Lu()},e.prototype.slice=function(r,i){if(Sf(r,i,this.size))return this;var s=tu(r,this.size),o=kf(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,r,i);for(var a=this.size-s,u=this._head;s--;)u=u.next;return this.__ownerID?(this.size=a,this._head=u,this.__hash=void 0,this.__altered=!0,this):qo(a,u)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?qo(this.size,this._head,r,this.__hash):this.size===0?Lu():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,i){var s=this;if(i)return new Wi(this.toArray()).__iterate(function(u,l){return r(u,l,s)},i);for(var o=0,a=this._head;a&&r(a.value,o++,this)!==!1;)a=a.next;return o},e.prototype.__iterator=function(r,i){if(i)return new Wi(this.toArray()).__iterator(r,i);var s=0,o=this._head;return new Ue(function(){if(o){var a=o.value;return o=o.next,it(r,s++,a)}return cn()})},e}(Qi);Qp.isStack=Kh;var Gt=Qp.prototype;Gt[dw]=!0;Gt.shift=Gt.pop;Gt.unshift=Gt.push;Gt.unshiftAll=Gt.pushAll;Gt.withMutations=Af;Gt.wasAltered=Vp;Gt.asImmutable=Nf;Gt["@@transducer/init"]=Gt.asMutable=Rf;Gt["@@transducer/step"]=function(t,e){return t.unshift(e)};Gt["@@transducer/result"]=function(t){return t.asImmutable()};function qo(t,e,n,r){var i=Object.create(Gt);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var bg;function Lu(){return bg||(bg=qo(0))}var pw="@@__IMMUTABLE_SET__@@";function Jp(t){return Boolean(t&&t[pw])}function vw(t){return Jp(t)&&Yn(t)}function mw(t,e){if(t===e)return!0;if(!fn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||ot(t)!==ot(e)||ln(t)!==ln(e)||Yn(t)!==Yn(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!Tf(t);if(Yn(t)){var r=t.entries();return e.every(function(u,l){var f=r.next().value;return f&&gn(f[1],u)&&(n||gn(f[0],l))})&&r.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var o=!0,a=e.__iterate(function(u,l){if(n?!t.has(u):i?!gn(u,t.get(l,Ne)):!gn(t.get(l,Ne),u))return o=!1,!1});return o&&t.size===a}function Ji(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function $h(t){if(!t||typeof t!="object")return t;if(!fn(t)){if(!mi(t))return t;t=_n(t)}if(ot(t)){var e={};return t.__iterate(function(r,i){e[i]=$h(r)}),e}var n=[];return t.__iterate(function(r){n.push($h(r))}),n}var Df=function(t){function e(n){return n==null?Yo():Jp(n)&&!Yn(n)?n:Yo().withMutations(function(r){var i=t(n);In(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Jn(r).keySeq())},e.intersect=function(r){return r=mt(r).toArray(),r.length?Dt.intersect.apply(e(r.pop()),r):Yo()},e.union=function(r){return r=mt(r).toArray(),r.length?Dt.union.apply(e(r.pop()),r):Yo()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return zu(this,this._map.set(r,r))},e.prototype.remove=function(r){return zu(this,this._map.remove(r))},e.prototype.clear=function(){return zu(this,this._map.clear())},e.prototype.map=function(r,i){var s=this,o=!1,a=zu(this,this._map.mapEntries(function(u){var l=u[1],f=r.call(i,l,l,s);return f!==l&&(o=!0),[f,f]},i));return o?a:this},e.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var o=0;o<r.length;o++)t(r[o]).forEach(function(a){return s.add(a)})})},e.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(o){return t(o)});var s=[];return this.forEach(function(o){r.every(function(a){return a.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(a){o.remove(a)})})},e.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(o){return t(o)});var s=[];return this.forEach(function(o){r.some(function(a){return a.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(a){o.remove(a)})})},e.prototype.sort=function(r){return Da(Ws(this,r))},e.prototype.sortBy=function(r,i){return Da(Ws(this,i,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,i){var s=this;return this._map.__iterate(function(o){return r(o,o,s)},i)},e.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},e}(so);Df.isSet=Jp;var Dt=Df.prototype;Dt[pw]=!0;Dt[bf]=Dt.remove;Dt.merge=Dt.concat=Dt.union;Dt.withMutations=Af;Dt.asImmutable=Nf;Dt["@@transducer/init"]=Dt.asMutable=Rf;Dt["@@transducer/step"]=function(t,e){return t.add(e)};Dt["@@transducer/result"]=function(t){return t.asImmutable()};Dt.__empty=Yo;Dt.__make=gw;function zu(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function gw(t,e){var n=Object.create(Dt);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var Sg;function Yo(){return Sg||(Sg=gw(Hn()))}var JS=function(t){function e(n,r,i){if(!(this instanceof e))return new e(n,r,i);if(X_(i!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),i=i===void 0?1:Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(Sc)return Sc;Sc=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,i){return this.has(r)?this._start+vi(this,r)*this._step:i},e.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(r,i){return Sf(r,i,this.size)?this:(r=tu(r,this.size),i=kf(i,this.size),i<=r?new e(0,0):new e(this.get(r,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,i){for(var s=this.size,o=this._step,a=i?this._start+(s-1)*o:this._start,u=0;u!==s&&r(a,i?s-++u:u++,this)!==!1;)a+=i?-o:o;return u},e.prototype.__iterator=function(r,i){var s=this.size,o=this._step,a=i?this._start+(s-1)*o:this._start,u=0;return new Ue(function(){if(u===s)return cn();var l=a;return a+=i?-o:o,it(r,i?s-++u:u++,l)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:mw(this,r)},e}(er),Sc;function yw(t,e,n){for(var r=G_(e),i=0;i!==r.length;)if(t=Q_(t,r[i++],Ne),t===Ne)return n;return t}function ek(t,e){return yw(this,t,e)}function tk(t,e){return yw(t,e,Ne)!==Ne}function nk(t){return tk(this,t)}function _w(){In(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}mt.isIterable=fn;mt.isKeyed=ot;mt.isIndexed=ln;mt.isAssociative=Tf;mt.isOrdered=Yn;mt.Iterator=Ue;Ji(mt,{toArray:function(){In(this.size);var e=new Array(this.size||0),n=ot(this),r=0;return this.__iterate(function(i,s){e[r++]=n?[s,i]:i}),e},toIndexedSeq:function(){return new F_(this)},toJS:function(){return $h(this)},toKeyedSeq:function(){return new Of(this,!0)},toMap:function(){return fo(this.toKeyedSeq())},toObject:_w,toOrderedMap:function(){return Pr(this.toKeyedSeq())},toOrderedSet:function(){return Da(ot(this)?this.valueSeq():this)},toSet:function(){return Df(ot(this)?this.valueSeq():this)},toSetSeq:function(){return new j_(this)},toSeq:function(){return ln(this)?this.toIndexedSeq():ot(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Qp(ot(this)?this.valueSeq():this)},toList:function(){return Xp(ot(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Ye(this,CS(this,e))},includes:function(e){return this.some(function(n){return gn(n,e)})},entries:function(){return this.__iterator(Qn)},every:function(e,n){In(this.size);var r=!0;return this.__iterate(function(i,s,o){if(!e.call(n,i,s,o))return r=!1,!1}),r},filter:function(e,n){return Ye(this,H_(this,e,n,!0))},find:function(e,n,r){var i=this.findEntry(e,n);return i?i[1]:r},forEach:function(e,n){return In(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){In(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=e,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(nu)},map:function(e,n){return Ye(this,$_(this,e,n))},reduce:function(e,n,r){return kg(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return kg(this,e,n,r,arguments.length<2,!0)},reverse:function(){return Ye(this,jp(this,!0))},slice:function(e,n){return Ye(this,Wp(this,e,n,!0))},some:function(e,n){return!this.every(Mu(e),n)},sort:function(e){return Ye(this,Ws(this,e))},values:function(){return this.__iterator(Gn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return js(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return SS(this,e,n)},equals:function(e){return mw(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Wi(e._cache);var n=e.toSeq().map(ik).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(Mu(e),n)},findEntry:function(e,n,r){var i=r;return this.__iterate(function(s,o,a){if(e.call(n,s,o,a))return i=[o,s],!1}),i},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(k_,null,e)},flatMap:function(e,n){return Ye(this,IS(this,e,n))},flatten:function(e){return Ye(this,q_(this,e,!0))},fromEntrySeq:function(){return new W_(this)},get:function(e,n){return this.find(function(r,i){return gn(i,e)},void 0,n)},getIn:ek,groupBy:function(e,n){return kS(this,e,n)},has:function(e){return this.get(e,Ne)!==Ne},hasIn:nk,isSubset:function(e){return e=typeof e.includes=="function"?e:mt(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:mt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return gn(n,e)})},keySeq:function(){return this.toSeq().map(rk).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Du(this,e)},maxBy:function(e,n){return Du(this,n,e)},min:function(e){return Du(this,e?Tg(e):Ig)},minBy:function(e,n){return Du(this,n?Tg(n):Ig,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return Ye(this,V_(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(Mu(e),n)},sortBy:function(e,n){return Ye(this,Ws(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return Ye(this,TS(this,e,n))},takeUntil:function(e,n){return this.takeWhile(Mu(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sk(this))}});var hn=mt.prototype;hn[I_]=!0;hn[zp]=hn.values;hn.toJSON=hn.toArray;hn.__toStringMapper=jl;hn.inspect=hn.toSource=function(){return this.toString()};hn.chain=hn.flatMap;hn.contains=hn.includes;Ji(Jn,{flip:function(){return Ye(this,K_(this))},mapEntries:function(e,n){var r=this,i=0;return Ye(this,this.toSeq().map(function(s,o){return e.call(n,[o,s],i++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return Ye(this,this.toSeq().flip().map(function(i,s){return e.call(n,i,s,r)}).flip())}});var ru=Jn.prototype;ru[O_]=!0;ru[zp]=hn.entries;ru.toJSON=_w;ru.__toStringMapper=function(t,e){return jl(e)+": "+jl(t)};Ji(Qi,{toKeyedSeq:function(){return new Of(this,!1)},filter:function(e,n){return Ye(this,H_(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return Ye(this,jp(this,!1))},slice:function(e,n){return Ye(this,Wp(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=tu(e,e<0?this.count():this.size);var i=this.slice(0,e);return Ye(this,r===1?i:i.concat(sr(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Ye(this,q_(this,e,!1))},get:function(e,n){return e=vi(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,i){return i===e},void 0,n)},has:function(e){return e=vi(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Ye(this,OS(this,e))},interleave:function(){var e=[this].concat(sr(arguments)),n=Pu(this.toSeq(),er.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),Ye(this,r)},keySeq:function(){return JS(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return Ye(this,V_(this,e,n,!1))},zip:function(){var e=[this].concat(sr(arguments));return Ye(this,Pu(this,Cg,e))},zipAll:function(){var e=[this].concat(sr(arguments));return Ye(this,Pu(this,Cg,e,!0))},zipWith:function(e){var n=sr(arguments);return n[0]=this,Ye(this,Pu(this,e,n))}});var co=Qi.prototype;co[A_]=!0;co[oo]=!0;Ji(so,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Vs=so.prototype;Vs.has=hn.includes;Vs.contains=Vs.includes;Vs.keys=Vs.values;Ji(bi,ru);Ji(er,co);Ji(uo,Vs);function kg(t,e,n,r,i,s){return In(t.size),t.__iterate(function(o,a,u){i?(i=!1,n=o):n=e.call(r,n,o,a,u)},s),n}function rk(t,e){return e}function ik(t,e){return[e,t]}function Mu(t){return function(){return!t.apply(this,arguments)}}function Tg(t){return function(){return-t.apply(this,arguments)}}function Cg(){return sr(arguments)}function Ig(t,e){return t<e?1:t>e?-1:0}function sk(t){if(t.size===1/0)return 0;var e=Yn(t),n=ot(t),r=e?1:0,i=t.__iterate(n?e?function(s,o){r=31*r+Og(mn(s),mn(o))|0}:function(s,o){r=r+Og(mn(s),mn(o))|0}:e?function(s){r=31*r+mn(s)|0}:function(s){r=r+mn(s)|0});return ok(i,r)}function ok(t,e){return e=Ro(e,3432918353),e=Ro(e<<15|e>>>-15,461845907),e=Ro(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Ro(e^e>>>16,2246822507),e=Ro(e^e>>>13,3266489909),e=If(e^e>>>16),e}function Og(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Da=function(t){function e(n){return n==null?Hh():vw(n)?n:Hh().withMutations(function(r){var i=so(n);In(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Jn(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Df);Da.isOrderedSet=vw;var es=Da.prototype;es[oo]=!0;es.zip=co.zip;es.zipWith=co.zipWith;es.zipAll=co.zipAll;es.__empty=Hh;es.__make=ww;function ww(t,e){var n=Object.create(es);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var Ag;function Hh(){return Ag||(Ag=ww(Vo()))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Re=function(){return Re=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Re.apply(this,arguments)};function Vh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Qe=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,yt=Object.keys,Ft=Array.isArray;typeof Promise!="undefined"&&!Qe.Promise&&(Qe.Promise=Promise);function Qt(t,e){return typeof e!="object"||yt(e).forEach(function(n){t[n]=e[n]}),t}var Pa=Object.getPrototypeOf,ak={}.hasOwnProperty;function Nn(t,e){return ak.call(t,e)}function qs(t,e){typeof e=="function"&&(e=e(Pa(t))),(typeof Reflect=="undefined"?yt:Reflect.ownKeys)(e).forEach(function(n){Lr(t,n,e[n])})}var Ew=Object.defineProperty;function Lr(t,e,n,r){Ew(t,e,Qt(n&&Nn(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ho(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Lr(t.prototype,"constructor",t),{extend:qs.bind(null,t.prototype)}}}}var uk=Object.getOwnPropertyDescriptor;function ev(t,e){var n=uk(t,e),r;return n||(r=Pa(t))&&ev(r,e)}var lk=[].slice;function Pf(t,e,n){return lk.call(t,e,n)}function xw(t,e){return e(t)}function Zo(t){if(!t)throw new Error("Assertion Failed")}function bw(t){Qe.setImmediate?setImmediate(t):setTimeout(t,0)}function Sw(t,e){return t.reduce(function(n,r,i){var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function fk(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function Or(t,e){if(Nn(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=Or(t,e[r]);n.push(s)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a===void 0?void 0:Or(a,e.substr(o+1))}}function Zn(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Zo(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)Zn(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var o=e.substr(0,s),a=e.substr(s+1);if(a==="")n===void 0?Ft(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var u=t[o];u||(u=t[o]={}),Zn(u,a,n)}}else n===void 0?Ft(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function ck(t,e){typeof e=="string"?Zn(t,e,void 0):"length"in e&&[].map.call(e,function(n){Zn(t,n,void 0)})}function kw(t){var e={};for(var n in t)Nn(t,n)&&(e[n]=t[n]);return e}var hk=[].concat;function Tw(t){return hk.apply([],t)}var Cw="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Tw([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return Qe[t]}),dk=Cw.map(function(t){return Qe[t]});Sw(Cw,function(t){return[t,!0]});var Vr=null;function iu(t){Vr=typeof WeakMap!="undefined"&&new WeakMap;var e=qh(t);return Vr=null,e}function qh(t){if(!t||typeof t!="object")return t;var e=Vr&&Vr.get(t);if(e)return e;if(Ft(t)){e=[],Vr&&Vr.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(qh(t[n]))}else if(dk.indexOf(t.constructor)>=0)e=t;else{var i=Pa(t);e=i===Object.prototype?{}:Object.create(i),Vr&&Vr.set(t,e);for(var s in t)Nn(t,s)&&(e[s]=qh(t[s]))}return e}var pk={}.toString;function Yh(t){return pk.call(t).slice(8,-1)}var Zh=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",vk=typeof Zh=="symbol"?function(t){var e;return t!=null&&(e=t[Zh])&&e.apply(t)}:function(){return null},ms={};function br(t){var e,n,r,i;if(arguments.length===1){if(Ft(t))return t.slice();if(this===ms&&typeof t=="string")return[t];if(i=vk(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var tv=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},vr=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Iw(t,e){vr=t,Ow=e}var Ow=function(){return!0},mk=!new Error("").stack;function ts(){if(mk)try{throw ts.arguments,new Error}catch(t){return t}return new Error}function Xh(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Ow).map(function(r){return`
`+r}).join("")):""}var gk=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Aw=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],nv=gk.concat(Aw),yk={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function po(t,e){this._e=ts(),this.name=t,this.message=e}ho(po).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Xh(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Rw(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Kl(t,e,n,r){this._e=ts(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Rw(t,e)}ho(Kl).from(po);function fa(t,e){this._e=ts(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=Rw(t,e)}ho(fa).from(po);var rv=nv.reduce(function(t,e){return t[e]=e+"Error",t},{}),_k=po,xe=nv.reduce(function(t,e){var n=e+"Error";function r(i,s){this._e=ts(),this.name=n,i?typeof i=="string"?(this.message=""+i+(s?`
 `+s:""),this.inner=s||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=yk[e]||n,this.inner=null)}return ho(r).from(_k),t[e]=r,t},{});xe.Syntax=SyntaxError;xe.Type=TypeError;xe.Range=RangeError;var Rg=Aw.reduce(function(t,e){return t[e+"Error"]=xe[e],t},{});function wk(t,e){if(!t||t instanceof po||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Rg[t.name])return t;var n=new Rg[t.name](e||t.message,t);return"stack"in t&&Lr(n,"stack",{get:function(){return this.inner.stack}}),n}var Lf=nv.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=xe[e]),t},{});Lf.ModifyError=Kl;Lf.DexieError=po;Lf.BulkError=fa;function $e(){}function su(t){return t}function Ek(t,e){return t==null||t===su?e:function(n){return e(t(n))}}function Ki(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function xk(t,e){return t===$e?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ki(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ki(i,this.onerror):i),s!==void 0?s:n}}function bk(t,e){return t===$e?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ki(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ki(r,this.onerror):r)}}function Sk(t,e){return t===$e?e:function(n){var r=t.apply(this,arguments);Qt(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ki(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Ki(s,this.onerror):s),r===void 0?o===void 0?void 0:o:Qt(r,o)}}function kk(t,e){return t===$e?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function iv(t,e){return t===$e?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}var La={},Tk=100,Ck=20,Nw=100,sv=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,Pa(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Pa(e),t]}(),Gh=sv[0],$l=sv[1],Qh=sv[2],Dw=$l&&$l.then,al=Gh&&Gh.constructor,ov=!!Qh,Jh=!1,Ik=Qh?function(){Qh.then(Bu)}:Qe.setImmediate?setImmediate.bind(null,Bu):Qe.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Bu(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Bu,0)},za=function(t,e){Xo.push([t,e]),Hl&&(Ik(),Hl=!1)},ed=!0,Hl=!0,Mi=[],ul=[],td=null,nd=su,Ps={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Pg,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{Pg(t[0],t[1])}catch{}})}},ye=Ps,Xo=[],Bi=0,ll=[];function pe(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$e,this._lib=!1;var e=this._PSD=ye;if(vr&&(this._stackHolder=ts(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==La)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&id(this,this._value);return}this._state=null,this._value=null,++e.ref,Lw(this,t)}var rd={get:function(){var t=ye,e=Vl;function n(r,i){var s=this,o=!t.global&&(t!==ye||e!==Vl),a=o&&!zr(),u=new pe(function(l,f){av(s,new Pw(Yl(r,t,o,a),Yl(i,t,o,a),l,f,t))});return vr&&Bw(u,this),u}return n.prototype=La,n},set:function(t){Lr(this,"then",t&&t.prototype===La?rd:{get:function(){return t},set:rd.set})}};qs(pe.prototype,{then:rd,_then:function(t,e){av(this,new Pw(null,null,t,e,ye))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):fl(r)}):this.then(null,function(r){return r&&r.name===e?n(r):fl(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),fl(e)})},stack:{get:function(){if(this._stack)return this._stack;try{Jh=!0;var t=Mw(this,[],Ck),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Jh=!1}}},timeout:function(t,e){var n=this;return t<1/0?new pe(function(r,i){var s=setTimeout(function(){return i(new xe.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,s))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&Lr(pe.prototype,Symbol.toStringTag,"Dexie.Promise");Ps.env=Uw();function Pw(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}qs(pe,{all:function(){var t=br.apply(null,arguments).map(ql);return new pe(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,s){return pe.resolve(i).then(function(o){t[s]=o,--r||e(t)},n)})})},resolve:function(t){if(t instanceof pe)return t;if(t&&typeof t.then=="function")return new pe(function(n,r){t.then(n,r)});var e=new pe(La,!0,t);return Bw(e,td),e},reject:fl,race:function(){var t=br.apply(null,arguments).map(ql);return new pe(function(e,n){t.map(function(r){return pe.resolve(r).then(e,n)})})},PSD:{get:function(){return ye},set:function(t){return ye=t}},totalEchoes:{get:function(){return Vl}},newPSD:gi,usePSD:mo,scheduler:{get:function(){return za},set:function(t){za=t}},rejectionMapper:{get:function(){return nd},set:function(t){nd=t}},follow:function(t,e){return new pe(function(n,r){return gi(function(i,s){var o=ye;o.unhandleds=[],o.onunhandled=s,o.finalize=Ki(function(){var a=this;Ak(function(){a.unhandleds.length===0?i():s(a.unhandleds[0])})},o.finalize),t()},e,n,r)})}});al&&(al.allSettled&&Lr(pe,"allSettled",function(){var t=br.apply(null,arguments).map(ql);return new pe(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,s){return pe.resolve(i).then(function(o){return r[s]={status:"fulfilled",value:o}},function(o){return r[s]={status:"rejected",reason:o}}).then(function(){return--n||e(r)})})})}),al.any&&typeof AggregateError!="undefined"&&Lr(pe,"any",function(){var t=br.apply(null,arguments).map(ql);return new pe(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(s,o){return pe.resolve(s).then(function(a){return e(a)},function(a){i[o]=a,--r||n(new AggregateError(i))})})})}));function Lw(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&ou();n&&typeof n.then=="function"?Lw(t,function(i,s){n instanceof pe?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,zw(t)),r&&au()}},id.bind(null,t))}catch(n){id(t,n)}}function id(t,e){if(ul.push(e),t._state===null){var n=t._lib&&ou();e=nd(e),t._state=!1,t._value=e,vr&&e!==null&&typeof e=="object"&&!e._promise&&fk(function(){var r=ev(e,"stack");e._promise=t,Lr(e,"stack",{get:function(){return Jh?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),Rk(t),zw(t),n&&au()}}function zw(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)av(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Bi===0&&(++Bi,za(function(){--Bi===0&&uv()},[]))}function av(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Bi,za(Ok,[n,t,e])}function Ok(t,e,n){try{td=e;var r,i=e._value;e._state?r=t(i):(ul.length&&(ul=[]),r=t(i),ul.indexOf(i)===-1&&Nk(e)),n.resolve(r)}catch(s){n.reject(s)}finally{td=null,--Bi===0&&uv(),--n.psd.ref||n.psd.finalize()}}function Mw(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,s,o;i!=null?(s=i.name||"Error",o=i.message||i,r=Xh(i,0)):(s=i,o=""),e.push(s+(o?": "+o:"")+r)}return vr&&(r=Xh(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&Mw(t._prev,e,n)),e}function Bw(t,e){var n=e?e._numPrev+1:0;n<Tk&&(t._prev=e,t._numPrev=n)}function Bu(){ou()&&au()}function ou(){var t=ed;return ed=!1,Hl=!1,t}function au(){var t,e,n;do for(;Xo.length>0;)for(t=Xo,Xo=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Xo.length>0);ed=!0,Hl=!0}function uv(){var t=Mi;Mi=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=ll.slice(0),n=e.length;n;)e[--n]()}function Ak(t){function e(){t(),ll.splice(ll.indexOf(e),1)}ll.push(e),++Bi,za(function(){--Bi===0&&uv()},[])}function Rk(t){Mi.some(function(e){return e._value===t._value})||Mi.push(t)}function Nk(t){for(var e=Mi.length;e;)if(Mi[--e]._value===t._value){Mi.splice(e,1);return}}function fl(t){return new pe(La,!1,t)}function rt(t,e){var n=ye;return function(){var r=ou(),i=ye;try{return yi(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{yi(i,!1),r&&au()}}}var Bt={awaits:0,echoes:0,id:0},Dk=0,cl=[],kc=0,Vl=0,Pk=0;function gi(t,e,n,r){var i=ye,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Pk;var o=Ps.env;s.env=ov?{Promise:pe,PromiseProp:{value:pe,configurable:!0,writable:!0},all:pe.all,race:pe.race,allSettled:pe.allSettled,any:pe.any,resolve:pe.resolve,reject:pe.reject,nthen:Ng(o.nthen,s),gthen:Ng(o.gthen,s)}:{},e&&Qt(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=mo(s,t,n,r);return s.ref===0&&s.finalize(),a}function vo(){return Bt.id||(Bt.id=++Dk),++Bt.awaits,Bt.echoes+=Nw,Bt.id}function zr(){return Bt.awaits?(--Bt.awaits===0&&(Bt.id=0),Bt.echoes=Bt.awaits*Nw,!0):!1}(""+Dw).indexOf("[native code]")===-1&&(vo=zr=$e);function ql(t){return Bt.echoes&&t&&t.constructor===al?(vo(),t.then(function(e){return zr(),e},function(e){return zr(),St(e)})):t}function Lk(t){++Vl,(!Bt.echoes||--Bt.echoes===0)&&(Bt.echoes=Bt.id=0),cl.push(ye),yi(t,!0)}function zk(){var t=cl[cl.length-1];cl.pop(),yi(t,!1)}function yi(t,e){var n=ye;if((e?Bt.echoes&&(!kc++||t!==ye):kc&&(!--kc||t!==ye))&&Fw(e?Lk.bind(null,t):zk),t!==ye&&(ye=t,n===Ps&&(Ps.env=Uw()),ov)){var r=Ps.env.Promise,i=t.env;$l.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(Qe,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Uw(){var t=Qe.Promise;return ov?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Qe,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:$l.then,gthen:t.prototype.then}:{}}function mo(t,e,n,r,i){var s=ye;try{return yi(t,!0),e(n,r,i)}finally{yi(s,!1)}}function Fw(t){Dw.call(Gh,t)}function Yl(t,e,n,r){return typeof t!="function"?t:function(){var i=ye;n&&vo(),yi(e,!0);try{return t.apply(this,arguments)}finally{yi(i,!1),r&&Fw(zr)}}}function Ng(t,e){return function(n,r){return t.call(this,Yl(n,e),Yl(r,e))}}var Dg="unhandledrejection";function Pg(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(Qe.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Dg,!0,!0),Qt(r,i)):Qe.CustomEvent&&(r=new CustomEvent(Dg,{detail:i}),Qt(r,i)),r&&Qe.dispatchEvent&&(dispatchEvent(r),!Qe.PromiseRejectionEvent&&Qe.onunhandledrejection))try{Qe.onunhandledrejection(r)}catch{}vr&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var St=pe.reject;function sd(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!ye.letThrough&&!t._vip){if(t._state.openComplete)return St(new xe.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return St(new xe.DatabaseClosed);t.open().catch($e)}return t._state.dbReadyPromise.then(function(){return sd(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===rv.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return sd(t,e,n,r)})):St(s)}return i._promise(e,function(s,o){return gi(function(){return ye.trans=i,r(s,o,i)})}).then(function(s){return i._completion.then(function(){return s})})}}var Lg="3.2.1",Li=String.fromCharCode(65535),od=-1/0,wr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",jw="String expected.",ca=[],zf=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Mk=zf,Bk=zf,Ww=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Mf="__dbnames",Tc="readonly",Cc="readwrite";function $i(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var Kw={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Uu(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=iu(e),delete e[t]),e}:function(e){return e}}var Uk=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||ye.trans,s=this.name;function o(u,l,f){if(!f.schema[s])throw new xe.NotFound("Table "+s+" not part of transaction");return n(f.idbtrans,f)}var a=ou();try{return i&&i.db===this.db?i===ye.trans?i._promise(e,o,r):gi(function(){return i._promise(e,o,r)},{trans:i,transless:ye.transless||ye}):sd(this.db,e,[this.name],o)}finally{a&&au()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(s){return r.hook.reading.fire(s)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Ft(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=yt(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(c){return f.keyPath.indexOf(c)>=0})&&f.keyPath.every(function(c){return n.indexOf(c)>=0})})[0];if(r&&this.db._maxKey!==Li)return this.where(r.name).equals(r.keyPath.map(function(f){return e[f]}));!r&&vr&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,s=this.db._deps.indexedDB;function o(f,c){try{return s.cmp(f,c)===0}catch{return!1}}var a=n.reduce(function(f,c){var d=f[0],g=f[1],w=i[c],E=e[c];return[d||w,d||!w?$i(g,w&&w.multi?function(p){var h=Or(p,c);return Ft(h)&&h.some(function(v){return o(E,v)})}:function(p){return o(E,Or(p,c))}):g]},[null,null]),u=a[0],l=a[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Ft(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var s in r)if(Nn(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){Qt(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,o=i.keyPath,a=e;return o&&s&&(a=Uu(o)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[a]})}).then(function(u){return u.numFailures?pe.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{Zn(e,o,u)}catch{}return u})},t.prototype.update=function(e,n){if(typeof e=="object"&&!Ft(e)){var r=Or(e,this.schema.primKey.keyPath);if(r===void 0)return St(new xe.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?yt(n).forEach(function(i){Zn(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,o=i.keyPath,a=e;return o&&s&&(a=Uu(o)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[a],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?pe.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{Zn(e,o,u)}catch{}return u})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?pe.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:Kw})}).then(function(n){return n.numFailures?pe.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(s){return n.hook.reading.fire(s)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var u=i.schema.primKey,l=u.auto,f=u.keyPath;if(f&&s)throw new xe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new xe.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,d=f&&l?e.map(Uu(f)):e;return i.core.mutate({trans:a,type:"add",keys:s,values:d,wantResults:o}).then(function(g){var w=g.numFailures,E=g.results,p=g.lastResult,h=g.failures,v=o?E:p;if(w===0)return v;throw new fa(i.name+".bulkAdd(): "+w+" of "+c+" operations failed",h)})})},t.prototype.bulkPut=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var u=i.schema.primKey,l=u.auto,f=u.keyPath;if(f&&s)throw new xe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new xe.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,d=f&&l?e.map(Uu(f)):e;return i.core.mutate({trans:a,type:"put",keys:s,values:d,wantResults:o}).then(function(g){var w=g.numFailures,E=g.results,p=g.lastResult,h=g.failures,v=o?E:p;if(w===0)return v;throw new fa(i.name+".bulkPut(): "+w+" of "+c+" operations failed",h)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var s=i.numFailures,o=i.lastResult,a=i.failures;if(s===0)return o;throw new fa(n.name+".bulkDelete(): "+s+" of "+r+" operations failed",a)})},t}();function uu(t){var e={},n=function(a,u){if(u){for(var l=arguments.length,f=new Array(l-1);--l;)f[l-1]=arguments[l];return e[a].subscribe.apply(null,f),t}else if(typeof a=="string")return e[a]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(a,u,l){if(typeof a=="object")return o(a);u||(u=kk),l||(l=$e);var f={subscribers:[],fire:l,subscribe:function(c){f.subscribers.indexOf(c)===-1&&(f.subscribers.push(c),f.fire=u(f.fire,c))},unsubscribe:function(c){f.subscribers=f.subscribers.filter(function(d){return d!==c}),f.fire=f.subscribers.reduce(u,l)}};return e[a]=n[a]=f,f}function o(a){yt(a).forEach(function(u){var l=a[u];if(Ft(l))s(u,a[u][0],a[u][1]);else if(l==="asap")var f=s(u,su,function(){for(var d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];f.subscribers.forEach(function(w){bw(function(){w.apply(null,g)})})});else throw new xe.InvalidArgument("Invalid event config")})}}function lu(t,e){return ho(e).from({prototype:t}),e}function Fk(t){return lu(Uk.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:uu(null,{creating:[xk,$e],reading:[Ek,su],updating:[Sk,$e],deleting:[bk,$e]})})}function as(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Ic(t,e){t.filter=$i(t.filter,e)}function Oc(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return $i(r(),e())}:e,t.justLimit=n&&!r}function jk(t,e){t.isMatch=$i(t.isMatch,e)}function hl(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new xe.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function zg(t,e,n){var r=hl(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Fu(t,e,n,r){var i=t.replayFilter?$i(t.filter,t.replayFilter()):t.filter;if(t.or){var s={},o=function(a,u,l){if(!i||i(u,l,function(d){return u.stop(d)},function(d){return u.fail(d)})){var f=u.primaryKey,c=""+f;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(f)),Nn(s,c)||(s[c]=!0,e(a,u,l))}};return Promise.all([t.or._iterate(o,n),Mg(zg(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}else return Mg(zg(t,r,n),$i(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Mg(t,e,n,r){var i=r?function(o,a,u){return n(r(o),a,u)}:n,s=rt(i);return t.then(function(o){if(o)return o.start(function(){var a=function(){return o.continue()};(!e||e(o,function(u){return a=u},function(u){o.stop(u),a=$e},function(u){o.fail(u),a=$e}))&&s(o.value,o,function(u){return a=u}),a()})})}function Yt(t,e){try{var n=Bg(t),r=Bg(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return Kk(Ug(t),Ug(e));case"Array":return Wk(t,e)}}catch{}return NaN}function Wk(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s){var o=Yt(t[s],e[s]);if(o!==0)return o}return n===r?0:n<r?-1:1}function Kk(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s)if(t[s]!==e[s])return t[s]<e[s]?-1:1;return n===r?0:n<r?-1:1}function Bg(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=Yh(t);return n==="ArrayBuffer"?"binary":n}function Ug(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var $k=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,St.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,St.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=$i(n.algorithm,e)},t.prototype._iterate=function(e,n){return Fu(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Qt(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return Fu(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,s=i.table.core;if(as(i,!0))return s.count({trans:r,query:{index:hl(i,s.schema),range:i.range}}).then(function(a){return Math.min(a,i.limit)});var o=0;return Fu(i,function(){return++o,!1},r,s).then(function(){return o})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],s=r.length-1;function o(l,f){return f?o(l[r[f]],f-1):l[i]}var a=this._ctx.dir==="next"?1:-1;function u(l,f){var c=o(l,s),d=o(f,s);return c<d?-a:c>d?a:0}return this.toArray(function(l){return l.sort(u)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&as(i,!0)&&i.limit>0){var s=i.valueMapper,o=hl(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:o,range:i.range}}).then(function(u){var l=u.result;return s?l.map(s):l})}else{var a=[];return Fu(i,function(u){return a.push(u)},r,i.table.core).then(function(){return a})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,as(n)?Oc(n,function(){var r=e;return function(i,s){return r===0?!0:r===1?(--r,!1):(s(function(){i.advance(r),r=0}),!1)}}):Oc(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Oc(this._ctx,function(){var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this},t.prototype.until=function(e,n){return Ic(this._ctx,function(r,i,s){return e(r.value)?(i(s),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return Ic(this._ctx,function(n){return e(n.value)}),jk(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&as(n,!0)&&n.limit>0)return this._read(function(i){var s=hl(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(function(i){var s=i.result;return s}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Ic(this._ctx,function(i){var s=i.primaryKey.toString(),o=Nn(r,s);return r[s]=!0,!o}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var s;if(typeof e=="function")s=e;else{var o=yt(e),a=o.length;s=function(h){for(var v=!1,y=0;y<a;++y){var x=o[y],_=e[x];Or(h,x)!==_&&(Zn(h,x,_),v=!0)}return v}}var u=r.table.core,l=u.schema.primaryKey,f=l.outbound,c=l.extractKey,d=n.db._options.modifyChunkSize||200,g=[],w=0,E=[],p=function(h,v){var y=v.failures,x=v.numFailures;w+=h-x;for(var _=0,b=yt(y);_<b.length;_++){var T=b[_];g.push(y[T])}};return n.clone().primaryKeys().then(function(h){var v=function(y){var x=Math.min(d,h.length-y);return u.getMany({trans:i,keys:h.slice(y,y+x),cache:"immutable"}).then(function(_){for(var b=[],T=[],O=f?[]:null,R=[],z=0;z<x;++z){var W=_[z],U={value:iu(W),primKey:h[y+z]};s.call(U,U.value,U)!==!1&&(U.value==null?R.push(h[y+z]):!f&&Yt(c(W),c(U.value))!==0?(R.push(h[y+z]),b.push(U.value)):(T.push(U.value),f&&O.push(h[y+z])))}var H=as(r)&&r.limit===1/0&&(typeof e!="function"||e===Ac)&&{index:r.index,range:r.range};return Promise.resolve(b.length>0&&u.mutate({trans:i,type:"add",values:b}).then(function(fe){for(var X in fe.failures)R.splice(parseInt(X),1);p(b.length,fe)})).then(function(){return(T.length>0||H&&typeof e=="object")&&u.mutate({trans:i,type:"put",keys:O,values:T,criteria:H,changeSpec:typeof e!="function"&&e}).then(function(fe){return p(T.length,fe)})}).then(function(){return(R.length>0||H&&e===Ac)&&u.mutate({trans:i,type:"delete",keys:R,criteria:H}).then(function(fe){return p(R.length,fe)})}).then(function(){return h.length>y+x&&v(y+d)})})};return v(0).then(function(){if(g.length>0)throw new Kl("Error modifying one or more objects",g,w,E);return h.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return as(e)&&(e.isPrimKey&&!Bk||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(function(o){return e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(function(a){var u=a.failures;a.lastResult,a.results;var l=a.numFailures;if(l)throw new Kl("Could not delete some values",Object.keys(u).map(function(f){return u[f]}),o-l);return o-l})})}):this.modify(Ac)},t}(),Ac=function(t,e){return e.value=null};function Hk(t){return lu($k.prototype,function(n,r){this.db=t;var i=Kw,s=null;if(r)try{i=r()}catch(l){s=l}var o=n._ctx,a=o.table,u=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:s,or:o.or,valueMapper:u!==su?u:null}})}function Vk(t,e){return t<e?-1:t===e?0:1}function qk(t,e){return t>e?-1:t===e?0:1}function vn(t,e,n){var r=t instanceof Hw?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function us(t){return new t.Collection(t,function(){return $w("")}).limit(0)}function Yk(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function Zk(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function Xk(t,e,n,r,i,s){for(var o=Math.min(t.length,r.length),a=-1,u=0;u<o;++u){var l=e[u];if(l!==r[u])return i(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):i(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;i(t[u],l)<0&&(a=u)}return o<r.length&&s==="next"?t+n.substr(t.length):o<t.length&&s==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function ju(t,e,n,r){var i,s,o,a,u,l,f,c=n.length;if(!n.every(function(E){return typeof E=="string"}))return vn(t,jw);function d(E){i=Yk(E),s=Zk(E),o=E==="next"?Vk:qk;var p=n.map(function(h){return{lower:s(h),upper:i(h)}}).sort(function(h,v){return o(h.lower,v.lower)});a=p.map(function(h){return h.upper}),u=p.map(function(h){return h.lower}),l=E,f=E==="next"?"":r}d("next");var g=new t.Collection(t,function(){return Kr(a[0],u[c-1]+r)});g._ondirectionchange=function(E){d(E)};var w=0;return g._addAlgorithm(function(E,p,h){var v=E.key;if(typeof v!="string")return!1;var y=s(v);if(e(y,u,w))return!0;for(var x=null,_=w;_<c;++_){var b=Xk(v,y,a[_],u[_],o,l);b===null&&x===null?w=_+1:(x===null||o(x,b)>0)&&(x=b)}return p(x!==null?function(){E.continue(x+f)}:h),!1}),g}function Kr(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function $w(t){return{type:1,lower:t,upper:t}}var Hw=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?us(this):new this.Collection(this,function(){return Kr(e,n,!r,!i)})}catch{return vn(this,wr)}},t.prototype.equals=function(e){return e==null?vn(this,wr):new this.Collection(this,function(){return $w(e)})},t.prototype.above=function(e){return e==null?vn(this,wr):new this.Collection(this,function(){return Kr(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?vn(this,wr):new this.Collection(this,function(){return Kr(e,void 0,!1)})},t.prototype.below=function(e){return e==null?vn(this,wr):new this.Collection(this,function(){return Kr(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?vn(this,wr):new this.Collection(this,function(){return Kr(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?vn(this,jw):this.between(e,e+Li,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):ju(this,function(n,r){return n.indexOf(r[0])===0},[e],Li)},t.prototype.equalsIgnoreCase=function(e){return ju(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=br.apply(ms,arguments);return e.length===0?us(this):ju(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=br.apply(ms,arguments);return e.length===0?us(this):ju(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,Li)},t.prototype.anyOf=function(){var e=this,n=br.apply(ms,arguments),r=this._cmp;try{n.sort(r)}catch{return vn(this,wr)}if(n.length===0)return us(this);var i=new this.Collection(this,function(){return Kr(n[0],n[n.length-1])});i._ondirectionchange=function(o){r=o==="next"?e._ascending:e._descending,n.sort(r)};var s=0;return i._addAlgorithm(function(o,a,u){for(var l=o.key;r(l,n[s])>0;)if(++s,s===n.length)return a(u),!1;return r(l,n[s])===0?!0:(a(function(){o.continue(n[s])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[od,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=br.apply(ms,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return vn(this,wr)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[od,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,s=this._ascending,o=this._descending,a=this._min,u=this._max;if(e.length===0)return us(this);if(!e.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&s(_[0],_[1])<=0}))return vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",xe.InvalidArgument);var l=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function c(_,b){for(var T=0,O=_.length;T<O;++T){var R=_[T];if(i(b[0],R[1])<0&&i(b[1],R[0])>0){R[0]=a(R[0],b[0]),R[1]=u(R[1],b[1]);break}}return T===O&&_.push(b),_}var d=s;function g(_,b){return d(_[0],b[0])}var w;try{w=e.reduce(c,[]),w.sort(g)}catch{return vn(this,wr)}var E=0,p=f?function(_){return s(_,w[E][1])>0}:function(_){return s(_,w[E][1])>=0},h=l?function(_){return o(_,w[E][0])>0}:function(_){return o(_,w[E][0])>=0};function v(_){return!p(_)&&!h(_)}var y=p,x=new this.Collection(this,function(){return Kr(w[0][0],w[w.length-1][1],!l,!f)});return x._ondirectionchange=function(_){_==="next"?(y=p,d=s):(y=h,d=o),w.sort(g)},x._addAlgorithm(function(_,b,T){for(var O=_.key;y(O);)if(++E,E===w.length)return b(T),!1;return v(O)?!0:(r._cmp(O,w[E][1])===0||r._cmp(O,w[E][0])===0||b(function(){d===s?_.continue(w[E][0]):_.continue(w[E][1])}),!1)}),x},t.prototype.startsWithAnyOf=function(){var e=br.apply(ms,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?us(this):this.inAnyRange(e.map(function(n){return[n,n+Li]})):vn(this,"startsWithAnyOf() only works with strings")},t}();function Gk(t){return lu(Hw.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var s=t._deps.indexedDB;if(!s)throw new xe.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=function(o,a){return s.cmp(a,o)},this._max=function(o,a){return s.cmp(o,a)>0?o:a},this._min=function(o,a){return s.cmp(o,a)<0?o:a},this._IDBKeyRange=t._deps.IDBKeyRange})}function rr(t){return rt(function(e){return Ma(e),t(e.target.error),!1})}function Ma(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Ba="storagemutated",Qr="x-storagemutated-1",_i=uu(null,Ba),Qk=function(){function t(){}return t.prototype._lock=function(){return Zo(!ye.global),++this._reculock,this._reculock===1&&!ye.global&&(ye.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Zo(!ye.global),--this._reculock===0)for(ye.global||(ye.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{mo(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Zo(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new xe.DatabaseClosed(i);case"MissingAPIError":throw new xe.MissingAPI(i.message,i);default:throw new xe.OpenFailed(i)}if(!this.active)throw new xe.TransactionInactive;return Zo(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=rt(function(s){Ma(s),n._reject(e.error)}),e.onabort=rt(function(s){Ma(s),n.active&&n._reject(new xe.Abort(e.error)),n.active=!1,n.on("abort").fire(s)}),e.oncomplete=rt(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&_i.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return St(new xe.ReadOnly("Transaction is readonly"));if(!this.active)return St(new xe.TransactionInactive);if(this._locked())return new pe(function(o,a){i._blockedFuncs.push([function(){i._promise(e,n,r).then(o,a)},ye])});if(r)return gi(function(){var o=new pe(function(a,u){i._lock();var l=n(a,u,i);l&&l.then&&l.then(a,u)});return o.finally(function(){return i._unlock()}),o._lib=!0,o});var s=new pe(function(o,a){var u=n(o,a,i);u&&u.then&&u.then(o,a)});return s._lib=!0,s},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=pe.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new pe(function(o,a){r.then(function(u){return n._waitingQueue.push(rt(o.bind(null,u)))},function(u){return n._waitingQueue.push(rt(a.bind(null,u)))}).finally(function(){n._waitingFor===s&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new xe.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(Nn(n,e))return n[e];var r=this.schema[e];if(!r)throw new xe.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function Jk(t){return lu(Qk.prototype,function(n,r,i,s,o){var a=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=uu(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new pe(function(u,l){a._resolve=u,a._reject=l}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(u){var l=a.active;return a.active=!1,a.on.error.fire(u),a.parent?a.parent._reject(u):l&&a.idbtrans&&a.idbtrans.abort(),St(u)})})}function ad(t,e,n,r,i,s,o){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+Vw(e)}}function Vw(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function qw(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Sw(n,function(r){return[r.name,r]})}}function eT(t){return t.length===1?t[0]:t}var Ua=function(t){try{return t.only([[]]),Ua=function(){return[[]]},[[]]}catch{return Ua=function(){return Li},Li}};function ud(t){return t==null?function(){}:typeof t=="string"?tT(t):function(e){return Or(e,t)}}function tT(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return Or(n,t)}}function Fg(t){return[].slice.call(t)}var nT=0;function ha(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function rT(t,e,n){function r(c,d){var g=Fg(c.objectStoreNames);return{schema:{name:c.name,tables:g.map(function(w){return d.objectStore(w)}).map(function(w){var E=w.keyPath,p=w.autoIncrement,h=Ft(E),v=E==null,y={},x={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:h,keyPath:E,autoIncrement:p,unique:!0,extractKey:ud(E)},indexes:Fg(w.indexNames).map(function(_){return w.index(_)}).map(function(_){var b=_.name,T=_.unique,O=_.multiEntry,R=_.keyPath,z=Ft(R),W={name:b,compound:z,keyPath:R,unique:T,multiEntry:O,extractKey:ud(R)};return y[ha(R)]=W,W}),getIndexByKeyPath:function(_){return y[ha(_)]}};return y[":id"]=x.primaryKey,E!=null&&(y[ha(E)]=x.primaryKey),x})},hasGetAll:g.length>0&&"getAll"in d.objectStore(g[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var d=c.lower,g=c.upper,w=c.lowerOpen,E=c.upperOpen,p=d===void 0?g===void 0?null:e.upperBound(g,!!E):g===void 0?e.lowerBound(d,!!w):e.bound(d,g,!!w,!!E);return p}function s(c){var d=c.name;function g(p){var h=p.trans,v=p.type,y=p.keys,x=p.values,_=p.range;return new Promise(function(b,T){b=rt(b);var O=h.objectStore(d),R=O.keyPath==null,z=v==="put"||v==="add";if(!z&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);var W=(y||x||{length:1}).length;if(y&&x&&y.length!==x.length)throw new Error("Given keys array must have same length as given values array.");if(W===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});var U,H=[],fe=[],X=0,ie=function(Y){++X,Ma(Y)};if(v==="deleteRange"){if(_.type===4)return b({numFailures:X,failures:fe,results:[],lastResult:void 0});_.type===3?H.push(U=O.clear()):H.push(U=O.delete(i(_)))}else{var se=z?R?[x,y]:[x,null]:[y,null],oe=se[0],_e=se[1];if(z)for(var ke=0;ke<W;++ke)H.push(U=_e&&_e[ke]!==void 0?O[v](oe[ke],_e[ke]):O[v](oe[ke])),U.onerror=ie;else for(var ke=0;ke<W;++ke)H.push(U=O[v](oe[ke])),U.onerror=ie}var q=function(Y){var ue=Y.target.result;H.forEach(function(de,Te){return de.error!=null&&(fe[Te]=de.error)}),b({numFailures:X,failures:fe,results:v==="delete"?y:H.map(function(de){return de.result}),lastResult:ue})};U.onerror=function(Y){ie(Y),q(Y)},U.onsuccess=q})}function w(p){var h=p.trans,v=p.values,y=p.query,x=p.reverse,_=p.unique;return new Promise(function(b,T){b=rt(b);var O=y.index,R=y.range,z=h.objectStore(d),W=O.isPrimaryKey?z:z.index(O.name),U=x?_?"prevunique":"prev":_?"nextunique":"next",H=v||!("openKeyCursor"in W)?W.openCursor(i(R),U):W.openKeyCursor(i(R),U);H.onerror=rr(T),H.onsuccess=rt(function(fe){var X=H.result;if(!X){b(null);return}X.___id=++nT,X.done=!1;var ie=X.continue.bind(X),se=X.continuePrimaryKey;se&&(se=se.bind(X));var oe=X.advance.bind(X),_e=function(){throw new Error("Cursor not started")},ke=function(){throw new Error("Cursor not stopped")};X.trans=h,X.stop=X.continue=X.continuePrimaryKey=X.advance=_e,X.fail=rt(T),X.next=function(){var q=this,Y=1;return this.start(function(){return Y--?q.continue():q.stop()}).then(function(){return q})},X.start=function(q){var Y=new Promise(function(de,Te){de=rt(de),H.onerror=rr(Te),X.fail=Te,X.stop=function(Fe){X.stop=X.continue=X.continuePrimaryKey=X.advance=ke,de(Fe)}}),ue=function(){if(H.result)try{q()}catch(de){X.fail(de)}else X.done=!0,X.start=function(){throw new Error("Cursor behind last entry")},X.stop()};return H.onsuccess=rt(function(de){H.onsuccess=ue,ue()}),X.continue=ie,X.continuePrimaryKey=se,X.advance=oe,ue(),Y},b(X)},T)})}function E(p){return function(h){return new Promise(function(v,y){v=rt(v);var x=h.trans,_=h.values,b=h.limit,T=h.query,O=b===1/0?void 0:b,R=T.index,z=T.range,W=x.objectStore(d),U=R.isPrimaryKey?W:W.index(R.name),H=i(z);if(b===0)return v({result:[]});if(p){var fe=_?U.getAll(H,O):U.getAllKeys(H,O);fe.onsuccess=function(oe){return v({result:oe.target.result})},fe.onerror=rr(y)}else{var X=0,ie=_||!("openKeyCursor"in U)?U.openCursor(H):U.openKeyCursor(H),se=[];ie.onsuccess=function(oe){var _e=ie.result;if(!_e)return v({result:se});if(se.push(_?_e.value:_e.primaryKey),++X===b)return v({result:se});_e.continue()},ie.onerror=rr(y)}})}}return{name:d,schema:c,mutate:g,getMany:function(p){var h=p.trans,v=p.keys;return new Promise(function(y,x){y=rt(y);for(var _=h.objectStore(d),b=v.length,T=new Array(b),O=0,R=0,z,W=function(X){var ie=X.target;(T[ie._pos]=ie.result)!=null,++R===O&&y(T)},U=rr(x),H=0;H<b;++H){var fe=v[H];fe!=null&&(z=_.get(v[H]),z._pos=H,z.onsuccess=W,z.onerror=U,++O)}O===0&&y(T)})},get:function(p){var h=p.trans,v=p.key;return new Promise(function(y,x){y=rt(y);var _=h.objectStore(d),b=_.get(v);b.onsuccess=function(T){return y(T.target.result)},b.onerror=rr(x)})},query:E(u),openCursor:w,count:function(p){var h=p.query,v=p.trans,y=h.index,x=h.range;return new Promise(function(_,b){var T=v.objectStore(d),O=y.isPrimaryKey?T:T.index(y.name),R=i(x),z=R?O.count(R):O.count();z.onsuccess=rt(function(W){return _(W.target.result)}),z.onerror=rr(b)})}}}var o=r(t,n),a=o.schema,u=o.hasGetAll,l=a.tables.map(function(c){return s(c)}),f={};return l.forEach(function(c){return f[c.name]=c}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(c){var d=f[c];if(!d)throw new Error("Table '"+c+"' not found");return f[c]},MIN_KEY:-1/0,MAX_KEY:Ua(e),schema:a}}function iT(t,e){return e.reduce(function(n,r){var i=r.create;return Re(Re({},n),i(n))},t)}function sT(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var s=iT(rT(e,i,r),t.dbcore);return{dbcore:s}}function lv(t,e){var n=t._novip,r=e.db,i=sT(n._middlewares,r,n._deps,e);n.core=i.dbcore,n.tables.forEach(function(s){var o=s.name;n.core.schema.tables.some(function(a){return a.name===o})&&(s.core=n.core.table(o),n[o]instanceof n.Table&&(n[o].core=s.core))})}function Zl(t,e,n,r){var i=t._novip;n.forEach(function(s){var o=r[s];e.forEach(function(a){var u=ev(a,s);(!u||"value"in u&&u.value===void 0)&&(a===i.Transaction.prototype||a instanceof i.Transaction?Lr(a,s,{get:function(){return this.table(s)},set:function(l){Ew(this,s,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new i.Table(s,o))})})}function ld(t,e){var n=t._novip;e.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function oT(t,e){return t._cfg.version-e._cfg.version}function aT(t,e,n,r){var i=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);var o=s._reject.bind(s),a=ye.transless||ye;gi(function(){ye.trans=s,ye.transless=a,e===0?(yt(i).forEach(function(u){fv(n,u,i[u].primKey,i[u].indexes)}),lv(t,n),pe.follow(function(){return t.on.populate.fire(s)}).catch(o)):uT(t,e,s,n).catch(o)})}function uT(t,e,n,r){var i=t._novip,s=[],o=i._versions,a=i._dbSchema=cv(i,i.idbdb,r),u=!1,l=o.filter(function(c){return c._cfg.version>=e});l.forEach(function(c){s.push(function(){var d=a,g=c._cfg.dbschema;cd(i,d,r),cd(i,g,r),a=i._dbSchema=g;var w=Yw(d,g);w.add.forEach(function(x){fv(r,x[0],x[1].primKey,x[1].indexes)}),w.change.forEach(function(x){if(x.recreate)throw new xe.Upgrade("Not yet support for changing primary key");var _=r.objectStore(x.name);x.add.forEach(function(b){return fd(_,b)}),x.change.forEach(function(b){_.deleteIndex(b.name),fd(_,b)}),x.del.forEach(function(b){return _.deleteIndex(b)})});var E=c._cfg.contentUpgrade;if(E&&c._cfg.version>e){lv(i,r),n._memoizedTables={},u=!0;var p=kw(g);w.del.forEach(function(x){p[x]=d[x]}),ld(i,[i.Transaction.prototype]),Zl(i,[i.Transaction.prototype],yt(p),p),n.schema=p;var h=tv(E);h&&vo();var v,y=pe.follow(function(){if(v=E(n),v&&h){var x=zr.bind(null,null);v.then(x,x)}});return v&&typeof v.then=="function"?pe.resolve(v):y.then(function(){return v})}}),s.push(function(d){if(!u||!Mk){var g=c._cfg.dbschema;fT(g,d)}ld(i,[i.Transaction.prototype]),Zl(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return s.length?pe.resolve(s.shift()(n.idbtrans)).then(f):pe.resolve()}return f().then(function(){lT(a,r)})}function Yw(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],s=e[r];if(!i)n.add.push([r,s]);else{var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!zf)o.recreate=!0,n.change.push(o);else{var a=i.idxByName,u=s.idxByName,l=void 0;for(l in a)u[l]||o.del.push(l);for(l in u){var f=a[l],c=u[l];f?f.src!==c.src&&o.change.push(c):o.add.push(c)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}}return n}function fv(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(s){return fd(i,s)}),i}function lT(t,e){yt(t).forEach(function(n){e.db.objectStoreNames.contains(n)||fv(e,n,t[n].primKey,t[n].indexes)})}function fT(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function fd(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function cv(t,e,n){var r={},i=Pf(e.objectStoreNames,0);return i.forEach(function(s){for(var o=n.objectStore(s),a=o.keyPath,u=ad(Vw(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),l=[],f=0;f<o.indexNames.length;++f){var c=o.index(o.indexNames[f]);a=c.keyPath;var d=ad(c.name,a,!!c.unique,!!c.multiEntry,!1,a&&typeof a!="string",!1);l.push(d)}r[s]=qw(s,u,l)}),r}function cT(t,e,n){var r=t._novip;r.verno=e.version/10;var i=r._dbSchema=cv(r,e,n);r._storeNames=Pf(e.objectStoreNames,0),Zl(r,[r._allTables],yt(i),i)}function hT(t,e){var n=cv(t,t.idbdb,e),r=Yw(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function cd(t,e,n){for(var r=t._novip,i=n.db.objectStoreNames,s=0;s<i.length;++s){var o=i[s],a=n.objectStore(o);r._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var l=a.indexNames[u],f=a.index(l).keyPath,c=typeof f=="string"?f:"["+Pf(f).join("+")+"]";if(e[o]){var d=e[o].idxByName[c];d&&(d.name=l,delete e[o].idxByName[c],e[o].idxByName[l]=d)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Qe.WorkerGlobalScope&&Qe instanceof Qe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function dT(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ad(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ft(i),n===0)})}var pT=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){yt(e).forEach(function(r){if(e[r]!==null){var i=dT(e[r]),s=i.shift();if(s.multi)throw new xe.Schema("Primary key cannot be multi-valued");i.forEach(function(o){if(o.auto)throw new xe.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new xe.Schema("Index must have a name and cannot be an empty string")}),n[r]=qw(r,s,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Qt(this._cfg.storesSource,e):e;var r=n._versions,i={},s={};return r.forEach(function(o){Qt(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,ld(n,[n._allTables,n,n.Transaction.prototype]),Zl(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],yt(s),s),n._storeNames=yt(s),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=iv(this._cfg.contentUpgrade||$e,e),this},t}();function vT(t){return lu(pT.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function hv(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Xl(Mf,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function dv(t){return t&&typeof t.databases=="function"}function mT(t){var e=t.indexedDB,n=t.IDBKeyRange;return dv(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Mf})}):hv(e,n).toCollection().primaryKeys()}function gT(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!dv(n)&&e!==Mf&&hv(n,r).put({name:e}).catch($e)}function yT(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!dv(n)&&e!==Mf&&hv(n,r).delete(e).catch($e)}function hd(t){return gi(function(){return ye.letThrough=!0,t()})}function _T(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function wT(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?St(e.dbOpenError):t});vr&&(e.openCanceller._stackHolder=ts()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new xe.DatabaseClosed("db.open() was cancelled")}var s=e.dbReadyResolve,o=null,a=!1;return pe.race([r,(typeof navigator=="undefined"?pe.resolve():_T()).then(function(){return new pe(function(u,l){if(i(),!n)throw new xe.MissingAPI;var f=t.name,c=e.autoSchema?n.open(f):n.open(f,Math.round(t.verno*10));if(!c)throw new xe.MissingAPI;c.onerror=rr(l),c.onblocked=rt(t._fireOnBlocked),c.onupgradeneeded=rt(function(d){if(o=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=Ma,o.abort(),c.result.close();var g=n.deleteDatabase(f);g.onsuccess=g.onerror=rt(function(){l(new xe.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{o.onerror=rr(l);var w=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;a=w<1,t._novip.idbdb=c.result,aT(t,w/10,o,l)}},l),c.onsuccess=rt(function(){o=null;var d=t._novip.idbdb=c.result,g=Pf(d.objectStoreNames);if(g.length>0)try{var w=d.transaction(eT(g),"readonly");e.autoSchema?cT(t,d,w):(cd(t,t._dbSchema,w),hT(t,w)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),lv(t,w)}catch{}ca.push(t),d.onversionchange=rt(function(E){e.vcFired=!0,t.on("versionchange").fire(E)}),d.onclose=rt(function(E){t.on("close").fire(E)}),a&&gT(t._deps,f),u()},l)})})]).then(function(){return i(),e.onReadyBeingFired=[],pe.resolve(hd(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(e.onReadyBeingFired.length>0){var l=e.onReadyBeingFired.reduce(iv,$e);return e.onReadyBeingFired=[],pe.resolve(hd(function(){return l(t.vip)})).then(u)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(u){e.dbOpenError=u;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),St(u)}).finally(function(){e.openComplete=!0,s()})}function dd(t){var e=function(o){return t.next(o)},n=function(o){return t.throw(o)},r=s(e),i=s(n);function s(o){return function(a){var u=o(a),l=u.value;return u.done?l:!l||typeof l.then!="function"?Ft(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return s(e)()}function ET(t,e,n){var r=arguments.length;if(r<2)throw new xe.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var s=Tw(i);return[t,s,n]}function Zw(t,e,n,r,i){return pe.resolve().then(function(){var s=ye.transless||ye,o=t._createTransaction(e,n,t._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===rv.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return Zw(t,e,n,null,i)})):St(c)}var u=tv(i);u&&vo();var l,f=pe.follow(function(){if(l=i.call(o,o),l)if(u){var c=zr.bind(null,null);l.then(c,c)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=dd(l))},a);return(l&&typeof l.then=="function"?pe.resolve(l).then(function(c){return o.active?c:St(new xe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return l})).then(function(c){return r&&o._resolve(),o._completion.then(function(){return c})}).catch(function(c){return o._reject(c),St(c)})})}function Wu(t,e,n){for(var r=Ft(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function xT(t){return Re(Re({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},s=[];function o(E,p,h){var v=ha(E),y=i[v]=i[v]||[],x=E==null?0:typeof E=="string"?1:E.length,_=p>0,b=Re(Re({},h),{isVirtual:_,keyTail:p,keyLength:x,extractKey:ud(E),unique:!_&&h.unique});if(y.push(b),b.isPrimaryKey||s.push(b),x>1){var T=x===2?E[0]:E.slice(0,x-1);o(T,p+1,h)}return y.sort(function(O,R){return O.keyTail-R.keyTail}),b}var a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(var u=0,l=r.indexes;u<l.length;u++){var f=l[u];o(f.keyPath,0,f)}function c(E){var p=i[ha(E)];return p&&p[0]}function d(E,p){return{type:E.type===1?2:E.type,lower:Wu(E.lower,E.lowerOpen?t.MAX_KEY:t.MIN_KEY,p),lowerOpen:!0,upper:Wu(E.upper,E.upperOpen?t.MIN_KEY:t.MAX_KEY,p),upperOpen:!0}}function g(E){var p=E.query.index;return p.isVirtual?Re(Re({},E),{query:{index:p,range:d(E.query.range,p.keyTail)}}):E}var w=Re(Re({},n),{schema:Re(Re({},r),{primaryKey:a,indexes:s,getIndexByKeyPath:c}),count:function(E){return n.count(g(E))},query:function(E){return n.query(g(E))},openCursor:function(E){var p=E.query.index,h=p.keyTail,v=p.isVirtual,y=p.keyLength;if(!v)return n.openCursor(E);function x(_){function b(O){O!=null?_.continue(Wu(O,E.reverse?t.MAX_KEY:t.MIN_KEY,h)):E.unique?_.continue(_.key.slice(0,y).concat(E.reverse?t.MIN_KEY:t.MAX_KEY,h)):_.continue()}var T=Object.create(_,{continue:{value:b},continuePrimaryKey:{value:function(O,R){_.continuePrimaryKey(Wu(O,t.MAX_KEY,h),R)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var O=_.key;return y===1?O[0]:O.slice(0,y)}},value:{get:function(){return _.value}}});return T}return n.openCursor(g(E)).then(function(_){return _&&x(_)})}});return w}})}var bT={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:xT};function pv(t,e,n,r){return n=n||{},r=r||"",yt(t).forEach(function(i){if(!Nn(e,i))n[r+i]=void 0;else{var s=t[i],o=e[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){var a=Yh(s),u=Yh(o);a!==u?n[r+i]=e[i]:a==="Object"?pv(s,o,n,r+i+"."):s!==o&&(n[r+i]=e[i])}else s!==o&&(n[r+i]=e[i])}}),yt(e).forEach(function(i){Nn(t,i)||(n[r+i]=e[i])}),n}function ST(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var kT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Re(Re({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=Re(Re({},n),{mutate:function(s){var o=ye.trans,a=o.table(e).hook,u=a.deleting,l=a.creating,f=a.updating;switch(s.type){case"add":if(l.fire===$e)break;return o._promise("readwrite",function(){return c(s)},!0);case"put":if(l.fire===$e&&f.fire===$e)break;return o._promise("readwrite",function(){return c(s)},!0);case"delete":if(u.fire===$e)break;return o._promise("readwrite",function(){return c(s)},!0);case"deleteRange":if(u.fire===$e)break;return o._promise("readwrite",function(){return d(s)},!0)}return n.mutate(s);function c(w){var E=ye.trans,p=w.keys||ST(r,w);if(!p)throw new Error("Keys missing");return w=w.type==="add"||w.type==="put"?Re(Re({},w),{keys:p}):Re({},w),w.type!=="delete"&&(w.values=Vh([],w.values,!0)),w.keys&&(w.keys=Vh([],w.keys,!0)),TT(n,w,p).then(function(h){var v=p.map(function(y,x){var _=h[x],b={onerror:null,onsuccess:null};if(w.type==="delete")u.fire.call(b,y,_,E);else if(w.type==="add"||_===void 0){var T=l.fire.call(b,y,w.values[x],E);y==null&&T!=null&&(y=T,w.keys[x]=y,r.outbound||Zn(w.values[x],r.keyPath,y))}else{var O=pv(_,w.values[x]),R=f.fire.call(b,O,y,_,E);if(R){var z=w.values[x];Object.keys(R).forEach(function(W){Nn(z,W)?z[W]=R[W]:Zn(z,W,R[W])})}}return b});return n.mutate(w).then(function(y){for(var x=y.failures,_=y.results,b=y.numFailures,T=y.lastResult,O=0;O<p.length;++O){var R=_?_[O]:p[O],z=v[O];R==null?z.onerror&&z.onerror(x[O]):z.onsuccess&&z.onsuccess(w.type==="put"&&h[O]?w.values[O]:R)}return{failures:x,results:_,numFailures:b,lastResult:T}}).catch(function(y){return v.forEach(function(x){return x.onerror&&x.onerror(y)}),Promise.reject(y)})})}function d(w){return g(w.trans,w.range,1e4)}function g(w,E,p){return n.query({trans:w,values:!1,query:{index:r,range:E},limit:p}).then(function(h){var v=h.result;return c({type:"delete",keys:v,trans:w}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):v.length<p?{failures:[],numFailures:0,lastResult:void 0}:g(w,Re(Re({},E),{lower:v[v.length-1],lowerOpen:!0}),p)})})}}});return i}})}};function TT(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function Xw(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,s=0;i<e.keys.length&&s<t.length;++i)Yt(e.keys[i],t[s])===0&&(r.push(n?iu(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}var CT={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Re(Re({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=Xw(r.keys,r.trans._cache,r.cache==="clone");return i?pe.resolve(i):n.getMany(r).then(function(s){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?iu(s):s},s})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},Rc;function vv(t){return!("from"in t)}var ir=function(t,e){if(this)Qt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new ir;return t&&"d"in t&&Qt(n,t),n}};qs(ir.prototype,(Rc={add:function(t){return ja(this,t),this},addKey:function(t){return Fa(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return Fa(e,n,n)}),this}},Rc[Zh]=function(){return pd(this)},Rc));function Fa(t,e,n){var r=Yt(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(vv(t))return Qt(t,{from:e,to:n,d:1});var i=t.l,s=t.r;if(Yt(n,t.from)<0)return i?Fa(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},jg(t);if(Yt(e,t.to)>0)return s?Fa(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},jg(t);Yt(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),Yt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var o=!t.r;i&&!t.l&&ja(t,i),s&&o&&ja(t,s)}}function ja(t,e){function n(r,i){var s=i.from,o=i.to,a=i.l,u=i.r;Fa(r,s,o),a&&n(r,a),u&&n(r,u)}vv(e)||n(t,e)}function Gw(t,e){var n=pd(e),r=n.next();if(r.done)return!1;for(var i=r.value,s=pd(t),o=s.next(i.from),a=o.value;!r.done&&!o.done;){if(Yt(a.from,i.to)<=0&&Yt(a.to,i.from)>=0)return!0;Yt(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function pd(t){var e=vv(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Yt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Yt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function jg(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var s=i==="r"?"l":"r",o=Re({},t),a=t[i];t.from=a.from,t.to=a.to,t[i]=a[i],o[i]=a[s],t[s]=o,o.d=Wg(o)}t.d=Wg(t)}function Wg(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var IT={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new ir(t.MIN_KEY,t.MAX_KEY);return Re(Re({},t),{table:function(r){var i=t.table(r),s=i.schema,o=s.primaryKey,a=o.extractKey,u=o.outbound,l=Re(Re({},i),{mutate:function(d){var g=d.trans,w=g.mutatedParts||(g.mutatedParts={}),E=function(T){var O="idb://"+e+"/"+r+"/"+T;return w[O]||(w[O]=new ir)},p=E(""),h=E(":dels"),v=d.type,y=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],x=y[0],_=y[1],b=d.trans._cache;return i.mutate(d).then(function(T){if(Ft(x)){v!=="delete"&&(x=T.results),p.addKeys(x);var O=Xw(x,b);!O&&v!=="add"&&h.addKeys(x),(O||_)&&OT(E,s,O,_)}else if(x){var R={from:x.lower,to:x.upper};h.add(R),p.add(R)}else p.add(n),h.add(n),s.indexes.forEach(function(z){return E(z.name).add(n)});return T})}}),f=function(d){var g,w,E=d.query,p=E.index,h=E.range;return[p,new ir((g=h.lower)!==null&&g!==void 0?g:t.MIN_KEY,(w=h.upper)!==null&&w!==void 0?w:t.MAX_KEY)]},c={get:function(d){return[o,new ir(d.key)]},getMany:function(d){return[o,new ir().addKeys(d.keys)]},count:f,query:f,openCursor:f};return yt(c).forEach(function(d){l[d]=function(g){var w=ye.subscr;if(w){var E=function(b){var T="idb://"+e+"/"+r+"/"+b;return w[T]||(w[T]=new ir)},p=E(""),h=E(":dels"),v=c[d](g),y=v[0],x=v[1];if(E(y.name||"").add(x),!y.isPrimaryKey)if(d==="count")h.add(n);else{var _=d==="query"&&u&&g.values&&i.query(Re(Re({},g),{values:!1}));return i[d].apply(this,arguments).then(function(b){if(d==="query"){if(u&&g.values)return _.then(function(z){var W=z.result;return p.addKeys(W),b});var T=g.values?b.result.map(a):b.result;g.values?p.addKeys(T):h.addKeys(T)}else if(d==="openCursor"){var O=b,R=g.values;return O&&Object.create(O,{key:{get:function(){return h.addKey(O.primaryKey),O.key}},primaryKey:{get:function(){var z=O.primaryKey;return h.addKey(z),z}},value:{get:function(){return R&&p.addKey(O.primaryKey),O.value}}})}return b})}}return i[d].apply(this,arguments)}}),l}})}};function OT(t,e,n,r){function i(s){var o=t(s.name||"");function a(l){return l!=null?s.extractKey(l):null}var u=function(l){return s.multiEntry&&Ft(l)?l.forEach(function(f){return o.addKey(f)}):o.addKey(l)};(n||r).forEach(function(l,f){var c=n&&a(n[f]),d=r&&a(r[f]);Yt(c,d)!==0&&(c!=null&&u(c),d!=null&&u(d))})}e.indexes.forEach(i)}var Xl=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=Re({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var s=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new pe(function(a){o.dbReadyResolve=a}),o.openCanceller=new pe(function(a,u){o.cancelOpen=u}),this._state=o,this.name=e,this.on=uu(this,"populate","blocked","versionchange","close",{ready:[iv,$e]}),this.on.ready.subscribe=xw(this.on.ready.subscribe,function(a){return function(u,l){t.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||pe.resolve().then(u),l&&a(u);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(u),l&&a(u);else{a(u);var c=r;l||a(function d(){c.on.ready.unsubscribe(u),c.on.ready.unsubscribe(d)})}})}}),this.Collection=Hk(this),this.Table=Fk(this),this.Transaction=Jk(this),this.Version=vT(this),this.WhereClause=Gk(this),this.on("versionchange",function(a){a.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+a.oldVersion/10)}),this._maxKey=Ua(n.IDBKeyRange),this._createTransaction=function(a,u,l,f){return new r.Transaction(a,u,l,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(a){r.on("blocked").fire(a),ca.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(a)})},this.use(bT),this.use(kT),this.use(IT),this.use(CT),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(function(a){return a(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new xe.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new xe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(oT),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?e():new pe(function(r,i){if(n._state.openComplete)return i(new xe.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new xe.DatabaseClosed);return}n.open().catch($e)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,s=e.name;s&&this.unuse({stack:n,name:s});var o=this._middlewares[n]||(this._middlewares[n]=[]);return o.push({stack:n,create:r,level:i==null?10:i,name:s}),o.sort(function(a,u){return a.level-u.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(s){return i?s.create!==i:r?s.name!==r:!1})),this},t.prototype.open=function(){return wT(this)},t.prototype._close=function(){var e=this._state,n=ca.indexOf(this);if(n>=0&&ca.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new pe(function(r){e.dbReadyResolve=r}),e.openCanceller=new pe(function(r,i){e.cancelOpen=i})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new xe.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new pe(function(i,s){var o=function(){e.close();var a=e._deps.indexedDB.deleteDatabase(e.name);a.onsuccess=rt(function(){yT(e._deps,e.name),i()}),a.onerror=rr(s),a.onblocked=e._fireOnBlocked};if(n)throw new xe.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return yt(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=ET.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,s=ye.trans;(!s||s.db!==this||e.indexOf("!")!==-1)&&(s=null);var o=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var a,u;try{if(u=n.map(function(f){var c=f instanceof i.Table?f.name:f;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===Tc)a=Tc;else if(e=="rw"||e==Cc)a=Cc;else throw new xe.InvalidArgument("Invalid transaction mode: "+e);if(s){if(s.mode===Tc&&a===Cc)if(o)s=null;else throw new xe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s&&u.forEach(function(f){if(s&&s.storeNames.indexOf(f)===-1)if(o)s=null;else throw new xe.SubTransaction("Table "+f+" not included in parent transaction.")}),o&&s&&!s.active&&(s=null)}}catch(f){return s?s._promise(null,function(c,d){d(f)}):St(f)}var l=Zw.bind(null,this,a,u,s,r);return s?s._promise(a,l,"lock"):ye.trans?mo(ye.transless,function(){return i._whenReady(l)}):this._whenReady(l)},t.prototype.table=function(e){if(!Nn(this._allTables,e))throw new xe.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),AT=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",RT=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[AT]=function(){return this},t}();function Qw(t,e){return yt(e).forEach(function(n){var r=t[n]||(t[n]=new ir);ja(r,e[n])}),t}function Jw(t){return new RT(function(e){var n=tv(t);function r(g){n&&vo();var w=function(){return gi(t,{subscr:g,trans:null})},E=ye.trans?mo(ye.transless,w):w();return n&&E.then(zr,zr),E}var i=!1,s={},o={},a={get closed(){return i},unsubscribe:function(){i=!0,_i.storagemutated.unsubscribe(c)}};e.start&&e.start(a);var u=!1,l=!1;function f(){return yt(o).some(function(g){return s[g]&&Gw(s[g],o[g])})}var c=function(g){Qw(s,g),f()&&d()},d=function(){if(!(u||i)){s={};var g={},w=r(g);l||(_i(Ba,c),l=!0),u=!0,Promise.resolve(w).then(function(E){u=!1,!i&&(f()?d():(s={},o=g,e.next&&e.next(E)))},function(E){u=!1,e.error&&e.error(E),a.unsubscribe()})}};return d(),a})}var vd;try{vd={indexedDB:Qe.indexedDB||Qe.mozIndexedDB||Qe.webkitIndexedDB||Qe.msIndexedDB,IDBKeyRange:Qe.IDBKeyRange||Qe.webkitIDBKeyRange}}catch{vd={indexedDB:null,IDBKeyRange:null}}var Ci=Xl;qs(Ci,Re(Re({},Lf),{delete:function(t){var e=new Ci(t,{addons:[]});return e.delete()},exists:function(t){return new Ci(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return mT(Ci.dependencies).then(t)}catch{return St(new xe.MissingAPI)}},defineClass:function(){function t(e){Qt(this,e)}return t},ignoreTransaction:function(t){return ye.trans?mo(ye.transless,t):t()},vip:hd,async:function(t){return function(){try{var e=dd(t.apply(this,arguments));return!e||typeof e.then!="function"?pe.resolve(e):e}catch(n){return St(n)}}},spawn:function(t,e,n){try{var r=dd(t.apply(n,e||[]));return!r||typeof r.then!="function"?pe.resolve(r):r}catch(i){return St(i)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(t,e){var n=pe.resolve(typeof t=="function"?Ci.ignoreTransaction(t):t).timeout(e||6e4);return ye.trans?ye.trans.waitFor(n):n},Promise:pe,debug:{get:function(){return vr},set:function(t){Iw(t,t==="dexie"?function(){return!0}:Ww)}},derive:ho,extend:Qt,props:qs,override:xw,Events:uu,on:_i,liveQuery:Jw,extendObservabilitySet:Qw,getByKeyPath:Or,setByKeyPath:Zn,delByKeyPath:ck,shallowClone:kw,deepClone:iu,getObjectDiff:pv,cmp:Yt,asap:bw,minKey:od,addons:[],connections:ca,errnames:rv,dependencies:vd,semVer:Lg,version:Lg.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));Ci.maxKey=Ua(Ci.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(_i(Ba,function(t){if(!Tr){var e;zf?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Qr,!0,!0,t)):e=new CustomEvent(Qr,{detail:t}),Tr=!0,dispatchEvent(e),Tr=!1}}),addEventListener(Qr,function(t){var e=t.detail;Tr||Gl(e)}));function Gl(t){var e=Tr;try{Tr=!0,_i.storagemutated.fire(t)}finally{Tr=e}}var Tr=!1;if(typeof BroadcastChannel!="undefined"){var Kg=new BroadcastChannel(Qr);_i(Ba,function(t){Tr||Kg.postMessage(t)}),Kg.onmessage=function(t){t.data&&Gl(t.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){_i(Ba,function(t){try{Tr||(typeof localStorage!="undefined"&&localStorage.setItem(Qr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&Vh([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:Qr,changedParts:t})}))}catch{}}),addEventListener("storage",function(t){if(t.key===Qr){var e=JSON.parse(t.newValue);e&&Gl(e.changedParts)}});var $g=self.document&&navigator.serviceWorker;$g&&$g.addEventListener("message",NT)}function NT(t){var e=t.data;e&&e.type===Qr&&Gl(e.changedParts)}pe.rejectionMapper=wk;Iw(vr,Ww);var DT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Dexie:Xl,RangeSet:ir,default:Xl,liveQuery:Jw,mergeRanges:ja,rangesOverlap:Gw}),Hg={exports:{}},PT=kE(DT);(function(t,e){(function(n,r){r(e,PT,Ee.exports)})(Vn,function(n,r,i){function s(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var o=s(i);function a(f,c,d){var g,w;typeof f=="function"?(g=c||[],w=d):(g=[],w=c);var E=o.default.useRef({hasResult:!1,result:w,error:null}),p=o.default.useReducer(function(y){return y+1},0);p[0];var h=p[1],v=o.default.useMemo(function(){var y=typeof f=="function"?f():f;if(!y||typeof y.subscribe!="function")throw f===y?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!E.current.hasResult)if(typeof y.getValue=="function")E.current.result=y.getValue(),E.current.hasResult=!0;else{var x=y.subscribe(function(_){E.current.result=_,E.current.hasResult=!0});typeof x=="function"?x():x.unsubscribe()}return y},g);if(o.default.useDebugValue(E.current.result),o.default.useEffect(function(){var y=v.subscribe(function(x){var _=E.current;(_.error!==null||_.result!==x)&&(_.error=null,_.result=x,_.hasResult=!0,h())},function(x){var _=E.current;_.error!==x&&(_.error=x,h())});return typeof y=="function"?y:y.unsubscribe.bind(y)},g),E.current.error)throw E.current.error;return E.current.result}function u(f,c,d){return a(function(){return r.liveQuery(f)},c||[],d)}function l(f,c,d){if(!f)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var g;if(arguments.length>=3){if(!("transaction"in f))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof c!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!d||typeof d!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");g=f}else{if(f instanceof r.Dexie)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof f.table=="function"&&typeof f.db=="object")g=f.db,d=f,c=f.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in g))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in g.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return a(function(){return g.cloud.permissions(d,c)},[d.realmId,d.owner,c])}n.useLiveQuery=u,n.useObservable=a,n.usePermissions=l,Object.defineProperty(n,"__esModule",{value:!0})})})(Hg,Hg.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var md=function(t,e){return md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},md(t,e)};function fu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");md(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function gd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yd(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function _d(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function cr(t){return typeof t=="function"}function e1(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nc=e1(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function wd(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var cu=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=gd(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(E){e={error:E}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var f=this.initialTeardown;if(cr(f))try{f()}catch(E){s=E instanceof Nc?E.errors:[E]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var d=gd(c),g=d.next();!g.done;g=d.next()){var w=g.value;try{Vg(w)}catch(E){s=s!=null?s:[],E instanceof Nc?s=_d(_d([],yd(s)),yd(E.errors)):s.push(E)}}}catch(E){r={error:E}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Nc(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Vg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(n=this._teardowns)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&wd(n,e)},t.prototype.remove=function(e){var n=this._teardowns;n&&wd(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),t1=cu.EMPTY;function n1(t){return t instanceof cu||t&&"closed"in t&&cr(t.remove)&&cr(t.add)&&cr(t.unsubscribe)}function Vg(t){cr(t)?t():t.unsubscribe()}var Bf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ql={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ql.delegate;return((n==null?void 0:n.setTimeout)||setTimeout).apply(void 0,_d([],yd(t)))},clearTimeout:function(t){var e=Ql.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function LT(t){Ql.setTimeout(function(){throw t})}function qg(){}var zT=function(){return mv("C",void 0,void 0)}();function MT(t){return mv("E",void 0,t)}function BT(t){return mv("N",t,void 0)}function mv(t,e,n){return{kind:t,value:e,error:n}}var Ku=null;function dl(t){if(Bf.useDeprecatedSynchronousErrorHandling){var e=!Ku;if(e&&(Ku={errorThrown:!1,error:null}),t(),e){var n=Ku,r=n.errorThrown,i=n.error;if(Ku=null,r)throw i}}else t()}var gv=function(t){fu(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,n1(n)&&n.add(r)):r.destination=WT,r}return e.create=function(n,r,i){return new Ed(n,r,i)},e.prototype.next=function(n){this.isStopped?Pc(BT(n),this):this._next(n)},e.prototype.error=function(n){this.isStopped?Pc(MT(n),this):(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped?Pc(zT,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(cu),UT=Function.prototype.bind;function Dc(t,e){return UT.call(t,e)}var FT=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){$u(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){$u(r)}else $u(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){$u(n)}},t}(),Ed=function(t){fu(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(cr(n)||!n)o={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var a;s&&Bf.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Dc(n.next,a),error:n.error&&Dc(n.error,a),complete:n.complete&&Dc(n.complete,a)}):o=n}return s.destination=new FT(o),s}return e}(gv);function $u(t){LT(t)}function jT(t){throw t}function Pc(t,e){var n=Bf.onStoppedNotification;n&&Ql.setTimeout(function(){return n(t,e)})}var WT={closed:!0,next:qg,error:jT,complete:qg},KT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function yv(t){return t}function $T(t){return t.length===0?yv:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Yg=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=VT(e)?e:new Ed(e,n,r);return dl(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Zg(n),new n(function(i,s){var o=new Ed({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[KT]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return $T(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Zg(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Zg(t){var e;return(e=t!=null?t:Bf.Promise)!==null&&e!==void 0?e:Promise}function HT(t){return t&&cr(t.next)&&cr(t.error)&&cr(t.complete)}function VT(t){return t&&t instanceof gv||HT(t)&&n1(t)}function qT(t){return cr(t==null?void 0:t.lift)}function r1(t){return function(e){if(qT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function i1(t,e,n,r,i){return new YT(t,e,n,r,i)}var YT=function(t){fu(e,t);function e(n,r,i,s,o,a){var u=t.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=r?function(l){try{r(l)}catch(f){n.error(f)}}:t.prototype._next,u._error=s?function(l){try{s(l)}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(gv),ZT=e1(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),s1=function(t){fu(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Xg(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new ZT},e.prototype.next=function(n){var r=this;dl(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){var o=r.observers.slice();try{for(var a=gd(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.next(n)}}catch(f){i={error:f}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;dl(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;dl(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=r.hasError,s=r.isStopped,o=r.observers;return i||s?t1:(o.push(n),new cu(function(){return wd(o,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Yg;return n.source=this,n},e.create=function(n,r){return new Xg(n,r)},e}(Yg),Xg=function(t){fu(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:t1},e}(s1);function XT(t,e,n,r,i){return function(s,o){var a=n,u=e,l=0;s.subscribe(i1(o,function(f){var c=l++;u=a?t(u,f,c):(a=!0,f),r&&o.next(u)},i&&function(){a&&o.next(u),o.complete()}))}}function tR(t,e){return e===void 0&&(e=yv),t=t!=null?t:GT,r1(function(n,r){var i,s=!0;n.subscribe(i1(r,function(o){var a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function GT(t,e){return t===e}function nR(t,e){return r1(XT(t,e,arguments.length>=2,!0))}var QT=Ee.exports.createContext(null),{Provider:JT}=QT,eC=Promise.resolve(),tC=()=>{throw eC},rR=({source$:t,children:e,fallback:n})=>{const r=Ee.exports.useRef();r.current||(r.current=new cu);const[i,s]=Ee.exports.useState(null);if(i!==null&&i!==t)if(t===void 0)s(t);else{let a;try{t.gV(),a=t}catch(u){a=u.then?t:null}a&&s(a)}Ee.exports.useEffect(()=>{const a=t&&t.subscribe({error:u=>s(()=>{throw u})});return s(t),()=>{a&&a.unsubscribe()}},[t]),Ee.exports.useEffect(()=>()=>{r.current.unsubscribe()},[]);const o=i===t?Zu.createElement(JT,{value:r.current},e):n===void 0?null:Zu.createElement(tC,null);return n===void 0?o:Zu.createElement(Ee.exports.Suspense,{fallback:n},o)};function iR(t=yv){const e=new s1;return[e.asObservable(),(...n)=>e.next(t(...n))]}var xd={exports:{}},o1={exports:{}},nC=void 0,a1=function(t){return t!==nC&&t!==null},rC=a1,iC={object:!0,function:!0,undefined:!0},sC=function(t){return rC(t)?hasOwnProperty.call(iC,typeof t):!1},oC=sC,aC=function(t){if(!oC(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},uC=aC,lC=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!uC(t)},fC=lC,cC=/^\s*class[\s{/}]/,hC=Function.prototype.toString,dC=function(t){return!(!fC(t)||cC.test(hC.call(t)))},pC=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},vC=function(){try{return Object.keys("primitive"),!0}catch{return!1}},mC=function(){},gC=mC(),_v=function(t){return t!==gC&&t!==null},yC=_v,_C=Object.keys,wC=function(t){return _C(yC(t)?Object(t):t)},EC=vC()?Object.keys:wC,xC=_v,bC=function(t){if(!xC(t))throw new TypeError("Cannot use null or undefined");return t},SC=EC,kC=bC,TC=Math.max,CC=function(t,e){var n,r,i=TC(arguments.length,2),s;for(t=Object(kC(t)),s=function(o){try{t[o]=e[o]}catch(a){n||(n=a)}},r=1;r<i;++r)e=arguments[r],SC(e).forEach(s);if(n!==void 0)throw n;return t},IC=pC()?Object.assign:CC,OC=_v,AC=Array.prototype.forEach,RC=Object.create,NC=function(t,e){var n;for(n in t)e[n]=t[n]},DC=function(t){var e=RC(null);return AC.call(arguments,function(n){!OC(n)||NC(Object(n),e)}),e},Lc="razdwatrzy",PC=function(){return typeof Lc.contains!="function"?!1:Lc.contains("dwa")===!0&&Lc.contains("foo")===!1},LC=String.prototype.indexOf,zC=function(t){return LC.call(this,t,arguments[1])>-1},MC=PC()?String.prototype.contains:zC,pl=a1,Gg=dC,u1=IC,l1=DC,da=MC,BC=o1.exports=function(t,e){var n,r,i,s,o;return arguments.length<2||typeof t!="string"?(s=e,e=t,t=null):s=arguments[2],pl(t)?(n=da.call(t,"c"),r=da.call(t,"e"),i=da.call(t,"w")):(n=i=!0,r=!1),o={value:e,configurable:n,enumerable:r,writable:i},s?u1(l1(s),o):o};BC.gs=function(t,e,n){var r,i,s,o;return typeof t!="string"?(s=n,n=e,e=t,t=null):s=arguments[3],pl(e)?Gg(e)?pl(n)?Gg(n)||(s=n,n=void 0):n=void 0:(s=e,e=n=void 0):e=void 0,pl(t)?(r=da.call(t,"c"),i=da.call(t,"e")):(r=!0,i=!1),o={get:e,set:n,configurable:r,enumerable:i},s?u1(l1(s),o):o};var UC=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,e){var n=o1.exports,r=UC,i=Function.prototype.apply,s=Function.prototype.call,o=Object.create,a=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,f={configurable:!0,enumerable:!1,writable:!0},c,d,g,w,E,p,h;c=function(v,y){var x;return r(y),l.call(this,"__ee__")?x=this.__ee__:(x=f.value=o(null),a(this,"__ee__",f),f.value=null),x[v]?typeof x[v]=="object"?x[v].push(y):x[v]=[x[v],y]:x[v]=y,this},d=function(v,y){var x,_;return r(y),_=this,c.call(this,v,x=function(){g.call(_,v,x),i.call(y,this,arguments)}),x.__eeOnceListener__=y,this},g=function(v,y){var x,_,b,T;if(r(y),!l.call(this,"__ee__"))return this;if(x=this.__ee__,!x[v])return this;if(_=x[v],typeof _=="object")for(T=0;b=_[T];++T)(b===y||b.__eeOnceListener__===y)&&(_.length===2?x[v]=_[T?0:1]:_.splice(T,1));else(_===y||_.__eeOnceListener__===y)&&delete x[v];return this},w=function(v){var y,x,_,b,T;if(!!l.call(this,"__ee__")&&(b=this.__ee__[v],!!b))if(typeof b=="object"){for(x=arguments.length,T=new Array(x-1),y=1;y<x;++y)T[y-1]=arguments[y];for(b=b.slice(),y=0;_=b[y];++y)i.call(_,this,T)}else switch(arguments.length){case 1:s.call(b,this);break;case 2:s.call(b,this,arguments[1]);break;case 3:s.call(b,this,arguments[1],arguments[2]);break;default:for(x=arguments.length,T=new Array(x-1),y=1;y<x;++y)T[y-1]=arguments[y];i.call(b,this,T)}},E={on:c,once:d,off:g,emit:w},p={on:n(c),once:n(d),off:n(g),emit:n(w)},h=u({},p),t.exports=e=function(v){return v==null?o(h):u(Object(v),p)},e.methods=E})(xd,xd.exports);var mr=xd.exports,Si={},ns={};function wv(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var f1=wv({HTML:"text/html",isHTML:function(t){return t===f1.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),c1=wv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===c1.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ns.freeze=wv;ns.MIME_TYPE=f1;ns.NAMESPACE=c1;var FC=ns,Wa=FC.NAMESPACE;function jC(t){return t!==""}function WC(t){return t?t.split(/[\t\n\f\r ]+/).filter(jC):[]}function KC(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function Qg(t){if(!t)return[];var e=WC(t);return Object.keys(e.reduce(KC,{}))}function $C(t){return function(e){return t&&t.indexOf(e)!==-1}}function hu(t,e){for(var n in t)e[n]=t[n]}function dn(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,hu(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var pn={},Xn=pn.ELEMENT_NODE=1,Ys=pn.ATTRIBUTE_NODE=2,Jl=pn.TEXT_NODE=3,h1=pn.CDATA_SECTION_NODE=4,d1=pn.ENTITY_REFERENCE_NODE=5,HC=pn.ENTITY_NODE=6,p1=pn.PROCESSING_INSTRUCTION_NODE=7,v1=pn.COMMENT_NODE=8,m1=pn.DOCUMENT_NODE=9,g1=pn.DOCUMENT_TYPE_NODE=10,Mr=pn.DOCUMENT_FRAGMENT_NODE=11,VC=pn.NOTATION_NODE=12,$t={},Ot={};$t.INDEX_SIZE_ERR=(Ot[1]="Index size error",1);$t.DOMSTRING_SIZE_ERR=(Ot[2]="DOMString size error",2);var qC=$t.HIERARCHY_REQUEST_ERR=(Ot[3]="Hierarchy request error",3);$t.WRONG_DOCUMENT_ERR=(Ot[4]="Wrong document",4);$t.INVALID_CHARACTER_ERR=(Ot[5]="Invalid character",5);$t.NO_DATA_ALLOWED_ERR=(Ot[6]="No data allowed",6);$t.NO_MODIFICATION_ALLOWED_ERR=(Ot[7]="No modification allowed",7);var YC=$t.NOT_FOUND_ERR=(Ot[8]="Not found",8);$t.NOT_SUPPORTED_ERR=(Ot[9]="Not supported",9);var Jg=$t.INUSE_ATTRIBUTE_ERR=(Ot[10]="Attribute in use",10);$t.INVALID_STATE_ERR=(Ot[11]="Invalid state",11);$t.SYNTAX_ERR=(Ot[12]="Syntax error",12);$t.INVALID_MODIFICATION_ERR=(Ot[13]="Invalid modification",13);$t.NAMESPACE_ERR=(Ot[14]="Invalid namespace",14);$t.INVALID_ACCESS_ERR=(Ot[15]="Invalid access",15);function Hi(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Ot[t]),this.message=Ot[t],Error.captureStackTrace&&Error.captureStackTrace(this,Hi);return n.code=t,e&&(this.message=this.message+": "+e),n}Hi.prototype=Error.prototype;hu($t,Hi);function Ar(){}Ar.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)bs(this[r],n,t,e);return n.join("")}};function Zs(t,e){this._node=t,this._refresh=e,Ev(this)}function Ev(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);O1(t,"length",n.length),hu(n,t),t._inc=e}}Zs.prototype.item=function(t){return Ev(this),this[t]};dn(Zs,Ar);function ef(){}function y1(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function ey(t,e,n,r){if(r?e[y1(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&E1(i,t,r),ZC(i,t,n))}}function ty(t,e,n){var r=y1(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(E1(s,t,n),n.ownerElement=null)}}else throw Hi(YC,new Error(t.tagName+"@"+n))}ef.prototype={length:0,item:Ar.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Hi(Jg);var n=this.getNamedItem(t.nodeName);return ey(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new Hi(Jg);return n=this.getNamedItemNS(t.namespaceURI,t.localName),ey(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return ty(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return ty(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function _1(){}_1.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new du;if(r.implementation=this,r.childNodes=new Ar,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new Uf;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function Ht(){}Ht.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return b1(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return x1(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return bd(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Jl&&t.nodeType==Jl?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(n[r]==t)return r}e=e.nodeType==Ys?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Ys?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function w1(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}hu(pn,Ht);hu(pn,Ht.prototype);function Ka(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Ka(t,e))return!0;while(t=t.nextSibling)}function du(){}function ZC(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===Wa.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function E1(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===Wa.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function xv(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s}}}function x1(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,xv(t.ownerDocument,t),e}function b1(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Mr){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var o=n?n.previousSibling:t.lastChild;i.previousSibling=o,s.nextSibling=n,o?o.nextSibling=i:t.firstChild=i,n==null?t.lastChild=s:n.previousSibling=s;do i.parentNode=t;while(i!==s&&(i=i.nextSibling));return xv(t.ownerDocument||t,t),e.nodeType==Mr&&(e.firstChild=e.lastChild=null),e}function XC(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,xv(t.ownerDocument,t,e),e}du.prototype={nodeName:"#document",nodeType:m1,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Mr){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return this.documentElement==null&&t.nodeType==Xn&&(this.documentElement=t),b1(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),x1(this,t)},importNode:function(t,e){return I1(this,t,e)},getElementById:function(t){var e=null;return Ka(this.documentElement,function(n){if(n.nodeType==Xn&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=Qg(t);return new Zs(this,function(n){var r=[];return e.length>0&&Ka(n.documentElement,function(i){if(i!==n&&i.nodeType===Xn){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=Qg(s);o=e.every($C(a))}o&&r.push(i)}}}),r})},createElement:function(t){var e=new Vi;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Ar;var n=e.attributes=new ef;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Ff;return t.ownerDocument=this,t.childNodes=new Ar,t},createTextNode:function(t){var e=new bv;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Sv;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new kv;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Cv;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new tf;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Tv;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Vi,r=e.split(":"),i=n.attributes=new ef;return n.childNodes=new Ar,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new tf,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};dn(du,Ht);function Vi(){this._nsMap={}}Vi.prototype={nodeType:Xn,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Mr?this.insertBefore(t,null):XC(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Zs(this,function(e){var n=[];return Ka(e,function(r){r!==e&&r.nodeType==Xn&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new Zs(this,function(n){var r=[];return Ka(n,function(i){i!==n&&i.nodeType===Xn&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};du.prototype.getElementsByTagName=Vi.prototype.getElementsByTagName;du.prototype.getElementsByTagNameNS=Vi.prototype.getElementsByTagNameNS;dn(Vi,Ht);function tf(){}tf.prototype.nodeType=Ys;dn(tf,Ht);function pu(){}pu.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Ot[qC])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};dn(pu,Ht);function bv(){}bv.prototype={nodeName:"#text",nodeType:Jl,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};dn(bv,pu);function Sv(){}Sv.prototype={nodeName:"#comment",nodeType:v1};dn(Sv,pu);function kv(){}kv.prototype={nodeName:"#cdata-section",nodeType:h1};dn(kv,pu);function Uf(){}Uf.prototype.nodeType=g1;dn(Uf,Ht);function S1(){}S1.prototype.nodeType=VC;dn(S1,Ht);function k1(){}k1.prototype.nodeType=HC;dn(k1,Ht);function Tv(){}Tv.prototype.nodeType=d1;dn(Tv,Ht);function Ff(){}Ff.prototype.nodeName="#document-fragment";Ff.prototype.nodeType=Mr;dn(Ff,Ht);function Cv(){}Cv.prototype.nodeType=p1;dn(Cv,Ht);function T1(){}T1.prototype.serializeToString=function(t,e,n){return C1.call(t,e,n)};Ht.prototype.toString=C1;function C1(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return bs(this,n,t,e,o),n.join("")}function ny(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===Wa.XML||i===Wa.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===r)return o.namespace!==i}return!0}function zc(t,e,n){t.push(" ",e,'="',n.replace(/[<&"]/g,w1),'"')}function bs(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Xn:var s=t.attributes,o=s.length,h=t.firstChild,a=t.tagName;n=Wa.isHTML(t.namespaceURI)||n;var u=a;if(!n&&!t.prefix&&t.namespaceURI){for(var l,f=0;f<s.length;f++)if(s.item(f).name==="xmlns"){l=s.item(f).value;break}if(!l)for(var c=i.length-1;c>=0;c--){var d=i[c];if(d.prefix===""&&d.namespace===t.namespaceURI){l=d.namespace;break}}if(l!==t.namespaceURI)for(var c=i.length-1;c>=0;c--){var d=i[c];if(d.namespace===t.namespaceURI){d.prefix&&(u=d.prefix+":"+a);break}}}e.push("<",u);for(var g=0;g<o;g++){var w=s.item(g);w.prefix=="xmlns"?i.push({prefix:w.localName,namespace:w.value}):w.nodeName=="xmlns"&&i.push({prefix:"",namespace:w.value})}for(var g=0;g<o;g++){var w=s.item(g);if(ny(w,n,i)){var E=w.prefix||"",p=w.namespaceURI;zc(e,E?"xmlns:"+E:"xmlns",p),i.push({prefix:E,namespace:p})}bs(w,e,n,r,i)}if(a===u&&ny(t,n,i)){var E=t.prefix||"",p=t.namespaceURI;zc(e,E?"xmlns:"+E:"xmlns",p),i.push({prefix:E,namespace:p})}if(h||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),n&&/^script$/i.test(a))for(;h;)h.data?e.push(h.data):bs(h,e,n,r,i.slice()),h=h.nextSibling;else for(;h;)bs(h,e,n,r,i.slice()),h=h.nextSibling;e.push("</",u,">")}else e.push("/>");return;case m1:case Mr:for(var h=t.firstChild;h;)bs(h,e,n,r,i.slice()),h=h.nextSibling;return;case Ys:return zc(e,t.name,t.value);case Jl:return e.push(t.data.replace(/[<&]/g,w1).replace(/]]>/g,"]]&gt;"));case h1:return e.push("<![CDATA[",t.data,"]]>");case v1:return e.push("<!--",t.data,"-->");case g1:var v=t.publicId,y=t.systemId;if(e.push("<!DOCTYPE ",t.name),v)e.push(" PUBLIC ",v),y&&y!="."&&e.push(" ",y),e.push(">");else if(y&&y!=".")e.push(" SYSTEM ",y,">");else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case p1:return e.push("<?",t.target," ",t.data,"?>");case d1:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function I1(t,e,n){var r;switch(e.nodeType){case Xn:r=e.cloneNode(!1),r.ownerDocument=t;case Mr:break;case Ys:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(I1(t,i,n)),i=i.nextSibling;return r}function bd(t,e,n){var r=new e.constructor;for(var i in e){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new Ar),r.ownerDocument=t,r.nodeType){case Xn:var o=e.attributes,a=r.attributes=new ef,u=o.length;a._ownerElement=r;for(var l=0;l<u;l++)r.setAttributeNode(bd(t,o.item(l),!0));break;case Ys:n=!0}if(n)for(var f=e.firstChild;f;)r.appendChild(bd(t,f,n)),f=f.nextSibling;return r}function O1(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Xn:case Mr:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(Zs.prototype,"length",{get:function(){return Ev(this),this.$$length}}),Object.defineProperty(Ht.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Xn:case Mr:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),O1=function(e,n,r){e["$$"+n]=r}}}catch{}Si.DocumentType=Uf;Si.DOMException=Hi;Si.DOMImplementation=_1;Si.Element=Vi;Si.Node=Ht;Si.NodeList=Ar;Si.XMLSerializer=T1;var vu={},A1={};(function(t){var e=ns.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(A1);var Iv={},$a=ns.NAMESPACE,Sd=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ry=new RegExp("[\\-\\.0-9"+Sd.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),iy=new RegExp("^"+Sd.source+ry.source+"*(?::"+Sd.source+ry.source+"*)?$"),No=0,Wr=1,ls=2,Do=3,fs=4,cs=5,Po=6,Hu=7;function Xs(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Xs)}Xs.prototype=new Error;Xs.prototype.name=Xs.name;function R1(){}R1.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),N1(e,e={}),GC(t,e,n,r,this.errorHandler),r.endDocument()}};function GC(t,e,n,r,i){function s(ie){if(ie>65535){ie-=65536;var se=55296+(ie>>10),oe=56320+(ie&1023);return String.fromCharCode(se,oe)}else return String.fromCharCode(ie)}function o(ie){var se=ie.slice(1,-1);return se in n?n[se]:se.charAt(0)==="#"?s(parseInt(se.substr(1).replace("x","0x"))):(i.error("entity not found:"+ie),ie)}function a(ie){if(ie>E){var se=t.substring(E,ie).replace(/&#?\w+;/g,o);d&&u(E),r.characters(se,0,ie-E),E=ie}}function u(ie,se){for(;ie>=f&&(se=c.exec(t));)l=se.index,f=l+se[0].length,d.lineNumber++;d.columnNumber=ie-l+1}for(var l=0,f=0,c=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,g=[{currentNSMap:e}],w={},E=0;;){try{var p=t.indexOf("<",E);if(p<0){if(!t.substr(E).match(/^\s*$/)){var h=r.doc,v=h.createTextNode(t.substr(E));h.appendChild(v),r.currentElement=v}return}switch(p>E&&a(p),t.charAt(p+1)){case"/":var W=t.indexOf(">",p+3),y=t.substring(p+2,W).replace(/[ \t\n\r]+$/g,""),x=g.pop();W<0?(y=t.substring(p+2).replace(/[\s<].*/,""),i.error("end tag name: "+y+" is not complete:"+x.tagName),W=p+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),i.error("end tag name: "+y+" maybe not complete"),W=p+1+y.length);var _=x.localNSMap,b=x.tagName==y,T=b||x.tagName&&x.tagName.toLowerCase()==y.toLowerCase();if(T){if(r.endElement(x.uri,x.localName,y),_)for(var O in _)r.endPrefixMapping(O);b||i.fatalError("end tag name: "+y+" is not match the current start tagName:"+x.tagName)}else g.push(x);W++;break;case"?":d&&u(p),W=nI(t,p,r);break;case"!":d&&u(p),W=tI(t,p,r,i);break;default:d&&u(p);var R=new D1,z=g[g.length-1].currentNSMap,W=QC(t,p,R,z,o,i),U=R.length;if(!R.closed&&eI(t,W,R.tagName,w)&&(R.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),d&&U){for(var H=sy(d,{}),fe=0;fe<U;fe++){var X=R[fe];u(X.offset),X.locator=sy(d,{})}r.locator=H,oy(R,r,z)&&g.push(R),r.locator=d}else oy(R,r,z)&&g.push(R);$a.isHTML(R.uri)&&!R.closed?W=JC(t,W,R.tagName,o,r):W++}}catch(ie){if(ie instanceof Xs)throw ie;i.error("element parse error: "+ie),W=-1}W>E?E=W:a(Math.max(p,E)+1)}}function sy(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function QC(t,e,n,r,i,s){function o(d,g,w){n.attributeNames.hasOwnProperty(d)&&s.fatalError("Attribute "+d+" redefined"),n.addValue(d,g,w)}for(var a,u,l=++e,f=No;;){var c=t.charAt(l);switch(c){case"=":if(f===Wr)a=t.slice(e,l),f=Do;else if(f===ls)f=Do;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Do||f===Wr)if(f===Wr&&(s.warning('attribute value must after "="'),a=t.slice(e,l)),e=l+1,l=t.indexOf(c,e),l>0)u=t.slice(e,l).replace(/&#?\w+;/g,i),o(a,u,e-1),f=cs;else throw new Error("attribute value no end '"+c+"' match");else if(f==fs)u=t.slice(e,l).replace(/&#?\w+;/g,i),o(a,u,e),s.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=l+1,f=cs;else throw new Error('attribute value must after "="');break;case"/":switch(f){case No:n.setTagName(t.slice(e,l));case cs:case Po:case Hu:f=Hu,n.closed=!0;case fs:case Wr:case ls:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==No&&n.setTagName(t.slice(e,l)),l;case">":switch(f){case No:n.setTagName(t.slice(e,l));case cs:case Po:case Hu:break;case fs:case Wr:u=t.slice(e,l),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case ls:f===ls&&(u=a),f==fs?(s.warning('attribute "'+u+'" missed quot(")!'),o(a,u.replace(/&#?\w+;/g,i),e)):((!$a.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),o(u,u,e));break;case Do:throw new Error("attribute value missed!!")}return l;case"\x80":c=" ";default:if(c<=" ")switch(f){case No:n.setTagName(t.slice(e,l)),f=Po;break;case Wr:a=t.slice(e,l),f=ls;break;case fs:var u=t.slice(e,l).replace(/&#?\w+;/g,i);s.warning('attribute "'+u+'" missed quot(")!!'),o(a,u,e);case cs:f=Po;break}else switch(f){case ls:n.tagName,(!$a.isHTML(r[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=l,f=Wr;break;case cs:s.warning('attribute space is required"'+a+'"!!');case Po:f=Wr,e=l;break;case Do:f=fs,e=l;break;case Hu:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function oy(t,e,n){for(var r=t.tagName,i=null,c=t.length;c--;){var s=t[c],o=s.qName,a=s.value,d=o.indexOf(":");if(d>0)var u=s.prefix=o.slice(0,d),l=o.slice(d+1),f=u==="xmlns"&&l;else l=o,u=null,f=o==="xmlns"&&"";s.localName=l,f!==!1&&(i==null&&(i={},N1(n,n={})),n[f]=i[f]=a,s.uri=$a.XMLNS,e.startPrefixMapping(f,a))}for(var c=t.length;c--;){s=t[c];var u=s.prefix;u&&(u==="xml"&&(s.uri=$a.XML),u!=="xmlns"&&(s.uri=n[u||""]))}var d=r.indexOf(":");d>0?(u=t.prefix=r.slice(0,d),l=t.localName=r.slice(d+1)):(u=null,l=t.localName=r);var g=t.uri=n[u||""];if(e.startElement(g,l,r,t),t.closed){if(e.endElement(g,l,r),i)for(u in i)e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=i,!0}function JC(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),s)}return e+1}function eI(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function N1(t,e){for(var n in t)e[n]=t[n]}function tI(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var o=rI(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],l=!1,f=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],f=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(f=o[3][0]));var c=o[a-1];return n.startDTD(u,l,f),n.endDTD(),c.index+c[0].length}}return-1}function nI(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function D1(){this.attributeNames={}}D1.prototype={setTagName:function(t){if(!iy.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!iy.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function rI(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}Iv.XMLReader=R1;Iv.ParseError=Xs;var iI=ns,Ov=Si,ay=A1,P1=Iv,sI=Ov.DOMImplementation,uy=iI.NAMESPACE,oI=P1.ParseError,aI=P1.XMLReader;function L1(t){this.options=t||{locator:{}}}L1.prototype.parseFromString=function(t,e){var n=this.options,r=new aI,i=n.domBuilder||new mu,s=n.errorHandler,o=n.locator,a=n.xmlns||{},u=/\/x?html?$/.test(e),l=u?ay.HTML_ENTITIES:ay.XML_ENTITIES;return o&&i.setDocumentLocator(o),r.errorHandler=uI(s,i,o),r.domBuilder=n.domBuilder||i,u&&(a[""]=uy.HTML),a.xml=a.xml||uy.XML,t&&typeof t=="string"?r.parse(t,a,l):r.errorHandler.error("invalid doc source"),i.doc};function uI(t,e,n){if(!t){if(e instanceof mu)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(o){var a=t[o];!a&&i&&(a=t.length==2?function(u){t(o,u)}:t),r[o]=a&&function(u){a("[xmldom "+o+"]	"+u+kd(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function mu(){this.cdata=!1}function hs(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}mu.prototype={startDocument:function(){this.doc=new sI().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),o=r.length;Vu(this,s),this.currentElement=s,this.locator&&hs(this.locator,s);for(var a=0;a<o;a++){var t=r.getURI(a),u=r.getValue(a),n=r.getQName(a),l=i.createAttributeNS(t,n);this.locator&&hs(r.getLocator(a),l),l.value=l.nodeValue=u,s.setAttributeNode(l)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&hs(this.locator,n),Vu(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=ly.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&hs(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=ly.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&hs(this.locator,r),Vu(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&hs(this.locator,i),Vu(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,kd(this.locator))},error:function(t){console.error("[xmldom error]	"+t,kd(this.locator))},fatalError:function(t){throw new oI(t,this.locator)}};function kd(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function ly(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){mu.prototype[t]=function(){return null}});function Vu(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}vu.__DOMHandler=mu;vu.DOMParser=L1;vu.DOMImplementation=Ov.DOMImplementation;vu.XMLSerializer=Ov.XMLSerializer;var z1=vu.DOMParser;const M1=typeof window!="undefined"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,lI=1,B1=typeof URL!="undefined"?URL:typeof window!="undefined"?window.URL||window.webkitURL||window.mozURL:void 0;function Av(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?r:r&7|8).toString(16)});return e}function fI(t){return!!(t&&t.nodeType==1)}function pt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function cI(t){let e=parseFloat(t);return pt(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function Lo(t){var e=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=t.toLowerCase(),i=e.length;if(typeof document=="undefined"||typeof document.body.style[r]!="undefined")return t;for(var s=0;s<i;s++)if(typeof document.body.style[n[s]+r]!="undefined")return n[s]+r;return t}function hI(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)t[i]===void 0&&(t[i]=r[i])}return t}function Wt(t){var e=[].slice.call(arguments,1);return e.forEach(function(n){!n||Object.getOwnPropertyNames(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}),t}function nf(t,e,n,r,i){var s=r||0,o=i||e.length,a=parseInt(s+(o-s)/2),u;return n||(n=function(l,f){if(l>f)return 1;if(l<f)return-1;if(l==f)return 0}),o-s<=0?a:(u=n(e[a],t),o-s===1?u>=0?a:a+1:u===0?a:u===-1?nf(t,e,n,a,o):nf(t,e,n,s,a))}function Td(t,e,n,r,i){var s=r||0,o=i||e.length,a=parseInt(s+(o-s)/2),u;return n||(n=function(l,f){if(l>f)return 1;if(l<f)return-1;if(l==f)return 0}),o-s<=0?-1:(u=n(e[a],t),o-s===1?u===0?a:-1:u===0?a:u===-1?Td(t,e,n,a,o):Td(t,e,n,s,a))}function Mc(t){var e=window.getComputedStyle(t),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return n.forEach(function(o){i+=parseFloat(e[o])||0}),r.forEach(function(o){s+=parseFloat(e[o])||0}),{height:s,width:i}}function Cd(t){var e=window.getComputedStyle(t),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return n.forEach(function(o){i+=parseFloat(e[o])||0}),r.forEach(function(o){s+=parseFloat(e[o])||0}),{height:s,width:i}}function fy(t){let e,n=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(t),e=r.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function Id(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function dI(t,e){for(var n=t.parentNode,r=n.childNodes,i,s=-1,o=0;o<r.length&&(i=r[o],i.nodeType===e&&s++,i!=t);o++);return s}function pI(t){return dI(t,lI)}function rf(t){return["xml","opf","ncx"].indexOf(t)>-1}function vI(t,e){return new Blob([t],{type:e})}function Od(t,e){var n,r=vI(t,e);return n=B1.createObjectURL(r),n}function mI(t){return B1.revokeObjectURL(t)}function cy(t,e){var n,r;if(typeof t=="string")return n=btoa(t),r="data:"+e+";base64,"+n,r}function gI(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rr(t,e,n){var r,i;return typeof DOMParser=="undefined"||n?i=z1:i=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),r=new i().parseFromString(t,e),r}function Ze(t,e){var n;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector!="undefined")return t.querySelector(e);if(n=t.getElementsByTagName(e),n.length)return n[0]}function wi(t,e){return typeof t.querySelector!="undefined"?t.querySelectorAll(e):t.getElementsByTagName(e)}function zo(t,e,n){var r,i;if(typeof t.querySelector!="undefined"){e+="[";for(var s in n)e+=s+"~='"+n[s]+"'";return e+="]",t.querySelector(e)}else if(r=t.getElementsByTagName(e),i=Array.prototype.slice.call(r,0).filter(function(o){for(var a in n)if(o.getAttribute(a)===n[a])return!0;return!1}),i)return i[0]}function Ad(t,e){var n=t.ownerDocument||t;typeof n.createTreeWalker!="undefined"?yI(t,e,NodeFilter.SHOW_TEXT):U1(t,function(r){r&&r.nodeType===3&&e(r)})}function yI(t,e,n){var r=document.createTreeWalker(t,n,null,!1);let i;for(;i=r.nextNode();)e(i)}function U1(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(U1(t,e))return!0;t=t.nextSibling}while(t)}function _I(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onloadend=function(){e(r.result)}})}function De(){this.resolve=null,this.reject=null,this.id=Av(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function Rd(t,e,n){var r;if(typeof t.querySelector!="undefined"&&(r=t.querySelector(`${e}[*|type="${n}"]`)),!r||r.length===0){r=wi(t,e);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||r[i].getAttribute("epub:type")===n)return r[i]}else return r}function hy(t){for(var e=[],n=t.childNodes,r=0;r<n.length;r++){let i=n[r];i.nodeType===1&&e.push(i)}return e}function dy(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function Mo(t,e,n){for(var r=[],i=t.childNodes,s=0;s<i.length;s++){let o=i[s];if(o.nodeType===1&&o.nodeName.toLowerCase()===e){if(n)return o;r.push(o)}}if(!n)return r}class wI{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,n){this.startContainer=e,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,n){this.endContainer=e,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let n=e.parentNode,r=Array.prototype.indexOf.call(n.childNodes,e);this.setStart(n,r),this.setEnd(n,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let n=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,n)}_commonAncestorContainer(e,n){var r=dy(e||this.startContainer),i=dy(n||this.endContainer);if(r[0]==i[0]){for(var s=0;s<r.length;s++)if(r[s]!=i[s])return r[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}if(!F1)var F1={cwd:function(){return"/"}};function tr(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+t)}function py(t,e){for(var n="",r=-1,i=0,s,o=0;o<=t.length;++o){if(o<t.length)s=t.charCodeAt(o);else{if(s===47)break;s=47}if(s===47){if(!(r===o-1||i===1))if(r!==o-1&&i===2){if(n.length<2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){for(var a=n.length-1,u=a;u>=0&&n.charCodeAt(u)!==47;--u);if(u!==a){u===-1?n="":n=n.slice(0,u),r=o,i=0;continue}}else if(n.length===2||n.length===1){n="",r=o,i=0;continue}}e&&(n.length>0?n+="/..":n="..")}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o);r=o,i=0}else s===46&&i!==-1?++i:i=-1}return n}function EI(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var vl={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=F1.cwd()),s=r),tr(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=py(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(tr(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=py(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return tr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];tr(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":vl.normalize(e)},relative:function(e,n){if(tr(e),tr(n),e===n||(e=vl.resolve(e),n=vl.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var a=n.length,u=a-o,l=s<u?s:u,f=-1,c=0;c<=l;++c){if(c===l){if(u>l){if(n.charCodeAt(o+c)===47)return n.slice(o+c+1);if(c===0)return n.slice(o+c)}else s>l&&(e.charCodeAt(r+c)===47?f=c:c===0&&(f=0));break}var d=e.charCodeAt(r+c),g=n.charCodeAt(o+c);if(d!==g)break;d===47&&(f=c)}var w="";for(c=r+f+1;c<=i;++c)(c===i||e.charCodeAt(c)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+n.slice(o+f):(o+=f,n.charCodeAt(o)===47&&++o,n.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(tr(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===47){if(!s){i=o;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');tr(e);var r=0,i=-1,s=!0,o;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,u=-1;for(o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(l===47){if(!s){r=o+1;break}}else u===-1&&(s=!1,u=o+1),a>=0&&(l===n.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=u))}return r===i?i=u:i===-1&&(i=e.length),e.slice(r,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){r=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(r,i)}},extname:function(e){tr(e);for(var n=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(u===47){if(!s){r=a+1;break}continue}i===-1&&(s=!1,i=a+1),u===46?n===-1?n=a:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||i===-1||o===0||o===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return EI("/",e)},parse:function(e){tr(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var o=-1,a=0,u=-1,l=!0,f=e.length-1,c=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!l){a=f+1;break}continue}u===-1&&(l=!1,u=f+1),r===46?o===-1?o=f:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||u===-1||c===0||c===1&&o===u-1&&o===a+1?u!==-1&&(a===0&&i?n.base=n.name=e.slice(1,u):n.base=n.name=e.slice(a,u)):(a===0&&i?(n.name=e.slice(1,o),n.base=e.slice(1,u)):(n.name=e.slice(a,o),n.base=e.slice(a,u)),n.ext=e.slice(o,u)),a>0?n.dir=e.slice(0,a-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",posix:null},Jr=vl;class Br{constructor(e){var n,r;n=e.indexOf("://"),n>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Jr.parse(e)}isAbsolute(e){return Jr.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Jr.resolve(this.directory,e)}relative(e){var n=e&&e.indexOf("://")>-1;return n?e:Jr.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Kn{constructor(e,n){var r=e.indexOf("://")>-1,i=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!r&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new Br(this.base),i=s.resolve(i))}this.Path=new Br(i),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var n=e.indexOf("://")>-1,r;return n?e:(r=Jr.resolve(this.directory,e),this.origin+r)}relative(e){return Jr.relative(e,this.directory)}toString(){return this.href}}const ds=1,bn=3,xI=9;class Pe{constructor(e,n,r){var i;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Pe))return new Pe(e,n,r);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),i=this.checkType(e),i==="string")return this.str=e,Wt(this,this.parse(e));if(i==="range")return Wt(this,this.fromRange(e,this.base,r));if(i==="node")return Wt(this,this.fromNode(e,this.base,r));if(i==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(gI(e)==="Range"||typeof e.startContainer!="undefined")?"range":e&&typeof e=="object"&&typeof e.nodeType!="undefined"?"node":e&&typeof e=="object"&&e instanceof Pe?"EpubCFI":!1}parse(e){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,i,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(n.base=this.parseComponent(r),i=this.getPathComponent(e),n.path=this.parseComponent(i),s=this.getRange(e),s&&(n.range=!0,n.start=this.parseComponent(s[0]),n.end=this.parseComponent(s[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(e){var n={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),i=r[0].split("/"),s;return r.length>1&&(s=r[1],n.terminal=this.parseTerminal(s)),i[0]===""&&i.shift(),n.steps=i.map(function(o){return this.parseStep(o)}.bind(this)),n}parseStep(e){var n,r,i,s,o;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(o=s[1]),r=parseInt(e),!isNaN(r))return r%2===0?(n="element",i=r/2-1):(n="text",i=(r-1)/2),{type:n,index:i,id:o||null}}parseTerminal(e){var n,r,i=e.match(/\[(.*)\]/);return i&&i[1]?(n=parseInt(e.split("[")[0]),r=i[1]):n=parseInt(e),pt(n)||(n=null),{offset:n,assertion:r}}getChapterComponent(e){var n=e.split("!");return n[0]}getPathComponent(e){var n=e.split("!");if(n[1])return n[1].split(",")[0]}getRange(e){var n=e.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(e){var n=e.split(":");return n[1]||""}joinSteps(e){return e?e.map(function(n){var r="";return n.type==="element"&&(r+=(n.index+1)*2),n.type==="text"&&(r+=1+2*n.index),n.id&&(r+="["+n.id+"]"),r}).join("/"):""}segmentString(e){var n="/";return n+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(n+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(n+="["+e.terminal.assertion+"]"),n}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,n){var r,i,s,o;if(typeof e=="string"&&(e=new Pe(e)),typeof n=="string"&&(n=new Pe(n)),e.spinePos>n.spinePos)return 1;if(e.spinePos<n.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),s=e.start.terminal):(r=e.path.steps,s=e.path.terminal),n.range?(i=n.path.steps.concat(n.start.steps),o=n.start.terminal):(i=n.path.steps,o=n.path.terminal);for(var a=0;a<r.length;a++){if(!r[a])return-1;if(!i[a]||r[a].index>i[a].index)return 1;if(r[a].index<i[a].index)return-1}return r.length<i.length?-1:s.offset>o.offset?1:s.offset<o.offset?-1:0}step(e){var n=e.nodeType===bn?"text":"element";return{id:e.id,tagName:e.tagName,type:n,index:this.position(e)}}filteredStep(e,n){var r=this.filter(e,n),i;if(!!r)return i=r.nodeType===bn?"text":"element",{id:r.id,tagName:r.tagName,type:i,index:this.filteredPosition(r,n)}}pathTo(e,n,r){for(var i={steps:[],terminal:{offset:null,assertion:null}},s=e,o;s&&s.parentNode&&s.parentNode.nodeType!=xI;)r?o=this.filteredStep(s,r):o=this.step(s),o&&i.steps.unshift(o),s=s.parentNode;return n!=null&&n>=0&&(i.terminal.offset=n,i.steps[i.steps.length-1].type!="text"&&i.steps.push({type:"text",index:0})),i}equalStep(e,n){return!e||!n?!1:e.index===n.index&&e.id===n.id&&e.type===n.type}fromRange(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,o=e.endContainer,a=e.startOffset,u=e.endOffset,l=!1;if(r&&(l=s.ownerDocument.querySelector("."+r)!=null),typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),e.collapsed)l&&(a=this.patchOffset(s,a,r)),i.path=this.pathTo(s,a,r);else{i.range=!0,l&&(a=this.patchOffset(s,a,r)),i.start=this.pathTo(s,a,r),l&&(u=this.patchOffset(o,u,r)),i.end=this.pathTo(o,u,r),i.path={steps:[],terminal:null};var f=i.start.steps.length,c;for(c=0;c<f&&this.equalStep(i.start.steps[c],i.end.steps[c]);c++)c===f-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[c]),i.range=!1):i.path.steps.push(i.start.steps[c]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}fromNode(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),i.path=this.pathTo(e,null,r),i}filter(e,n){var r,i,s,o,a,u=!1;return e.nodeType===bn?(u=!0,s=e.parentNode,r=e.parentNode.classList.contains(n)):(u=!1,r=e.classList.contains(n)),r&&u?(o=s.previousSibling,a=s.nextSibling,o&&o.nodeType===bn?i=o:a&&a.nodeType===bn&&(i=a),i||e):r&&!u?!1:e}patchOffset(e,n,r){if(e.nodeType!=bn)throw new Error("Anchor must be a text node");var i=e,s=n;for(e.parentNode.classList.contains(r)&&(i=e.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===ds)if(i.previousSibling.classList.contains(r))s+=i.previousSibling.textContent.length;else break;else s+=i.previousSibling.textContent.length;i=i.previousSibling}return s}normalizedMap(e,n,r){var i={},s=-1,o,a=e.length,u,l;for(o=0;o<a;o++)u=e[o].nodeType,u===ds&&e[o].classList.contains(r)&&(u=bn),o>0&&u===bn&&l===bn?i[o]=s:n===u&&(s=s+1,i[o]=s),l=u;return i}position(e){var n,r;return e.nodeType===ds?(n=e.parentNode.children,n||(n=hy(e.parentNode)),r=Array.prototype.indexOf.call(n,e)):(n=this.textNodes(e.parentNode),r=n.indexOf(e)),r}filteredPosition(e,n){var r,i,s;return e.nodeType===ds?(r=e.parentNode.children,s=this.normalizedMap(r,ds,n)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(n)&&(e=e.parentNode,r=e.parentNode.childNodes),s=this.normalizedMap(r,bn,n)),i=Array.prototype.indexOf.call(r,e),s[i]}stepsToXpath(e){var n=[".","*"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("*[position()="+i+" and @id='"+r.id+"']"):r.type==="text"?n.push("text()["+i+"]"):n.push("*["+i+"]")}),n.join("/")}stepsToQuerySelector(e){var n=["html"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("#"+r.id):r.type==="text"||n.push("*:nth-child("+i+")")}),n.join(">")}textNodes(e,n){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===bn?!0:!!(n&&r.classList.contains(n))})}walkToNode(e,n,r){var i=n||document,s=i.documentElement,o,a,u=e.length,l;for(l=0;l<u&&(a=e[l],a.type==="element"?a.id?s=i.getElementById(a.id):(o=s.children||hy(s),s=o[a.index]):a.type==="text"&&(s=this.textNodes(s,r)[a.index]),!!s);l++);return s}findNode(e,n,r){var i=n||document,s,o;return!r&&typeof i.evaluate!="undefined"?(o=this.stepsToXpath(e),s=i.evaluate(o,i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?s=this.walkToNode(e,i,r):s=this.walkToNode(e,i),s}fixMiss(e,n,r,i){var s=this.findNode(e.slice(0,-1),r,i),o=s.childNodes,a=this.normalizedMap(o,bn,i),u,l,f=e[e.length-1].index;for(let c in a){if(!a.hasOwnProperty(c))return;if(a[c]===f)if(u=o[c],l=u.textContent.length,n>l)n=n-l;else{u.nodeType===ds?s=u.childNodes[0]:s=u;break}}return{container:s,offset:n}}toRange(e,n){var r=e||document,i,s,o,a,u,l=this,f,c,d=n?r.querySelector("."+n)!=null:!1,g;if(typeof r.createRange!="undefined"?i=r.createRange():i=new wI,l.range?(s=l.start,f=l.path.steps.concat(s.steps),a=this.findNode(f,r,d?n:null),o=l.end,c=l.path.steps.concat(o.steps),u=this.findNode(c,r,d?n:null)):(s=l.path,f=l.path.steps,a=this.findNode(l.path.steps,r,d?n:null)),a)try{s.terminal.offset!=null?i.setStart(a,s.terminal.offset):i.setStart(a,0)}catch{g=this.fixMiss(f,s.terminal.offset,r,d?n:null),i.setStart(g.container,g.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{o.terminal.offset!=null?i.setEnd(u,o.terminal.offset):i.setEnd(u,0)}catch{g=this.fixMiss(c,l.end.terminal.offset,r,d?n:null),i.setEnd(g.container,g.offset)}return i}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,n,r){var i=parseInt(n),s=(e+1)*2,o="/"+s+"/";return o+=(i+1)*2,r&&(o+="["+r+"]"),o}collapse(e){!this.range||(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class $n{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var n=0;n<arguments[e].length;++n)this.hooks.push(arguments[e][n])}deregister(e){let n;for(let r=0;r<this.hooks.length;r++)if(n=this.hooks[r],n===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,n=this.context,r=[];return this.hooks.forEach(function(i){try{var s=i.apply(n,e)}catch(o){console.log(o)}s&&typeof s.then=="function"&&r.push(s)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function j1(t,e){var n,r,i=e.url,s=i.indexOf("://")>-1;!t||(r=Ze(t,"head"),n=Ze(r,"base"),n||(n=t.createElement("base"),r.insertBefore(n,r.firstChild)),!s&&window&&window.location&&(i=window.location.origin+i),n.setAttribute("href",i))}function bI(t,e){var n,r,i=e.canonical;!t||(n=Ze(t,"head"),r=Ze(n,"link[rel='canonical']"),r?r.setAttribute("href",i):(r=t.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",i),n.appendChild(r)))}function SI(t,e){var n,r,i=e.idref;!t||(n=Ze(t,"head"),r=Ze(n,"link[property='dc.identifier']"),r?r.setAttribute("content",i):(r=t.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",i),n.appendChild(r)))}function kI(t,e){var n=t.querySelectorAll("a[href]");if(!!n.length)for(var r=Ze(t.ownerDocument,"base"),i=r?r.getAttribute("href"):void 0,s=function(a){var u=a.getAttribute("href");if(u.indexOf("mailto:")!==0){var l=u.indexOf("://")>-1;if(l)a.setAttribute("target","_blank");else{var f;try{f=new Kn(u,i)}catch{}a.onclick=function(){return f&&f.hash?e(f.Path.path+f.hash):e(f?f.Path.path:u),!1}}}}.bind(this),o=0;o<n.length;o++)s(n[o])}function vy(t,e,n){return e.forEach(function(r,i){r&&n[i]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(r,"g"),n[i]))}),t}function Ha(t,e,n,r){var i=typeof window!="undefined"?window.URL:!1,s=i?"blob":"arraybuffer",o=new De,a=new XMLHttpRequest,u=XMLHttpRequest.prototype,l;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),n&&(a.withCredentials=!0),a.onreadystatechange=c,a.onerror=f,a.open("GET",t,!0);for(l in r)a.setRequestHeader(l,r[l]);e=="json"&&a.setRequestHeader("Accept","application/json"),e||(e=new Br(t).extension),e=="blob"&&(a.responseType=s),rf(e)&&a.overrideMimeType("text/xml"),e=="binary"&&(a.responseType="arraybuffer"),a.send();function f(d){o.reject(d)}function c(){if(this.readyState===XMLHttpRequest.DONE){var d=!1;if((this.responseType===""||this.responseType==="document")&&(d=this.responseXML),this.status===200||this.status===0||d){var g;if(!this.response&&!d)return o.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),o.promise;if(this.status===403)return o.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),o.promise;d?g=this.responseXML:rf(e)?g=Rr(this.response,"text/xml"):e=="xhtml"?g=Rr(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?g=Rr(this.response,"text/html"):e=="json"?g=JSON.parse(this.response):e=="blob"?i?g=this.response:g=new Blob([this.response]):g=this.response,o.resolve(g)}else o.reject({status:this.status,message:this.response,stack:new Error().stack})}}return o.promise}class TI{constructor(e,n){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new $n(this),this.hooks.content=new $n(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var n=e||this.request||Ha,r=new De,i=r.promise;return this.contents?r.resolve(this.contents):n(this.url).then(function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){r.resolve(this.contents)}.bind(this)).catch(function(s){r.reject(s)}),i}base(){return j1(this.document,this)}render(e){var n=new De,r=n.promise;return this.output,this.load(e).then(function(i){var s=typeof navigator!="undefined"&&navigator.userAgent||"",o=s.indexOf("Trident")>=0,a;typeof XMLSerializer=="undefined"||o?a=z1:a=XMLSerializer;var u=new a;return this.output=u.serializeToString(i),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){n.resolve(this.output)}.bind(this)).catch(function(i){n.reject(i)}),r}find(e){var n=this,r=[],i=e.toLowerCase(),s=function(o){for(var a=o.textContent.toLowerCase(),u=n.document.createRange(),l,f,c=-1,d,g=150;f!=-1;)f=a.indexOf(i,c+1),f!=-1&&(u=n.document.createRange(),u.setStart(o,f),u.setEnd(o,f+i.length),l=n.cfiFromRange(u),o.textContent.length<g?d=o.textContent:(d=o.textContent.substring(f-g/2,f+g/2),d="..."+d+"..."),r.push({cfi:l,excerpt:d})),c=f};return Ad(n.document,function(o){s(o)}),r}search(e,n=5){if(typeof document.createTreeWalker=="undefined")return this.find(e);let r=[];const i=150,s=this,o=e.toLowerCase(),a=function(c){const w=c.reduce((E,p)=>E+p.textContent,"").toLowerCase().indexOf(o);if(w!=-1){const p=w+o.length;let h=0,v=0;if(w<c[0].length){let y;for(;h<c.length-1&&(v+=c[h].length,!(p<=v));)h+=1;let x=c[0],_=c[h],b=s.document.createRange();b.setStart(x,w);let T=c.slice(0,h).reduce((R,z)=>R+z.textContent.length,0);b.setEnd(_,T>p?p:p-T),y=s.cfiFromRange(b);let O=c.slice(0,h+1).reduce((R,z)=>R+z.textContent,"");O.length>i&&(O=O.substring(w-i/2,w+i/2),O="..."+O+"..."),r.push({cfi:y,excerpt:O})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let l,f=[];for(;l=u.nextNode();)f.push(l),f.length==n&&(a(f.slice(0,n)),f=f.slice(1,n));return f.length>0&&a(f),r}reconcileLayoutSettings(e){var n={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var i=r.replace("rendition:",""),s=i.indexOf("-"),o,a;s!=-1&&(o=i.slice(0,s),a=i.slice(s+1),n[o]=a)}),n}cfiFromRange(e){return new Pe(e,this.cfiBase).toString()}cfiFromElement(e){return new Pe(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class CI{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new $n,this.hooks.content=new $n,this.hooks.content.register(j1),this.hooks.content.register(bI),this.hooks.content.register(SI),this.epubcfi=new Pe,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,n,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((i,s)=>{var o=this.manifest[i.idref],a;i.index=s,i.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,i.index,i.id),i.href&&(i.url=n(i.href,!0),i.canonical=r(i.href)),o&&(i.href=o.href,i.url=n(i.href,!0),i.canonical=r(i.href),o.properties.length&&i.properties.push.apply(i.properties,o.properties)),i.linear==="yes"?(i.prev=function(){let u=i.index;for(;u>0;){let l=this.get(u-1);if(l&&l.linear)return l;u-=1}}.bind(this),i.next=function(){let u=i.index;for(;u<this.spineItems.length-1;){let l=this.get(u+1);if(l&&l.linear)return l;u+=1}}.bind(this)):(i.prev=function(){},i.next=function(){}),a=new TI(i,this.hooks),this.append(a)}),this.loaded=!0}get(e){var n=0;if(typeof e=="undefined")for(;n<this.spineItems.length;){let r=this.spineItems[n];if(r&&r.linear)break;n+=1}else this.epubcfi.isCfiString(e)?n=new Pe(e).spinePos:typeof e=="number"||isNaN(e)===!1?n=e:typeof e=="string"&&e.indexOf("#")===0?n=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],n=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[n]||null}append(e){var n=this.spineItems.length;return e.index=n,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=n,this.spineByHref[encodeURI(e.href)]=n,this.spineByHref[e.href]=n,this.spineById[e.idref]=n,n}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(n,r){n.index=r}),0}remove(e){var n=this.spineItems.indexOf(e);if(n>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let n=this.get(e);if(n&&n.linear)return n;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let n=this.get(e);if(n&&n.linear)return n;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Rv{constructor(e){this._q=[],this.context=e,this.tick=M1,this.running=!1,this.paused=!1}enqueue(){var e,n,r,i=[].shift.call(arguments),s=arguments;if(!i)throw new Error("No Task Provided");return typeof i=="function"?(e=new De,n=e.promise,r={task:i,args:s,deferred:e,promise:n}):r={promise:i},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,n,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),n=e.task,n)return r=n.apply(this.context,e.args),r&&typeof r.then=="function"?r.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new De,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new De),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Nv="0.3",ml=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],ae={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class W1{constructor(e,n,r){this.spine=e,this.request=n,this.pause=r||100,this.q=new Rv(this),this.epubcfi=new Pe,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(n){var r=new De,i=this.parse(n,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(i),this.pause),r.promise}.bind(this))}parse(e,n,r){var i=[],s,o=e.ownerDocument,a=Ze(o,"body"),u=0,l,f=r||this.break,c=function(d){var g=d.length,w,E=0;if(d.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=d,s.startOffset=0),w=f-u,w>g&&(u+=g,E=g);E<g;)if(w=f-u,u===0&&(E+=1,s=this.createRange(),s.startContainer=d,s.startOffset=E),E+w>=g)u+=g-E,E=g;else{E+=w,s.endContainer=d,s.endOffset=E;let p=new Pe(s,n).toString();i.push(p),u=0}l=d};if(Ad(a,c.bind(this)),s&&s.startContainer&&l){s.endContainer=l,s.endOffset=l.length;let d=new Pe(s,n).toString();i.push(d),u=0}return i}generateFromWords(e,n,r){var i=e?new Pe(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(s){s.linear&&(i?s.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),s,n,i,r):this.q.enqueue(this.processWords.bind(this),s,n,i,r))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,n,r,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then(function(s){var o=new De,a=this.parseWords(s,e,n,r),u=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(a.length>=i?a.slice(0,u):a),e.unload(),this.processingTimeout=setTimeout(()=>o.resolve(a),this.pause),o.promise}.bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,n,r,i){var s=n.cfiBase,o=[],a=e.ownerDocument,u=Ze(a,"body"),l=r,f=i?i.spinePos!==n.index:!0,c;i&&n.index===i.spinePos&&(c=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));var d=function(g){if(!f)if(g===c)f=!0;else return!1;if(g.textContent.length<10&&g.textContent.trim().length===0)return!1;var w=this.countWords(g.textContent),E,p=0;if(w===0)return!1;for(E=l-this._wordCounter,E>w&&(this._wordCounter+=w,p=w);p<w;)if(E=l-this._wordCounter,p+E>=w)this._wordCounter+=w-p,p=w;else{p+=E;let h=new Pe(g,s);o.push({cfi:h.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Ad(u,d.bind(this)),o}locationFromCfi(e){let n;return Pe.prototype.isCfiString(e)&&(e=new Pe(e)),this._locations.length===0?-1:(n=nf(e,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(e){if(this._locations.length===0)return null;var n=this.locationFromCfi(e);return this.percentageFromLocation(n)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var n=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(n=this._locations[e]),n}cfiFromPercentage(e){let n;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new Pe(this._locations[this.total]);return r.collapse(),r.toString()}return n=Math.ceil(this.total*e),this.cfiFromLocation(n)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var n;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(n=this.locationFromCfi(e),this._current=n):n=e,this.emit(ae.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}mr(W1.prototype);class II{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var n;if(!e)throw new Error("Container File Not Found");if(n=Ze(e,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=Jr.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class my{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var n,r,i;if(!e)throw new Error("Package File Not Found");if(n=Ze(e,"metadata"),!n)throw new Error("No Metadata Found");if(r=Ze(e,"manifest"),!r)throw new Error("No Manifest Found");if(i=Ze(e,"spine"),!i)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=pI(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(n),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var n={};return n.title=this.getElementText(e,"title"),n.creator=this.getElementText(e,"creator"),n.description=this.getElementText(e,"description"),n.pubdate=this.getElementText(e,"date"),n.publisher=this.getElementText(e,"publisher"),n.identifier=this.getElementText(e,"identifier"),n.language=this.getElementText(e,"language"),n.rights=this.getElementText(e,"rights"),n.modified_date=this.getPropertyText(e,"dcterms:modified"),n.layout=this.getPropertyText(e,"rendition:layout"),n.orientation=this.getPropertyText(e,"rendition:orientation"),n.flow=this.getPropertyText(e,"rendition:flow"),n.viewport=this.getPropertyText(e,"rendition:viewport"),n.media_active_class=this.getPropertyText(e,"media:active-class"),n.spread=this.getPropertyText(e,"rendition:spread"),n}parseManifest(e){var n={},r=wi(e,"item"),i=Array.prototype.slice.call(r);return i.forEach(function(s){var o=s.getAttribute("id"),a=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",l=s.getAttribute("media-overlay")||"",f=s.getAttribute("properties")||"";n[o]={href:a,type:u,overlay:l,properties:f.length?f.split(" "):[]}}),n}parseSpine(e,n){var r=[],i=wi(e,"itemref"),s=Array.prototype.slice.call(i);return s.forEach(function(o,a){var u=o.getAttribute("idref"),l=o.getAttribute("properties")||"",f=l.length?l.split(" "):[],c={id:o.getAttribute("id"),idref:u,linear:o.getAttribute("linear")||"yes",properties:f,index:a};r.push(c)}),r}findUniqueIdentifier(e){var n=e.documentElement.getAttribute("unique-identifier");if(!n)return"";var r=e.getElementById(n);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var n=zo(e,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(e,n){var r=zo(e,"item",{"media-type":"application/x-dtbncx+xml"}),i;return r||(i=n.getAttribute("toc"),i&&(r=e.querySelector(`#${i}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var n=Ze(e,"package");n.getAttribute("version");var r=zo(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var i=zo(e,"meta",{name:"cover"});if(i){var s=i.getAttribute("content"),o=e.getElementById(s);return o?o.getAttribute("href"):""}else return!1}getElementText(e,n){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),i;return!r||r.length===0?"":(i=r[0],i.childNodes.length?i.childNodes[0].nodeValue:"")}getPropertyText(e,n){var r=zo(e,"meta",{property:n});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let n=e.readingOrder||e.spine;return this.spine=n.map((r,i)=>(r.index=i,r.linear=r.linear||"yes",r)),e.resources.forEach((r,i)=>{this.manifest[i]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,i)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Bc{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let n=e.nodeType,r,i;n&&(r=Ze(e,"html"),i=Ze(e,"ncx")),n?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var n,r=0;r<e.length;r++)n=e[r],n.href&&(this.tocByHref[n.href]=r),n.id&&(this.tocById[n.id]=r),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(e){var n;return e?(e.indexOf("#")===0?n=this.tocById[e.substring(1)]:e in this.tocByHref&&(n=this.tocByHref[e]),this.getByIndex(e,n,this.toc)):this.toc}getByIndex(e,n,r){if(r.length===0)return;const i=r[n];if(i&&(e===i.id||e===i.href))return i;{let s;for(let o=0;o<r.length&&(s=this.getByIndex(e,n,r[o].subitems),!s);++o);return s}}landmark(e){var n;return e?(n=this.landmarksByType[e],this.landmarks[n]):this.landmarks}parseNav(e){var n=Rd(e,"nav","toc"),r=[];if(!n)return r;let i=Mo(n,"ol",!0);return i&&(r=this.parseNavList(i)),r}parseNavList(e,n){const r=[];if(!e||!e.children)return r;for(let i=0;i<e.children.length;i++){const s=this.navItem(e.children[i],n);s&&r.push(s)}return r}navItem(e,n){let r=e.getAttribute("id")||void 0,i=Mo(e,"a",!0)||Mo(e,"span",!0);if(!i)return;let s=i.getAttribute("href")||"";r||(r=s);let o=i.textContent||"",a=[],u=Mo(e,"ol",!0);return u&&(a=this.parseNavList(u,r)),{id:r,href:s,label:o,subitems:a,parent:n}}parseLandmarks(e){var n=Rd(e,"nav","landmarks"),r=n?wi(n,"li"):[],i=r.length,s,o=[],a;if(!r||i===0)return o;for(s=0;s<i;++s)a=this.landmarkItem(r[s]),a&&(o.push(a),this.landmarksByType[a.type]=s);return o}landmarkItem(e){let n=Mo(e,"a",!0);if(!n)return;let r=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,i=n.getAttribute("href")||"",s=n.textContent||"";return{href:i,label:s,type:r}}parseNcx(e){var n=wi(e,"navPoint"),r=n.length,i,s={},o=[],a,u;if(!n||r===0)return o;for(i=0;i<r;++i)a=this.ncxItem(n[i]),s[a.id]=a,a.parent?(u=s[a.parent],u.subitems.push(a)):o.push(a);return o}ncxItem(e){var n=e.getAttribute("id")||!1,r=Ze(e,"content"),i=r.getAttribute("src"),s=Ze(e,"navLabel"),o=s.textContent?s.textContent:"",a=[],u=e.parentNode,l;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(l=u.getAttribute("id")),{id:n,href:i,label:o,subitems:a,parent:l}}load(e){return e.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(e){return this.toc.forEach(e)}}var Bo={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},OI=function(){var t,e,n,r,i={};for(t in Bo)if(Bo.hasOwnProperty(t)){for(e in Bo[t])if(Bo[t].hasOwnProperty(e))if(n=Bo[t][e],typeof n=="string")i[n]=t+"/"+e;else for(r=0;r<n.length;r++)i[n[r]]=t+"/"+e}return i}(),AI="text/plain";function RI(t){return t&&OI[t.split(".").pop().toLowerCase()]||AI}var Ls={lookup:RI};class NI{constructor(e,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(n){return e[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var n=new Kn(e),r=Ls.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(i=>_I(i)).then(i=>cy(i,r)):this.settings.request(e,"blob").then(i=>Od(i,r))}replacements(){if(this.settings.replacements==="none")return new Promise(function(n){n(this.urls)}.bind(this));var e=this.urls.map(n=>{var r=this.settings.resolver(n);return this.createUrl(r).catch(i=>(console.error(i),null))});return Promise.all(e).then(n=>(this.replacementUrls=n.filter(r=>typeof r=="string"),n))}replaceCss(e,n){var r=[];return e=e||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach(function(i){var s=this.createCssFile(i,e,n).then(function(o){var a=this.urls.indexOf(i);a>-1&&(this.replacementUrls[a]=o)}.bind(this));r.push(s)}.bind(this)),Promise.all(r)}createCssFile(e){var n;if(Jr.isAbsolute(e))return new Promise(function(o){o()});var r=this.settings.resolver(e),i;this.settings.archive?i=this.settings.archive.getText(r):i=this.settings.request(r,"text");var s=this.urls.map(o=>{var a=this.settings.resolver(o),u=new Br(r).relative(a);return u});return i?i.then(o=>(o=vy(o,s,this.replacementUrls),this.settings.replacements==="base64"?n=cy(o,"text/css"):n=Od(o,"text/css"),n),o=>new Promise(function(a){a()})):new Promise(function(o){o()})}relativeTo(e,n){return n=n||this.settings.resolver,this.urls.map(function(r){var i=n(r),s=new Br(e).relative(i);return s}.bind(this))}get(e){var n=this.urls.indexOf(e);if(n!==-1)return this.replacementUrls.length?new Promise(function(r,i){r(this.replacementUrls[n])}.bind(this)):this.createUrl(e)}substitute(e,n){var r;return n?r=this.relativeTo(n):r=this.urls,vy(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Uc{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Pe,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var n=Ze(e,"html"),r=Ze(e,"ncx");if(n)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var n=Rd(e,"nav","page-list"),r=n?wi(n,"li"):[],i=r.length,s,o=[],a;if(!r||i===0)return o;for(s=0;s<i;++s)a=this.item(r[s]),o.push(a);return o}parseNcx(e){var n=[],r=0,i,s,o,a=0;if(s=Ze(e,"pageList"),!s||(o=wi(s,"pageTarget"),a=o.length,!o||o.length===0))return n;for(r=0;r<a;++r)i=this.ncxItem(o[r]),n.push(i);return n}ncxItem(e){var n=Ze(e,"navLabel"),r=Ze(n,"text"),i=r.textContent,s=Ze(e,"content"),o=s.getAttribute("src"),a=parseInt(i,10);return{href:o,page:a}}item(e){var n=Ze(e,"a"),r=n.getAttribute("href")||"",i=n.textContent||"",s=parseInt(i),o=r.indexOf("epubcfi"),a,u,l;return o!=-1?(a=r.split("#"),u=a[0],l=a.length>1?a[1]:!1,{cfi:l,href:r,packageUrl:u,page:s}):{href:r,page:s}}process(e){e.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var n=-1;if(this.locations.length===0)return-1;var r=Td(e,this.locations,this.epubcfi.compare);return r!=-1?n=this.pages[r]:(r=nf(e,this.locations,this.epubcfi.compare),n=r-1>=0?this.pages[r-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(e){var n=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(n=this.locations[r]),n}pageFromPercentage(e){var n=Math.round(this.totalPages*e);return n}percentageFromPage(e){var n=(e-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(e){var n=this.pageFromCfi(e),r=this.percentageFromPage(n);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class K1{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e!="undefined"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,n){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(e,n,r){var i=1,s=r||0,o=e,a=n,u=Math.floor(o/12),l,f,c,d;this._spread&&o>=this._minSpreadWidth?i=2:i=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),i>1?(l=o/i-s,c=l+s):(l=o,c=o),this.name==="pre-paginated"&&i>1&&(o=l),f=l*i+s,d=o,this.width=o,this.height=a,this.spreadWidth=f,this.pageWidth=c,this.delta=d,this.columnWidth=l,this.gap=s,this.divisor=i,this.update({width:o,height:a,spreadWidth:f,pageWidth:c,delta:d,columnWidth:l,gap:s,divisor:i})}format(e,n,r){var i;return this.name==="pre-paginated"?i=e.fit(this.columnWidth,this.height,n):this._flow==="paginated"?i=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?i=e.size(null,this.height):i=e.size(this.width,null),i}count(e,n){let r,i;return this.name==="pre-paginated"?(r=1,i=1):this._flow==="paginated"?(n=n||this.delta,r=Math.ceil(e/n),i=r*this.divisor):(n=n||this.height,r=Math.ceil(e/n),i=r),{spreads:r,pages:i}}update(e){if(Object.keys(e).forEach(n=>{this.props[n]===e[n]&&delete e[n]}),Object.keys(e).length>0){let n=Wt(this.props,e);this.emit(ae.LAYOUT.UPDATED,n,e)}}}mr(K1.prototype);class DI{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(!!e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="string"?this.registerUrl(n,e[n]):this.registerRules(n,e[n]))}registerCss(e,n){this._themes[e]={serialized:n},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,n){var r=new Kn(n);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,n){this._themes[e]={rules:n},(this._injected[e]||e=="default")&&this.update(e)}select(e){var n=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(i=>{i.removeClass(n),i.addClass(e)})}update(e){var n=this.rendition.getContents();n.forEach(r=>{this.add(e,r)})}inject(e){var n=[],r=this._themes,i;for(var s in r)r.hasOwnProperty(s)&&(s===this._current||s==="default")&&(i=r[s],(i.rules&&Object.keys(i.rules).length>0||i.url&&n.indexOf(i.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,n){var r=this._themes[e];!r||!n||(r.url?n.addStylesheet(r.url):r.serialized?(n.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(n.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,n,r){var i=this.rendition.getContents();this._overrides[e]={value:n,priority:r===!0},i.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var n=this.rendition.getContents();delete this._overrides[e],n.forEach(r=>{r.css(e)})}overrides(e){var n=this._overrides;for(var r in n)n.hasOwnProperty(r)&&e.css(r,n[r].value,n[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class sf{constructor(e,n,r,i=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=n||"ltr",this._dev=i}section(e){var n=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,n);return r}page(e,n,r,i){var s=e&&e.document?e.document.body:!1,o;if(!!s){if(o=this.rangePairToCfiPair(n,{start:this.findStart(s,r,i),end:this.findEnd(s,r,i)}),this._dev===!0){let a=e.document,u=new Pe(o.start).toRange(a),l=new Pe(o.end).toRange(a),f=a.defaultView.getSelection(),c=a.createRange();f.removeAllRanges(),c.setStart(u.startContainer,u.startOffset),c.setEnd(l.endContainer,l.endOffset),f.addRange(c)}return o}}walk(e,n){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=r.acceptNode;i.acceptNode=r.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1),o,a;(o=s.nextNode())&&(a=n(o),!a););return a}}findRanges(e){for(var n=[],r=e.contents.scrollWidth(),i=Math.ceil(r/this.layout.spreadWidth),s=i*this.layout.divisor,o=this.layout.columnWidth,a=this.layout.gap,u,l,f=0;f<s.pages;f++)u=(o+a)*f,l=o*(f+1)+a*f,n.push({start:this.findStart(e.document.body,u,l),end:this.findEnd(e.document.body,u,l)});return n}findStart(e,n,r){for(var i=[e],s,o,a=e;i.length;)if(s=i.shift(),o=this.walk(s,u=>{var l,f,c,d,g;if(g=fy(u),this.horizontal&&this.direction==="ltr"){if(l=this.horizontal?g.left:g.top,f=this.horizontal?g.right:g.bottom,l>=n&&l<=r)return u;if(f>n)return u;a=u,i.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=g.left,f=g.right,f<=r&&f>=n)return u;if(l<r)return u;a=u,i.push(u)}else{if(c=g.top,d=g.bottom,c>=n&&c<=r)return u;if(d>n)return u;a=u,i.push(u)}}),o)return this.findTextStartRange(o,n,r);return this.findTextStartRange(a,n,r)}findEnd(e,n,r){for(var i=[e],s,o=e,a;i.length;)if(s=i.shift(),a=this.walk(s,u=>{var l,f,c,d,g;if(g=fy(u),this.horizontal&&this.direction==="ltr"){if(l=Math.round(g.left),f=Math.round(g.right),l>r&&o)return o;if(f>r)return u;o=u,i.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=Math.round(this.horizontal?g.left:g.top),f=Math.round(this.horizontal?g.right:g.bottom),f<n&&o)return o;if(l<n)return u;o=u,i.push(u)}else{if(c=Math.round(g.top),d=Math.round(g.bottom),c>r&&o)return o;if(d>r)return u;o=u,i.push(u)}}),a)return this.findTextEndRange(a,n,r);return this.findTextEndRange(o,n,r)}findTextStartRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),s,o,a,u,l,f=0;f<i.length;f++)if(s=i[f],o=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(a=o.left,a>=n)return s}else if(this.horizontal&&this.direction==="rtl"){if(l=o.right,l<=r)return s}else if(u=o.top,u>=n)return s;return i[0]}findTextEndRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),s,o,a,u,l,f,c,d=0;d<i.length;d++){if(o=i[d],a=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=a.left,l=a.right,u>r&&s)return s;if(l>r)return o}else if(this.horizontal&&this.direction==="rtl"){if(u=a.left,l=a.right,l<n&&s)return s;if(u<n)return o}else{if(f=a.top,c=a.bottom,f>r&&s)return s;if(c>r)return o}s=o}return i[i.length-1]}splitTextNodeIntoRanges(e,n){var r=[],i=e.textContent||"",s=i.trim(),o,a=e.ownerDocument,u=n||" ",l=s.indexOf(u);if(l===-1||e.nodeType!=Node.TEXT_NODE)return o=a.createRange(),o.selectNodeContents(e),[o];for(o=a.createRange(),o.setStart(e,0),o.setEnd(e,l),r.push(o),o=!1;l!=-1;)l=s.indexOf(u,l+1),l>0&&(o&&(o.setEnd(e,l),r.push(o)),o=a.createRange(),o.setStart(e,l+1));return o&&(o.setEnd(e,s.length),r.push(o)),r}rangePairToCfiPair(e,n){var r=n.start,i=n.end;r.collapse(!0),i.collapse(!1);let s=new Pe(r,e).toString(),o=new Pe(i,e).toString();return{start:s,end:o}}rangeListToCfiList(e,n){for(var r=[],i,s=0;s<n.length;s++)i=this.rangePairToCfiPair(e,n[s]),r.push(i);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const $1=typeof navigator!="undefined",PI=$1&&/Chrome/.test(navigator.userAgent),gy=$1&&!PI&&/AppleWebKit/.test(navigator.userAgent),LI=1;class H1{constructor(e,n,r,i){this.epubcfi=new Pe,this.document=e,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=i||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",Nv),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return ml}width(e){var n=this.content;return e&&pt(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}height(e){var n=this.content;return e&&pt(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}contentWidth(e){var n=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}contentHeight(e){var n=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let e,n,r=this.document.createRange(),i=this.content||this.document.body,s=Cd(i);return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.width,s&&s.width&&(n+=s.width),Math.round(n)}textHeight(){let e,n,r=this.document.createRange(),i=this.content||this.document.body;return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.bottom,Math.round(n)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,n,r){var i=this.content||this.document.body;return n?i.style.setProperty(e,n,r?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}viewport(e){var n=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},i=[],s={};if(n&&n.hasAttribute("content")){let o=n.getAttribute("content"),a=o.match(/width\s*=\s*([^,]*)/),u=o.match(/height\s*=\s*([^,]*)/),l=o.match(/initial-scale\s*=\s*([^,]*)/),f=o.match(/minimum-scale\s*=\s*([^,]*)/),c=o.match(/maximum-scale\s*=\s*([^,]*)/),d=o.match(/user-scalable\s*=\s*([^,]*)/);a&&a.length&&typeof a[1]!="undefined"&&(r.width=a[1]),u&&u.length&&typeof u[1]!="undefined"&&(r.height=u[1]),l&&l.length&&typeof l[1]!="undefined"&&(r.scale=l[1]),f&&f.length&&typeof f[1]!="undefined"&&(r.minimum=f[1]),c&&c.length&&typeof c[1]!="undefined"&&(r.maximum=c[1]),d&&d.length&&typeof d[1]!="undefined"&&(r.scalable=d[1])}return s=hI(e||{},r),e&&(s.width&&i.push("width="+s.width),s.height&&i.push("height="+s.height),s.scale&&i.push("initial-scale="+s.scale),s.scalable==="no"?(i.push("minimum-scale="+s.scale),i.push("maximum-scale="+s.scale),i.push("user-scalable="+s.scalable)):(s.scalable&&i.push("user-scalable="+s.scalable),s.minimum&&i.push("minimum-scale="+s.minimum),s.maximum&&i.push("minimum-scale="+s.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",i.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(ae.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver=="undefined"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),n=this.textHeight();(e!=this._size.width||n!=this._size.height)&&(this._size={width:e,height:n},this.onResize&&this.onResize(this._size),this.emit(ae.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,n=function(a){a.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),r=0;r<e.length;r+=1){var i;try{i=e[r].cssRules}catch{return}if(!i)return;for(var s=0;s<i.length;s+=1)if(i[s].media){var o=this.window.matchMedia(i[s].media.mediaText);o.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),n,r=0;r<e.length;r++)n=e[r],typeof n.naturalWidth!="undefined"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,n){var r,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){let s=new Pe(e).toRange(this.document,n);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let o=s.startContainer.textContent.indexOf(" ",s.startOffset);o==-1&&(o=s.startContainer.textContent.length),s.setEnd(s.startContainer,o)}}catch(o){console.error("setting end offset to start container length failed",o)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)r=s.startContainer.getBoundingClientRect(),i.left=r.left,i.top=r.top;else if(gy){let o=s.startContainer,a=new Range;try{o.nodeType===LI?r=o.getBoundingClientRect():s.startOffset+2<o.length?(a.setStart(o,s.startOffset),a.setEnd(o,s.startOffset+2),r=a.getBoundingClientRect()):s.startOffset-2>0?(a.setStart(o,s.startOffset-2),a.setEnd(o,s.startOffset),r=a.getBoundingClientRect()):r=o.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else r=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),o=this.document.getElementById(s);if(o)if(gy){let a=new Range;a.selectNode(o),r=a.getBoundingClientRect()}else r=o.getBoundingClientRect()}return r&&(i.left=r.left,i.top=r.top),i}addStylesheet(e){return new Promise(function(n,r){var i,s=!1;if(!this.document){n(!1);return}if(i=this.document.querySelector("link[href='"+e+"']"),i){n(!0);return}i=this.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(i)}.bind(this))}_getStylesheetNode(e){var n;return e="epubjs-inserted-css-"+(e||""),this.document?(n=this.document.getElementById(e),n||(n=this.document.createElement("style"),n.id=e,this.document.head.appendChild(n)),n):!1}addStylesheetCss(e,n){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(n),r.innerHTML=e,!0}addStylesheetRules(e,n){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var i=0,s=e.length;i<s;i++){var o=1,a=e[i],u=e[i][0],l="";Object.prototype.toString.call(a[1][0])==="[object Array]"&&(a=a[1],o=0);for(var f=a.length;o<f;o++){var c=a[o];l+=c[0]+":"+c[1]+(c[2]?" !important":"")+`;
`}r.insertRule(u+"{"+l+"}",r.cssRules.length)}else Object.keys(e).forEach(g=>{const w=e[g];if(Array.isArray(w))w.forEach(E=>{const h=Object.keys(E).map(v=>`${v}:${E[v]}`).join(";");r.insertRule(`${g}{${h}}`,r.cssRules.length)});else{const p=Object.keys(w).map(h=>`${h}:${w[h]}`).join(";");r.insertRule(`${g}{${p}}`,r.cssRules.length)}})}addScript(e){return new Promise(function(n,r){var i,s=!1;if(!this.document){n(!1);return}i=this.document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(i)}.bind(this))}addClass(e){var n;!this.document||(n=this.content||this.document.body,n&&n.classList.add(e))}removeClass(e){var n;!this.document||(n=this.content||this.document.body,n&&n.classList.remove(e))}addEventListeners(){!this.document||(this._triggerEvent=this.triggerEvent.bind(this),ml.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){!this.document||(ml.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){!this.document||(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){!this.document||(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}.bind(this),250)}triggerSelectedEvent(e){var n,r;e&&e.rangeCount>0&&(n=e.getRangeAt(0),n.collapsed||(r=new Pe(n,this.cfiBase).toString(),this.emit(ae.CONTENTS.SELECTED,r),this.emit(ae.CONTENTS.SELECTED_RANGE,n)))}range(e,n){var r=new Pe(e);return r.toRange(this.document,n)}cfiFromRange(e,n){return new Pe(e,this.cfiBase,n).toString()}cfiFromNode(e,n){return new Pe(e,this.cfiBase,n).toString()}map(e){var n=new sf(e);return n.section()}size(e,n){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),n>=0&&(this.height(n),r.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,n,r,i,s){let o=Lo("column-axis"),a=Lo("column-gap"),u=Lo("column-width"),l=Lo("column-fill"),c=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&c==="horizontal"&&this.direction(s),this.width(e),this.height(n),this.viewport({width:e,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),c==="vertical"?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(a,i+"px"),this.css(u,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,n,r){var i="scale("+e+")",s="";this.css("transform-origin","top left"),(n>=0||r>=0)&&(s=" translate("+(n||0)+"px, "+(r||0)+"px )"),this.css("transform",i+s)}fit(e,n,r){var i=this.viewport(),s=parseInt(i.width),o=parseInt(i.height),a=e/s,u=n/o,l=a<u?a:u;if(this.layoutStyle("paginated"),this.width(s),this.height(o),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",s*l+"px "+o*l+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var f=e-s*l;this.css("margin-left",f+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,n,r,i,s){var o=new sf(n,s);return o.page(this,e,r,i)}linksHandler(){kI(this.content,e=>{this.emit(ae.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let n=Lo("writing-mode");return e&&this.documentElement&&(this.documentElement.style[n]=e),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,n){return navigator.epubReadingSystem={name:e,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}mr(H1.prototype);class zI{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,n,r,i,s,o){let a=encodeURI(n+e),l=new Pe(n).spinePos,f=new V1({type:e,cfiRange:n,data:r,sectionIndex:l,cb:i,className:s,styles:o});return this._annotations[a]=f,l in this._annotationsBySectionIndex?this._annotationsBySectionIndex[l].push(a):this._annotationsBySectionIndex[l]=[a],this.rendition.views().forEach(d=>{f.sectionIndex===d.index&&f.attach(d)}),f}remove(e,n){let r=encodeURI(e+n);if(r in this._annotations){let i=this._annotations[r];if(n&&i.type!==n)return;this.rendition.views().forEach(o=>{this._removeFromAnnotationBySectionIndex(i.sectionIndex,r),i.sectionIndex===o.index&&i.detach(o)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,n){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==n)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,n,r,i,s){return this.add("highlight",e,n,r,i,s)}underline(e,n,r,i,s){return this.add("underline",e,n,r,i,s)}mark(e,n,r){return this.add("mark",e,n,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].attach(e)})}clear(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].detach(e)})}show(){}hide(){}}class V1{constructor({type:e,cfiRange:n,data:r,sectionIndex:i,cb:s,className:o,styles:a}){this.type=e,this.cfiRange=n,this.data=r,this.sectionIndex=i,this.mark=void 0,this.cb=s,this.className=o,this.styles=a}update(e){this.data=e}attach(e){let{cfiRange:n,data:r,type:i,mark:s,cb:o,className:a,styles:u}=this,l;return i==="highlight"?l=e.highlight(n,r,o,a,u):i==="underline"?l=e.underline(n,r,o,a,u):i==="mark"&&(l=e.mark(n,r,o)),this.mark=l,this.emit(ae.ANNOTATION.ATTACH,l),l}detach(e){let{cfiRange:n,type:r}=this,i;return e&&(r==="highlight"?i=e.unhighlight(n):r==="underline"?i=e.ununderline(n):r==="mark"&&(i=e.unmark(n))),this.mark=void 0,this.emit(ae.ANNOTATION.DETACH,i),i}text(){}}mr(V1.prototype);var Cr={},jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.createElement=q1;function q1(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}jf.default={createElement:q1};var gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.proxyMouse=Y1;gu.clone=Z1;gu.default={proxyMouse:Y1};function Y1(t,e){function n(o){for(var a=e.length-1;a>=0;a--){var u=e[a],l=o.clientX,f=o.clientY;if(o.touches&&o.touches.length&&(l=o.touches[0].clientX,f=o.touches[0].clientY),!!MI(u,t,l,f)){u.dispatchEvent(Z1(o));break}}}if(t.nodeName==="iframe"||t.nodeName==="IFRAME")try{this.target=t.contentDocument}catch{this.target=t}else this.target=t;for(var r=["mouseup","mousedown","click","touchstart"],i=0;i<r.length;i++){var s=r[i];this.target.addEventListener(s,function(o){return n(o)},!1)}}function Z1(t){var e=Object.assign({},t,{bubbles:!1});try{return new MouseEvent(t.type,e)}catch{var n=document.createEvent("MouseEvents");return n.initMouseEvent(t.type,!1,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n}}function MI(t,e,n,r){var i=e.getBoundingClientRect();function s(f,c,d){var g=f.top-i.top,w=f.left-i.left,E=g+f.height,p=w+f.width;return g<=d&&w<=c&&E>d&&p>c}var o=t.getBoundingClientRect();if(!s(o,n,r))return!1;for(var a=t.getClientRects(),u=0,l=a.length;u<l;u++)if(s(a[u],n,r))return!0;return!1}var of,Dv;Object.defineProperty(Cr,"__esModule",{value:!0});var X1=Cr.Underline=Dv=Cr.Highlight=Cr.Mark=of=Cr.Pane=void 0,BI=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:t(s,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},Wf=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),UI=jf,Va=G1(UI),FI=gu,jI=G1(FI);function G1(t){return t&&t.__esModule?t:{default:t}}function Q1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function J1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Kf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}of=Cr.Pane=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;Kf(this,t),this.target=e,this.element=Va.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),jI.default.proxyMouse(this.target,this.marks),this.container=n,this.container.appendChild(this.element),this.render()}return Wf(t,[{key:"addMark",value:function(n){var r=Va.default.createElement("g");return this.element.appendChild(r),n.bind(r,this.container),this.marks.push(n),n.render(),n}},{key:"removeMark",value:function(n){var r=this.marks.indexOf(n);if(r!==-1){var i=n.unbind();this.element.removeChild(i),this.marks.splice(r,1)}}},{key:"render",value:function(){HI(this.element,$I(this.target,this.container));var n=!0,r=!1,i=void 0;try{for(var s=this.marks[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var a=o.value;a.render()}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}]),t}();var WI=Cr.Mark=function(){function t(){Kf(this,t),this.element=null}return Wf(t,[{key:"bind",value:function(n,r){this.element=n,this.container=r}},{key:"unbind",value:function(){var n=this.element;return this.element=null,n}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(n){!this.element||this.element.dispatchEvent(n)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var n=[],r=this.element.firstChild;r;)n.push(r.getBoundingClientRect()),r=r.nextSibling;return n}},{key:"filteredRanges",value:function(){var n=Array.from(this.range.getClientRects());return n.filter(function(r){for(var i=0;i<n.length;i++){if(n[i]===r)return!0;var s=VI(n[i],r);if(s)return!1}return!0})}}]),t}(),KI=Dv=Cr.Highlight=function(t){J1(e,t);function e(n,r,i,s){Kf(this,e);var o=Q1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.range=n,o.className=r,o.data=i||{},o.attributes=s||{},o}return Wf(e,[{key:"bind",value:function(r,i){BI(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this,r,i);for(var s in this.data)this.data.hasOwnProperty(s)&&(this.element.dataset[s]=this.data[s]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&this.element.setAttribute(s,this.attributes[s]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),o=this.container.getBoundingClientRect(),a=0,u=i.length;a<u;a++){var l=i[a],f=Va.default.createElement("rect");f.setAttribute("x",l.left-s.left+o.left),f.setAttribute("y",l.top-s.top+o.top),f.setAttribute("height",l.height),f.setAttribute("width",l.width),r.appendChild(f)}this.element.appendChild(r)}}]),e}(WI);X1=Cr.Underline=function(t){J1(e,t);function e(n,r,i,s){return Kf(this,e),Q1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r,i,s))}return Wf(e,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),o=this.container.getBoundingClientRect(),a=0,u=i.length;a<u;a++){var l=i[a],f=Va.default.createElement("rect");f.setAttribute("x",l.left-s.left+o.left),f.setAttribute("y",l.top-s.top+o.top),f.setAttribute("height",l.height),f.setAttribute("width",l.width),f.setAttribute("fill","none");var c=Va.default.createElement("line");c.setAttribute("x1",l.left-s.left+o.left),c.setAttribute("x2",l.left-s.left+o.left+l.width),c.setAttribute("y1",l.top-s.top+o.top+l.height-1),c.setAttribute("y2",l.top-s.top+o.top+l.height-1),c.setAttribute("stroke-width",1),c.setAttribute("stroke","black"),c.setAttribute("stroke-linecap","square"),r.appendChild(f),r.appendChild(c)}this.element.appendChild(r)}}]),e}(KI);function $I(t,e){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-n.top,left:r.left-n.left,height:t.scrollHeight,width:t.scrollWidth}}function HI(t,e){t.style.setProperty("top",e.top+"px","important"),t.style.setProperty("left",e.left+"px","important"),t.style.setProperty("height",e.height+"px","important"),t.style.setProperty("width",e.width+"px","important")}function VI(t,e){return e.right<=t.right&&e.left>=t.left&&e.top>=t.top&&e.bottom<=t.bottom}class eE{constructor(e,n){this.settings=Wt({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+Av(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Pe,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",e&&e=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Mc(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(r){return this.load(r)}.bind(this)).then(function(){let r=this.contents.writingMode(),i;return this.settings.flow==="scrolled"?i=r.indexOf("vertical")===0?"horizontal":"vertical":i=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(i),this.emit(ae.VIEWS.AXIS,i),this.setWritingMode(r),this.emit(ae.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,o)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}.bind(this),function(r){return this.emit(ae.VIEWS.LOAD_ERROR,r),new Promise((i,s)=>{s(r)})}.bind(this)).then(function(){this.emit(ae.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,n){var r=e||this.settings.width,i=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,i):this.settings.axis==="horizontal"?this.lock("height",r,i):this.lock("width",r,i),this.settings.width=r,this.settings.height=i}lock(e,n,r){var i=Cd(this.element),s;this.iframe?s=Cd(this.iframe):s={width:0,height:0},e=="width"&&pt(n)&&(this.lockedWidth=n-i.width-s.width),e=="height"&&pt(r)&&(this.lockedHeight=r-i.height-s.height),e==="both"&&pt(n)&&pt(r)&&(this.lockedWidth=n-i.width-s.width,this.lockedHeight=r-i.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var n=this.lockedWidth,r=this.lockedHeight,i;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(i=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&i%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||r!=this._height)&&this.reframe(n,r),this._expanding=!1)}reframe(e,n){var r;pt(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),pt(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let i=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?n-this.prevBounds.height:n;r={width:e,height:n,widthDelta:i,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let o;for(let a in this.marks)this.marks.hasOwnProperty(a)&&(o=this.marks[a],this.placeMark(o.element,o.range))}),this.onResize(this,r),this.emit(ae.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=Mc(this.element)}load(e){var n=new De,r=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=function(s){this.onLoad(s,n)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=Od(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction(function(){i.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new H1(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(ae.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(ae.CONTENTS.RESIZE,i=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var n=new De;return this.displayed?n.resolve(this):this.render(e).then(function(){this.emit(ae.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}.bind(this),function(r){n.reject(r,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(ae.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(ae.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(e,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(e){}onResize(e,n){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Mc(this.element)),this.elementBounds}highlight(e,n={},r,i="epubjs-hl",s={}){if(!this.contents)return;const o=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let a=this.contents.range(e),u=()=>{this.emit(ae.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new of(this.iframe,this.element));let l=new Dv(a,i,n,o),f=this.pane.addMark(l);return this.highlights[e]={mark:f,element:f.element,listeners:[u,r]},f.element.setAttribute("ref",i),f.element.addEventListener("click",u),f.element.addEventListener("touchstart",u),r&&(f.element.addEventListener("click",r),f.element.addEventListener("touchstart",r)),f}underline(e,n={},r,i="epubjs-ul",s={}){if(!this.contents)return;const o=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let a=this.contents.range(e),u=()=>{this.emit(ae.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new of(this.iframe,this.element));let l=new X1(a,i,n,o),f=this.pane.addMark(l);return this.underlines[e]={mark:f,element:f.element,listeners:[u,r]},f.element.setAttribute("ref",i),f.element.addEventListener("click",u),f.element.addEventListener("touchstart",u),r&&(f.element.addEventListener("click",r),f.element.addEventListener("touchstart",r)),f}mark(e,n={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let i=this.contents.range(e);if(!i)return;let s=i.commonAncestorContainer,o=s.nodeType===1?s:s.parentNode,a=l=>{this.emit(ae.VIEWS.MARK_CLICKED,e,n)};i.collapsed&&s.nodeType===1?(i=new Range,i.selectNodeContents(s)):i.collapsed&&(i=new Range,i.selectNodeContents(o));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,n&&Object.keys(n).forEach(l=>{u.dataset[l]=n[l]}),r&&(u.addEventListener("click",r),u.addEventListener("touchstart",r)),u.addEventListener("click",a),u.addEventListener("touchstart",a),this.placeMark(u,i),this.element.appendChild(u),this.marks[e]={element:u,range:i,listeners:[a,r]},o}placeMark(e,n){let r,i,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let a=n.getBoundingClientRect();r=a.top,i=a.right}else{let a=n.getClientRects(),u;for(var o=0;o!=a.length;o++)u=a[o],(!s||u.left<s)&&(s=u.left,i=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=u.top)}e.style.top=`${r}px`,e.style.left=`${i}px`}unhighlight(e){let n;e in this.highlights&&(n=this.highlights[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let n;e in this.underlines&&(n=this.underlines[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let n;e in this.marks&&(n=this.marks[e],this.element.removeChild(n.element),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&mI(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}mr(eE.prototype);function qI(){var t="reverse",e=YI();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function YI(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(n),e.appendChild(r),t.appendChild(e),t}function ZI(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Pv=ZI,XI=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,GI=XI,QI=GI,JI=typeof self=="object"&&self&&self.Object===Object&&self,eO=QI||JI||Function("return this")(),tE=eO,tO=tE,nO=function(){return tO.Date.now()},rO=nO,iO=/\s/;function sO(t){for(var e=t.length;e--&&iO.test(t.charAt(e)););return e}var oO=sO,aO=oO,uO=/^\s+/;function lO(t){return t&&t.slice(0,aO(t)+1).replace(uO,"")}var fO=lO,cO=tE,hO=cO.Symbol,nE=hO,yy=nE,rE=Object.prototype,dO=rE.hasOwnProperty,pO=rE.toString,Uo=yy?yy.toStringTag:void 0;function vO(t){var e=dO.call(t,Uo),n=t[Uo];try{t[Uo]=void 0;var r=!0}catch{}var i=pO.call(t);return r&&(e?t[Uo]=n:delete t[Uo]),i}var mO=vO,gO=Object.prototype,yO=gO.toString;function _O(t){return yO.call(t)}var wO=_O,_y=nE,EO=mO,xO=wO,bO="[object Null]",SO="[object Undefined]",wy=_y?_y.toStringTag:void 0;function kO(t){return t==null?t===void 0?SO:bO:wy&&wy in Object(t)?EO(t):xO(t)}var TO=kO;function CO(t){return t!=null&&typeof t=="object"}var IO=CO,OO=TO,AO=IO,RO="[object Symbol]";function NO(t){return typeof t=="symbol"||AO(t)&&OO(t)==RO}var DO=NO,PO=fO,Ey=Pv,LO=DO,xy=0/0,zO=/^[-+]0x[0-9a-f]+$/i,MO=/^0b[01]+$/i,BO=/^0o[0-7]+$/i,UO=parseInt;function FO(t){if(typeof t=="number")return t;if(LO(t))return xy;if(Ey(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ey(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=PO(t);var n=MO.test(t);return n||BO.test(t)?UO(t.slice(2),n?2:8):zO.test(t)?xy:+t}var jO=FO,WO=Pv,Fc=rO,by=jO,KO="Expected a function",$O=Math.max,HO=Math.min;function VO(t,e,n){var r,i,s,o,a,u,l=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError(KO);e=by(e)||0,WO(n)&&(f=!!n.leading,c="maxWait"in n,s=c?$O(by(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function g(b){var T=r,O=i;return r=i=void 0,l=b,o=t.apply(O,T),o}function w(b){return l=b,a=setTimeout(h,e),f?g(b):o}function E(b){var T=b-u,O=b-l,R=e-T;return c?HO(R,s-O):R}function p(b){var T=b-u,O=b-l;return u===void 0||T>=e||T<0||c&&O>=s}function h(){var b=Fc();if(p(b))return v(b);a=setTimeout(h,E(b))}function v(b){return a=void 0,d&&r?g(b):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function x(){return a===void 0?o:v(Fc())}function _(){var b=Fc(),T=p(b);if(r=arguments,i=this,u=b,T){if(a===void 0)return w(u);if(c)return clearTimeout(a),a=setTimeout(h,e),g(u)}return a===void 0&&(a=setTimeout(h,e)),o}return _.cancel=y,_.flush=x,_}var iE=VO,qO=iE,YO=Pv,ZO="Expected a function";function XO(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ZO);return YO(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qO(t,e,{leading:r,maxWait:e,trailing:i})}var GO=XO;class QO{constructor(e){this.settings=e||{},this.id="epubjs-container-"+Av(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let n=e.height,r=e.width,i=e.overflow||!1,s=e.axis||"vertical",o=e.direction;Wt(this.settings,e),e.height&&pt(e.height)&&(n=e.height+"px"),e.width&&pt(e.width)&&(r=e.width+"px");let a=document.createElement("div");return a.id=this.id,a.classList.add("epub-container"),a.style.wordSpacing="0",a.style.lineHeight="0",a.style.verticalAlign="top",a.style.position="relative",s==="horizontal"&&(a.style.display="flex",a.style.flexDirection="row",a.style.flexWrap="nowrap"),r&&(a.style.width=r),n&&(a.style.height=n),i&&(i==="scroll"&&s==="vertical"?(a.style["overflow-y"]=i,a.style["overflow-x"]="hidden"):i==="scroll"&&s==="horizontal"?(a.style["overflow-y"]="hidden",a.style["overflow-x"]=i):a.style.overflow=i),o&&(a.dir=o,a.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),a}wrap(e){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(e),n}getElement(e){var n;if(fI(e)?n=e:typeof e=="string"&&(n=document.getElementById(e)),!n)throw new Error("Not an Element");return n}attachTo(e){var n=this.getElement(e),r;if(!!n)return this.settings.hidden?r=this.wrapper:r=this.container,n.appendChild(r),this.element=n,n}getContainer(){return this.container}onResize(e){(!pt(this.settings.width)||!pt(this.settings.height))&&(this.resizeFunc=GO(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,n){var r;let i=e||this.settings.width,s=n||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):pt(e)?this.container.style.width=e+"px":this.container.style.width=e,n===null?(r=r||this.element.getBoundingClientRect(),r.height&&(n=r.height,this.container.style.height=n+"px")):pt(n)?this.container.style.height=n+"px":this.container.style.height=n,pt(e)||(e=this.container.clientWidth),pt(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let o=Id(),a=window.getComputedStyle(document.body),u={left:parseFloat(a["padding-left"])||0,right:parseFloat(a["padding-right"])||0,top:parseFloat(a["padding-top"])||0,bottom:parseFloat(a["padding-bottom"])||0};return i||(e=o.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(n=o.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Id():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,n){var r="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(s){for(var o in s)s.hasOwnProperty(o)&&(i+=o+":"+s[o]+";")}),this.sheet.insertRule(r+e+" {"+i+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class JO{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,n){return this._views.splice(n,0,e),this.container&&(n<this.container.children.length?this.container.insertBefore(e.element,this.container.children[n]):this.container.appendChild(e.element)),this.length++,e}remove(e){var n=this._views.indexOf(e);n>-1&&this._views.splice(n,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,n=this.length;if(!!this.length){for(var r=0;r<n;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var n,r=this.length,i=0;i<r;i++)if(n=this._views[i],n.displayed&&n.section.index==e.index)return n}displayed(){for(var e=[],n,r=this.length,i=0;i<r;i++)n=this._views[i],n.displayed&&e.push(n);return e}show(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class af{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Rv(this),this.settings=Wt(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Wt(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,n){let r=e.tagName;typeof this.settings.fullsize=="undefined"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=qI(),this.stage=new QO({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new JO(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",function(n){this.destroy()}.bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(ae.MANAGERS.ORIENTATION_CHANGE,n)}.bind(this),500)}onResized(e){this.resize()}resize(e,n,r){let i=this.stage.size(e,n);if(this.winBounds=Id(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(ae.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,n){return new this.View(e,Wt(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(e,n,r){let i;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||n.index===0)return;if(i=n.next(),i&&!i.properties.includes("page-spread-left"))return r.call(this,i)}}display(e,n){var r=new De,i=r.promise;(n===e.href||pt(n))&&(n=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let a=s.offset();if(this.settings.direction==="ltr")this.scrollTo(a.left,a.top,!0);else{let u=s.width();this.scrollTo(a.left+u,a.top,!0)}if(n){let u=s.locationOf(n),l=s.width();this.moveTo(u,l)}return r.resolve(),i}this.clear();let o=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(o=!0),this.add(e,o).then(function(a){if(n){let u=a.locationOf(n),l=a.width();this.moveTo(u,l)}}.bind(this),a=>{r.reject(a)}).then(function(){return this.handleNextPrePaginated(o,e,this.add)}.bind(this)).then(function(){this.views.show(),r.resolve()}.bind(this)),i}afterDisplayed(e){this.emit(ae.MANAGERS.ADDED,e)}afterResized(e){this.emit(ae.MANAGERS.RESIZE,e.section)}moveTo(e,n){var r=0,i=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),i=Math.floor(e.top/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-n),this.scrollTo(r,i,!0)}add(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(ae.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(ae.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}append(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(ae.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(ae.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}prepend(e,n){var r=this.createView(e,n);return r.on(ae.VIEWS.RESIZED,i=>{this.counter(i)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(ae.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(ae.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,n;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(i=!0),this.append(e,i).then(function(){return this.handleNextPrePaginated(i,e,this.append)}.bind(this),s=>s).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e,n;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(i=!0),this.prepend(e,i).then(function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}.bind(this),s=>s).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=n.height<window.innerHeight?n.height:window.innerHeight,i=n.width<window.innerWidth?n.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let o=0,a=0;return this.settings.fullsize&&(o=s?window.scrollY:window.scrollX),e.map(l=>{let{index:f,href:c}=l.section,d=l.position(),g=l.width(),w=l.height(),E,p,h,v;s?(E=o+n.top-d.top+a,p=E+r-a,v=this.layout.count(w,r).pages,h=r):(E=o+n.left-d.left+a,p=E+i-a,v=this.layout.count(g,i).pages,h=i);let y=Math.ceil(E/h),x=[],_=Math.ceil(p/h);if(this.settings.direction==="rtl"&&!s){let O=y;y=v-_,_=v-O}x=[];for(var b=y;b<=_;b++){let O=b+1;x.push(O)}let T=this.mapping.page(l.contents,l.section.cfiBase,E,p);return{index:f,href:c,pages:x,totalPages:v,mapping:T}})}paginatedLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=0,i=0;return this.settings.fullsize&&(r=window.scrollX),e.map(o=>{let{index:a,href:u}=o.section,l,f=o.position(),c=o.width(),d,g,w;this.settings.direction==="rtl"?(l=n.right-r,w=Math.min(Math.abs(l-f.left),this.layout.width)-i,g=f.width-(f.right-l)-i,d=g-w):(l=n.left+r,w=Math.min(f.right-l,this.layout.width)-i,d=l-f.left+i,g=d+w),i+=w;let E=this.mapping.page(o.contents,o.section.cfiBase,d,g),p=this.layout.count(c).pages,h=Math.floor(d/this.layout.pageWidth),v=[],y=Math.floor(g/this.layout.pageWidth);if(h<0&&(h=0,y=y+1),this.settings.direction==="rtl"){let _=h;h=p-y,y=p-_}for(var x=h+1;x<=y;x++){let _=x;v.push(_)}return{index:a,href:u,pages:v,totalPages:p,mapping:E}})}isVisible(e,n,r,i){var s=e.position(),o=i||this.bounds();return this.settings.axis==="horizontal"&&s.right>o.left-n&&s.left<o.right+r?!0:this.settings.axis==="vertical"&&s.bottom>o.top-n&&s.top<o.bottom+r}visible(){for(var e=this.bounds(),n=this.views.displayed(),r=n.length,i=[],s,o,a=0;a<r;a++)o=n[a],s=this.isVisible(o,0,0,e),s===!0&&i.push(o);return i}scrollBy(e,n,r){let i=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,n*i):(e&&(this.container.scrollLeft+=e*i),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(e,n,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,n):(this.container.scrollLeft=e,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let e,n;this.settings.fullsize?(e=window.scrollY,n=window.scrollX):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(ae.MANAGERS.SCROLL,{top:e,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(ae.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){!this.stage||(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new sf(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,n){!n&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new sf(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,n="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(n){const r=n&&n.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}mr(af.prototype);const eA=Math.PI/2,tA={easeOutSine:function(t){return Math.sin(t*eA)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInCubic:function(t){return Math.pow(t,3)}};class Nd{constructor(e,n){this.settings=Wt({duration:80,minVelocity:.2,minDistance:10,easing:tA.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(ae.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(ae.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let n=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{n.on(r,i=>this.triggerViewEvent(i,n))})}triggerViewEvent(e,n){this.emit(e.type,e,n)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:n,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:n,screenY:r}=e.touches[0],i=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&i<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,r=Math.abs(n),i=this.endTime-this.startTime,s=n/i,o=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(s>o)return-1;if(s<-o)return 1}needsSnap(){let e=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return e%n!==0}snap(e=0){let n=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,i=Math.round(n/r)*r;return e&&(i+=e*r),this.smoothScrollTo(i)}smoothScrollTo(e){const n=new De,r=this.scrollLeft,i=this.now(),s=this.settings.duration,o=this.settings.easing;this.snapping=!0;function a(){const u=this.now(),l=Math.min(1,(u-i)/s);if(o(l),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}l<1?(window.requestAnimationFrame(a.bind(this)),this.scrollTo(r+(e-r)*l,0)):(this.scrollTo(e,0),this.snapping=!1,n.resolve())}return a.call(this),n.promise}scrollTo(e=0,n=0){this.fullsize?window.scroll(e,n):(this.scroller.scrollLeft=e,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){!this.scroller||(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}mr(Nd.prototype);class nA extends af{constructor(e){super(e);this.name="continuous",this.settings=Wt(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Wt(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,n){return af.prototype.display.call(this,e,n).then(function(){return this.fill()}.bind(this))}fill(e){var n=e||new De;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(n):n.resolve()}),n.promise}moveTo(e){var n=0,r=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(n>0||r>0)&&this.scrollBy(n,r,!0)}afterResized(e){this.emit(ae.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var n=this.createView(e);return this.views.append(n),n.on(ae.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(ae.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(ae.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(e){var n=this.createView(e);return n.on(ae.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(ae.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(ae.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(e){var n=this.createView(e);return n.on(ae.VIEWS.RESIZED,r=>{this.counter(r),n.expanded=!0}),n.on(ae.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(ae.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var n=this.bounds(),r=this.views.all(),i=r.length,s=typeof e!="undefined"?e:this.settings.offset||0,o,a,u=new De,l=[],f=0;f<i;f++)if(a=r[f],o=this.isVisible(a,s,s,n),o===!0)if(a.displayed)a.show();else{let c=a.display(this.request).then(function(d){d.show()},d=>{a.hide()});l.push(c)}else this.q.enqueue(a.destroy.bind(a)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return l.length?Promise.all(l).catch(c=>{u.reject(c)}):(u.resolve(),u.promise)}check(e,n){var r=new De,i=[],s=this.settings.axis==="horizontal",o=this.settings.offset||0;e&&s&&(o=e),n&&!s&&(o=n);var a=this._bounds;let u=s?this.scrollLeft:this.scrollTop,l=s?Math.floor(a.width):a.height,f=s?this.container.scrollWidth:this.container.scrollHeight,c=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",d=this.settings.rtlScrollType,g=this.settings.direction==="rtl";this.settings.fullsize?(s&&g&&d==="negative"||!s&&g&&d==="default")&&(u=u*-1):(g&&d==="default"&&c==="horizontal"&&(u=f-l-u),g&&d==="negative"&&c==="horizontal"&&(u=u*-1));let w=()=>{let y=this.views.first(),x=y&&y.section.prev();x&&i.push(this.prepend(x))},E=()=>{let y=this.views.last(),x=y&&y.section.next();x&&i.push(this.append(x))},p=u+l+o,h=u-o;p>=f&&E(),h<0&&w();let v=i.map(y=>y.display(this.request));return i.length?Promise.all(v).then(()=>this.check()).then(()=>this.update(o),y=>y):(this.q.enqueue(function(){this.update()}.bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new De,n=this.views.displayed(),r=n[0],i=n[n.length-1],s=this.views.indexOf(r),o=this.views.indexOf(i),a=this.views.slice(0,s),u=this.views.slice(o+1),l=0;l<a.length-1;l++)this.erase(a[l],a);for(var f=1;f<u.length;f++)this.erase(u[f]);return e.resolve(),e.promise}erase(e,n){var r,i;this.settings.fullsize?(r=window.scrollY,i=window.scrollX):(r=this.container.scrollTop,i=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),n&&(this.settings.axis==="vertical"?this.scrollTo(0,r-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(i+Math.floor(s.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",function(n){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Nd(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=M1;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=iE(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,n,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,n=window.scrollX*r):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(ae.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(ae.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Nd(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class sE{constructor(e,n){this.settings=Wt(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Wt(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new $n(this),this.hooks.serialize=new $n(this),this.hooks.content=new $n(this),this.hooks.unloaded=new $n(this),this.hooks.layout=new $n(this),this.hooks.render=new $n(this),this.hooks.show=new $n(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new DI(this),this.annotations=new zI(this),this.epubcfi=new Pe,this.q=new Rv(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new De,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var n;return typeof e=="string"&&e==="default"?n=af:typeof e=="string"&&e==="continuous"?n=nA:n=e,n}requireView(e){var n;return typeof e=="string"&&e==="iframe"?n=eE:n=e,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(ae.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(ae.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(ae.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(ae.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(ae.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(ae.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(ae.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(!!this.book){this.epubcfi.isCfiString(e);var n=new De,r=n.promise,i;return this.displaying=n,this.book.locations.length()&&cI(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),i=this.book.spine.get(e),i?(this.manager.display(i,e).then(()=>{n.resolve(i),this.displaying=void 0,this.emit(ae.RENDITION.DISPLAYED,i),this.reportLocation()},s=>{this.emit(ae.RENDITION.DISPLAY_ERROR,s)}),r):(n.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(ae.VIEWS.MARK_CLICKED,(n,r)=>this.triggerMarkEvent(n,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(ae.RENDITION.RENDERED,e.section,e)}):this.emit(ae.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(ae.RENDITION.REMOVED,e.section,e)})}onResized(e,n){this.emit(ae.RENDITION.RESIZED,{width:e.width,height:e.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(e){this.emit(ae.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,n,r){e&&(this.settings.width=e),n&&(this.settings.height=n),this.manager.resize(e,n,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var n,r=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",o=this.settings.flow||e.flow||"auto",a=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,l=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:r,spread:i,orientation:s,flow:o,viewport:a,minSpreadWidth:u,direction:l},n}flow(e){var n=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(n="scrolled"),(e==="auto"||e==="paginated")&&(n="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new K1(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(ae.LAYOUT.UPDATED,(n,r)=>{this.emit(ae.RENDITION.LAYOUT,n,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,n){this.settings.spread=e,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(e,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then(function(i){let s=this.located(i);!s||!s.start||!s.end||(this.location=s,this.emit(ae.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(ae.RENDITION.RELOCATED,this.location))}.bind(this));else if(r){let i=this.located(r);if(!i||!i.start||!i.end)return;this.location=i,this.emit(ae.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(ae.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then(function(n){return this.located(n)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let n=e[0],r=e[e.length-1],i={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},s=this.book.locations.locationFromCfi(n.mapping.start),o=this.book.locations.locationFromCfi(r.mapping.end);s!=null&&(i.start.location=s,i.start.percentage=this.book.locations.percentageFromLocation(s)),o!=null&&(i.end.location=o,i.end.percentage=this.book.locations.percentageFromLocation(o));let a=this.book.pageList.pageFromCfi(n.mapping.start),u=this.book.pageList.pageFromCfi(r.mapping.end);return a!=-1&&(i.start.page=a),u!=-1&&(i.end.page=u),r.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),n.index===this.book.spine.first().index&&i.start.displayed.page===1&&(i.atStart=!0),i}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){ml.forEach(n=>{e.on(n,r=>this.triggerViewEvent(r,e))}),e.on(ae.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,e))}triggerViewEvent(e,n){this.emit(e.type,e,n)}triggerSelectedEvent(e,n){this.emit(ae.RENDITION.SELECTED,e,n)}triggerMarkEvent(e,n,r){this.emit(ae.RENDITION.MARK_CLICKED,e,n,r)}getRange(e,n){var r=new Pe(e),i=this.manager.visible().filter(function(s){if(r.spinePos===s.index)return!0});if(i.length)return i[0].contents.range(r,n)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let n=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,i=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,o){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(ae.CONTENTS.LINK_CLICKED,n=>{let r=this.book.path.relative(n);this.display(r)})}injectStylesheet(e,n){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,n){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,n){let r=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),r&&i.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(i)}}mr(sE.prototype);var oE={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(l,f){if(!i[l]){if(!r[l]){var c=typeof Yr=="function"&&Yr;if(!f&&c)return c(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var g=i[l]={exports:{}};r[l][0].call(g.exports,function(w){var E=r[l][1][w];return o(E||w)},g,g.exports,n,r,i,s)}return i[l].exports}for(var a=typeof Yr=="function"&&Yr,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var l=[],f,c,d,g,w,E,p,h=0,v=u.length,y=v,x=s.getTypeOf(u)!=="string";h<u.length;)y=v-h,x?(f=u[h++],c=h<v?u[h++]:0,d=h<v?u[h++]:0):(f=u.charCodeAt(h++),c=h<v?u.charCodeAt(h++):0,d=h<v?u.charCodeAt(h++):0),g=f>>2,w=(f&3)<<4|c>>4,E=y>1?(c&15)<<2|d>>6:64,p=y>2?d&63:64,l.push(a.charAt(g)+a.charAt(w)+a.charAt(E)+a.charAt(p));return l.join("")},i.decode=function(u){var l,f,c,d,g,w,E,p=0,h=0,v="data:";if(u.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");var y=u.length*3/4;if(u.charAt(u.length-1)===a.charAt(64)&&y--,u.charAt(u.length-2)===a.charAt(64)&&y--,y%1!==0)throw new Error("Invalid base64 input, bad content length.");var x;for(o.uint8array?x=new Uint8Array(y|0):x=new Array(y|0);p<u.length;)d=a.indexOf(u.charAt(p++)),g=a.indexOf(u.charAt(p++)),w=a.indexOf(u.charAt(p++)),E=a.indexOf(u.charAt(p++)),l=d<<2|g>>4,f=(g&15)<<4|w>>2,c=(w&3)<<6|E,x[h++]=l,w!==64&&(x[h++]=f),E!==64&&(x[h++]=c);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function l(f,c,d,g,w){this.compressedSize=f,this.uncompressedSize=c,this.crc32=d,this.compression=g,this.compressedContent=w}l.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(f,c,d){return f.pipe(new a).pipe(new u("uncompressedSize")).pipe(c.compressWorker(d)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},r.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(o){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils");function o(){for(var f,c=[],d=0;d<256;d++){f=d;for(var g=0;g<8;g++)f=f&1?3988292384^f>>>1:f>>>1;c[d]=f}return c}var a=o();function u(f,c,d,g){var w=a,E=g+d;f=f^-1;for(var p=g;p<E;p++)f=f>>>8^w[(f^c[p])&255];return f^-1}function l(f,c,d,g){var w=a,E=g+d;f=f^-1;for(var p=g;p<E;p++)f=f>>>8^w[(f^c.charCodeAt(p))&255];return f^-1}r.exports=function(c,d){if(typeof c=="undefined"||!c.length)return 0;var g=s.getTypeOf(c)!=="string";return g?u(d|0,c,c.length,0):l(d|0,c,c.length,0)}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;typeof Promise!="undefined"?s=Promise:s=n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",o=n("pako"),a=n("./utils"),u=n("./stream/GenericWorker"),l=s?"uint8array":"array";i.magic="\b\0";function f(c,d){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=d,this.meta={}}a.inherits(f,u),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(l,c.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(d){c.push({data:d,meta:c.meta})}},i.compressWorker=function(c){return new f("Deflate",c)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker"),a=n("../utf8"),u=n("../crc32"),l=n("../signature"),f=function(h,v){var y="",x;for(x=0;x<v;x++)y+=String.fromCharCode(h&255),h=h>>>8;return y},c=function(h,v){var y=h;return h||(y=v?16893:33204),(y&65535)<<16},d=function(h,v){return(h||0)&63},g=function(h,v,y,x,_,b){var T=h.file,O=h.compression,R=b!==a.utf8encode,z=s.transformTo("string",b(T.name)),W=s.transformTo("string",a.utf8encode(T.name)),U=T.comment,H=s.transformTo("string",b(U)),fe=s.transformTo("string",a.utf8encode(U)),X=W.length!==T.name.length,ie=fe.length!==U.length,se,oe,_e="",ke="",q="",Y=T.dir,ue=T.date,de={crc32:0,compressedSize:0,uncompressedSize:0};(!v||y)&&(de.crc32=h.crc32,de.compressedSize=h.compressedSize,de.uncompressedSize=h.uncompressedSize);var Te=0;v&&(Te|=8),!R&&(X||ie)&&(Te|=2048);var Fe=0,Me=0;Y&&(Fe|=16),_==="UNIX"?(Me=798,Fe|=c(T.unixPermissions,Y)):(Me=20,Fe|=d(T.dosPermissions)),se=ue.getUTCHours(),se=se<<6,se=se|ue.getUTCMinutes(),se=se<<5,se=se|ue.getUTCSeconds()/2,oe=ue.getUTCFullYear()-1980,oe=oe<<4,oe=oe|ue.getUTCMonth()+1,oe=oe<<5,oe=oe|ue.getUTCDate(),X&&(ke=f(1,1)+f(u(z),4)+W,_e+="up"+f(ke.length,2)+ke),ie&&(q=f(1,1)+f(u(H),4)+fe,_e+="uc"+f(q.length,2)+q);var Se="";Se+=`
\0`,Se+=f(Te,2),Se+=O.magic,Se+=f(se,2),Se+=f(oe,2),Se+=f(de.crc32,4),Se+=f(de.compressedSize,4),Se+=f(de.uncompressedSize,4),Se+=f(z.length,2),Se+=f(_e.length,2);var He=l.LOCAL_FILE_HEADER+Se+z+_e,at=l.CENTRAL_FILE_HEADER+f(Me,2)+Se+f(H.length,2)+"\0\0\0\0"+f(Fe,4)+f(x,4)+z+_e+H;return{fileRecord:He,dirRecord:at}},w=function(h,v,y,x,_){var b="",T=s.transformTo("string",_(x));return b=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(h,2)+f(h,2)+f(v,4)+f(y,4)+f(T.length,2)+T,b},E=function(h){var v="";return v=l.DATA_DESCRIPTOR+f(h.crc32,4)+f(h.compressedSize,4)+f(h.uncompressedSize,4),v};function p(h,v,y,x){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,o),p.prototype.push=function(h){var v=h.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,o.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-x-1))/y:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var y=g(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,y=g(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:E(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-h,x=w(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(y){v.processChunk(y)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(y){v.error(y)}),this},p.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(h){var v=this._sources;if(!o.prototype.error.call(this,h))return!1;for(var y=0;y<v.length;y++)try{v[y].error(h)}catch{}return!0},p.prototype.lock=function(){o.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker"),a=function(u,l){var f=u||l,c=s[f];if(!c)throw new Error(f+" is not a valid compression method !");return c};i.generateWorker=function(u,l,f){var c=new o(l.streamFiles,f,l.platform,l.encodeFileName),d=0;try{u.forEach(function(g,w){d++;var E=a(w.options.compression,l.compression),p=w.options.compressionOptions||l.compressionOptions||{},h=w.dir,v=w.date;w._compressWorker(E,p).withStreamInfo("file",{name:g,dir:h,date:v,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(g){c.error(g)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}s.prototype=n("./object"),s.prototype.loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.7.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),u=n("./zipEntries"),l=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function c(d){return new o.Promise(function(g,w){var E=d.decompressed.getContentWorker().pipe(new l);E.on("error",function(p){w(p)}).on("end",function(){E.streamInfo.crc32!==d.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(d,g){var w=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,g.optimizedBinaryString,g.base64).then(function(E){var p=new u(g);return p.load(E),p}).then(function(p){var h=[o.Promise.resolve(p)],v=p.files;if(g.checkCRC32)for(var y=0;y<v.length;y++)h.push(c(v[y]));return o.Promise.all(h)}).then(function(p){for(var h=p.shift(),v=h.files,y=0;y<v.length;y++){var x=v[y];w.file(x.fileNameStr,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:g.createFolders})}return h.zipComment.length&&(w.comment=h.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(u,l){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}s.inherits(a,o),a.prototype._bindStream=function(u){var l=this;this._stream=u,u.pause(),u.on("data",function(f){l.push({data:f,meta:{percent:0}})}).on("error",function(f){l.isPaused?this.generatedError=f:l.error(f)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},a.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},a.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable,o=n("../utils");o.inherits(a,s);function a(u,l,f){s.call(this,l),this._helper=u;var c=this;u.on("data",function(d,g){c.push(d)||c._helper.pause(),f&&f(g)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){var s=n("./utf8"),o=n("./utils"),a=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),l=n("./defaults"),f=n("./compressedObject"),c=n("./zipObject"),d=n("./generate"),g=n("./nodejsUtils"),w=n("./nodejs/NodejsStreamInputAdapter"),E=function(_,b,T){var O=o.getTypeOf(b),R,z=o.extend(T||{},l);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&z.unixPermissions&16384&&(z.dir=!0),z.dosPermissions&&z.dosPermissions&16&&(z.dir=!0),z.dir&&(_=h(_)),z.createFolders&&(R=p(_))&&v.call(this,R,!0);var W=O==="string"&&z.binary===!1&&z.base64===!1;(!T||typeof T.binary=="undefined")&&(z.binary=!W);var U=b instanceof f&&b.uncompressedSize===0;(U||z.dir||!b||b.length===0)&&(z.base64=!1,z.binary=!0,b="",z.compression="STORE",O="string");var H=null;b instanceof f||b instanceof a?H=b:g.isNode&&g.isStream(b)?H=new w(_,b):H=o.prepareContent(_,b,z.binary,z.optimizedBinaryString,z.base64);var fe=new c(_,H,z);this.files[_]=fe},p=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var b=_.lastIndexOf("/");return b>0?_.substring(0,b):""},h=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},v=function(_,b){return b=typeof b!="undefined"?b:l.createFolders,_=h(_),this.files[_]||E.call(this,_,null,{dir:!0,createFolders:b}),this.files[_]};function y(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var b,T,O;for(b in this.files)O=this.files[b],T=b.slice(this.root.length,b.length),T&&b.slice(0,this.root.length)===this.root&&_(T,O)},filter:function(_){var b=[];return this.forEach(function(T,O){_(T,O)&&b.push(O)}),b},file:function(_,b,T){if(arguments.length===1)if(y(_)){var O=_;return this.filter(function(z,W){return!W.dir&&O.test(z)})}else{var R=this.files[this.root+_];return R&&!R.dir?R:null}else _=this.root+_,E.call(this,_,b,T);return this},folder:function(_){if(!_)return this;if(y(_))return this.filter(function(R,z){return z.dir&&_.test(R)});var b=this.root+_,T=v.call(this,b),O=this.clone();return O.root=T.name,O},remove:function(_){_=this.root+_;var b=this.files[_];if(b||(_.slice(-1)!=="/"&&(_+="/"),b=this.files[_]),b&&!b.dir)delete this.files[_];else for(var T=this.filter(function(R,z){return z.name.slice(0,_.length)===_}),O=0;O<T.length;O++)delete this.files[T[O].name];return this},generate:function(_){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var b,T={};try{if(T=o.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),T.type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");o.checkSupport(T.type),(T.platform==="darwin"||T.platform==="freebsd"||T.platform==="linux"||T.platform==="sunos")&&(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var O=T.comment||this.comment||"";b=d.generateWorker(this,T,O)}catch(R){b=new a("error"),b.error(R)}return new u(b,T.type||"string",T.mimeType)},generateAsync:function(_,b){return this.generateInternalStream(_).accumulate(b)},generateNodeStream:function(_,b){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(b)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader"),o=n("../utils");function a(u){s.call(this,u);for(var l=0;l<this.data.length;l++)u[l]=u[l]&255}o.inherits(a,s),a.prototype.byteAt=function(u){return this.data[this.zero+u]},a.prototype.lastIndexOfSignature=function(u){for(var l=u.charCodeAt(0),f=u.charCodeAt(1),c=u.charCodeAt(2),d=u.charCodeAt(3),g=this.length-4;g>=0;--g)if(this.data[g]===l&&this.data[g+1]===f&&this.data[g+2]===c&&this.data[g+3]===d)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(u){var l=u.charCodeAt(0),f=u.charCodeAt(1),c=u.charCodeAt(2),d=u.charCodeAt(3),g=this.readData(4);return l===g[0]&&f===g[1]&&c===g[2]&&d===g[3]},a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var u=0,l;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readAndCheckSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(a&31)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader"),o=n("../utils");function a(u){s.call(this,u)}o.inherits(a,s),a.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader"),o=n("../utils");function a(u){s.call(this,u)}o.inherits(a,s),a.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},a.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},a.prototype.readAndCheckSignature=function(u){var l=this.readData(4);return u===l},a.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader"),o=n("../utils");function a(u){s.call(this,u)}o.inherits(a,s),a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),u=n("./StringReader"),l=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(c){var d=s.getTypeOf(c);return s.checkSupport(d),d==="string"&&!o.uint8array?new u(c):d==="nodebuffer"?new l(c):o.uint8array?new f(s.transformTo("uint8array",c)):new a(s.transformTo("array",c))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(a,s),a.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32"),a=n("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a.inherits(u,s),u.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(a,o),a.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker"),a=16*1024;function u(l){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){f.dataIsReady=!0,f.data=c,f.max=c&&c.length||0,f.type=s.getTypeOf(c),f.isPaused||f._tickAndRepeat()},function(c){f.error(c)})}s.inherits(u,o),u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=a,f=null,c=Math.min(this.max,this.index+l);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,c);break;case"uint8array":f=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":f=this.data.slice(this.index,c);break}return this.index=c,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(u){a.processChunk(u)}),o.on("end",function(){a.end()}),o.on("error",function(u){a.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(o)||(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),u=n("../base64"),l=n("../support"),f=n("../external"),c=null;if(l.nodestream)try{c=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(p,h,v){switch(p){case"blob":return s.newBlob(s.transformTo("arraybuffer",h),v);case"base64":return u.encode(h);default:return s.transformTo(p,h)}}function g(p,h){var v,y=0,x=null,_=0;for(v=0;v<h.length;v++)_+=h[v].length;switch(p){case"string":return h.join("");case"array":return Array.prototype.concat.apply([],h);case"uint8array":for(x=new Uint8Array(_),v=0;v<h.length;v++)x.set(h[v],y),y+=h[v].length;return x;case"nodebuffer":return Buffer.concat(h);default:throw new Error("concat : unsupported type '"+p+"'")}}function w(p,h){return new f.Promise(function(v,y){var x=[],_=p._internalType,b=p._outputType,T=p._mimeType;p.on("data",function(O,R){x.push(O),h&&h(R)}).on("error",function(O){x=[],y(O)}).on("end",function(){try{var O=d(b,g(_,x),T);v(O)}catch(R){y(R)}x=[]}).resume()})}function E(p,h,v){var y=h;switch(h){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string";break}try{this._internalType=y,this._outputType=h,this._mimeType=v,s.checkSupport(y),this._worker=p.pipe(new o(y)),p.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}E.prototype={accumulate:function(p){return w(this,p)},on:function(p,h){var v=this;return p==="data"?this._worker.on(p,function(y){h.call(v,y.data,y.meta)}):this._worker.on(p,function(){s.delay(h,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,a=new o;a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),u=n("./stream/GenericWorker"),l=new Array(256),f=0;f<256;f++)l[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;l[254]=l[254]=1;var c=function(p){var h,v,y,x,_,b=p.length,T=0;for(x=0;x<b;x++)v=p.charCodeAt(x),(v&64512)===55296&&x+1<b&&(y=p.charCodeAt(x+1),(y&64512)===56320&&(v=65536+(v-55296<<10)+(y-56320),x++)),T+=v<128?1:v<2048?2:v<65536?3:4;for(o.uint8array?h=new Uint8Array(T):h=new Array(T),_=0,x=0;_<T;x++)v=p.charCodeAt(x),(v&64512)===55296&&x+1<b&&(y=p.charCodeAt(x+1),(y&64512)===56320&&(v=65536+(v-55296<<10)+(y-56320),x++)),v<128?h[_++]=v:v<2048?(h[_++]=192|v>>>6,h[_++]=128|v&63):v<65536?(h[_++]=224|v>>>12,h[_++]=128|v>>>6&63,h[_++]=128|v&63):(h[_++]=240|v>>>18,h[_++]=128|v>>>12&63,h[_++]=128|v>>>6&63,h[_++]=128|v&63);return h},d=function(p,h){var v;for(h=h||p.length,h>p.length&&(h=p.length),v=h-1;v>=0&&(p[v]&192)===128;)v--;return v<0||v===0?h:v+l[p[v]]>h?v:h},g=function(p){var h,v,y,x,_=p.length,b=new Array(_*2);for(v=0,h=0;h<_;){if(y=p[h++],y<128){b[v++]=y;continue}if(x=l[y],x>4){b[v++]=65533,h+=x-1;continue}for(y&=x===2?31:x===3?15:7;x>1&&h<_;)y=y<<6|p[h++]&63,x--;if(x>1){b[v++]=65533;continue}y<65536?b[v++]=y:(y-=65536,b[v++]=55296|y>>10&1023,b[v++]=56320|y&1023)}return b.length!==v&&(b.subarray?b=b.subarray(0,v):b.length=v),s.applyFromCharCode(b)};i.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):c(h)},i.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(h=s.transformTo(o.uint8array?"uint8array":"array",h),g(h))};function w(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(w,u),w.prototype.processChunk=function(p){var h=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=h;h=new Uint8Array(v.length+this.leftOver.length),h.set(this.leftOver,0),h.set(v,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var y=d(h),x=h;y!==h.length&&(o.uint8array?(x=h.subarray(0,y),this.leftOver=h.subarray(y,h.length)):(x=h.slice(0,y),this.leftOver=h.slice(y,h.length))),this.push({data:i.utf8decode(x),meta:p.meta})},w.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=w;function E(){u.call(this,"utf-8 encode")}s.inherits(E,u),E.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),u=n("set-immediate-shim"),l=n("./external");function f(h){var v=null;return s.uint8array?v=new Uint8Array(h.length):v=new Array(h.length),d(h,v)}i.newBlob=function(h,v){i.checkSupport("blob");try{return new Blob([h],{type:v})}catch{try{var y=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new y;return x.append(h),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(h){return h}function d(h,v){for(var y=0;y<h.length;++y)v[y]=h.charCodeAt(y)&255;return v}var g={stringifyByChunk:function(h,v,y){var x=[],_=0,b=h.length;if(b<=y)return String.fromCharCode.apply(null,h);for(;_<b;)v==="array"||v==="nodebuffer"?x.push(String.fromCharCode.apply(null,h.slice(_,Math.min(_+y,b)))):x.push(String.fromCharCode.apply(null,h.subarray(_,Math.min(_+y,b)))),_+=y;return x.join("")},stringifyByChar:function(h){for(var v="",y=0;y<h.length;y++)v+=String.fromCharCode(h[y]);return v},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function w(h){var v=65536,y=i.getTypeOf(h),x=!0;if(y==="uint8array"?x=g.applyCanBeUsed.uint8array:y==="nodebuffer"&&(x=g.applyCanBeUsed.nodebuffer),x)for(;v>1;)try{return g.stringifyByChunk(h,y,v)}catch{v=Math.floor(v/2)}return g.stringifyByChar(h)}i.applyFromCharCode=w;function E(h,v){for(var y=0;y<h.length;y++)v[y]=h[y];return v}var p={};p.string={string:c,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return p.string.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:function(h){return d(h,a.allocBuffer(h.length))}},p.array={string:w,array:c,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(h)}},p.arraybuffer={string:function(h){return w(new Uint8Array(h))},array:function(h){return E(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:c,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(new Uint8Array(h))}},p.uint8array={string:w,array:function(h){return E(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:c,nodebuffer:function(h){return a.newBufferFrom(h)}},p.nodebuffer={string:w,array:function(h){return E(h,new Array(h.length))},arraybuffer:function(h){return p.nodebuffer.uint8array(h).buffer},uint8array:function(h){return E(h,new Uint8Array(h.length))},nodebuffer:c},i.transformTo=function(h,v){if(v||(v=""),!h)return v;i.checkSupport(h);var y=i.getTypeOf(v),x=p[y][h](v);return x},i.getTypeOf=function(h){if(typeof h=="string")return"string";if(Object.prototype.toString.call(h)==="[object Array]")return"array";if(s.nodebuffer&&a.isBuffer(h))return"nodebuffer";if(s.uint8array&&h instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&h instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(h){var v=s[h.toLowerCase()];if(!v)throw new Error(h+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(h){var v="",y,x;for(x=0;x<(h||"").length;x++)y=h.charCodeAt(x),v+="\\x"+(y<16?"0":"")+y.toString(16).toUpperCase();return v},i.delay=function(h,v,y){u(function(){h.apply(y||null,v||[])})},i.inherits=function(h,v){var y=function(){};y.prototype=v.prototype,h.prototype=new y},i.extend=function(){var h={},v,y;for(v=0;v<arguments.length;v++)for(y in arguments[v])arguments[v].hasOwnProperty(y)&&typeof h[y]=="undefined"&&(h[y]=arguments[v][y]);return h},i.prepareContent=function(h,v,y,x,_){var b=l.Promise.resolve(v).then(function(T){var O=s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1);return O&&typeof FileReader!="undefined"?new l.Promise(function(R,z){var W=new FileReader;W.onload=function(U){R(U.target.result)},W.onerror=function(U){z(U.target.error)},W.readAsArrayBuffer(T)}):T});return b.then(function(T){var O=i.getTypeOf(T);return O?(O==="arraybuffer"?T=i.transformTo("uint8array",T):O==="string"&&(_?T=o.decode(T):y&&x!==!0&&(T=f(T))),T):l.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),u=n("./zipEntry");n("./utf8");var l=n("./support");function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(c)+")")}},isSignature:function(c,d){var g=this.reader.index;this.reader.setIndex(c);var w=this.reader.readString(4),E=w===d;return this.reader.setIndex(g),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),d=l.uint8array?"uint8array":"array",g=o.transformTo(d,c);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c=this.zip64EndOfCentralSize-44,d=0,g,w,E;d<c;)g=this.reader.readInt(2),w=this.reader.readInt(4),E=this.reader.readData(w),this.zip64ExtensibleData[g]={id:g,length:w,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,d;for(c=0;c<this.files.length;c++)d=this.files[c],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)c=new u({zip64:this.zip64},this.loadOptions),c.readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(c<0){var d=!this.isSignature(0,a.LOCAL_FILE_HEADER);throw d?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(c);var g=c;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,c=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),c<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var E=g-w;if(E>0)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(c){this.reader=s(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),u=n("./crc32"),l=n("./utf8"),f=n("./compressions"),c=n("./support"),d=0,g=3,w=function(p){for(var h in f)if(!!f.hasOwnProperty(h)&&f[h].magic===p)return f[h];return null};function E(p,h){this.options=p,this.loadOptions=h}E.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(p){var h,v;if(p.skip(22),this.fileNameLength=p.readInt(2),v=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(h=w(this.compressionMethod),h===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,h,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var h=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(h),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===d&&(this.dosPermissions=this.externalFileAttributes&63),p===g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(p){if(!!this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(p){var h=p.index+this.extraFieldsLength,v,y,x;for(this.extraFields||(this.extraFields={});p.index+4<h;)v=p.readInt(2),y=p.readInt(2),x=p.readData(y),this.extraFields[v]={id:v,length:y,value:x};p.setIndex(h)},handleUTF8:function(){var p=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var v=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var x=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var h=s(p.value);return h.readInt(1)!==1||u(this.fileName)!==h.readInt(4)?null:l.utf8decode(h.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var h=s(p.value);return h.readInt(1)!==1||u(this.fileComment)!==h.readInt(4)?null:l.utf8decode(h.readData(p.length-5))}return null}},r.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),a=n("./utf8"),u=n("./compressedObject"),l=n("./stream/GenericWorker"),f=function(w,E,p){this.name=w,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=E,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};f.prototype={internalStream:function(w){var E=null,p="string";try{if(!w)throw new Error("No output type specified.");p=w.toLowerCase();var h=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),E=this._decompressWorker();var v=!this._dataBinary;v&&!h&&(E=E.pipe(new a.Utf8EncodeWorker)),!v&&h&&(E=E.pipe(new a.Utf8DecodeWorker))}catch(y){E=new l("error"),E.error(y)}return new s(E,p,"")},async:function(w,E){return this.internalStream(w).accumulate(E)},nodeStream:function(w,E){return this.internalStream(w||"nodebuffer").toNodejsStream(E)},_compressWorker:function(w,E){if(this._data instanceof u&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new a.Utf8EncodeWorker)),u.createWorkerFrom(p,w,E)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<c.length;g++)f.prototype[c[g]]=d;r.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(w),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var c=new s.MessageChannel;c.port1.onmessage=w,a=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){w(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:a=function(){setTimeout(w,0)};var d,g=[];function w(){d=!0;for(var p,h,v=g.length;v;){for(h=g,g=[],p=-1;++p<v;)h[p]();v=g.length}d=!1}r.exports=E;function E(p){g.push(p)===1&&!d&&a()}}).call(this,typeof Vn!="undefined"?Vn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];r.exports=c;function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&E(this,_)}c.prototype.finally=function(_){if(typeof _!="function")return this;var b=this.constructor;return this.then(T,O);function T(R){function z(){return R}return b.resolve(_()).then(z)}function O(R){function z(){throw R}return b.resolve(_()).then(z)}},c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,b){if(typeof _!="function"&&this.state===l||typeof b!="function"&&this.state===u)return this;var T=new this.constructor(o);if(this.state!==f){var O=this.state===l?_:b;g(T,O,this.outcome)}else this.queue.push(new d(T,_,b));return T};function d(_,b,T){this.promise=_,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},d.prototype.otherCallFulfilled=function(_){g(this.promise,this.onFulfilled,_)},d.prototype.callRejected=function(_){a.reject(this.promise,_)},d.prototype.otherCallRejected=function(_){g(this.promise,this.onRejected,_)};function g(_,b,T){s(function(){var O;try{O=b(T)}catch(R){return a.reject(_,R)}O===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,O)})}a.resolve=function(_,b){var T=p(w,b);if(T.status==="error")return a.reject(_,T.value);var O=T.value;if(O)E(_,O);else{_.state=l,_.outcome=b;for(var R=-1,z=_.queue.length;++R<z;)_.queue[R].callFulfilled(b)}return _},a.reject=function(_,b){_.state=u,_.outcome=b;for(var T=-1,O=_.queue.length;++T<O;)_.queue[T].callRejected(b);return _};function w(_){var b=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof b=="function")return function(){b.apply(_,arguments)}}function E(_,b){var T=!1;function O(U){T||(T=!0,a.reject(_,U))}function R(U){T||(T=!0,a.resolve(_,U))}function z(){b(R,O)}var W=p(z);W.status==="error"&&O(W.value)}function p(_,b){var T={};try{T.value=_(b),T.status="success"}catch(O){T.status="error",T.value=O}return T}c.resolve=h;function h(_){return _ instanceof this?_:a.resolve(new this(o),_)}c.reject=v;function v(_){var b=new this(o);return a.reject(b,_)}c.all=y;function y(_){var b=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,O=!1;if(!T)return this.resolve([]);for(var R=new Array(T),z=0,W=-1,U=new this(o);++W<T;)H(_[W],W);return U;function H(fe,X){b.resolve(fe).then(ie,function(se){O||(O=!0,a.reject(U,se))});function ie(se){R[X]=se,++z===T&&!O&&(O=!0,a.resolve(U,R))}}}c.race=x;function x(_){var b=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,O=!1;if(!T)return this.resolve([]);for(var R=-1,z=new this(o);++R<T;)W(_[R]);return z;function W(U){b.resolve(U).then(function(H){O||(O=!0,a.resolve(z,H))},function(H){O||(O=!0,a.reject(z,H))})}}},{immediate:36}],38:[function(n,r,i){var s=n("./lib/utils/common").assign,o=n("./lib/deflate"),a=n("./lib/inflate"),u=n("./lib/zlib/constants"),l={};s(l,o,a,u),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),u=n("./zlib/messages"),l=n("./zlib/zstream"),f=Object.prototype.toString,c=0,d=4,g=0,w=1,E=2,p=-1,h=0,v=8;function y(T){if(!(this instanceof y))return new y(T);this.options=o.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},T||{});var O=this.options;O.raw&&O.windowBits>0?O.windowBits=-O.windowBits:O.gzip&&O.windowBits>0&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var R=s.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(R!==g)throw new Error(u[R]);if(O.header&&s.deflateSetHeader(this.strm,O.header),O.dictionary){var z;if(typeof O.dictionary=="string"?z=a.string2buf(O.dictionary):f.call(O.dictionary)==="[object ArrayBuffer]"?z=new Uint8Array(O.dictionary):z=O.dictionary,R=s.deflateSetDictionary(this.strm,z),R!==g)throw new Error(u[R]);this._dict_set=!0}}y.prototype.push=function(T,O){var R=this.strm,z=this.options.chunkSize,W,U;if(this.ended)return!1;U=O===~~O?O:O===!0?d:c,typeof T=="string"?R.input=a.string2buf(T):f.call(T)==="[object ArrayBuffer]"?R.input=new Uint8Array(T):R.input=T,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(z),R.next_out=0,R.avail_out=z),W=s.deflate(R,U),W!==w&&W!==g)return this.onEnd(W),this.ended=!0,!1;(R.avail_out===0||R.avail_in===0&&(U===d||U===E))&&(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(R.output,R.next_out))):this.onData(o.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&W!==w);return U===d?(W=s.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===g):(U===E&&(this.onEnd(g),R.avail_out=0),!0)},y.prototype.onData=function(T){this.chunks.push(T)},y.prototype.onEnd=function(T){T===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function x(T,O){var R=new y(O);if(R.push(T,!0),R.err)throw R.msg||u[R.err];return R.result}function _(T,O){return O=O||{},O.raw=!0,x(T,O)}function b(T,O){return O=O||{},O.gzip=!0,x(T,O)}i.Deflate=y,i.deflate=x,i.deflateRaw=_,i.gzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),u=n("./zlib/constants"),l=n("./zlib/messages"),f=n("./zlib/zstream"),c=n("./zlib/gzheader"),d=Object.prototype.toString;function g(p){if(!(this instanceof g))return new g(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(p&&p.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15)===0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,h.windowBits);if(v!==u.Z_OK)throw new Error(l[v]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}g.prototype.push=function(p,h){var v=this.strm,y=this.options.chunkSize,x=this.options.dictionary,_,b,T,O,R,z,W=!1;if(this.ended)return!1;b=h===~~h?h:h===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?v.input=a.binstring2buf(p):d.call(p)==="[object ArrayBuffer]"?v.input=new Uint8Array(p):v.input=p,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new o.Buf8(y),v.next_out=0,v.avail_out=y),_=s.inflate(v,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&x&&(typeof x=="string"?z=a.string2buf(x):d.call(x)==="[object ArrayBuffer]"?z=new Uint8Array(x):z=x,_=s.inflateSetDictionary(this.strm,z)),_===u.Z_BUF_ERROR&&W===!0&&(_=u.Z_OK,W=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;v.next_out&&(v.avail_out===0||_===u.Z_STREAM_END||v.avail_in===0&&(b===u.Z_FINISH||b===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(T=a.utf8border(v.output,v.next_out),O=v.next_out-T,R=a.buf2string(v.output,T),v.next_out=O,v.avail_out=y-O,O&&o.arraySet(v.output,v.output,T,O,0),this.onData(R)):this.onData(o.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(W=!0)}while((v.avail_in>0||v.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(b=u.Z_FINISH),b===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(b===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),v.avail_out=0),!0)},g.prototype.onData=function(p){this.chunks.push(p)},g.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function w(p,h){var v=new g(h);if(v.push(p,!0),v.err)throw v.msg||l[v.err];return v.result}function E(p,h){return h=h||{},h.raw=!0,w(p,h)}i.Inflate=g,i.inflate=w,i.inflateRaw=E,i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var f=l.shift();if(!!f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])}}return u},i.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var o={arraySet:function(u,l,f,c,d){if(l.subarray&&u.subarray){u.set(l.subarray(f,f+c),d);return}for(var g=0;g<c;g++)u[d+g]=l[f+g]},flattenChunks:function(u){var l,f,c,d,g,w;for(c=0,l=0,f=u.length;l<f;l++)c+=u[l].length;for(w=new Uint8Array(c),d=0,l=0,f=u.length;l<f;l++)g=u[l],w.set(g,d),d+=g.length;return w}},a={arraySet:function(u,l,f,c,d){for(var g=0;g<c;g++)u[d+g]=l[f+g]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new s.Buf8(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,i.string2buf=function(c){var d,g,w,E,p,h=c.length,v=0;for(E=0;E<h;E++)g=c.charCodeAt(E),(g&64512)===55296&&E+1<h&&(w=c.charCodeAt(E+1),(w&64512)===56320&&(g=65536+(g-55296<<10)+(w-56320),E++)),v+=g<128?1:g<2048?2:g<65536?3:4;for(d=new s.Buf8(v),p=0,E=0;p<v;E++)g=c.charCodeAt(E),(g&64512)===55296&&E+1<h&&(w=c.charCodeAt(E+1),(w&64512)===56320&&(g=65536+(g-55296<<10)+(w-56320),E++)),g<128?d[p++]=g:g<2048?(d[p++]=192|g>>>6,d[p++]=128|g&63):g<65536?(d[p++]=224|g>>>12,d[p++]=128|g>>>6&63,d[p++]=128|g&63):(d[p++]=240|g>>>18,d[p++]=128|g>>>12&63,d[p++]=128|g>>>6&63,d[p++]=128|g&63);return d};function f(c,d){if(d<65537&&(c.subarray&&a||!c.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(c,d));for(var g="",w=0;w<d;w++)g+=String.fromCharCode(c[w]);return g}i.buf2binstring=function(c){return f(c,c.length)},i.binstring2buf=function(c){for(var d=new s.Buf8(c.length),g=0,w=d.length;g<w;g++)d[g]=c.charCodeAt(g);return d},i.buf2string=function(c,d){var g,w,E,p,h=d||c.length,v=new Array(h*2);for(w=0,g=0;g<h;){if(E=c[g++],E<128){v[w++]=E;continue}if(p=u[E],p>4){v[w++]=65533,g+=p-1;continue}for(E&=p===2?31:p===3?15:7;p>1&&g<h;)E=E<<6|c[g++]&63,p--;if(p>1){v[w++]=65533;continue}E<65536?v[w++]=E:(E-=65536,v[w++]=55296|E>>10&1023,v[w++]=56320|E&1023)}return f(v,w)},i.utf8border=function(c,d){var g;for(d=d||c.length,d>c.length&&(d=c.length),g=d-1;g>=0&&(c[g]&192)===128;)g--;return g<0||g===0?d:g+u[c[g]]>d?g:d}},{"./common":41}],43:[function(n,r,i){function s(o,a,u,l){for(var f=o&65535|0,c=o>>>16&65535|0,d=0;u!==0;){d=u>2e3?2e3:u,u-=d;do f=f+a[l++]|0,c=c+f|0;while(--d);f%=65521,c%=65521}return f|c<<16|0}r.exports=s},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){function s(){for(var u,l=[],f=0;f<256;f++){u=f;for(var c=0;c<8;c++)u=u&1?3988292384^u>>>1:u>>>1;l[f]=u}return l}var o=s();function a(u,l,f,c){var d=o,g=c+f;u^=-1;for(var w=c;w<g;w++)u=u>>>8^d[(u^l[w])&255];return u^-1}r.exports=a},{}],46:[function(n,r,i){var s=n("../utils/common"),o=n("./trees"),a=n("./adler32"),u=n("./crc32"),l=n("./messages"),f=0,c=1,d=3,g=4,w=5,E=0,p=1,h=-2,v=-3,y=-5,x=-1,_=1,b=2,T=3,O=4,R=0,z=2,W=8,U=9,H=15,fe=8,X=29,ie=256,se=ie+1+X,oe=30,_e=19,ke=2*se+1,q=15,Y=3,ue=258,de=ue+Y+1,Te=32,Fe=42,Me=69,Se=73,He=91,at=103,je=113,tt=666,ze=1,kt=2,ct=3,en=4,Be=3;function wt(m,j){return m.msg=l[j],j}function Pn(m){return(m<<1)-(m>4?9:0)}function Lt(m){for(var j=m.length;--j>=0;)m[j]=0}function At(m){var j=m.state,K=j.pending;K>m.avail_out&&(K=m.avail_out),K!==0&&(s.arraySet(m.output,j.pending_buf,j.pending_out,K,m.next_out),m.next_out+=K,j.pending_out+=K,m.total_out+=K,m.avail_out-=K,j.pending-=K,j.pending===0&&(j.pending_out=0))}function Ve(m,j){o._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,j),m.block_start=m.strstart,At(m.strm)}function Ce(m,j){m.pending_buf[m.pending++]=j}function Vt(m,j){m.pending_buf[m.pending++]=j>>>8&255,m.pending_buf[m.pending++]=j&255}function gr(m,j,K,k){var D=m.avail_in;return D>k&&(D=k),D===0?0:(m.avail_in-=D,s.arraySet(j,m.input,m.next_in,D,K),m.state.wrap===1?m.adler=a(m.adler,j,D,K):m.state.wrap===2&&(m.adler=u(m.adler,j,D,K)),m.next_in+=D,m.total_in+=D,D)}function Ln(m,j){var K=m.max_chain_length,k=m.strstart,D,F,me=m.prev_length,le=m.nice_match,he=m.strstart>m.w_size-de?m.strstart-(m.w_size-de):0,Oe=m.window,Bn=m.w_mask,nt=m.prev,Ae=m.strstart+ue,ht=Oe[k+me-1],Tt=Oe[k+me];m.prev_length>=m.good_match&&(K>>=2),le>m.lookahead&&(le=m.lookahead);do if(D=j,!(Oe[D+me]!==Tt||Oe[D+me-1]!==ht||Oe[D]!==Oe[k]||Oe[++D]!==Oe[k+1])){k+=2,D++;do;while(Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&Oe[++k]===Oe[++D]&&k<Ae);if(F=ue-(Ae-k),k=Ae-ue,F>me){if(m.match_start=j,me=F,F>=le)break;ht=Oe[k+me-1],Tt=Oe[k+me]}}while((j=nt[j&Bn])>he&&--K!==0);return me<=m.lookahead?me:m.lookahead}function qt(m){var j=m.w_size,K,k,D,F,me;do{if(F=m.window_size-m.lookahead-m.strstart,m.strstart>=j+(j-de)){s.arraySet(m.window,m.window,j,j,0),m.match_start-=j,m.strstart-=j,m.block_start-=j,k=m.hash_size,K=k;do D=m.head[--K],m.head[K]=D>=j?D-j:0;while(--k);k=j,K=k;do D=m.prev[--K],m.prev[K]=D>=j?D-j:0;while(--k);F+=j}if(m.strm.avail_in===0)break;if(k=gr(m.strm,m.window,m.strstart+m.lookahead,F),m.lookahead+=k,m.lookahead+m.insert>=Y)for(me=m.strstart-m.insert,m.ins_h=m.window[me],m.ins_h=(m.ins_h<<m.hash_shift^m.window[me+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[me+Y-1])&m.hash_mask,m.prev[me&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=me,me++,m.insert--,!(m.lookahead+m.insert<Y)););}while(m.lookahead<de&&m.strm.avail_in!==0)}function yr(m,j){var K=65535;for(K>m.pending_buf_size-5&&(K=m.pending_buf_size-5);;){if(m.lookahead<=1){if(qt(m),m.lookahead===0&&j===f)return ze;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var k=m.block_start+K;if((m.strstart===0||m.strstart>=k)&&(m.lookahead=m.strstart-k,m.strstart=k,Ve(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-de&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=0,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):(m.strstart>m.block_start&&(Ve(m,!1),m.strm.avail_out===0),ze)}function zn(m,j){for(var K,k;;){if(m.lookahead<de){if(qt(m),m.lookahead<de&&j===f)return ze;if(m.lookahead===0)break}if(K=0,m.lookahead>=Y&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,K=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),K!==0&&m.strstart-K<=m.w_size-de&&(m.match_length=Ln(m,K)),m.match_length>=Y)if(k=o._tr_tally(m,m.strstart-m.match_start,m.match_length-Y),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=Y){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,K=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else k=o._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(k&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=m.strstart<Y-1?m.strstart:Y-1,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function tn(m,j){for(var K,k,D;;){if(m.lookahead<de){if(qt(m),m.lookahead<de&&j===f)return ze;if(m.lookahead===0)break}if(K=0,m.lookahead>=Y&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,K=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=Y-1,K!==0&&m.prev_length<m.max_lazy_match&&m.strstart-K<=m.w_size-de&&(m.match_length=Ln(m,K),m.match_length<=5&&(m.strategy===_||m.match_length===Y&&m.strstart-m.match_start>4096)&&(m.match_length=Y-1)),m.prev_length>=Y&&m.match_length<=m.prev_length){D=m.strstart+m.lookahead-Y,k=o._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-Y),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=D&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,K=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=Y-1,m.strstart++,k&&(Ve(m,!1),m.strm.avail_out===0))return ze}else if(m.match_available){if(k=o._tr_tally(m,0,m.window[m.strstart-1]),k&&Ve(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ze}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(k=o._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<Y-1?m.strstart:Y-1,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function _r(m,j){for(var K,k,D,F,me=m.window;;){if(m.lookahead<=ue){if(qt(m),m.lookahead<=ue&&j===f)return ze;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=Y&&m.strstart>0&&(D=m.strstart-1,k=me[D],k===me[++D]&&k===me[++D]&&k===me[++D])){F=m.strstart+ue;do;while(k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&D<F);m.match_length=ue-(F-D),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=Y?(K=o._tr_tally(m,1,m.match_length-Y),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(K=o._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),K&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=0,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function Mn(m,j){for(var K;;){if(m.lookahead===0&&(qt(m),m.lookahead===0)){if(j===f)return ze;break}if(m.match_length=0,K=o._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,K&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=0,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function Et(m,j,K,k,D){this.good_length=m,this.max_lazy=j,this.nice_length=K,this.max_chain=k,this.func=D}var nn;nn=[new Et(0,0,0,0,yr),new Et(4,4,8,4,zn),new Et(4,5,16,8,zn),new Et(4,6,32,32,zn),new Et(4,4,16,16,tn),new Et(8,16,32,32,tn),new Et(8,16,128,128,tn),new Et(8,32,128,256,tn),new Et(32,128,258,1024,tn),new Et(32,258,258,4096,tn)];function jr(m){m.window_size=2*m.w_size,Lt(m.head),m.max_lazy_match=nn[m.level].max_lazy,m.good_match=nn[m.level].good_length,m.nice_match=nn[m.level].nice_length,m.max_chain_length=nn[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=Y-1,m.match_available=0,m.ins_h=0}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(ke*2),this.dyn_dtree=new s.Buf16((2*oe+1)*2),this.bl_tree=new s.Buf16((2*_e+1)*2),Lt(this.dyn_ltree),Lt(this.dyn_dtree),Lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(q+1),this.heap=new s.Buf16(2*se+1),Lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*se+1),Lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(m){var j;return!m||!m.state?wt(m,h):(m.total_in=m.total_out=0,m.data_type=z,j=m.state,j.pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?Fe:je,m.adler=j.wrap===2?0:1,j.last_flush=f,o._tr_init(j),E)}function J(m){var j=Z(m);return j===E&&jr(m.state),j}function ce(m,j){return!m||!m.state||m.state.wrap!==2?h:(m.state.gzhead=j,E)}function P(m,j,K,k,D,F){if(!m)return h;var me=1;if(j===x&&(j=6),k<0?(me=0,k=-k):k>15&&(me=2,k-=16),D<1||D>U||K!==W||k<8||k>15||j<0||j>9||F<0||F>O)return wt(m,h);k===8&&(k=9);var le=new I;return m.state=le,le.strm=m,le.wrap=me,le.gzhead=null,le.w_bits=k,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=D+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+Y-1)/Y),le.window=new s.Buf8(le.w_size*2),le.head=new s.Buf16(le.hash_size),le.prev=new s.Buf16(le.w_size),le.lit_bufsize=1<<D+6,le.pending_buf_size=le.lit_bufsize*4,le.pending_buf=new s.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=(1+2)*le.lit_bufsize,le.level=j,le.strategy=F,le.method=K,J(m)}function $(m,j){return P(m,j,W,H,fe,R)}function S(m,j){var K,k,D,F;if(!m||!m.state||j>w||j<0)return m?wt(m,h):h;if(k=m.state,!m.output||!m.input&&m.avail_in!==0||k.status===tt&&j!==g)return wt(m,m.avail_out===0?y:h);if(k.strm=m,K=k.last_flush,k.last_flush=j,k.status===Fe)if(k.wrap===2)m.adler=0,Ce(k,31),Ce(k,139),Ce(k,8),k.gzhead?(Ce(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Ce(k,k.gzhead.time&255),Ce(k,k.gzhead.time>>8&255),Ce(k,k.gzhead.time>>16&255),Ce(k,k.gzhead.time>>24&255),Ce(k,k.level===9?2:k.strategy>=b||k.level<2?4:0),Ce(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Ce(k,k.gzhead.extra.length&255),Ce(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(m.adler=u(m.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=Me):(Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,k.level===9?2:k.strategy>=b||k.level<2?4:0),Ce(k,Be),k.status=je);else{var me=W+(k.w_bits-8<<4)<<8,le=-1;k.strategy>=b||k.level<2?le=0:k.level<6?le=1:k.level===6?le=2:le=3,me|=le<<6,k.strstart!==0&&(me|=Te),me+=31-me%31,k.status=je,Vt(k,me),k.strstart!==0&&(Vt(k,m.adler>>>16),Vt(k,m.adler&65535)),m.adler=1}if(k.status===Me)if(k.gzhead.extra){for(D=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),At(m),D=k.pending,k.pending===k.pending_buf_size));)Ce(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=Se)}else k.status=Se;if(k.status===Se)if(k.gzhead.name){D=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),At(m),D=k.pending,k.pending===k.pending_buf_size)){F=1;break}k.gzindex<k.gzhead.name.length?F=k.gzhead.name.charCodeAt(k.gzindex++)&255:F=0,Ce(k,F)}while(F!==0);k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),F===0&&(k.gzindex=0,k.status=He)}else k.status=He;if(k.status===He)if(k.gzhead.comment){D=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),At(m),D=k.pending,k.pending===k.pending_buf_size)){F=1;break}k.gzindex<k.gzhead.comment.length?F=k.gzhead.comment.charCodeAt(k.gzindex++)&255:F=0,Ce(k,F)}while(F!==0);k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),F===0&&(k.status=at)}else k.status=at;if(k.status===at&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&At(m),k.pending+2<=k.pending_buf_size&&(Ce(k,m.adler&255),Ce(k,m.adler>>8&255),m.adler=0,k.status=je)):k.status=je),k.pending!==0){if(At(m),m.avail_out===0)return k.last_flush=-1,E}else if(m.avail_in===0&&Pn(j)<=Pn(K)&&j!==g)return wt(m,y);if(k.status===tt&&m.avail_in!==0)return wt(m,y);if(m.avail_in!==0||k.lookahead!==0||j!==f&&k.status!==tt){var he=k.strategy===b?Mn(k,j):k.strategy===T?_r(k,j):nn[k.level].func(k,j);if((he===ct||he===en)&&(k.status=tt),he===ze||he===ct)return m.avail_out===0&&(k.last_flush=-1),E;if(he===kt&&(j===c?o._tr_align(k):j!==w&&(o._tr_stored_block(k,0,0,!1),j===d&&(Lt(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),At(m),m.avail_out===0))return k.last_flush=-1,E}return j!==g?E:k.wrap<=0?p:(k.wrap===2?(Ce(k,m.adler&255),Ce(k,m.adler>>8&255),Ce(k,m.adler>>16&255),Ce(k,m.adler>>24&255),Ce(k,m.total_in&255),Ce(k,m.total_in>>8&255),Ce(k,m.total_in>>16&255),Ce(k,m.total_in>>24&255)):(Vt(k,m.adler>>>16),Vt(k,m.adler&65535)),At(m),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?E:p)}function G(m){var j;return!m||!m.state?h:(j=m.state.status,j!==Fe&&j!==Me&&j!==Se&&j!==He&&j!==at&&j!==je&&j!==tt?wt(m,h):(m.state=null,j===je?wt(m,v):E))}function we(m,j){var K=j.length,k,D,F,me,le,he,Oe,Bn;if(!m||!m.state||(k=m.state,me=k.wrap,me===2||me===1&&k.status!==Fe||k.lookahead))return h;for(me===1&&(m.adler=a(m.adler,j,K,0)),k.wrap=0,K>=k.w_size&&(me===0&&(Lt(k.head),k.strstart=0,k.block_start=0,k.insert=0),Bn=new s.Buf8(k.w_size),s.arraySet(Bn,j,K-k.w_size,k.w_size,0),j=Bn,K=k.w_size),le=m.avail_in,he=m.next_in,Oe=m.input,m.avail_in=K,m.next_in=0,m.input=j,qt(k);k.lookahead>=Y;){D=k.strstart,F=k.lookahead-(Y-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[D+Y-1])&k.hash_mask,k.prev[D&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=D,D++;while(--F);k.strstart=D,k.lookahead=Y-1,qt(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=Y-1,k.match_available=0,m.next_in=he,m.input=Oe,m.avail_in=le,k.wrap=me,E}i.deflateInit=$,i.deflateInit2=P,i.deflateReset=J,i.deflateResetKeep=Z,i.deflateSetHeader=ce,i.deflate=S,i.deflateEnd=G,i.deflateSetDictionary=we,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=s},{}],48:[function(n,r,i){var s=30,o=12;r.exports=function(u,l){var f,c,d,g,w,E,p,h,v,y,x,_,b,T,O,R,z,W,U,H,fe,X,ie,se,oe;f=u.state,c=u.next_in,se=u.input,d=c+(u.avail_in-5),g=u.next_out,oe=u.output,w=g-(l-u.avail_out),E=g+(u.avail_out-257),p=f.dmax,h=f.wsize,v=f.whave,y=f.wnext,x=f.window,_=f.hold,b=f.bits,T=f.lencode,O=f.distcode,R=(1<<f.lenbits)-1,z=(1<<f.distbits)-1;e:do{b<15&&(_+=se[c++]<<b,b+=8,_+=se[c++]<<b,b+=8),W=T[_&R];t:for(;;){if(U=W>>>24,_>>>=U,b-=U,U=W>>>16&255,U===0)oe[g++]=W&65535;else if(U&16){H=W&65535,U&=15,U&&(b<U&&(_+=se[c++]<<b,b+=8),H+=_&(1<<U)-1,_>>>=U,b-=U),b<15&&(_+=se[c++]<<b,b+=8,_+=se[c++]<<b,b+=8),W=O[_&z];n:for(;;){if(U=W>>>24,_>>>=U,b-=U,U=W>>>16&255,U&16){if(fe=W&65535,U&=15,b<U&&(_+=se[c++]<<b,b+=8,b<U&&(_+=se[c++]<<b,b+=8)),fe+=_&(1<<U)-1,fe>p){u.msg="invalid distance too far back",f.mode=s;break e}if(_>>>=U,b-=U,U=g-w,fe>U){if(U=fe-U,U>v&&f.sane){u.msg="invalid distance too far back",f.mode=s;break e}if(X=0,ie=x,y===0){if(X+=h-U,U<H){H-=U;do oe[g++]=x[X++];while(--U);X=g-fe,ie=oe}}else if(y<U){if(X+=h+y-U,U-=y,U<H){H-=U;do oe[g++]=x[X++];while(--U);if(X=0,y<H){U=y,H-=U;do oe[g++]=x[X++];while(--U);X=g-fe,ie=oe}}}else if(X+=y-U,U<H){H-=U;do oe[g++]=x[X++];while(--U);X=g-fe,ie=oe}for(;H>2;)oe[g++]=ie[X++],oe[g++]=ie[X++],oe[g++]=ie[X++],H-=3;H&&(oe[g++]=ie[X++],H>1&&(oe[g++]=ie[X++]))}else{X=g-fe;do oe[g++]=oe[X++],oe[g++]=oe[X++],oe[g++]=oe[X++],H-=3;while(H>2);H&&(oe[g++]=oe[X++],H>1&&(oe[g++]=oe[X++]))}}else if((U&64)===0){W=O[(W&65535)+(_&(1<<U)-1)];continue n}else{u.msg="invalid distance code",f.mode=s;break e}break}}else if((U&64)===0){W=T[(W&65535)+(_&(1<<U)-1)];continue t}else if(U&32){f.mode=o;break e}else{u.msg="invalid literal/length code",f.mode=s;break e}break}}while(c<d&&g<E);H=b>>3,c-=H,b-=H<<3,_&=(1<<b)-1,u.next_in=c,u.next_out=g,u.avail_in=c<d?5+(d-c):5-(c-d),u.avail_out=g<E?257+(E-g):257-(g-E),f.hold=_,f.bits=b}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),u=n("./inffast"),l=n("./inftrees"),f=0,c=1,d=2,g=4,w=5,E=6,p=0,h=1,v=2,y=-2,x=-3,_=-4,b=-5,T=8,O=1,R=2,z=3,W=4,U=5,H=6,fe=7,X=8,ie=9,se=10,oe=11,_e=12,ke=13,q=14,Y=15,ue=16,de=17,Te=18,Fe=19,Me=20,Se=21,He=22,at=23,je=24,tt=25,ze=26,kt=27,ct=28,en=29,Be=30,wt=31,Pn=32,Lt=852,At=592,Ve=15,Ce=Ve;function Vt(P){return(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24)}function gr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ln(P){var $;return!P||!P.state?y:($=P.state,P.total_in=P.total_out=$.total=0,P.msg="",$.wrap&&(P.adler=$.wrap&1),$.mode=O,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new s.Buf32(Lt),$.distcode=$.distdyn=new s.Buf32(At),$.sane=1,$.back=-1,p)}function qt(P){var $;return!P||!P.state?y:($=P.state,$.wsize=0,$.whave=0,$.wnext=0,Ln(P))}function yr(P,$){var S,G;return!P||!P.state||(G=P.state,$<0?(S=0,$=-$):(S=($>>4)+1,$<48&&($&=15)),$&&($<8||$>15))?y:(G.window!==null&&G.wbits!==$&&(G.window=null),G.wrap=S,G.wbits=$,qt(P))}function zn(P,$){var S,G;return P?(G=new gr,P.state=G,G.window=null,S=yr(P,$),S!==p&&(P.state=null),S):y}function tn(P){return zn(P,Ce)}var _r=!0,Mn,Et;function nn(P){if(_r){var $;for(Mn=new s.Buf32(512),Et=new s.Buf32(32),$=0;$<144;)P.lens[$++]=8;for(;$<256;)P.lens[$++]=9;for(;$<280;)P.lens[$++]=7;for(;$<288;)P.lens[$++]=8;for(l(c,P.lens,0,288,Mn,0,P.work,{bits:9}),$=0;$<32;)P.lens[$++]=5;l(d,P.lens,0,32,Et,0,P.work,{bits:5}),_r=!1}P.lencode=Mn,P.lenbits=9,P.distcode=Et,P.distbits=5}function jr(P,$,S,G){var we,m=P.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new s.Buf8(m.wsize)),G>=m.wsize?(s.arraySet(m.window,$,S-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(we=m.wsize-m.wnext,we>G&&(we=G),s.arraySet(m.window,$,S-G,we,m.wnext),G-=we,G?(s.arraySet(m.window,$,S-G,G,0),m.wnext=G,m.whave=m.wsize):(m.wnext+=we,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=we))),0}function I(P,$){var S,G,we,m,j,K,k,D,F,me,le,he,Oe,Bn,nt=0,Ae,ht,Tt,zt,rs,is,ut,rn,xt=new s.Buf8(4),Un,En,_u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return y;S=P.state,S.mode===_e&&(S.mode=ke),j=P.next_out,we=P.output,k=P.avail_out,m=P.next_in,G=P.input,K=P.avail_in,D=S.hold,F=S.bits,me=K,le=k,rn=p;e:for(;;)switch(S.mode){case O:if(S.wrap===0){S.mode=ke;break}for(;F<16;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(S.wrap&2&&D===35615){S.check=0,xt[0]=D&255,xt[1]=D>>>8&255,S.check=a(S.check,xt,2,0),D=0,F=0,S.mode=R;break}if(S.flags=0,S.head&&(S.head.done=!1),!(S.wrap&1)||(((D&255)<<8)+(D>>8))%31){P.msg="incorrect header check",S.mode=Be;break}if((D&15)!==T){P.msg="unknown compression method",S.mode=Be;break}if(D>>>=4,F-=4,ut=(D&15)+8,S.wbits===0)S.wbits=ut;else if(ut>S.wbits){P.msg="invalid window size",S.mode=Be;break}S.dmax=1<<ut,P.adler=S.check=1,S.mode=D&512?se:_e,D=0,F=0;break;case R:for(;F<16;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(S.flags=D,(S.flags&255)!==T){P.msg="unknown compression method",S.mode=Be;break}if(S.flags&57344){P.msg="unknown header flags set",S.mode=Be;break}S.head&&(S.head.text=D>>8&1),S.flags&512&&(xt[0]=D&255,xt[1]=D>>>8&255,S.check=a(S.check,xt,2,0)),D=0,F=0,S.mode=z;case z:for(;F<32;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}S.head&&(S.head.time=D),S.flags&512&&(xt[0]=D&255,xt[1]=D>>>8&255,xt[2]=D>>>16&255,xt[3]=D>>>24&255,S.check=a(S.check,xt,4,0)),D=0,F=0,S.mode=W;case W:for(;F<16;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}S.head&&(S.head.xflags=D&255,S.head.os=D>>8),S.flags&512&&(xt[0]=D&255,xt[1]=D>>>8&255,S.check=a(S.check,xt,2,0)),D=0,F=0,S.mode=U;case U:if(S.flags&1024){for(;F<16;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}S.length=D,S.head&&(S.head.extra_len=D),S.flags&512&&(xt[0]=D&255,xt[1]=D>>>8&255,S.check=a(S.check,xt,2,0)),D=0,F=0}else S.head&&(S.head.extra=null);S.mode=H;case H:if(S.flags&1024&&(he=S.length,he>K&&(he=K),he&&(S.head&&(ut=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,G,m,he,ut)),S.flags&512&&(S.check=a(S.check,G,he,m)),K-=he,m+=he,S.length-=he),S.length))break e;S.length=0,S.mode=fe;case fe:if(S.flags&2048){if(K===0)break e;he=0;do ut=G[m+he++],S.head&&ut&&S.length<65536&&(S.head.name+=String.fromCharCode(ut));while(ut&&he<K);if(S.flags&512&&(S.check=a(S.check,G,he,m)),K-=he,m+=he,ut)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=X;case X:if(S.flags&4096){if(K===0)break e;he=0;do ut=G[m+he++],S.head&&ut&&S.length<65536&&(S.head.comment+=String.fromCharCode(ut));while(ut&&he<K);if(S.flags&512&&(S.check=a(S.check,G,he,m)),K-=he,m+=he,ut)break e}else S.head&&(S.head.comment=null);S.mode=ie;case ie:if(S.flags&512){for(;F<16;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(D!==(S.check&65535)){P.msg="header crc mismatch",S.mode=Be;break}D=0,F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),P.adler=S.check=0,S.mode=_e;break;case se:for(;F<32;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}P.adler=S.check=Vt(D),D=0,F=0,S.mode=oe;case oe:if(S.havedict===0)return P.next_out=j,P.avail_out=k,P.next_in=m,P.avail_in=K,S.hold=D,S.bits=F,v;P.adler=S.check=1,S.mode=_e;case _e:if($===w||$===E)break e;case ke:if(S.last){D>>>=F&7,F-=F&7,S.mode=kt;break}for(;F<3;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}switch(S.last=D&1,D>>>=1,F-=1,D&3){case 0:S.mode=q;break;case 1:if(nn(S),S.mode=Me,$===E){D>>>=2,F-=2;break e}break;case 2:S.mode=de;break;case 3:P.msg="invalid block type",S.mode=Be}D>>>=2,F-=2;break;case q:for(D>>>=F&7,F-=F&7;F<32;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if((D&65535)!==(D>>>16^65535)){P.msg="invalid stored block lengths",S.mode=Be;break}if(S.length=D&65535,D=0,F=0,S.mode=Y,$===E)break e;case Y:S.mode=ue;case ue:if(he=S.length,he){if(he>K&&(he=K),he>k&&(he=k),he===0)break e;s.arraySet(we,G,m,he,j),K-=he,m+=he,k-=he,j+=he,S.length-=he;break}S.mode=_e;break;case de:for(;F<14;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(S.nlen=(D&31)+257,D>>>=5,F-=5,S.ndist=(D&31)+1,D>>>=5,F-=5,S.ncode=(D&15)+4,D>>>=4,F-=4,S.nlen>286||S.ndist>30){P.msg="too many length or distance symbols",S.mode=Be;break}S.have=0,S.mode=Te;case Te:for(;S.have<S.ncode;){for(;F<3;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}S.lens[_u[S.have++]]=D&7,D>>>=3,F-=3}for(;S.have<19;)S.lens[_u[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,Un={bits:S.lenbits},rn=l(f,S.lens,0,19,S.lencode,0,S.work,Un),S.lenbits=Un.bits,rn){P.msg="invalid code lengths set",S.mode=Be;break}S.have=0,S.mode=Fe;case Fe:for(;S.have<S.nlen+S.ndist;){for(;nt=S.lencode[D&(1<<S.lenbits)-1],Ae=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(Ae<=F);){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(Tt<16)D>>>=Ae,F-=Ae,S.lens[S.have++]=Tt;else{if(Tt===16){for(En=Ae+2;F<En;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(D>>>=Ae,F-=Ae,S.have===0){P.msg="invalid bit length repeat",S.mode=Be;break}ut=S.lens[S.have-1],he=3+(D&3),D>>>=2,F-=2}else if(Tt===17){for(En=Ae+3;F<En;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}D>>>=Ae,F-=Ae,ut=0,he=3+(D&7),D>>>=3,F-=3}else{for(En=Ae+7;F<En;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}D>>>=Ae,F-=Ae,ut=0,he=11+(D&127),D>>>=7,F-=7}if(S.have+he>S.nlen+S.ndist){P.msg="invalid bit length repeat",S.mode=Be;break}for(;he--;)S.lens[S.have++]=ut}}if(S.mode===Be)break;if(S.lens[256]===0){P.msg="invalid code -- missing end-of-block",S.mode=Be;break}if(S.lenbits=9,Un={bits:S.lenbits},rn=l(c,S.lens,0,S.nlen,S.lencode,0,S.work,Un),S.lenbits=Un.bits,rn){P.msg="invalid literal/lengths set",S.mode=Be;break}if(S.distbits=6,S.distcode=S.distdyn,Un={bits:S.distbits},rn=l(d,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,Un),S.distbits=Un.bits,rn){P.msg="invalid distances set",S.mode=Be;break}if(S.mode=Me,$===E)break e;case Me:S.mode=Se;case Se:if(K>=6&&k>=258){P.next_out=j,P.avail_out=k,P.next_in=m,P.avail_in=K,S.hold=D,S.bits=F,u(P,le),j=P.next_out,we=P.output,k=P.avail_out,m=P.next_in,G=P.input,K=P.avail_in,D=S.hold,F=S.bits,S.mode===_e&&(S.back=-1);break}for(S.back=0;nt=S.lencode[D&(1<<S.lenbits)-1],Ae=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(Ae<=F);){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(ht&&(ht&240)===0){for(zt=Ae,rs=ht,is=Tt;nt=S.lencode[is+((D&(1<<zt+rs)-1)>>zt)],Ae=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(zt+Ae<=F);){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}D>>>=zt,F-=zt,S.back+=zt}if(D>>>=Ae,F-=Ae,S.back+=Ae,S.length=Tt,ht===0){S.mode=ze;break}if(ht&32){S.back=-1,S.mode=_e;break}if(ht&64){P.msg="invalid literal/length code",S.mode=Be;break}S.extra=ht&15,S.mode=He;case He:if(S.extra){for(En=S.extra;F<En;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}S.length+=D&(1<<S.extra)-1,D>>>=S.extra,F-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=at;case at:for(;nt=S.distcode[D&(1<<S.distbits)-1],Ae=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(Ae<=F);){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if((ht&240)===0){for(zt=Ae,rs=ht,is=Tt;nt=S.distcode[is+((D&(1<<zt+rs)-1)>>zt)],Ae=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(zt+Ae<=F);){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}D>>>=zt,F-=zt,S.back+=zt}if(D>>>=Ae,F-=Ae,S.back+=Ae,ht&64){P.msg="invalid distance code",S.mode=Be;break}S.offset=Tt,S.extra=ht&15,S.mode=je;case je:if(S.extra){for(En=S.extra;F<En;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}S.offset+=D&(1<<S.extra)-1,D>>>=S.extra,F-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){P.msg="invalid distance too far back",S.mode=Be;break}S.mode=tt;case tt:if(k===0)break e;if(he=le-k,S.offset>he){if(he=S.offset-he,he>S.whave&&S.sane){P.msg="invalid distance too far back",S.mode=Be;break}he>S.wnext?(he-=S.wnext,Oe=S.wsize-he):Oe=S.wnext-he,he>S.length&&(he=S.length),Bn=S.window}else Bn=we,Oe=j-S.offset,he=S.length;he>k&&(he=k),k-=he,S.length-=he;do we[j++]=Bn[Oe++];while(--he);S.length===0&&(S.mode=Se);break;case ze:if(k===0)break e;we[j++]=S.length,k--,S.mode=Se;break;case kt:if(S.wrap){for(;F<32;){if(K===0)break e;K--,D|=G[m++]<<F,F+=8}if(le-=k,P.total_out+=le,S.total+=le,le&&(P.adler=S.check=S.flags?a(S.check,we,le,j-le):o(S.check,we,le,j-le)),le=k,(S.flags?D:Vt(D))!==S.check){P.msg="incorrect data check",S.mode=Be;break}D=0,F=0}S.mode=ct;case ct:if(S.wrap&&S.flags){for(;F<32;){if(K===0)break e;K--,D+=G[m++]<<F,F+=8}if(D!==(S.total&4294967295)){P.msg="incorrect length check",S.mode=Be;break}D=0,F=0}S.mode=en;case en:rn=h;break e;case Be:rn=x;break e;case wt:return _;case Pn:default:return y}return P.next_out=j,P.avail_out=k,P.next_in=m,P.avail_in=K,S.hold=D,S.bits=F,(S.wsize||le!==P.avail_out&&S.mode<Be&&(S.mode<kt||$!==g))&&jr(P,P.output,P.next_out,le-P.avail_out),me-=P.avail_in,le-=P.avail_out,P.total_in+=me,P.total_out+=le,S.total+=le,S.wrap&&le&&(P.adler=S.check=S.flags?a(S.check,we,le,P.next_out-le):o(S.check,we,le,P.next_out-le)),P.data_type=S.bits+(S.last?64:0)+(S.mode===_e?128:0)+(S.mode===Me||S.mode===Y?256:0),(me===0&&le===0||$===g)&&rn===p&&(rn=b),rn}function Z(P){if(!P||!P.state)return y;var $=P.state;return $.window&&($.window=null),P.state=null,p}function J(P,$){var S;return!P||!P.state||(S=P.state,(S.wrap&2)===0)?y:(S.head=$,$.done=!1,p)}function ce(P,$){var S=$.length,G,we,m;return!P||!P.state||(G=P.state,G.wrap!==0&&G.mode!==oe)?y:G.mode===oe&&(we=1,we=o(we,$,S,0),we!==G.check)?x:(m=jr(P,$,S,S),m?(G.mode=wt,_):(G.havedict=1,p))}i.inflateReset=qt,i.inflateReset2=yr,i.inflateResetKeep=Ln,i.inflateInit=tn,i.inflateInit2=zn,i.inflate=I,i.inflateEnd=Z,i.inflateGetHeader=J,i.inflateSetDictionary=ce,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=15,a=852,u=592,l=0,f=1,c=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,v,y,x,_,b,T,O){var R=O.bits,z=0,W=0,U=0,H=0,fe=0,X=0,ie=0,se=0,oe=0,_e=0,ke,q,Y,ue,de,Te=null,Fe=0,Me,Se=new s.Buf16(o+1),He=new s.Buf16(o+1),at=null,je=0,tt,ze,kt;for(z=0;z<=o;z++)Se[z]=0;for(W=0;W<x;W++)Se[v[y+W]]++;for(fe=R,H=o;H>=1&&Se[H]===0;H--);if(fe>H&&(fe=H),H===0)return _[b++]=1<<24|64<<16|0,_[b++]=1<<24|64<<16|0,O.bits=1,0;for(U=1;U<H&&Se[U]===0;U++);for(fe<U&&(fe=U),se=1,z=1;z<=o;z++)if(se<<=1,se-=Se[z],se<0)return-1;if(se>0&&(h===l||H!==1))return-1;for(He[1]=0,z=1;z<o;z++)He[z+1]=He[z]+Se[z];for(W=0;W<x;W++)v[y+W]!==0&&(T[He[v[y+W]]++]=W);if(h===l?(Te=at=T,Me=19):h===f?(Te=d,Fe-=257,at=g,je-=257,Me=256):(Te=w,at=E,Me=-1),_e=0,W=0,z=U,de=b,X=fe,ie=0,Y=-1,oe=1<<fe,ue=oe-1,h===f&&oe>a||h===c&&oe>u)return 1;for(;;){tt=z-ie,T[W]<Me?(ze=0,kt=T[W]):T[W]>Me?(ze=at[je+T[W]],kt=Te[Fe+T[W]]):(ze=32+64,kt=0),ke=1<<z-ie,q=1<<X,U=q;do q-=ke,_[de+(_e>>ie)+q]=tt<<24|ze<<16|kt|0;while(q!==0);for(ke=1<<z-1;_e&ke;)ke>>=1;if(ke!==0?(_e&=ke-1,_e+=ke):_e=0,W++,--Se[z]===0){if(z===H)break;z=v[y+T[W]]}if(z>fe&&(_e&ue)!==Y){for(ie===0&&(ie=fe),de+=U,X=z-ie,se=1<<X;X+ie<H&&(se-=Se[X+ie],!(se<=0));)X++,se<<=1;if(oe+=1<<X,h===f&&oe>a||h===c&&oe>u)return 1;Y=_e&ue,_[Y]=fe<<24|X<<16|de-b|0}}return _e!==0&&(_[de+_e]=z-ie<<24|64<<16|0),O.bits=fe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=4,a=0,u=1,l=2;function f(I){for(var Z=I.length;--Z>=0;)I[Z]=0}var c=0,d=1,g=2,w=3,E=258,p=29,h=256,v=h+1+p,y=30,x=19,_=2*v+1,b=15,T=16,O=7,R=256,z=16,W=17,U=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],fe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=512,oe=new Array((v+2)*2);f(oe);var _e=new Array(y*2);f(_e);var ke=new Array(se);f(ke);var q=new Array(E-w+1);f(q);var Y=new Array(p);f(Y);var ue=new Array(y);f(ue);function de(I,Z,J,ce,P){this.static_tree=I,this.extra_bits=Z,this.extra_base=J,this.elems=ce,this.max_length=P,this.has_stree=I&&I.length}var Te,Fe,Me;function Se(I,Z){this.dyn_tree=I,this.max_code=0,this.stat_desc=Z}function He(I){return I<256?ke[I]:ke[256+(I>>>7)]}function at(I,Z){I.pending_buf[I.pending++]=Z&255,I.pending_buf[I.pending++]=Z>>>8&255}function je(I,Z,J){I.bi_valid>T-J?(I.bi_buf|=Z<<I.bi_valid&65535,at(I,I.bi_buf),I.bi_buf=Z>>T-I.bi_valid,I.bi_valid+=J-T):(I.bi_buf|=Z<<I.bi_valid&65535,I.bi_valid+=J)}function tt(I,Z,J){je(I,J[Z*2],J[Z*2+1])}function ze(I,Z){var J=0;do J|=I&1,I>>>=1,J<<=1;while(--Z>0);return J>>>1}function kt(I){I.bi_valid===16?(at(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):I.bi_valid>=8&&(I.pending_buf[I.pending++]=I.bi_buf&255,I.bi_buf>>=8,I.bi_valid-=8)}function ct(I,Z){var J=Z.dyn_tree,ce=Z.max_code,P=Z.stat_desc.static_tree,$=Z.stat_desc.has_stree,S=Z.stat_desc.extra_bits,G=Z.stat_desc.extra_base,we=Z.stat_desc.max_length,m,j,K,k,D,F,me=0;for(k=0;k<=b;k++)I.bl_count[k]=0;for(J[I.heap[I.heap_max]*2+1]=0,m=I.heap_max+1;m<_;m++)j=I.heap[m],k=J[J[j*2+1]*2+1]+1,k>we&&(k=we,me++),J[j*2+1]=k,!(j>ce)&&(I.bl_count[k]++,D=0,j>=G&&(D=S[j-G]),F=J[j*2],I.opt_len+=F*(k+D),$&&(I.static_len+=F*(P[j*2+1]+D)));if(me!==0){do{for(k=we-1;I.bl_count[k]===0;)k--;I.bl_count[k]--,I.bl_count[k+1]+=2,I.bl_count[we]--,me-=2}while(me>0);for(k=we;k!==0;k--)for(j=I.bl_count[k];j!==0;)K=I.heap[--m],!(K>ce)&&(J[K*2+1]!==k&&(I.opt_len+=(k-J[K*2+1])*J[K*2],J[K*2+1]=k),j--)}}function en(I,Z,J){var ce=new Array(b+1),P=0,$,S;for($=1;$<=b;$++)ce[$]=P=P+J[$-1]<<1;for(S=0;S<=Z;S++){var G=I[S*2+1];G!==0&&(I[S*2]=ze(ce[G]++,G))}}function Be(){var I,Z,J,ce,P,$=new Array(b+1);for(J=0,ce=0;ce<p-1;ce++)for(Y[ce]=J,I=0;I<1<<H[ce];I++)q[J++]=ce;for(q[J-1]=ce,P=0,ce=0;ce<16;ce++)for(ue[ce]=P,I=0;I<1<<fe[ce];I++)ke[P++]=ce;for(P>>=7;ce<y;ce++)for(ue[ce]=P<<7,I=0;I<1<<fe[ce]-7;I++)ke[256+P++]=ce;for(Z=0;Z<=b;Z++)$[Z]=0;for(I=0;I<=143;)oe[I*2+1]=8,I++,$[8]++;for(;I<=255;)oe[I*2+1]=9,I++,$[9]++;for(;I<=279;)oe[I*2+1]=7,I++,$[7]++;for(;I<=287;)oe[I*2+1]=8,I++,$[8]++;for(en(oe,v+1,$),I=0;I<y;I++)_e[I*2+1]=5,_e[I*2]=ze(I,5);Te=new de(oe,H,h+1,v,b),Fe=new de(_e,fe,0,y,b),Me=new de(new Array(0),X,0,x,O)}function wt(I){var Z;for(Z=0;Z<v;Z++)I.dyn_ltree[Z*2]=0;for(Z=0;Z<y;Z++)I.dyn_dtree[Z*2]=0;for(Z=0;Z<x;Z++)I.bl_tree[Z*2]=0;I.dyn_ltree[R*2]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function Pn(I){I.bi_valid>8?at(I,I.bi_buf):I.bi_valid>0&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function Lt(I,Z,J,ce){Pn(I),ce&&(at(I,J),at(I,~J)),s.arraySet(I.pending_buf,I.window,Z,J,I.pending),I.pending+=J}function At(I,Z,J,ce){var P=Z*2,$=J*2;return I[P]<I[$]||I[P]===I[$]&&ce[Z]<=ce[J]}function Ve(I,Z,J){for(var ce=I.heap[J],P=J<<1;P<=I.heap_len&&(P<I.heap_len&&At(Z,I.heap[P+1],I.heap[P],I.depth)&&P++,!At(Z,ce,I.heap[P],I.depth));)I.heap[J]=I.heap[P],J=P,P<<=1;I.heap[J]=ce}function Ce(I,Z,J){var ce,P,$=0,S,G;if(I.last_lit!==0)do ce=I.pending_buf[I.d_buf+$*2]<<8|I.pending_buf[I.d_buf+$*2+1],P=I.pending_buf[I.l_buf+$],$++,ce===0?tt(I,P,Z):(S=q[P],tt(I,S+h+1,Z),G=H[S],G!==0&&(P-=Y[S],je(I,P,G)),ce--,S=He(ce),tt(I,S,J),G=fe[S],G!==0&&(ce-=ue[S],je(I,ce,G)));while($<I.last_lit);tt(I,R,Z)}function Vt(I,Z){var J=Z.dyn_tree,ce=Z.stat_desc.static_tree,P=Z.stat_desc.has_stree,$=Z.stat_desc.elems,S,G,we=-1,m;for(I.heap_len=0,I.heap_max=_,S=0;S<$;S++)J[S*2]!==0?(I.heap[++I.heap_len]=we=S,I.depth[S]=0):J[S*2+1]=0;for(;I.heap_len<2;)m=I.heap[++I.heap_len]=we<2?++we:0,J[m*2]=1,I.depth[m]=0,I.opt_len--,P&&(I.static_len-=ce[m*2+1]);for(Z.max_code=we,S=I.heap_len>>1;S>=1;S--)Ve(I,J,S);m=$;do S=I.heap[1],I.heap[1]=I.heap[I.heap_len--],Ve(I,J,1),G=I.heap[1],I.heap[--I.heap_max]=S,I.heap[--I.heap_max]=G,J[m*2]=J[S*2]+J[G*2],I.depth[m]=(I.depth[S]>=I.depth[G]?I.depth[S]:I.depth[G])+1,J[S*2+1]=J[G*2+1]=m,I.heap[1]=m++,Ve(I,J,1);while(I.heap_len>=2);I.heap[--I.heap_max]=I.heap[1],ct(I,Z),en(J,we,I.bl_count)}function gr(I,Z,J){var ce,P=-1,$,S=Z[0*2+1],G=0,we=7,m=4;for(S===0&&(we=138,m=3),Z[(J+1)*2+1]=65535,ce=0;ce<=J;ce++)$=S,S=Z[(ce+1)*2+1],!(++G<we&&$===S)&&(G<m?I.bl_tree[$*2]+=G:$!==0?($!==P&&I.bl_tree[$*2]++,I.bl_tree[z*2]++):G<=10?I.bl_tree[W*2]++:I.bl_tree[U*2]++,G=0,P=$,S===0?(we=138,m=3):$===S?(we=6,m=3):(we=7,m=4))}function Ln(I,Z,J){var ce,P=-1,$,S=Z[0*2+1],G=0,we=7,m=4;for(S===0&&(we=138,m=3),ce=0;ce<=J;ce++)if($=S,S=Z[(ce+1)*2+1],!(++G<we&&$===S)){if(G<m)do tt(I,$,I.bl_tree);while(--G!==0);else $!==0?($!==P&&(tt(I,$,I.bl_tree),G--),tt(I,z,I.bl_tree),je(I,G-3,2)):G<=10?(tt(I,W,I.bl_tree),je(I,G-3,3)):(tt(I,U,I.bl_tree),je(I,G-11,7));G=0,P=$,S===0?(we=138,m=3):$===S?(we=6,m=3):(we=7,m=4)}}function qt(I){var Z;for(gr(I,I.dyn_ltree,I.l_desc.max_code),gr(I,I.dyn_dtree,I.d_desc.max_code),Vt(I,I.bl_desc),Z=x-1;Z>=3&&I.bl_tree[ie[Z]*2+1]===0;Z--);return I.opt_len+=3*(Z+1)+5+5+4,Z}function yr(I,Z,J,ce){var P;for(je(I,Z-257,5),je(I,J-1,5),je(I,ce-4,4),P=0;P<ce;P++)je(I,I.bl_tree[ie[P]*2+1],3);Ln(I,I.dyn_ltree,Z-1),Ln(I,I.dyn_dtree,J-1)}function zn(I){var Z=4093624447,J;for(J=0;J<=31;J++,Z>>>=1)if(Z&1&&I.dyn_ltree[J*2]!==0)return a;if(I.dyn_ltree[9*2]!==0||I.dyn_ltree[10*2]!==0||I.dyn_ltree[13*2]!==0)return u;for(J=32;J<h;J++)if(I.dyn_ltree[J*2]!==0)return u;return a}var tn=!1;function _r(I){tn||(Be(),tn=!0),I.l_desc=new Se(I.dyn_ltree,Te),I.d_desc=new Se(I.dyn_dtree,Fe),I.bl_desc=new Se(I.bl_tree,Me),I.bi_buf=0,I.bi_valid=0,wt(I)}function Mn(I,Z,J,ce){je(I,(c<<1)+(ce?1:0),3),Lt(I,Z,J,!0)}function Et(I){je(I,d<<1,3),tt(I,R,oe),kt(I)}function nn(I,Z,J,ce){var P,$,S=0;I.level>0?(I.strm.data_type===l&&(I.strm.data_type=zn(I)),Vt(I,I.l_desc),Vt(I,I.d_desc),S=qt(I),P=I.opt_len+3+7>>>3,$=I.static_len+3+7>>>3,$<=P&&(P=$)):P=$=J+5,J+4<=P&&Z!==-1?Mn(I,Z,J,ce):I.strategy===o||$===P?(je(I,(d<<1)+(ce?1:0),3),Ce(I,oe,_e)):(je(I,(g<<1)+(ce?1:0),3),yr(I,I.l_desc.max_code+1,I.d_desc.max_code+1,S+1),Ce(I,I.dyn_ltree,I.dyn_dtree)),wt(I),ce&&Pn(I)}function jr(I,Z,J){return I.pending_buf[I.d_buf+I.last_lit*2]=Z>>>8&255,I.pending_buf[I.d_buf+I.last_lit*2+1]=Z&255,I.pending_buf[I.l_buf+I.last_lit]=J&255,I.last_lit++,Z===0?I.dyn_ltree[J*2]++:(I.matches++,Z--,I.dyn_ltree[(q[J]+h+1)*2]++,I.dyn_dtree[He(Z)*2]++),I.last_lit===I.lit_bufsize-1}i._tr_init=_r,i._tr_stored_block=Mn,i._tr_flush_block=nn,i._tr_tally=jr,i._tr_align=Et},{"../utils/common":41}],53:[function(n,r,i){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=s},{}],54:[function(n,r,i){r.exports=typeof setImmediate=="function"?setImmediate:function(){var o=[].slice.apply(arguments);o.splice(1,0,0),setTimeout.apply(null,o)}},{}]},{},[10])(10)})})(oE);var rA=oE.exports;class iA{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new rA}catch{throw new Error("JSZip lib not loaded")}}open(e,n){return this.zip.loadAsync(e,{base64:n})}openUrl(e,n){return Ha(e,"binary").then(function(r){return this.zip.loadAsync(r,{base64:n})}.bind(this))}request(e,n){var r=new De,i,s=new Br(e);return n||(n=s.extension),n=="blob"?i=this.getBlob(e):i=this.getText(e),i?i.then(function(o){let a=this.handleResponse(o,n);r.resolve(a)}.bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):rf(n)?r=Rr(e,"text/xml"):n=="xhtml"?r=Rr(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Rr(e,"text/html"):r=e,r}getBlob(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||Ls.lookup(i.name),i.async("uint8array").then(function(s){return new Blob([s],{type:n})})}getText(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return i.async("string").then(function(s){return s})}getBase64(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||Ls.lookup(i.name),i.async("base64").then(function(s){return"data:"+n+";base64,"+s})}createUrl(e,n){var r=new De,i=window.URL||window.webkitURL||window.mozURL,s,o,a=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(a?(o=this.getBase64(e),o&&o.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(o=this.getBlob(e),o&&o.then(function(u){s=i.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}.bind(this))),o||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var aE={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(l,f){if(!i[l]){if(!r[l]){var c=typeof Yr=="function"&&Yr;if(!f&&c)return c(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var g=i[l]={exports:{}};r[l][0].call(g.exports,function(w){var E=r[l][1][w];return o(E||w)},g,g.exports,n,r,i,s)}return i[l].exports}for(var a=typeof Yr=="function"&&Yr,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(w),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var c=new s.MessageChannel;c.port1.onmessage=w,a=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){w(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:a=function(){setTimeout(w,0)};var d,g=[];function w(){d=!0;for(var p,h,v=g.length;v;){for(h=g,g=[],p=-1;++p<v;)h[p]();v=g.length}d=!1}r.exports=E;function E(p){g.push(p)===1&&!d&&a()}}).call(this,typeof Vn!="undefined"?Vn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];r.exports=c;function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&E(this,_)}c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,b){if(typeof _!="function"&&this.state===l||typeof b!="function"&&this.state===u)return this;var T=new this.constructor(o);if(this.state!==f){var O=this.state===l?_:b;g(T,O,this.outcome)}else this.queue.push(new d(T,_,b));return T};function d(_,b,T){this.promise=_,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},d.prototype.otherCallFulfilled=function(_){g(this.promise,this.onFulfilled,_)},d.prototype.callRejected=function(_){a.reject(this.promise,_)},d.prototype.otherCallRejected=function(_){g(this.promise,this.onRejected,_)};function g(_,b,T){s(function(){var O;try{O=b(T)}catch(R){return a.reject(_,R)}O===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,O)})}a.resolve=function(_,b){var T=p(w,b);if(T.status==="error")return a.reject(_,T.value);var O=T.value;if(O)E(_,O);else{_.state=l,_.outcome=b;for(var R=-1,z=_.queue.length;++R<z;)_.queue[R].callFulfilled(b)}return _},a.reject=function(_,b){_.state=u,_.outcome=b;for(var T=-1,O=_.queue.length;++T<O;)_.queue[T].callRejected(b);return _};function w(_){var b=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof b=="function")return function(){b.apply(_,arguments)}}function E(_,b){var T=!1;function O(U){T||(T=!0,a.reject(_,U))}function R(U){T||(T=!0,a.resolve(_,U))}function z(){b(R,O)}var W=p(z);W.status==="error"&&O(W.value)}function p(_,b){var T={};try{T.value=_(b),T.status="success"}catch(O){T.status="error",T.value=O}return T}c.resolve=h;function h(_){return _ instanceof this?_:a.resolve(new this(o),_)}c.reject=v;function v(_){var b=new this(o);return a.reject(b,_)}c.all=y;function y(_){var b=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,O=!1;if(!T)return this.resolve([]);for(var R=new Array(T),z=0,W=-1,U=new this(o);++W<T;)H(_[W],W);return U;function H(fe,X){b.resolve(fe).then(ie,function(se){O||(O=!0,a.reject(U,se))});function ie(se){R[X]=se,++z===T&&!O&&(O=!0,a.resolve(U,R))}}}c.race=x;function x(_){var b=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,O=!1;if(!T)return this.resolve([]);for(var R=-1,z=new this(o);++R<T;)W(_[R]);return z;function W(U){b.resolve(U).then(function(H){O||(O=!0,a.resolve(z,H))},function(H){O||(O=!0,a.reject(z,H))})}}},{"1":1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Vn!="undefined"?Vn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function o(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var C=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),N=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||N)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function f(C,N){C=C||[],N=N||{};try{return new Blob(C,N)}catch(L){if(L.name!=="TypeError")throw L;for(var A=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,M=new A,B=0;B<C.length;B+=1)M.append(C[B]);return M.getBlob(N.type)}}typeof Promise=="undefined"&&n(3);var c=Promise;function d(C,N){N&&C.then(function(A){N(null,A)},function(A){N(A)})}function g(C,N,A){typeof N=="function"&&C.then(N),typeof A=="function"&&C.catch(A)}function w(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",h=void 0,v={},y=Object.prototype.toString,x="readonly",_="readwrite";function b(C){for(var N=C.length,A=new ArrayBuffer(N),M=new Uint8Array(A),B=0;B<N;B++)M[B]=C.charCodeAt(B);return A}function T(C){return new c(function(N){var A=C.transaction(p,_),M=f([""]);A.objectStore(p).put(M,"key"),A.onabort=function(B){B.preventDefault(),B.stopPropagation(),N(!1)},A.oncomplete=function(){var B=navigator.userAgent.match(/Chrome\/(\d+)/),L=navigator.userAgent.match(/Edge\//);N(L||!B||parseInt(B[1],10)>=43)}}).catch(function(){return!1})}function O(C){return typeof h=="boolean"?c.resolve(h):T(C).then(function(N){return h=N,h})}function R(C){var N=v[C.name],A={};A.promise=new c(function(M,B){A.resolve=M,A.reject=B}),N.deferredOperations.push(A),N.dbReady?N.dbReady=N.dbReady.then(function(){return A.promise}):N.dbReady=A.promise}function z(C){var N=v[C.name],A=N.deferredOperations.pop();if(A)return A.resolve(),A.promise}function W(C,N){var A=v[C.name],M=A.deferredOperations.pop();if(M)return M.reject(N),M.promise}function U(C,N){return new c(function(A,M){if(v[C.name]=v[C.name]||Y(),C.db)if(N)R(C),C.db.close();else return A(C.db);var B=[C.name];N&&B.push(C.version);var L=u.open.apply(u,B);N&&(L.onupgradeneeded=function(V){var Q=L.result;try{Q.createObjectStore(C.storeName),V.oldVersion<=1&&Q.createObjectStore(p)}catch(ee){if(ee.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+V.oldVersion+" to version "+V.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw ee}}),L.onerror=function(V){V.preventDefault(),M(L.error)},L.onsuccess=function(){var V=L.result;V.onversionchange=function(Q){Q.target.close()},A(V),z(C)}})}function H(C){return U(C,!1)}function fe(C){return U(C,!0)}function X(C,N){if(!C.db)return!0;var A=!C.db.objectStoreNames.contains(C.storeName),M=C.version<C.db.version,B=C.version>C.db.version;if(M&&(C.version!==N&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),B||A){if(A){var L=C.db.version+1;L>C.version&&(C.version=L)}return!0}return!1}function ie(C){return new c(function(N,A){var M=new FileReader;M.onerror=A,M.onloadend=function(B){var L=btoa(B.target.result||"");N({__local_forage_encoded_blob:!0,data:L,type:C.type})},M.readAsBinaryString(C)})}function se(C){var N=b(atob(C.data));return f([N],{type:C.type})}function oe(C){return C&&C.__local_forage_encoded_blob}function _e(C){var N=this,A=N._initReady().then(function(){var M=v[N._dbInfo.name];if(M&&M.dbReady)return M.dbReady});return g(A,C,C),A}function ke(C){R(C);for(var N=v[C.name],A=N.forages,M=0;M<A.length;M++){var B=A[M];B._dbInfo.db&&(B._dbInfo.db.close(),B._dbInfo.db=null)}return C.db=null,H(C).then(function(L){return C.db=L,X(C)?fe(C):L}).then(function(L){C.db=N.db=L;for(var V=0;V<A.length;V++)A[V]._dbInfo.db=L}).catch(function(L){throw W(C,L),L})}function q(C,N,A,M){M===void 0&&(M=1);try{var B=C.db.transaction(C.storeName,N);A(null,B)}catch(L){if(M>0&&(!C.db||L.name==="InvalidStateError"||L.name==="NotFoundError"))return c.resolve().then(function(){if(!C.db||L.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),fe(C)}).then(function(){return ke(C).then(function(){q(C,N,A,M-1)})}).catch(A);A(L)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ue(C){var N=this,A={db:null};if(C)for(var M in C)A[M]=C[M];var B=v[A.name];B||(B=Y(),v[A.name]=B),B.forages.push(N),N._initReady||(N._initReady=N.ready,N.ready=_e);var L=[];function V(){return c.resolve()}for(var Q=0;Q<B.forages.length;Q++){var ee=B.forages[Q];ee!==N&&L.push(ee._initReady().catch(V))}var te=B.forages.slice(0);return c.all(L).then(function(){return A.db=B.db,H(A)}).then(function(re){return A.db=re,X(A,N._defaultConfig.version)?fe(A):re}).then(function(re){A.db=B.db=re,N._dbInfo=A;for(var ge=0;ge<te.length;ge++){var Ie=te[ge];Ie!==N&&(Ie._dbInfo.db=A.db,Ie._dbInfo.version=A.version)}})}function de(C,N){var A=this;C=w(C);var M=new c(function(B,L){A.ready().then(function(){q(A._dbInfo,x,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(A._dbInfo.storeName),te=ee.get(C);te.onsuccess=function(){var re=te.result;re===void 0&&(re=null),oe(re)&&(re=se(re)),B(re)},te.onerror=function(){L(te.error)}}catch(re){L(re)}})}).catch(L)});return d(M,N),M}function Te(C,N){var A=this,M=new c(function(B,L){A.ready().then(function(){q(A._dbInfo,x,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(A._dbInfo.storeName),te=ee.openCursor(),re=1;te.onsuccess=function(){var ge=te.result;if(ge){var Ie=ge.value;oe(Ie)&&(Ie=se(Ie));var We=C(Ie,ge.key,re++);We!==void 0?B(We):ge.continue()}else B()},te.onerror=function(){L(te.error)}}catch(ge){L(ge)}})}).catch(L)});return d(M,N),M}function Fe(C,N,A){var M=this;C=w(C);var B=new c(function(L,V){var Q;M.ready().then(function(){return Q=M._dbInfo,y.call(N)==="[object Blob]"?O(Q.db).then(function(ee){return ee?N:ie(N)}):N}).then(function(ee){q(M._dbInfo,_,function(te,re){if(te)return V(te);try{var ge=re.objectStore(M._dbInfo.storeName);ee===null&&(ee=void 0);var Ie=ge.put(ee,C);re.oncomplete=function(){ee===void 0&&(ee=null),L(ee)},re.onabort=re.onerror=function(){var We=Ie.error?Ie.error:Ie.transaction.error;V(We)}}catch(We){V(We)}})}).catch(V)});return d(B,A),B}function Me(C,N){var A=this;C=w(C);var M=new c(function(B,L){A.ready().then(function(){q(A._dbInfo,_,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(A._dbInfo.storeName),te=ee.delete(C);Q.oncomplete=function(){B()},Q.onerror=function(){L(te.error)},Q.onabort=function(){var re=te.error?te.error:te.transaction.error;L(re)}}catch(re){L(re)}})}).catch(L)});return d(M,N),M}function Se(C){var N=this,A=new c(function(M,B){N.ready().then(function(){q(N._dbInfo,_,function(L,V){if(L)return B(L);try{var Q=V.objectStore(N._dbInfo.storeName),ee=Q.clear();V.oncomplete=function(){M()},V.onabort=V.onerror=function(){var te=ee.error?ee.error:ee.transaction.error;B(te)}}catch(te){B(te)}})}).catch(B)});return d(A,C),A}function He(C){var N=this,A=new c(function(M,B){N.ready().then(function(){q(N._dbInfo,x,function(L,V){if(L)return B(L);try{var Q=V.objectStore(N._dbInfo.storeName),ee=Q.count();ee.onsuccess=function(){M(ee.result)},ee.onerror=function(){B(ee.error)}}catch(te){B(te)}})}).catch(B)});return d(A,C),A}function at(C,N){var A=this,M=new c(function(B,L){if(C<0){B(null);return}A.ready().then(function(){q(A._dbInfo,x,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(A._dbInfo.storeName),te=!1,re=ee.openKeyCursor();re.onsuccess=function(){var ge=re.result;if(!ge){B(null);return}C===0||te?B(ge.key):(te=!0,ge.advance(C))},re.onerror=function(){L(re.error)}}catch(ge){L(ge)}})}).catch(L)});return d(M,N),M}function je(C){var N=this,A=new c(function(M,B){N.ready().then(function(){q(N._dbInfo,x,function(L,V){if(L)return B(L);try{var Q=V.objectStore(N._dbInfo.storeName),ee=Q.openKeyCursor(),te=[];ee.onsuccess=function(){var re=ee.result;if(!re){M(te);return}te.push(re.key),re.continue()},ee.onerror=function(){B(ee.error)}}catch(re){B(re)}})}).catch(B)});return d(A,C),A}function tt(C,N){N=E.apply(this,arguments);var A=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||A.name,C.storeName=C.storeName||A.storeName);var M=this,B;if(!C.name)B=c.reject("Invalid arguments");else{var L=C.name===A.name&&M._dbInfo.db,V=L?c.resolve(M._dbInfo.db):H(C).then(function(Q){var ee=v[C.name],te=ee.forages;ee.db=Q;for(var re=0;re<te.length;re++)te[re]._dbInfo.db=Q;return Q});C.storeName?B=V.then(function(Q){if(!!Q.objectStoreNames.contains(C.storeName)){var ee=Q.version+1;R(C);var te=v[C.name],re=te.forages;Q.close();for(var ge=0;ge<re.length;ge++){var Ie=re[ge];Ie._dbInfo.db=null,Ie._dbInfo.version=ee}var We=new c(function(Ke,gt){var dt=u.open(C.name,ee);dt.onerror=function(xn){var yo=dt.result;yo.close(),gt(xn)},dt.onupgradeneeded=function(){var xn=dt.result;xn.deleteObjectStore(C.storeName)},dt.onsuccess=function(){var xn=dt.result;xn.close(),Ke(xn)}});return We.then(function(Ke){te.db=Ke;for(var gt=0;gt<re.length;gt++){var dt=re[gt];dt._dbInfo.db=Ke,z(dt._dbInfo)}}).catch(function(Ke){throw(W(C,Ke)||c.resolve()).catch(function(){}),Ke})}}):B=V.then(function(Q){R(C);var ee=v[C.name],te=ee.forages;Q.close();for(var re=0;re<te.length;re++){var ge=te[re];ge._dbInfo.db=null}var Ie=new c(function(We,Ke){var gt=u.deleteDatabase(C.name);gt.onerror=function(){var dt=gt.result;dt&&dt.close(),Ke(gt.error)},gt.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},gt.onsuccess=function(){var dt=gt.result;dt&&dt.close(),We(dt)}});return Ie.then(function(We){ee.db=We;for(var Ke=0;Ke<te.length;Ke++){var gt=te[Ke];z(gt._dbInfo)}}).catch(function(We){throw(W(C,We)||c.resolve()).catch(function(){}),We})})}return d(B,N),B}var ze={_driver:"asyncStorage",_initStorage:ue,_support:l(),iterate:Te,getItem:de,setItem:Fe,removeItem:Me,clear:Se,length:He,key:at,keys:je,dropInstance:tt};function kt(){return typeof openDatabase=="function"}var ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",en="~~local_forage_type~",Be=/^~~local_forage_type~([^~]+)~/,wt="__lfsc__:",Pn=wt.length,Lt="arbf",At="blob",Ve="si08",Ce="ui08",Vt="uic8",gr="si16",Ln="si32",qt="ur16",yr="ui32",zn="fl32",tn="fl64",_r=Pn+Lt.length,Mn=Object.prototype.toString;function Et(C){var N=C.length*.75,A=C.length,M,B=0,L,V,Q,ee;C[C.length-1]==="="&&(N--,C[C.length-2]==="="&&N--);var te=new ArrayBuffer(N),re=new Uint8Array(te);for(M=0;M<A;M+=4)L=ct.indexOf(C[M]),V=ct.indexOf(C[M+1]),Q=ct.indexOf(C[M+2]),ee=ct.indexOf(C[M+3]),re[B++]=L<<2|V>>4,re[B++]=(V&15)<<4|Q>>2,re[B++]=(Q&3)<<6|ee&63;return te}function nn(C){var N=new Uint8Array(C),A="",M;for(M=0;M<N.length;M+=3)A+=ct[N[M]>>2],A+=ct[(N[M]&3)<<4|N[M+1]>>4],A+=ct[(N[M+1]&15)<<2|N[M+2]>>6],A+=ct[N[M+2]&63];return N.length%3===2?A=A.substring(0,A.length-1)+"=":N.length%3===1&&(A=A.substring(0,A.length-2)+"=="),A}function jr(C,N){var A="";if(C&&(A=Mn.call(C)),C&&(A==="[object ArrayBuffer]"||C.buffer&&Mn.call(C.buffer)==="[object ArrayBuffer]")){var M,B=wt;C instanceof ArrayBuffer?(M=C,B+=Lt):(M=C.buffer,A==="[object Int8Array]"?B+=Ve:A==="[object Uint8Array]"?B+=Ce:A==="[object Uint8ClampedArray]"?B+=Vt:A==="[object Int16Array]"?B+=gr:A==="[object Uint16Array]"?B+=qt:A==="[object Int32Array]"?B+=Ln:A==="[object Uint32Array]"?B+=yr:A==="[object Float32Array]"?B+=zn:A==="[object Float64Array]"?B+=tn:N(new Error("Failed to get type for BinaryArray"))),N(B+nn(M))}else if(A==="[object Blob]"){var L=new FileReader;L.onload=function(){var V=en+C.type+"~"+nn(this.result);N(wt+At+V)},L.readAsArrayBuffer(C)}else try{N(JSON.stringify(C))}catch(V){console.error("Couldn't convert value into a JSON string: ",C),N(null,V)}}function I(C){if(C.substring(0,Pn)!==wt)return JSON.parse(C);var N=C.substring(_r),A=C.substring(Pn,_r),M;if(A===At&&Be.test(N)){var B=N.match(Be);M=B[1],N=N.substring(B[0].length)}var L=Et(N);switch(A){case Lt:return L;case At:return f([L],{type:M});case Ve:return new Int8Array(L);case Ce:return new Uint8Array(L);case Vt:return new Uint8ClampedArray(L);case gr:return new Int16Array(L);case qt:return new Uint16Array(L);case Ln:return new Int32Array(L);case yr:return new Uint32Array(L);case zn:return new Float32Array(L);case tn:return new Float64Array(L);default:throw new Error("Unkown type: "+A)}}var Z={serialize:jr,deserialize:I,stringToBuffer:Et,bufferToString:nn};function J(C,N,A,M){C.executeSql("CREATE TABLE IF NOT EXISTS "+N.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],A,M)}function ce(C){var N=this,A={db:null};if(C)for(var M in C)A[M]=typeof C[M]!="string"?C[M].toString():C[M];var B=new c(function(L,V){try{A.db=openDatabase(A.name,String(A.version),A.description,A.size)}catch(Q){return V(Q)}A.db.transaction(function(Q){J(Q,A,function(){N._dbInfo=A,L()},function(ee,te){V(te)})},V)});return A.serializer=Z,B}function P(C,N,A,M,B,L){C.executeSql(A,M,B,function(V,Q){Q.code===Q.SYNTAX_ERR?V.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[N.storeName],function(ee,te){te.rows.length?L(ee,Q):J(ee,N,function(){ee.executeSql(A,M,B,L)},L)},L):L(V,Q)},L)}function $(C,N){var A=this;C=w(C);var M=new c(function(B,L){A.ready().then(function(){var V=A._dbInfo;V.db.transaction(function(Q){P(Q,V,"SELECT * FROM "+V.storeName+" WHERE key = ? LIMIT 1",[C],function(ee,te){var re=te.rows.length?te.rows.item(0).value:null;re&&(re=V.serializer.deserialize(re)),B(re)},function(ee,te){L(te)})})}).catch(L)});return d(M,N),M}function S(C,N){var A=this,M=new c(function(B,L){A.ready().then(function(){var V=A._dbInfo;V.db.transaction(function(Q){P(Q,V,"SELECT * FROM "+V.storeName,[],function(ee,te){for(var re=te.rows,ge=re.length,Ie=0;Ie<ge;Ie++){var We=re.item(Ie),Ke=We.value;if(Ke&&(Ke=V.serializer.deserialize(Ke)),Ke=C(Ke,We.key,Ie+1),Ke!==void 0){B(Ke);return}}B()},function(ee,te){L(te)})})}).catch(L)});return d(M,N),M}function G(C,N,A,M){var B=this;C=w(C);var L=new c(function(V,Q){B.ready().then(function(){N===void 0&&(N=null);var ee=N,te=B._dbInfo;te.serializer.serialize(N,function(re,ge){ge?Q(ge):te.db.transaction(function(Ie){P(Ie,te,"INSERT OR REPLACE INTO "+te.storeName+" (key, value) VALUES (?, ?)",[C,re],function(){V(ee)},function(We,Ke){Q(Ke)})},function(Ie){if(Ie.code===Ie.QUOTA_ERR){if(M>0){V(G.apply(B,[C,ee,A,M-1]));return}Q(Ie)}})})}).catch(Q)});return d(L,A),L}function we(C,N,A){return G.apply(this,[C,N,A,1])}function m(C,N){var A=this;C=w(C);var M=new c(function(B,L){A.ready().then(function(){var V=A._dbInfo;V.db.transaction(function(Q){P(Q,V,"DELETE FROM "+V.storeName+" WHERE key = ?",[C],function(){B()},function(ee,te){L(te)})})}).catch(L)});return d(M,N),M}function j(C){var N=this,A=new c(function(M,B){N.ready().then(function(){var L=N._dbInfo;L.db.transaction(function(V){P(V,L,"DELETE FROM "+L.storeName,[],function(){M()},function(Q,ee){B(ee)})})}).catch(B)});return d(A,C),A}function K(C){var N=this,A=new c(function(M,B){N.ready().then(function(){var L=N._dbInfo;L.db.transaction(function(V){P(V,L,"SELECT COUNT(key) as c FROM "+L.storeName,[],function(Q,ee){var te=ee.rows.item(0).c;M(te)},function(Q,ee){B(ee)})})}).catch(B)});return d(A,C),A}function k(C,N){var A=this,M=new c(function(B,L){A.ready().then(function(){var V=A._dbInfo;V.db.transaction(function(Q){P(Q,V,"SELECT key FROM "+V.storeName+" WHERE id = ? LIMIT 1",[C+1],function(ee,te){var re=te.rows.length?te.rows.item(0).key:null;B(re)},function(ee,te){L(te)})})}).catch(L)});return d(M,N),M}function D(C){var N=this,A=new c(function(M,B){N.ready().then(function(){var L=N._dbInfo;L.db.transaction(function(V){P(V,L,"SELECT key FROM "+L.storeName,[],function(Q,ee){for(var te=[],re=0;re<ee.rows.length;re++)te.push(ee.rows.item(re).key);M(te)},function(Q,ee){B(ee)})})}).catch(B)});return d(A,C),A}function F(C){return new c(function(N,A){C.transaction(function(M){M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(B,L){for(var V=[],Q=0;Q<L.rows.length;Q++)V.push(L.rows.item(Q).name);N({db:C,storeNames:V})},function(B,L){A(L)})},function(M){A(M)})})}function me(C,N){N=E.apply(this,arguments);var A=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||A.name,C.storeName=C.storeName||A.storeName);var M=this,B;return C.name?B=new c(function(L){var V;C.name===A.name?V=M._dbInfo.db:V=openDatabase(C.name,"","",0),C.storeName?L({db:V,storeNames:[C.storeName]}):L(F(V))}).then(function(L){return new c(function(V,Q){L.db.transaction(function(ee){function te(We){return new c(function(Ke,gt){ee.executeSql("DROP TABLE IF EXISTS "+We,[],function(){Ke()},function(dt,xn){gt(xn)})})}for(var re=[],ge=0,Ie=L.storeNames.length;ge<Ie;ge++)re.push(te(L.storeNames[ge]));c.all(re).then(function(){V()}).catch(function(We){Q(We)})},function(ee){Q(ee)})})}):B=c.reject("Invalid arguments"),d(B,N),B}var le={_driver:"webSQLStorage",_initStorage:ce,_support:kt(),iterate:S,getItem:$,setItem:we,removeItem:m,clear:j,length:K,key:k,keys:D,dropInstance:me};function he(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Oe(C,N){var A=C.name+"/";return C.storeName!==N.storeName&&(A+=C.storeName+"/"),A}function Bn(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function nt(){return!Bn()||localStorage.length>0}function Ae(C){var N=this,A={};if(C)for(var M in C)A[M]=C[M];return A.keyPrefix=Oe(C,N._defaultConfig),nt()?(N._dbInfo=A,A.serializer=Z,c.resolve()):c.reject()}function ht(C){var N=this,A=N.ready().then(function(){for(var M=N._dbInfo.keyPrefix,B=localStorage.length-1;B>=0;B--){var L=localStorage.key(B);L.indexOf(M)===0&&localStorage.removeItem(L)}});return d(A,C),A}function Tt(C,N){var A=this;C=w(C);var M=A.ready().then(function(){var B=A._dbInfo,L=localStorage.getItem(B.keyPrefix+C);return L&&(L=B.serializer.deserialize(L)),L});return d(M,N),M}function zt(C,N){var A=this,M=A.ready().then(function(){for(var B=A._dbInfo,L=B.keyPrefix,V=L.length,Q=localStorage.length,ee=1,te=0;te<Q;te++){var re=localStorage.key(te);if(re.indexOf(L)===0){var ge=localStorage.getItem(re);if(ge&&(ge=B.serializer.deserialize(ge)),ge=C(ge,re.substring(V),ee++),ge!==void 0)return ge}}});return d(M,N),M}function rs(C,N){var A=this,M=A.ready().then(function(){var B=A._dbInfo,L;try{L=localStorage.key(C)}catch{L=null}return L&&(L=L.substring(B.keyPrefix.length)),L});return d(M,N),M}function is(C){var N=this,A=N.ready().then(function(){for(var M=N._dbInfo,B=localStorage.length,L=[],V=0;V<B;V++){var Q=localStorage.key(V);Q.indexOf(M.keyPrefix)===0&&L.push(Q.substring(M.keyPrefix.length))}return L});return d(A,C),A}function ut(C){var N=this,A=N.keys().then(function(M){return M.length});return d(A,C),A}function rn(C,N){var A=this;C=w(C);var M=A.ready().then(function(){var B=A._dbInfo;localStorage.removeItem(B.keyPrefix+C)});return d(M,N),M}function xt(C,N,A){var M=this;C=w(C);var B=M.ready().then(function(){N===void 0&&(N=null);var L=N;return new c(function(V,Q){var ee=M._dbInfo;ee.serializer.serialize(N,function(te,re){if(re)Q(re);else try{localStorage.setItem(ee.keyPrefix+C,te),V(L)}catch(ge){(ge.name==="QuotaExceededError"||ge.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Q(ge),Q(ge)}})})});return d(B,A),B}function Un(C,N){if(N=E.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var A=this.config();C.name=C.name||A.name,C.storeName=C.storeName||A.storeName}var M=this,B;return C.name?B=new c(function(L){C.storeName?L(Oe(C,M._defaultConfig)):L(C.name+"/")}).then(function(L){for(var V=localStorage.length-1;V>=0;V--){var Q=localStorage.key(V);Q.indexOf(L)===0&&localStorage.removeItem(Q)}}):B=c.reject("Invalid arguments"),d(B,N),B}var En={_driver:"localStorageWrapper",_initStorage:Ae,_support:he(),iterate:zt,getItem:Tt,setItem:xt,removeItem:rn,clear:ht,length:ut,key:rs,keys:is,dropInstance:Un},_u=function(N,A){return N===A||typeof N=="number"&&typeof A=="number"&&isNaN(N)&&isNaN(A)},vE=function(N,A){for(var M=N.length,B=0;B<M;){if(_u(N[B],A))return!0;B++}return!1},zv=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},go={},Mv={},ss={INDEXEDDB:ze,WEBSQL:le,LOCALSTORAGE:En},mE=[ss.INDEXEDDB._driver,ss.WEBSQL._driver,ss.LOCALSTORAGE._driver],wu=["dropInstance"],Hf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(wu),gE={description:"",driver:mE.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function yE(C,N){C[N]=function(){var A=arguments;return C.ready().then(function(){return C[N].apply(C,A)})}}function Vf(){for(var C=1;C<arguments.length;C++){var N=arguments[C];if(N)for(var A in N)N.hasOwnProperty(A)&&(zv(N[A])?arguments[0][A]=N[A].slice():arguments[0][A]=N[A])}return arguments[0]}var _E=function(){function C(N){o(this,C);for(var A in ss)if(ss.hasOwnProperty(A)){var M=ss[A],B=M._driver;this[A]=B,go[B]||this.defineDriver(M)}this._defaultConfig=Vf({},gE),this._config=Vf({},this._defaultConfig,N),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(A){if((typeof A=="undefined"?"undefined":s(A))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var M in A){if(M==="storeName"&&(A[M]=A[M].replace(/\W/g,"_")),M==="version"&&typeof A[M]!="number")return new Error("Database version must be a number.");this._config[M]=A[M]}return"driver"in A&&A.driver?this.setDriver(this._config.driver):!0}else return typeof A=="string"?this._config[A]:this._config},C.prototype.defineDriver=function(A,M,B){var L=new c(function(V,Q){try{var ee=A._driver,te=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!A._driver){Q(te);return}for(var re=Hf.concat("_initStorage"),ge=0,Ie=re.length;ge<Ie;ge++){var We=re[ge],Ke=!vE(wu,We);if((Ke||A[We])&&typeof A[We]!="function"){Q(te);return}}var gt=function(){for(var yo=function(xE){return function(){var bE=new Error("Method "+xE+" is not implemented by the current driver"),Bv=c.reject(bE);return d(Bv,arguments[arguments.length-1]),Bv}},qf=0,EE=wu.length;qf<EE;qf++){var Yf=wu[qf];A[Yf]||(A[Yf]=yo(Yf))}};gt();var dt=function(yo){go[ee]&&console.info("Redefining LocalForage driver: "+ee),go[ee]=A,Mv[ee]=yo,V()};"_support"in A?A._support&&typeof A._support=="function"?A._support().then(dt,Q):dt(!!A._support):dt(!0)}catch(xn){Q(xn)}});return g(L,M,B),L},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(A,M,B){var L=go[A]?c.resolve(go[A]):c.reject(new Error("Driver not found."));return g(L,M,B),L},C.prototype.getSerializer=function(A){var M=c.resolve(Z);return g(M,A),M},C.prototype.ready=function(A){var M=this,B=M._driverSet.then(function(){return M._ready===null&&(M._ready=M._initDriver()),M._ready});return g(B,A,A),B},C.prototype.setDriver=function(A,M,B){var L=this;zv(A)||(A=[A]);var V=this._getSupportedDrivers(A);function Q(){L._config.driver=L.driver()}function ee(ge){return L._extend(ge),Q(),L._ready=L._initStorage(L._config),L._ready}function te(ge){return function(){var Ie=0;function We(){for(;Ie<ge.length;){var Ke=ge[Ie];return Ie++,L._dbInfo=null,L._ready=null,L.getDriver(Ke).then(ee).catch(We)}Q();var gt=new Error("No available storage method found.");return L._driverSet=c.reject(gt),L._driverSet}return We()}}var re=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=re.then(function(){var ge=V[0];return L._dbInfo=null,L._ready=null,L.getDriver(ge).then(function(Ie){L._driver=Ie._driver,Q(),L._wrapLibraryMethodsWithReady(),L._initDriver=te(V)})}).catch(function(){Q();var ge=new Error("No available storage method found.");return L._driverSet=c.reject(ge),L._driverSet}),g(this._driverSet,M,B),this._driverSet},C.prototype.supports=function(A){return!!Mv[A]},C.prototype._extend=function(A){Vf(this,A)},C.prototype._getSupportedDrivers=function(A){for(var M=[],B=0,L=A.length;B<L;B++){var V=A[B];this.supports(V)&&M.push(V)}return M},C.prototype._wrapLibraryMethodsWithReady=function(){for(var A=0,M=Hf.length;A<M;A++)yE(this,Hf[A])},C.prototype.createInstance=function(A){return new C(A)},C}(),wE=new _E;r.exports=wE},{"3":3}]},{},[4])(4)})})(aE);var Sy=aE.exports;class uE{constructor(e,n,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=n||Ha,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof Sy=="undefined"&&(e=Sy),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(e,n){let r=e.resources.map(i=>{let{href:s}=i,o=this.resolver(s),a=window.encodeURIComponent(o);return this.storage.getItem(a).then(u=>!u||n?this.requester(o,"binary").then(l=>this.storage.setItem(a,l)):u)});return Promise.all(r)}put(e,n,r){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(s=>s||this.requester(e,"binary",n,r).then(o=>this.storage.setItem(i,o)))}request(e,n,r,i){return this.online?this.requester(e,n,r,i).then(s=>(this.put(e),s)):this.retrieve(e,n)}retrieve(e,n){new De;var r,i=new Br(e);return n||(n=i.extension),n=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(s=>{var o=new De,a;return s?(a=this.handleResponse(s,n),o.resolve(a)):o.reject({message:"File not found in storage: "+e,stack:new Error().stack}),o.promise})}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):rf(n)?r=Rr(e,"text/xml"):n=="xhtml"?r=Rr(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Rr(e,"text/html"):r=e,r}getBlob(e,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(i){if(!!i)return n=n||Ls.lookup(e),new Blob([i],{type:n})})}getText(e,n){let r=window.encodeURIComponent(e);return n=n||Ls.lookup(e),this.storage.getItem(r).then(function(i){var s=new De,o=new FileReader,a;if(!!i)return a=new Blob([i],{type:n}),o.addEventListener("loadend",()=>{s.resolve(o.result)}),o.readAsText(a,n),s.promise})}getBase64(e,n){let r=window.encodeURIComponent(e);return n=n||Ls.lookup(e),this.storage.getItem(r).then(i=>{var s=new De,o=new FileReader,a;if(!!i)return a=new Blob([i],{type:n}),o.addEventListener("loadend",()=>{s.resolve(o.result)}),o.readAsDataURL(a,n),s.promise})}createUrl(e,n){var r=new De,i=window.URL||window.webkitURL||window.mozURL,s,o,a=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(a?(o=this.getBase64(e),o&&o.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(o=this.getBlob(e),o&&o.then(function(u){s=i.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}.bind(this))),o||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}mr(uE.prototype);class jc{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const n=Ze(e,"display_options");return n?(wi(n,"option").forEach(i=>{let s="";switch(i.childNodes.length&&(s=i.childNodes[0].nodeValue),i.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const ky="META-INF/container.xml",sA="META-INF/com.apple.ibooks.display-options.xml",jn={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class oA{constructor(e,n){typeof n=="undefined"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(n=e,e=void 0),this.settings=Wt(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Wt(this.settings,n),this.opening=new De,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new De,spine:new De,metadata:new De,cover:new De,navigation:new De,pageList:new De,resources:new De,displayOptions:new De},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Ha,this.spine=new CI,this.locations=new W1(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var i=new Error("Cannot load book at "+e);this.emit(ae.BOOK.OPEN_FAILED,i)})}open(e,n){var r,i=n||this.determineType(e);return i===jn.BINARY?(this.archived=!0,this.url=new Kn("/",""),r=this.openEpub(e)):i===jn.BASE64?(this.archived=!0,this.url=new Kn("/",""),r=this.openEpub(e,i)):i===jn.EPUB?(this.archived=!0,this.url=new Kn("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==jn.OPF?(this.url=new Kn(e),r=this.openPackaging(this.url.Path.toString())):i==jn.MANIFEST?(this.url=new Kn(e),r=this.openManifest(this.url.Path.toString())):(this.url=new Kn(e),r=this.openContainer(ky).then(this.openPackaging.bind(this))),r}openEpub(e,n){return this.unarchive(e,n||this.settings.encoding).then(()=>this.openContainer(ky)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(n=>(this.container=new II(n),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new Br(e),this.load(e).then(n=>(this.packaging=new my(n),this.unpack(this.packaging)))}openManifest(e){return this.path=new Br(e),this.load(e).then(n=>(this.packaging=new my,this.packaging.load(n),this.unpack(this.packaging)))}load(e){var n=this.resolve(e);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,n){if(!!e){var r=e,i=e.indexOf("://")>-1;return i?e:(this.path&&(r=this.path.resolve(e)),n!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var n=e;return e?(this.settings.canonical?n=this.settings.canonical(e):n=this.resolve(e,!0),n):""}determineType(e){var n,r,i;if(this.settings.encoding==="base64")return jn.BASE64;if(typeof e!="string")return jn.BINARY;if(n=new Kn(e),r=n.path(),i=r.extension,i&&(i=i.replace(/\?.*$/,"")),!i)return jn.DIRECTORY;if(i==="epub")return jn.EPUB;if(i==="opf")return jn.OPF;if(i==="json")return jn.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(sA)).then(n=>{this.displayOptions=new jc(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new jc,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new jc,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new NI(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let n=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((i,s)=>{this.navigation=new Bc(r),e.pageList&&(this.pageList=new Uc(e.pageList)),i(this.navigation)}):n?this.load(n,"xml").then(i=>(this.navigation=new Bc(i),this.pageList=new Uc(i),this.navigation)):new Promise((i,s)=>{this.navigation=new Bc,this.pageList=new Uc,i(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,n){return this.rendition=new sE(this,n),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,n){return this.archive=new iA,this.archive.open(e,n)}store(e){let n=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,i=this.settings.requestMethod||Ha.bind(this);return this.storage=new uE(e,i,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(o,a)=>{a.output=this.resources.substitute(o,a.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Kn("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,n)=>{n.output=this.resources.substitute(e,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var n=new Pe(e),r=this.spine.get(n.spinePos),i=this.load.bind(this);return r?r.load(i).then(function(s){var o=n.toRange(r.document);return o}):new Promise((s,o)=>{o("CFI could not be found")})}key(e){var n=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Nv}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}mr(oA.prototype);typeof global!="undefined"&&(global.EPUBJS_VERSION=Nv);var aA={exports:{}},yu={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=Ee.exports,lE=60103;yu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Ty=Symbol.for;lE=Ty("react.element"),yu.Fragment=Ty("react.fragment")}var lA=uA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fA=Object.prototype.hasOwnProperty,cA={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fA.call(e,r)&&!cA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lE,type:t,key:s,ref:o,props:i,_owner:lA.current}}yu.jsx=fE;yu.jsxs=fE;aA.exports=yu;var Ii=4294967295;function hA(t,e,n){var r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function cE(t,e,n){var r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function hE(t,e){var n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function dA(t,e){var n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}var Wc,Kc,$c,$f=(typeof process=="undefined"||((Wc=process==null?void 0:process.env)===null||Wc===void 0?void 0:Wc.TEXT_ENCODING)!=="never")&&typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined";function Cy(t){for(var e=t.length,n=0,r=0;r<e;){var i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){var s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function pA(t,e,n){for(var r=t.length,i=n,s=0;s<r;){var o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){var a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}var pa=$f?new TextEncoder:void 0,vA=$f?typeof process!="undefined"&&((Kc=process==null?void 0:process.env)===null||Kc===void 0?void 0:Kc.TEXT_ENCODING)!=="force"?200:0:Ii;function mA(t,e,n){e.set(pa.encode(t),n)}function gA(t,e,n){pa.encodeInto(t,e.subarray(n))}var yA=(pa==null?void 0:pa.encodeInto)?gA:mA,_A=4096;function dE(t,e,n){for(var r=e,i=r+n,s=[],o="";r<i;){var a=t[r++];if((a&128)===0)s.push(a);else if((a&224)===192){var u=t[r++]&63;s.push((a&31)<<6|u)}else if((a&240)===224){var u=t[r++]&63,l=t[r++]&63;s.push((a&31)<<12|u<<6|l)}else if((a&248)===240){var u=t[r++]&63,l=t[r++]&63,f=t[r++]&63,c=(a&7)<<18|u<<12|l<<6|f;c>65535&&(c-=65536,s.push(c>>>10&1023|55296),c=56320|c&1023),s.push(c)}else s.push(a);s.length>=_A&&(o+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(o+=String.fromCharCode.apply(String,s)),o}var wA=$f?new TextDecoder:null,EA=$f?typeof process!="undefined"&&(($c=process==null?void 0:process.env)===null||$c===void 0?void 0:$c.TEXT_DECODER)!=="force"?200:0:Ii;function xA(t,e,n){var r=t.subarray(e,e+n);return wA.decode(r)}var qu=function(){function t(e,n){this.type=e,this.data=n}return t}(),bA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nr=function(t){bA(e,t);function e(n){var r=t.call(this,n)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return e}(Error),SA=-1,kA=4294967296-1,TA=17179869184-1;function CA(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=TA)if(n===0&&e<=kA){var r=new Uint8Array(4),i=new DataView(r.buffer);return i.setUint32(0,e),r}else{var s=e/4294967296,o=e&4294967295,r=new Uint8Array(8),i=new DataView(r.buffer);return i.setUint32(0,n<<2|s&3),i.setUint32(4,o),r}else{var r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,n),cE(i,4,e),r}}function IA(t){var e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function OA(t){if(t instanceof Date){var e=IA(t);return CA(e)}else return null}function AA(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),r=0;return{sec:n,nsec:r}}case 8:{var i=e.getUint32(0),s=e.getUint32(4),n=(i&3)*4294967296+s,r=i>>>2;return{sec:n,nsec:r}}case 12:{var n=hE(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new nr("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function RA(t){var e=AA(t);return new Date(e.sec*1e3+e.nsec/1e6)}var NA={type:SA,encode:OA,decode:RA},pE=function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(NA)}return t.prototype.register=function(e){var n=e.type,r=e.encode,i=e.decode;if(n>=0)this.encoders[n]=r,this.decoders[n]=i;else{var s=1+n;this.builtInEncoders[s]=r,this.builtInDecoders[s]=i}},t.prototype.tryToEncode=function(e,n){for(var r=0;r<this.builtInEncoders.length;r++){var i=this.builtInEncoders[r];if(i!=null){var s=i(e,n);if(s!=null){var o=-1-r;return new qu(o,s)}}}for(var r=0;r<this.encoders.length;r++){var i=this.encoders[r];if(i!=null){var s=i(e,n);if(s!=null){var o=r;return new qu(o,s)}}}return e instanceof qu?e:null},t.prototype.decode=function(e,n,r){var i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new qu(n,e)},t.defaultCodec=new t,t}();function uf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function DA(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=uf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var PA=100,LA=2048,zA=function(){function t(e,n,r,i,s,o,a,u){e===void 0&&(e=pE.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=PA),i===void 0&&(i=LA),s===void 0&&(s=!1),o===void 0&&(o=!1),a===void 0&&(a=!1),u===void 0&&(u=!1),this.extensionCodec=e,this.context=n,this.maxDepth=r,this.initialBufferSize=i,this.sortKeys=s,this.forceFloat32=o,this.ignoreUndefined=a,this.forceIntegerToFloat=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,r=e.length;if(r>vA){var i=Cy(e);this.ensureBufferSizeToWrite(n+i),this.writeStringHeader(i),yA(e,this.bytes,this.pos),this.pos+=i}else{var i=Cy(e);this.ensureBufferSizeToWrite(n+i),this.writeStringHeader(i),pA(e,this.bytes,this.pos),this.pos+=i}},t.prototype.encodeObject=function(e,n){var r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var r=uf(e);this.writeU8a(r)},t.prototype.encodeArray=function(e,n){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var i=0,s=e;i<s.length;i++){var o=s[i];this.doEncode(o,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var r=0,i=0,s=n;i<s.length;i++){var o=s[i];e[o]!==void 0&&r++}return r},t.prototype.encodeMap=function(e,n){var r=Object.keys(e);this.sortKeys&&r.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var s=0,o=r;s<o.length;s++){var a=o[s],u=e[a];this.ignoreUndefined&&u===void 0||(this.encodeString(a),this.doEncode(u,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),hA(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),cE(this.view,this.pos,e),this.pos+=8},t}(),MA={};function sR(t,e){e===void 0&&(e=MA);var n=new zA(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat);return n.encode(t)}function Hc(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var BA=16,UA=16,FA=function(){function t(e,n){e===void 0&&(e=BA),n===void 0&&(n=UA),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,r){var i=this.caches[r-1];e:for(var s=0,o=i;s<o.length;s++){for(var a=o[s],u=a.bytes,l=0;l<r;l++)if(u[l]!==e[n+l])continue e;return a.str}return null},t.prototype.store=function(e,n){var r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)},t.prototype.decode=function(e,n,r){var i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;var s=dE(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s},t}(),jA=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(c){o(c)}}function u(f){try{l(r.throw(f))}catch(c){o(c)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})},Vc=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Iy=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}},zs=globalThis&&globalThis.__await||function(t){return this instanceof zs?(this.v=t,this):new zs(t)},WA=globalThis&&globalThis.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(g){return new Promise(function(w,E){s.push([d,g,w,E])>1||a(d,g)})})}function a(d,g){try{u(r[d](g))}catch(w){c(s[0][3],w)}}function u(d){d.value instanceof zs?Promise.resolve(d.value.v).then(l,f):c(s[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function c(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}},KA=function(t){var e=typeof t;return e==="string"||e==="number"},Fo=-1,Lv=new DataView(new ArrayBuffer(0)),$A=new Uint8Array(Lv.buffer),Dd=function(){try{Lv.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")}(),Oy=new Dd("Insufficient data"),HA=new FA,VA=function(){function t(e,n,r,i,s,o,a,u){e===void 0&&(e=pE.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=Ii),i===void 0&&(i=Ii),s===void 0&&(s=Ii),o===void 0&&(o=Ii),a===void 0&&(a=Ii),u===void 0&&(u=HA),this.extensionCodec=e,this.context=n,this.maxStrLength=r,this.maxBinLength=i,this.maxArrayLength=s,this.maxMapLength=o,this.maxExtLength=a,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=Lv,this.bytes=$A,this.headByte=Fo,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=Fo,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=uf(e),this.view=DA(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===Fo&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),r=uf(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,r=n.view,i=n.pos;return new RangeError("Extra ".concat(r.byteLength-i," of ").concat(r.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Vc(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,r,i,s;return jA(this,void 0,void 0,function(){var o,a,u,l,f,c,d,g;return Vc(this,function(w){switch(w.label){case 0:o=!1,w.label=1;case 1:w.trys.push([1,6,7,12]),n=Iy(e),w.label=2;case 2:return[4,n.next()];case 3:if(r=w.sent(),!!r.done)return[3,5];if(u=r.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{a=this.doDecodeSync(),o=!0}catch(E){if(!(E instanceof Dd))throw E}this.totalPos+=this.pos,w.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=w.sent(),i={error:l},[3,12];case 7:return w.trys.push([7,,10,11]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,9];case 8:w.sent(),w.label=9;case 9:return[3,11];case 10:if(i)throw i.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw f=this,c=f.headByte,d=f.pos,g=f.totalPos,new RangeError("Insufficient data in parsing ".concat(Hc(c)," at ").concat(g," (").concat(d," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return WA(this,arguments,function(){var i,s,o,a,u,l,f,c,d;return Vc(this,function(g){switch(g.label){case 0:i=n,s=-1,g.label=1;case 1:g.trys.push([1,13,14,19]),o=Iy(e),g.label=2;case 2:return[4,zs(o.next())];case 3:if(a=g.sent(),!!a.done)return[3,12];if(u=a.value,n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),i&&(s=this.readArraySize(),i=!1,this.complete()),g.label=4;case 4:g.trys.push([4,9,,10]),g.label=5;case 5:return[4,zs(this.doDecodeSync())];case 6:return[4,g.sent()];case 7:return g.sent(),--s===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(l=g.sent(),!(l instanceof Dd))throw l;return[3,10];case 10:this.totalPos+=this.pos,g.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return f=g.sent(),c={error:f},[3,19];case 14:return g.trys.push([14,,17,18]),a&&!a.done&&(d=o.return)?[4,zs(d.call(o))]:[3,16];case 15:g.sent(),g.label=16;case 16:return[3,18];case 17:if(c)throw c.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e<160){var r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else{var i=e-160;n=this.decodeUtf8String(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var i=this.lookU8();n=this.decodeUtf8String(i,1)}else if(e===218){var i=this.lookU16();n=this.decodeUtf8String(i,2)}else if(e===219){var i=this.lookU32();n=this.decodeUtf8String(i,4)}else if(e===220){var r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else if(e===221){var r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else if(e===222){var r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e===223){var r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e===196){var r=this.lookU8();n=this.decodeBinary(r,1)}else if(e===197){var r=this.lookU16();n=this.decodeBinary(r,2)}else if(e===198){var r=this.lookU32();n=this.decodeBinary(r,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var r=this.lookU8();n=this.decodeExtension(r,1)}else if(e===200){var r=this.lookU16();n=this.decodeExtension(r,2)}else if(e===201){var r=this.lookU32();n=this.decodeExtension(r,4)}else throw new nr("Unrecognized type byte: ".concat(Hc(e)));this.complete();for(var s=this.stack;s.length>0;){var o=s[s.length-1];if(o.type===0)if(o.array[o.position]=n,o.position++,o.position===o.size)s.pop(),n=o.array;else continue e;else if(o.type===1){if(!KA(n))throw new nr("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new nr("The key __proto__ is not allowed");o.key=n,o.type=2;continue e}else if(o.map[o.key]=n,o.readCount++,o.readCount===o.size)s.pop(),n=o.map;else{o.key=null,o.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===Fo&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=Fo},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new nr("Unrecognized array type byte: ".concat(Hc(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new nr("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new nr("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var r;if(e>this.maxStrLength)throw new nr("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw Oy;var i=this.pos+n,s;return this.stateIsMapKey()&&((r=this.keyDecoder)===null||r===void 0?void 0:r.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,i,e):e>EA?s=xA(this.bytes,i,e):s=dE(this.bytes,i,e),this.pos+=n+e,s},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new nr("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw Oy;var r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new nr("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=dA(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=hE(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}(),qA={};function oR(t,e){e===void 0&&(e=qA);var n=new VA(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return n.decode(t)}export{oA as B,Xl as D,Xp as L,fo as M,ZA as R,rR as S,Hg as a,JA as b,iR as c,tR as d,sR as e,oR as f,eR as g,Zu as h,TE as i,aA as j,QA as k,XA as l,Db as m,Ee as r,nR as s,GA as u};
