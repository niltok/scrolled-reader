function jN(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var Un=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $N(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function Ms(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xe={exports:{}},yt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Dw=Object.getOwnPropertySymbols,KN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable;function VN(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function qN(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _x=qN()?Object.assign:function(t,e){for(var n,r=VN(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)KN.call(n,o)&&(r[o]=n[o]);if(Dw){i=Dw(n);for(var u=0;u<i.length;u++)HN.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=_x,lu=60103,wx=60106;yt.Fragment=60107;yt.StrictMode=60108;yt.Profiler=60114;var Ex=60109,xx=60110,Sx=60112;yt.Suspense=60113;var bx=60115,Tx=60116;if(typeof Symbol=="function"&&Symbol.for){var fi=Symbol.for;lu=fi("react.element"),wx=fi("react.portal"),yt.Fragment=fi("react.fragment"),yt.StrictMode=fi("react.strict_mode"),yt.Profiler=fi("react.profiler"),Ex=fi("react.provider"),xx=fi("react.context"),Sx=fi("react.forward_ref"),yt.Suspense=fi("react.suspense"),bx=fi("react.memo"),Tx=fi("react.lazy")}var zw=typeof Symbol=="function"&&Symbol.iterator;function YN(t){return t===null||typeof t!="object"?null:(t=zw&&t[zw]||t["@@iterator"],typeof t=="function"?t:null)}function yf(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kx={};function fu(t,e,n){this.props=t,this.context=e,this.refs=kx,this.updater=n||Cx}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(yf(85));this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ax(){}Ax.prototype=fu.prototype;function Om(t,e,n){this.props=t,this.context=e,this.refs=kx,this.updater=n||Cx}var Rm=Om.prototype=new Ax;Rm.constructor=Om;Im(Rm,fu.prototype);Rm.isPureReactComponent=!0;var Nm={current:null},Ix=Object.prototype.hasOwnProperty,Ox={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ix.call(e,r)&&!Ox.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var f=Array(u),c=0;c<u;c++)f[c]=arguments[c+2];i.children=f}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:lu,type:t,key:s,ref:o,props:i,_owner:Nm.current}}function GN(t,e){return{$$typeof:lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lm(t){return typeof t=="object"&&t!==null&&t.$$typeof===lu}function ZN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mw=/\/+/g;function sv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZN(""+t.key):e.toString(36)}function rh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lu:case wx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sv(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Mw,"$&/")+"/"),rh(i,e,n,"",function(c){return c})):i!=null&&(Lm(i)&&(i=GN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var f=r+sv(s,u);o+=rh(s,e,n,f,i)}else if(f=YN(t),typeof f=="function")for(t=f.call(t),u=0;!(s=t.next()).done;)s=s.value,f=r+sv(s,u++),o+=rh(s,e,n,f,i);else if(s==="object")throw e=""+t,Error(yf(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Lc(t,e,n){if(t==null)return t;var r=[],i=0;return rh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XN(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Nx={current:null};function ms(){var t=Nx.current;if(t===null)throw Error(yf(321));return t}var QN={ReactCurrentDispatcher:Nx,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Nm,IsSomeRendererActing:{current:!1},assign:Im};yt.Children={map:Lc,forEach:function(t,e,n){Lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lc(t,function(){e++}),e},toArray:function(t){return Lc(t,function(e){return e})||[]},only:function(t){if(!Lm(t))throw Error(yf(143));return t}};yt.Component=fu;yt.PureComponent=Om;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QN;yt.cloneElement=function(t,e,n){if(t==null)throw Error(yf(267,t));var r=Im({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Nm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(f in e)Ix.call(e,f)&&!Ox.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&u!==void 0?u[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){u=Array(f);for(var c=0;c<f;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:lu,type:t.type,key:i,ref:s,props:r,_owner:o}};yt.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:xx,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Ex,_context:t},t.Consumer=t};yt.createElement=Rx;yt.createFactory=function(t){var e=Rx.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:Sx,render:t}};yt.isValidElement=Lm;yt.lazy=function(t){return{$$typeof:Tx,_payload:{_status:-1,_result:t},_init:XN}};yt.memo=function(t,e){return{$$typeof:bx,type:t,compare:e===void 0?null:e}};yt.useCallback=function(t,e){return ms().useCallback(t,e)};yt.useContext=function(t,e){return ms().useContext(t,e)};yt.useDebugValue=function(){};yt.useEffect=function(t,e){return ms().useEffect(t,e)};yt.useImperativeHandle=function(t,e,n){return ms().useImperativeHandle(t,e,n)};yt.useLayoutEffect=function(t,e){return ms().useLayoutEffect(t,e)};yt.useMemo=function(t,e){return ms().useMemo(t,e)};yt.useReducer=function(t,e,n){return ms().useReducer(t,e,n)};yt.useRef=function(t){return ms().useRef(t)};yt.useState=function(t){return ms().useState(t)};yt.version="17.0.2";Xe.exports=yt;var JN=Xe.exports,f4=Object.freeze(jN({__proto__:null,[Symbol.toStringTag]:"Module",default:JN},[Xe.exports])),eL={exports:{}},si={},Lx={exports:{}},Px={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var f=null,c=null,d=function(){if(f!==null)try{var ie=t.unstable_now();f(!0,ie),f=null}catch(le){throw setTimeout(d,0),le}};e=function(ie){f!==null?setTimeout(e,0,ie):(f=ie,setTimeout(d,0))},n=function(ie,le){c=setTimeout(ie,le)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,m=window.clearTimeout;if(typeof console!="undefined"){var E=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof E!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,T=null,g=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},i=function(){},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<ie?Math.floor(1e3/ie):5};var x=new MessageChannel,C=x.port2;x.port1.onmessage=function(){if(T!==null){var ie=t.unstable_now();y=ie+v;try{T(!0,ie)?C.postMessage(null):(b=!1,T=null)}catch(le){throw C.postMessage(null),le}}else b=!1},e=function(ie){T=ie,b||(b=!0,C.postMessage(null))},n=function(ie,le){g=p(function(){ie(t.unstable_now())},le)},r=function(){m(g),g=-1}}function S(ie,le){var Se=ie.length;ie.push(le);e:for(;;){var Oe=Se-1>>>1,Ke=ie[Oe];if(Ke!==void 0&&0<z(Ke,le))ie[Oe]=le,ie[Se]=Ke,Se=Oe;else break e}}function A(ie){return ie=ie[0],ie===void 0?null:ie}function N(ie){var le=ie[0];if(le!==void 0){var Se=ie.pop();if(Se!==le){ie[0]=Se;e:for(var Oe=0,Ke=ie.length;Oe<Ke;){var ot=2*(Oe+1)-1,vt=ie[ot],$e=ot+1,_t=ie[$e];if(vt!==void 0&&0>z(vt,Se))_t!==void 0&&0>z(_t,vt)?(ie[Oe]=_t,ie[$e]=Se,Oe=$e):(ie[Oe]=vt,ie[ot]=Se,Oe=ot);else if(_t!==void 0&&0>z(_t,Se))ie[Oe]=_t,ie[$e]=Se,Oe=$e;else break e}}return le}return null}function z(ie,le){var Se=ie.sortIndex-le.sortIndex;return Se!==0?Se:ie.id-le.id}var F=[],H=[],ee=1,Z=null,ae=3,ke=!1,ce=!1,xe=!1;function we(ie){for(var le=A(H);le!==null;){if(le.callback===null)N(H);else if(le.startTime<=ie)N(H),le.sortIndex=le.expirationTime,S(F,le);else break;le=A(H)}}function ye(ie){if(xe=!1,we(ie),!ce)if(A(F)!==null)ce=!0,e(Me);else{var le=A(H);le!==null&&n(ye,le.startTime-ie)}}function Me(ie,le){ce=!1,xe&&(xe=!1,r()),ke=!0;var Se=ae;try{for(we(le),Z=A(F);Z!==null&&(!(Z.expirationTime>le)||ie&&!t.unstable_shouldYield());){var Oe=Z.callback;if(typeof Oe=="function"){Z.callback=null,ae=Z.priorityLevel;var Ke=Oe(Z.expirationTime<=le);le=t.unstable_now(),typeof Ke=="function"?Z.callback=Ke:Z===A(F)&&N(F),we(le)}else N(F);Z=A(F)}if(Z!==null)var ot=!0;else{var vt=A(H);vt!==null&&n(ye,vt.startTime-le),ot=!1}return ot}finally{Z=null,ae=Se,ke=!1}}var Ve=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){ce||ke||(ce=!0,e(Me))},t.unstable_getCurrentPriorityLevel=function(){return ae},t.unstable_getFirstCallbackNode=function(){return A(F)},t.unstable_next=function(ie){switch(ae){case 1:case 2:case 3:var le=3;break;default:le=ae}var Se=ae;ae=le;try{return ie()}finally{ae=Se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Ve,t.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Se=ae;ae=ie;try{return le()}finally{ae=Se}},t.unstable_scheduleCallback=function(ie,le,Se){var Oe=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Oe+Se:Oe):Se=Oe,ie){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=Se+Ke,ie={id:ee++,callback:le,priorityLevel:ie,startTime:Se,expirationTime:Ke,sortIndex:-1},Se>Oe?(ie.sortIndex=Se,S(H,ie),A(F)===null&&ie===A(H)&&(xe?r():xe=!0,n(ye,Se-Oe))):(ie.sortIndex=Ke,S(F,ie),ce||ke||(ce=!0,e(Me))),ie},t.unstable_wrapCallback=function(ie){var le=ae;return function(){var Se=ae;ae=le;try{return ie.apply(this,arguments)}finally{ae=Se}}}})(Px);Lx.exports=Px;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Xe.exports,Gt=_x,Tn=Lx.exports;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!dd)throw Error(_e(227));var Dx=new Set,Fl={};function Ha(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(Fl[t]=e,t=0;t<e.length;t++)Dx.add(e[t])}var fs=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),tL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bw=Object.prototype.hasOwnProperty,Fw={},Uw={};function nL(t){return Bw.call(Uw,t)?!0:Bw.call(Fw,t)?!1:tL.test(t)?Uw[t]=!0:(Fw[t]=!0,!1)}function rL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iL(t,e,n,r){if(e===null||typeof e=="undefined"||rL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pm=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pm,Dm);Ln[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pm,Dm);Ln[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pm,Dm);Ln[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function zm(t,e,n,r){var i=Ln.hasOwnProperty(e)?Ln[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(iL(e,n,i,r)&&(n=null),r||i===null?nL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Va=dd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=60103,ka=60106,zs=60107,Mm=60108,xl=60114,Bm=60109,Fm=60110,pd=60112,Sl=60113,bh=60120,vd=60115,Um=60116,Wm=60121,jm=60128,zx=60129,$m=60130,Gv=60131;if(typeof Symbol=="function"&&Symbol.for){var bn=Symbol.for;hl=bn("react.element"),ka=bn("react.portal"),zs=bn("react.fragment"),Mm=bn("react.strict_mode"),xl=bn("react.profiler"),Bm=bn("react.provider"),Fm=bn("react.context"),pd=bn("react.forward_ref"),Sl=bn("react.suspense"),bh=bn("react.suspense_list"),vd=bn("react.memo"),Um=bn("react.lazy"),Wm=bn("react.block"),bn("react.scope"),jm=bn("react.opaque.id"),zx=bn("react.debug_trace_mode"),$m=bn("react.offscreen"),Gv=bn("react.legacy_hidden")}var Ww=typeof Symbol=="function"&&Symbol.iterator;function Hu(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var av;function dl(t){if(av===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);av=e&&e[1]||""}return`
`+av+t}var ov=!1;function Pc(t,e){if(!t||ov)return"";ov=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{ov=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dl(t):""}function sL(t){switch(t.tag){case 5:return dl(t.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return t=Pc(t.type,!1),t;case 11:return t=Pc(t.type.render,!1),t;case 22:return t=Pc(t.type._render,!1),t;case 1:return t=Pc(t.type,!0),t;default:return""}}function Mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case ka:return"Portal";case xl:return"Profiler";case Mm:return"StrictMode";case Sl:return"Suspense";case bh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fm:return(t.displayName||"Context")+".Consumer";case Bm:return(t._context.displayName||"Context")+".Provider";case pd:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case vd:return Mo(t.type);case Wm:return Mo(t._render);case Um:e=t._payload,t=t._init;try{return Mo(t(e))}catch{}}return null}function Js(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aL(t){var e=Mx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=aL(t))}function Bx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Th(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zv(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function jw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fx(t,e){e=e.checked,e!=null&&zm(t,"checked",e,!1)}function Xv(t,e){Fx(t,e);var n=Js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,Js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $w(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qv(t,e,n){(e!=="number"||Th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function oL(t){var e="";return dd.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Jv(t,e){return t=Gt({children:void 0},e),(e=oL(e.children))&&(t.children=e),t}function Bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Js(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Js(n)}}function Ux(t,e){var n=Js(e.value),r=Js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var tg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Wx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ng(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zc,jx=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==tg.svg||"innerHTML"in t)t.innerHTML=e;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uL=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(t){uL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bl[e]=bl[t]})});function $x(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bl.hasOwnProperty(t)&&bl[t]?(""+e).trim():e+"px"}function Kx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$x(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lL=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rg(t,e){if(e){if(lL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function ig(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sg=null,Fo=null,Uo=null;function Vw(t){if(t=wf(t)){if(typeof sg!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=Ed(e),sg(t.stateNode,t.type,e))}}function Hx(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function Vx(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,Vw(t),e)for(t=0;t<e.length;t++)Vw(e[t])}}function Hm(t,e){return t(e)}function qx(t,e,n,r,i){return t(e,n,r,i)}function Vm(){}var Yx=Hm,Aa=!1,uv=!1;function qm(){(Fo!==null||Uo!==null)&&(Vm(),Vx())}function fL(t,e,n){if(uv)return t(e,n);uv=!0;try{return Yx(t,e,n)}finally{uv=!1,qm()}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var ag=!1;if(fs)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){ag=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{ag=!1}function cL(t,e,n,r,i,s,o,u,f){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Tl=!1,Ch=null,kh=!1,og=null,hL={onError:function(t){Tl=!0,Ch=t}};function dL(t,e,n,r,i,s,o,u,f){Tl=!1,Ch=null,cL.apply(hL,arguments)}function pL(t,e,n,r,i,s,o,u,f){if(dL.apply(this,arguments),Tl){if(Tl){var c=Ch;Tl=!1,Ch=null}else throw Error(_e(198));kh||(kh=!0,og=c)}}function qa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qw(t){if(qa(t)!==t)throw Error(_e(188))}function vL(t){var e=t.alternate;if(!e){if(e=qa(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qw(i),t;if(s===r)return qw(i),e;s=s.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function Zx(t){if(t=vL(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Yw(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Xx,Ym,Qx,Jx,ug=!1,Ni=[],$s=null,Ks=null,Hs=null,jl=new Map,$l=new Map,qu=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lg(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Zw(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function Yu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=lg(e,n,r,i,s),e!==null&&(e=wf(e),e!==null&&Ym(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gL(t,e,n,r,i){switch(e){case"focusin":return $s=Yu($s,t,e,n,r,i),!0;case"dragenter":return Ks=Yu(Ks,t,e,n,r,i),!0;case"mouseover":return Hs=Yu(Hs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jl.set(s,Yu(jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,Yu($l.get(s)||null,t,e,n,r,i)),!0}return!1}function mL(t){var e=Ia(t.target);if(e!==null){var n=qa(e);if(n!==null){if(e=n.tag,e===13){if(e=Gx(n),e!==null){t.blockedOn=e,Jx(t.lanePriority,function(){Tn.unstable_runWithPriority(t.priority,function(){Qx(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=wf(n),e!==null&&Ym(e),t.blockedOn=n,!1;e.shift()}return!0}function Xw(t,e,n){ih(t)&&n.delete(e)}function yL(){for(ug=!1;0<Ni.length;){var t=Ni[0];if(t.blockedOn!==null){t=wf(t.blockedOn),t!==null&&Xx(t);break}for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Ni.shift()}$s!==null&&ih($s)&&($s=null),Ks!==null&&ih(Ks)&&(Ks=null),Hs!==null&&ih(Hs)&&(Hs=null),jl.forEach(Xw),$l.forEach(Xw)}function Gu(t,e){t.blockedOn===e&&(t.blockedOn=null,ug||(ug=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,yL)))}function eS(t){function e(i){return Gu(i,t)}if(0<Ni.length){Gu(Ni[0],t);for(var n=1;n<Ni.length;n++){var r=Ni[n];r.blockedOn===t&&(r.blockedOn=null)}}for($s!==null&&Gu($s,t),Ks!==null&&Gu(Ks,t),Hs!==null&&Gu(Hs,t),jl.forEach(e),$l.forEach(e),n=0;n<qu.length;n++)r=qu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qu.length&&(n=qu[0],n.blockedOn===null);)mL(n),n.blockedOn===null&&qu.shift()}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},lv={},tS={};fs&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function gd(t){if(lv[t])return lv[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tS)return lv[t]=e[n];return t}var nS=gd("animationend"),rS=gd("animationiteration"),iS=gd("animationstart"),sS=gd("transitionend"),aS=new Map,Gm=new Map,_L=["abort","abort",nS,"animationEnd",rS,"animationIteration",iS,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",sS,"transitionEnd","waiting","waiting"];function Zm(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Gm.set(r,e),aS.set(r,i),Ha(i,[r])}}var wL=Tn.unstable_now;wL();var Pt=8;function ko(t){if((1&t)!==0)return Pt=15,1;if((2&t)!==0)return Pt=14,2;if((4&t)!==0)return Pt=13,4;var e=24&t;return e!==0?(Pt=12,e):(t&32)!==0?(Pt=11,32):(e=192&t,e!==0?(Pt=10,e):(t&256)!==0?(Pt=9,256):(e=3584&t,e!==0?(Pt=8,e):(t&4096)!==0?(Pt=7,4096):(e=4186112&t,e!==0?(Pt=6,e):(e=62914560&t,e!==0?(Pt=5,e):t&67108864?(Pt=4,67108864):(t&134217728)!==0?(Pt=3,134217728):(e=805306368&t,e!==0?(Pt=2,e):(1073741824&t)!==0?(Pt=1,1073741824):(Pt=8,t))))))}function EL(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function xL(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(_e(358,t))}}function Kl(t,e){var n=t.pendingLanes;if(n===0)return Pt=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=Pt=15;else if(s=n&134217727,s!==0){var f=s&~o;f!==0?(r=ko(f),i=Pt):(u&=s,u!==0&&(r=ko(u),i=Pt))}else s=n&~o,s!==0?(r=ko(s),i=Pt):u!==0&&(r=ko(u),i=Pt);if(r===0)return 0;if(r=31-ea(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(ko(e),i<=Pt)return e;Pt=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ea(e),i=1<<n,r|=t[n],e&=~i;return r}function oS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ah(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Ao(24&~e),t===0?Ah(10,e):t;case 10:return t=Ao(192&~e),t===0?Ah(8,e):t;case 8:return t=Ao(3584&~e),t===0&&(t=Ao(4186112&~e),t===0&&(t=512)),t;case 2:return e=Ao(805306368&~e),e===0&&(e=268435456),e}throw Error(_e(358,t))}function Ao(t){return t&-t}function fv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function md(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-ea(e),t[e]=n}var ea=Math.clz32?Math.clz32:TL,SL=Math.log,bL=Math.LN2;function TL(t){return t===0?32:31-(SL(t)/bL|0)|0}var CL=Tn.unstable_UserBlockingPriority,kL=Tn.unstable_runWithPriority,sh=!0;function AL(t,e,n,r){Aa||Vm();var i=Xm,s=Aa;Aa=!0;try{qx(i,t,e,n,r)}finally{(Aa=s)||qm()}}function IL(t,e,n,r){kL(CL,Xm.bind(null,t,e,n,r))}function Xm(t,e,n,r){if(sh){var i;if((i=(e&4)===0)&&0<Ni.length&&-1<Gw.indexOf(t))t=lg(null,t,e,n,r),Ni.push(t);else{var s=Qm(t,e,n,r);if(s===null)i&&Zw(t,r);else{if(i){if(-1<Gw.indexOf(t)){t=lg(s,t,e,n,r),Ni.push(t);return}if(gL(s,t,e,n,r))return;Zw(t,r)}wS(t,e,r,null,n)}}}}function Qm(t,e,n,r){var i=Km(r);if(i=Ia(i),i!==null){var s=qa(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Gx(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wS(t,e,r,i,n),null}var Bs=null,Jm=null,ah=null;function uS(){if(ah)return ah;var t,e=Jm,n=e.length,r,i="value"in Bs?Bs.value:Bs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ah=i.slice(t,1<r?1-r:void 0)}function oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bc(){return!0}function Qw(){return!1}function Fr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bc:Qw,this.isPropagationStopped=Qw,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),e}var cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ey=Fr(cu),_f=Gt({},cu,{view:0,detail:0}),OL=Fr(_f),cv,hv,Zu,yd=Gt({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zu&&(Zu&&t.type==="mousemove"?(cv=t.screenX-Zu.screenX,hv=t.screenY-Zu.screenY):hv=cv=0,Zu=t),cv)},movementY:function(t){return"movementY"in t?t.movementY:hv}}),Jw=Fr(yd),RL=Gt({},yd,{dataTransfer:0}),NL=Fr(RL),LL=Gt({},_f,{relatedTarget:0}),dv=Fr(LL),PL=Gt({},cu,{animationName:0,elapsedTime:0,pseudoElement:0}),DL=Fr(PL),zL=Gt({},cu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ML=Fr(zL),BL=Gt({},cu,{data:0}),e1=Fr(BL),FL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WL[t])?!!e[t]:!1}function ty(){return jL}var $L=Gt({},_f,{key:function(t){if(t.key){var e=FL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(t){return t.type==="keypress"?oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KL=Fr($L),HL=Gt({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t1=Fr(HL),VL=Gt({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),qL=Fr(VL),YL=Gt({},cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),GL=Fr(YL),ZL=Gt({},yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XL=Fr(ZL),QL=[9,13,27,32],ny=fs&&"CompositionEvent"in window,Cl=null;fs&&"documentMode"in document&&(Cl=document.documentMode);var JL=fs&&"TextEvent"in window&&!Cl,lS=fs&&(!ny||Cl&&8<Cl&&11>=Cl),n1=String.fromCharCode(32),r1=!1;function fS(t,e){switch(t){case"keyup":return QL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function eP(t,e){switch(t){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(r1=!0,n1);case"textInput":return t=e.data,t===n1&&r1?null:t;default:return null}}function tP(t,e){if(Ro)return t==="compositionend"||!ny&&fS(t,e)?(t=uS(),ah=Jm=Bs=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lS&&e.locale!=="ko"?null:e.data;default:return null}}var nP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nP[t.type]:e==="textarea"}function hS(t,e,n,r){Hx(r),e=Ih(e,"onChange"),0<e.length&&(n=new ey("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kl=null,Hl=null;function rP(t){mS(t,0)}function _d(t){var e=Lo(t);if(Bx(e))return t}function iP(t,e){if(t==="change")return e}var dS=!1;if(fs){var pv;if(fs){var vv="oninput"in document;if(!vv){var s1=document.createElement("div");s1.setAttribute("oninput","return;"),vv=typeof s1.oninput=="function"}pv=vv}else pv=!1;dS=pv&&(!document.documentMode||9<document.documentMode)}function a1(){kl&&(kl.detachEvent("onpropertychange",pS),Hl=kl=null)}function pS(t){if(t.propertyName==="value"&&_d(Hl)){var e=[];if(hS(e,Hl,t,Km(t)),t=rP,Aa)t(e);else{Aa=!0;try{Hm(t,e)}finally{Aa=!1,qm()}}}}function sP(t,e,n){t==="focusin"?(a1(),kl=e,Hl=n,kl.attachEvent("onpropertychange",pS)):t==="focusout"&&a1()}function aP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(Hl)}function oP(t,e){if(t==="click")return _d(e)}function uP(t,e){if(t==="input"||t==="change")return _d(e)}function lP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zr=typeof Object.is=="function"?Object.is:lP,fP=Object.prototype.hasOwnProperty;function Vl(t,e){if(Zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fP.call(e,n[r])||!Zr(t[n[r]],e[n[r]]))return!1;return!0}function o1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u1(t,e){var n=o1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o1(n)}}function vS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l1(){for(var t=window,e=Th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Th(t.document)}return e}function fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cP=fs&&"documentMode"in document&&11>=document.documentMode,No=null,cg=null,Al=null,hg=!1;function f1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hg||No==null||No!==Th(r)||(r=No,"selectionStart"in r&&fg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&Vl(Al,r)||(Al=r,r=Ih(cg,"onSelect"),0<r.length&&(e=new ey("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}Zm("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Zm("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Zm(_L,2);for(var c1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),gv=0;gv<c1.length;gv++)Gm.set(c1[gv],0);Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function h1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pL(r,e,void 0,t),t.currentTarget=null}function mS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],f=u.instance,c=u.currentTarget;if(u=u.listener,f!==s&&i.isPropagationStopped())break e;h1(i,u,c),s=f}else for(o=0;o<r.length;o++){if(u=r[o],f=u.instance,c=u.currentTarget,u=u.listener,f!==s&&i.isPropagationStopped())break e;h1(i,u,c),s=f}}}if(kh)throw t=og,kh=!1,og=null,t}function Bt(t,e){var n=xS(e),r=t+"__bubble";n.has(r)||(_S(e,t,2,!1),n.add(r))}var d1="_reactListening"+Math.random().toString(36).slice(2);function yS(t){t[d1]||(t[d1]=!0,Dx.forEach(function(e){gS.has(e)||p1(e,!1,t,null),p1(e,!0,t,null)}))}function p1(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&gS.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=xS(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),_S(s,t,i,e),o.add(u))}function _S(t,e,n,r){var i=Gm.get(e);switch(i===void 0?2:i){case 0:i=AL;break;case 1:i=IL;break;default:i=Xm}n=i.bind(null,e,n,t),i=void 0,!ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wS(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ia(u),o===null)return;if(f=o.tag,f===5||f===6){r=s=o;continue e}u=u.parentNode}}r=r.return}fL(function(){var c=s,d=Km(n),p=[];e:{var m=aS.get(t);if(m!==void 0){var E=ey,b=t;switch(t){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":E=KL;break;case"focusin":b="focus",E=dv;break;case"focusout":b="blur",E=dv;break;case"beforeblur":case"afterblur":E=dv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=NL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=qL;break;case nS:case rS:case iS:E=DL;break;case sS:E=GL;break;case"scroll":E=OL;break;case"wheel":E=XL;break;case"copy":case"cut":case"paste":E=ML;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=t1}var T=(e&4)!==0,g=!T&&t==="scroll",v=T?m!==null?m+"Capture":null:m;T=[];for(var y=c,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,v!==null&&(C=Wl(y,v),C!=null&&T.push(ql(y,C,x)))),g)break;y=y.return}0<T.length&&(m=new E(m,b,null,n,d),p.push({event:m,listeners:T}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&(e&16)===0&&(b=n.relatedTarget||n.fromElement)&&(Ia(b)||b[hu]))break e;if((E||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,E?(b=n.relatedTarget||n.toElement,E=c,b=b?Ia(b):null,b!==null&&(g=qa(b),b!==g||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=c),E!==b)){if(T=Jw,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=t1,C="onPointerLeave",v="onPointerEnter",y="pointer"),g=E==null?m:Lo(E),x=b==null?m:Lo(b),m=new T(C,y+"leave",E,n,d),m.target=g,m.relatedTarget=x,C=null,Ia(d)===c&&(T=new T(v,y+"enter",b,n,d),T.target=x,T.relatedTarget=g,C=T),g=C,E&&b)t:{for(T=E,v=b,y=0,x=T;x;x=_o(x))y++;for(x=0,C=v;C;C=_o(C))x++;for(;0<y-x;)T=_o(T),y--;for(;0<x-y;)v=_o(v),x--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=_o(T),v=_o(v)}T=null}else T=null;E!==null&&v1(p,m,E,T,!1),b!==null&&g!==null&&v1(p,g,b,T,!0)}}e:{if(m=c?Lo(c):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var S=iP;else if(i1(m))if(dS)S=uP;else{S=aP;var A=sP}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=oP);if(S&&(S=S(t,c))){hS(p,S,n,d);break e}A&&A(t,m,c),t==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&Qv(m,"number",m.value)}switch(A=c?Lo(c):window,t){case"focusin":(i1(A)||A.contentEditable==="true")&&(No=A,cg=c,Al=null);break;case"focusout":Al=cg=No=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,f1(p,n,d);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":f1(p,n,d)}var N;if(ny)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Ro?fS(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(lS&&n.locale!=="ko"&&(Ro||z!=="onCompositionStart"?z==="onCompositionEnd"&&Ro&&(N=uS()):(Bs=d,Jm="value"in Bs?Bs.value:Bs.textContent,Ro=!0)),A=Ih(c,z),0<A.length&&(z=new e1(z,t,null,n,d),p.push({event:z,listeners:A}),N?z.data=N:(N=cS(n),N!==null&&(z.data=N)))),(N=JL?eP(t,n):tP(t,n))&&(c=Ih(c,"onBeforeInput"),0<c.length&&(d=new e1("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=N))}mS(p,e)})}function ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(t,n),s!=null&&r.unshift(ql(t,s,i)),s=Wl(t,e),s!=null&&r.push(ql(t,s,i))),t=t.return}return r}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,f=u.alternate,c=u.stateNode;if(f!==null&&f===r)break;u.tag===5&&c!==null&&(u=c,i?(f=Wl(n,s),f!=null&&o.unshift(ql(n,f,u))):i||(f=Wl(n,s),f!=null&&o.push(ql(n,f,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Oh(){}var mv=null,yv=null;function ES(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function dg(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g1=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0;function ry(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function m1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _v=0;function dP(t){return{$$typeof:jm,toString:t,valueOf:t}}var wd=Math.random().toString(36).slice(2),Fs="__reactFiber$"+wd,Rh="__reactProps$"+wd,hu="__reactContainer$"+wd,y1="__reactEvents$"+wd;function Ia(t){var e=t[Fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hu]||n[Fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m1(t);t!==null;){if(n=t[Fs])return n;t=m1(t)}return e}t=n,n=t.parentNode}return null}function wf(t){return t=t[Fs]||t[hu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function Ed(t){return t[Rh]||null}function xS(t){var e=t[y1];return e===void 0&&(e=t[y1]=new Set),e}var pg=[],Po=-1;function fa(t){return{current:t}}function Wt(t){0>Po||(t.current=pg[Po],pg[Po]=null,Po--)}function sn(t,e){Po++,pg[Po]=t.current,t.current=e}var ta={},Vn=fa(ta),vr=fa(!1),Ma=ta;function Zo(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function Nh(){Wt(vr),Wt(Vn)}function _1(t,e,n){if(Vn.current!==ta)throw Error(_e(168));sn(Vn,e),sn(vr,n)}function SS(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,Mo(e)||"Unknown",i));return Gt({},n,r)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,Ma=Vn.current,sn(Vn,t),sn(vr,vr.current),!0}function w1(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=SS(t,e,Ma),r.__reactInternalMemoizedMergedChildContext=t,Wt(vr),Wt(Vn),sn(Vn,t)):Wt(vr),sn(vr,n)}var iy=null,Pa=null,pP=Tn.unstable_runWithPriority,sy=Tn.unstable_scheduleCallback,vg=Tn.unstable_cancelCallback,vP=Tn.unstable_shouldYield,E1=Tn.unstable_requestPaint,gg=Tn.unstable_now,gP=Tn.unstable_getCurrentPriorityLevel,xd=Tn.unstable_ImmediatePriority,bS=Tn.unstable_UserBlockingPriority,TS=Tn.unstable_NormalPriority,CS=Tn.unstable_LowPriority,kS=Tn.unstable_IdlePriority,wv={},mP=E1!==void 0?E1:function(){},Ji=null,lh=null,Ev=!1,x1=gg(),jn=1e4>x1?gg:function(){return gg()-x1};function Xo(){switch(gP()){case xd:return 99;case bS:return 98;case TS:return 97;case CS:return 96;case kS:return 95;default:throw Error(_e(332))}}function AS(t){switch(t){case 99:return xd;case 98:return bS;case 97:return TS;case 96:return CS;case 95:return kS;default:throw Error(_e(332))}}function Ba(t,e){return t=AS(t),pP(t,e)}function Yl(t,e,n){return t=AS(t),sy(t,e,n)}function Bi(){if(lh!==null){var t=lh;lh=null,vg(t)}IS()}function IS(){if(!Ev&&Ji!==null){Ev=!0;var t=0;try{var e=Ji;Ba(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Ji=null}catch(n){throw Ji!==null&&(Ji=Ji.slice(t+1)),sy(xd,Bi),n}finally{Ev=!1}}}var yP=Va.ReactCurrentBatchConfig;function hi(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Lh=fa(null),Ph=null,Do=null,Dh=null;function ay(){Dh=Do=Ph=null}function oy(t){var e=Lh.current;Wt(Lh),t.type._context._currentValue=e}function OS(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function jo(t,e){Ph=t,Dh=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(gi=!0),t.firstContext=null)}function ni(t,e){if(Dh!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Dh=t,e=1073741823),e={context:t,observedBits:e,next:null},Do===null){if(Ph===null)throw Error(_e(308));Do=e,Ph.dependencies={lanes:0,firstContext:e,responders:null}}else Do=Do.next=e;return t._currentValue}var Ls=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function S1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gl(t,e,n,r){var i=t.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,c=f.next;f.next=null,o===null?s=c:o.next=c,o=f;var d=t.alternate;if(d!==null){d=d.updateQueue;var p=d.lastBaseUpdate;p!==o&&(p===null?d.firstBaseUpdate=c:p.next=c,d.lastBaseUpdate=f)}}if(s!==null){p=i.baseState,o=0,d=c=f=null;do{u=s.lane;var m=s.eventTime;if((r&u)===u){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=t,b=s;switch(u=e,m=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){p=E.call(m,p,u);break e}p=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=b.payload,u=typeof E=="function"?E.call(m,p,u):E,u==null)break e;p=Gt({},p,u);break e;case 2:Ls=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else m={eventTime:m,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,f=p):d=d.next=m,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);d===null&&(f=p),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=d,xf|=o,t.lanes=o,t.memoizedState=p}}function b1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var NS=new dd.Component().refs;function zh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?qa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Ys(t),s=Vs(r,i);s.payload=e,n!=null&&(s.callback=n),qs(t,s),Gs(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Ys(t),s=Vs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),qs(t,s),Gs(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mr(),r=Ys(t),i=Vs(n,r);i.tag=2,e!=null&&(i.callback=e),qs(t,i),Gs(t,r,n)}};function T1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vl(n,r)||!Vl(i,s):!0}function LS(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=ni(s):(i=gr(e)?Ma:Vn.current,r=e.contextTypes,s=(r=r!=null)?Zo(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function C1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function mg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=NS,uy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ni(s):(s=gr(e)?Ma:Vn.current,i.context=Zo(t,s)),Gl(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sd.enqueueReplaceState(i,i.state,null),Gl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Fc=Array.isArray;function Xu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===NS&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function Uc(t,e){if(t.type!=="textarea")throw Error(_e(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function PS(t){function e(g,v){if(t){var y=g.lastEffect;y!==null?(y.nextEffect=v,g.lastEffect=v):g.firstEffect=g.lastEffect=v,v.nextEffect=null,v.flags=8}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=ra(g,v),g.index=0,g.sibling=null,g}function s(g,v,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags=2,v):y):(g.flags=2,v)):v}function o(g){return t&&g.alternate===null&&(g.flags=2),g}function u(g,v,y,x){return v===null||v.tag!==6?(v=Cv(y,g.mode,x),v.return=g,v):(v=i(v,y),v.return=g,v)}function f(g,v,y,x){return v!==null&&v.elementType===y.type?(x=i(v,y.props),x.ref=Xu(g,v,y),x.return=g,x):(x=dh(y.type,y.key,y.props,null,g.mode,x),x.ref=Xu(g,v,y),x.return=g,x)}function c(g,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=kv(y,g.mode,x),v.return=g,v):(v=i(v,y.children||[]),v.return=g,v)}function d(g,v,y,x,C){return v===null||v.tag!==7?(v=Vo(y,g.mode,x,C),v.return=g,v):(v=i(v,y),v.return=g,v)}function p(g,v,y){if(typeof v=="string"||typeof v=="number")return v=Cv(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:return y=dh(v.type,v.key,v.props,null,g.mode,y),y.ref=Xu(g,null,v),y.return=g,y;case ka:return v=kv(v,g.mode,y),v.return=g,v}if(Fc(v)||Hu(v))return v=Vo(v,g.mode,y,null),v.return=g,v;Uc(g,v)}return null}function m(g,v,y,x){var C=v!==null?v.key:null;if(typeof y=="string"||typeof y=="number")return C!==null?null:u(g,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hl:return y.key===C?y.type===zs?d(g,v,y.props.children,x,C):f(g,v,y,x):null;case ka:return y.key===C?c(g,v,y,x):null}if(Fc(y)||Hu(y))return C!==null?null:d(g,v,y,x,null);Uc(g,y)}return null}function E(g,v,y,x,C){if(typeof x=="string"||typeof x=="number")return g=g.get(y)||null,u(v,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:return g=g.get(x.key===null?y:x.key)||null,x.type===zs?d(v,g,x.props.children,C,x.key):f(v,g,x,C);case ka:return g=g.get(x.key===null?y:x.key)||null,c(v,g,x,C)}if(Fc(x)||Hu(x))return g=g.get(y)||null,d(v,g,x,C,null);Uc(v,x)}return null}function b(g,v,y,x){for(var C=null,S=null,A=v,N=v=0,z=null;A!==null&&N<y.length;N++){A.index>N?(z=A,A=null):z=A.sibling;var F=m(g,A,y[N],x);if(F===null){A===null&&(A=z);break}t&&A&&F.alternate===null&&e(g,A),v=s(F,v,N),S===null?C=F:S.sibling=F,S=F,A=z}if(N===y.length)return n(g,A),C;if(A===null){for(;N<y.length;N++)A=p(g,y[N],x),A!==null&&(v=s(A,v,N),S===null?C=A:S.sibling=A,S=A);return C}for(A=r(g,A);N<y.length;N++)z=E(A,g,N,y[N],x),z!==null&&(t&&z.alternate!==null&&A.delete(z.key===null?N:z.key),v=s(z,v,N),S===null?C=z:S.sibling=z,S=z);return t&&A.forEach(function(H){return e(g,H)}),C}function T(g,v,y,x){var C=Hu(y);if(typeof C!="function")throw Error(_e(150));if(y=C.call(y),y==null)throw Error(_e(151));for(var S=C=null,A=v,N=v=0,z=null,F=y.next();A!==null&&!F.done;N++,F=y.next()){A.index>N?(z=A,A=null):z=A.sibling;var H=m(g,A,F.value,x);if(H===null){A===null&&(A=z);break}t&&A&&H.alternate===null&&e(g,A),v=s(H,v,N),S===null?C=H:S.sibling=H,S=H,A=z}if(F.done)return n(g,A),C;if(A===null){for(;!F.done;N++,F=y.next())F=p(g,F.value,x),F!==null&&(v=s(F,v,N),S===null?C=F:S.sibling=F,S=F);return C}for(A=r(g,A);!F.done;N++,F=y.next())F=E(A,g,N,F.value,x),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?N:F.key),v=s(F,v,N),S===null?C=F:S.sibling=F,S=F);return t&&A.forEach(function(ee){return e(g,ee)}),C}return function(g,v,y,x){var C=typeof y=="object"&&y!==null&&y.type===zs&&y.key===null;C&&(y=y.props.children);var S=typeof y=="object"&&y!==null;if(S)switch(y.$$typeof){case hl:e:{for(S=y.key,C=v;C!==null;){if(C.key===S){switch(C.tag){case 7:if(y.type===zs){n(g,C.sibling),v=i(C,y.props.children),v.return=g,g=v;break e}break;default:if(C.elementType===y.type){n(g,C.sibling),v=i(C,y.props),v.ref=Xu(g,C,y),v.return=g,g=v;break e}}n(g,C);break}else e(g,C);C=C.sibling}y.type===zs?(v=Vo(y.props.children,g.mode,x,y.key),v.return=g,g=v):(x=dh(y.type,y.key,y.props,null,g.mode,x),x.ref=Xu(g,v,y),x.return=g,g=x)}return o(g);case ka:e:{for(C=y.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=i(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=kv(y,g.mode,x),v.return=g,g=v}return o(g)}if(typeof y=="string"||typeof y=="number")return y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,y),v.return=g,g=v):(n(g,v),v=Cv(y,g.mode,x),v.return=g,g=v),o(g);if(Fc(y))return b(g,v,y,x);if(Hu(y))return T(g,v,y,x);if(S&&Uc(g,y),typeof y=="undefined"&&!C)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(_e(152,Mo(g.type)||"Component"))}return n(g,v)}}var Mh=PS(!0),DS=PS(!1),Ef={},Di=fa(Ef),Zl=fa(Ef),Xl=fa(Ef);function Oa(t){if(t===Ef)throw Error(_e(174));return t}function yg(t,e){switch(sn(Xl,e),sn(Zl,t),sn(Di,Ef),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ng(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ng(e,t)}Wt(Di),sn(Di,e)}function Qo(){Wt(Di),Wt(Zl),Wt(Xl)}function k1(t){Oa(Xl.current);var e=Oa(Di.current),n=ng(e,t.type);e!==n&&(sn(Zl,t),sn(Di,n))}function ly(t){Zl.current===t&&(Wt(Di),Wt(Zl))}var rn=fa(0);function Bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ns=null,Us=null,zi=!1;function zS(t,e){var n=Xr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function A1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function _g(t){if(zi){var e=Us;if(e){var n=e;if(!A1(t,e)){if(e=Wo(n.nextSibling),!e||!A1(t,e)){t.flags=t.flags&-1025|2,zi=!1,ns=t;return}zS(ns,n)}ns=t,Us=Wo(e.firstChild)}else t.flags=t.flags&-1025|2,zi=!1,ns=t}}function I1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ns=t}function Wc(t){if(t!==ns)return!1;if(!zi)return I1(t),zi=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!dg(e,t.memoizedProps))for(e=Us;e;)zS(t,e),e=Wo(e.nextSibling);if(I1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Us=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Us=null}}else Us=ns?Wo(t.stateNode.nextSibling):null;return!0}function xv(){Us=ns=null,zi=!1}var $o=[];function fy(){for(var t=0;t<$o.length;t++)$o[t]._workInProgressVersionPrimary=null;$o.length=0}var Il=Va.ReactCurrentDispatcher,ti=Va.ReactCurrentBatchConfig,Ql=0,cn=null,Fn=null,On=null,Fh=!1,Ol=!1;function dr(){throw Error(_e(321))}function cy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zr(t[n],e[n]))return!1;return!0}function hy(t,e,n,r,i,s){if(Ql=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Il.current=t===null||t.memoizedState===null?wP:EP,t=n(r,i),Ol){s=0;do{if(Ol=!1,!(25>s))throw Error(_e(301));s+=1,On=Fn=null,e.updateQueue=null,Il.current=xP,t=n(r,i)}while(Ol)}if(Il.current=$h,e=Fn!==null&&Fn.next!==null,Ql=0,On=Fn=cn=null,Fh=!1,e)throw Error(_e(300));return t}function Ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?cn.memoizedState=On=t:On=On.next=t,On}function Ya(){if(Fn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=On===null?cn.memoizedState:On.next;if(e!==null)On=e,Fn=t;else{if(t===null)throw Error(_e(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},On===null?cn.memoizedState=On=t:On=On.next=t}return On}function Li(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=Ya(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,f=i;do{var c=f.lane;if((Ql&c)===c)u!==null&&(u=u.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),r=f.eagerReducer===t?f.eagerState:t(r,f.action);else{var d={lane:c,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};u===null?(o=u=d,s=r):u=u.next=d,cn.lanes|=c,xf|=c}f=f.next}while(f!==null&&f!==i);u===null?s=r:u.next=o,Zr(r,e.memoizedState)||(gi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Ju(t){var e=Ya(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zr(s,e.memoizedState)||(gi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function O1(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Ql&t)===t)&&(e._workInProgressVersionPrimary=r,$o.push(e))),t)return n(e._source);throw $o.push(e),Error(_e(350))}function MS(t,e,n,r){var i=ir;if(i===null)throw Error(_e(349));var s=e._getVersion,o=s(e._source),u=Il.current,f=u.useState(function(){return O1(i,e,n)}),c=f[1],d=f[0];f=On;var p=t.memoizedState,m=p.refs,E=m.getSnapshot,b=p.source;p=p.subscribe;var T=cn;return t.memoizedState={refs:m,source:e,subscribe:r},u.useEffect(function(){m.getSnapshot=n,m.setSnapshot=c;var g=s(e._source);if(!Zr(o,g)){g=n(e._source),Zr(d,g)||(c(g),g=Ys(T),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var v=i.entanglements,y=g;0<y;){var x=31-ea(y),C=1<<x;v[x]|=g,y&=~C}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var g=m.getSnapshot,v=m.setSnapshot;try{v(g(e._source));var y=Ys(T);i.mutableReadLanes|=y&i.pendingLanes}catch(x){v(function(){throw x})}})},[e,r]),Zr(E,n)&&Zr(b,e)&&Zr(p,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Li,lastRenderedState:d},t.dispatch=c=vy.bind(null,cn,t),f.queue=t,f.baseQueue=null,d=O1(i,e,n),f.memoizedState=f.baseState=d),d}function BS(t,e,n){var r=Ya();return MS(r,t,e,n)}function el(t){var e=Ra();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},t=t.dispatch=vy.bind(null,cn,t),[e.memoizedState,t]}function Uh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R1(t){var e=Ra();return t={current:t},e.memoizedState=t}function Wh(){return Ya().memoizedState}function wg(t,e,n,r){var i=Ra();cn.flags|=t,i.memoizedState=Uh(1|e,n,void 0,r===void 0?null:r)}function dy(t,e,n,r){var i=Ya();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&cy(r,o.deps)){Uh(e,n,s,r);return}}cn.flags|=t,i.memoizedState=Uh(1|e,n,s,r)}function N1(t,e){return wg(516,4,t,e)}function jh(t,e){return dy(516,4,t,e)}function FS(t,e){return dy(4,2,t,e)}function US(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WS(t,e,n){return n=n!=null?n.concat([t]):null,dy(4,2,US.bind(null,e,t),n)}function py(){}function jS(t,e){var n=Ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $S(t,e){var n=Ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _P(t,e){var n=Xo();Ba(98>n?98:n,function(){t(!0)}),Ba(97<n?97:n,function(){var r=ti.transition;ti.transition=1;try{t(!1),e()}finally{ti.transition=r}})}function vy(t,e,n){var r=Mr(),i=Ys(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===cn||o!==null&&o===cn)Ol=Fh=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,f=o(u,n);if(s.eagerReducer=o,s.eagerState=f,Zr(f,u))return}catch{}finally{}Gs(t,i,r)}}var $h={readContext:ni,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useOpaqueIdentifier:dr,unstable_isNewReconciler:!1},wP={readContext:ni,useCallback:function(t,e){return Ra().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:N1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wg(4,2,US.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wg(4,2,t,e)},useMemo:function(t,e){var n=Ra();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ra();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=vy.bind(null,cn,t),[r.memoizedState,t]},useRef:R1,useState:el,useDebugValue:py,useDeferredValue:function(t){var e=el(t),n=e[0],r=e[1];return N1(function(){var i=ti.transition;ti.transition=1;try{r(t)}finally{ti.transition=i}},[t]),n},useTransition:function(){var t=el(!1),e=t[0];return t=_P.bind(null,t[1]),R1(t),[t,e]},useMutableSource:function(t,e,n){var r=Ra();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},MS(r,t,e,n)},useOpaqueIdentifier:function(){if(zi){var t=!1,e=dP(function(){throw t||(t=!0,n("r:"+(_v++).toString(36))),Error(_e(355))}),n=el(e)[1];return(cn.mode&2)===0&&(cn.flags|=516,Uh(5,function(){n("r:"+(_v++).toString(36))},void 0,null)),e}return e="r:"+(_v++).toString(36),el(e),e},unstable_isNewReconciler:!1},EP={readContext:ni,useCallback:jS,useContext:ni,useEffect:jh,useImperativeHandle:WS,useLayoutEffect:FS,useMemo:$S,useReducer:Qu,useRef:Wh,useState:function(){return Qu(Li)},useDebugValue:py,useDeferredValue:function(t){var e=Qu(Li),n=e[0],r=e[1];return jh(function(){var i=ti.transition;ti.transition=1;try{r(t)}finally{ti.transition=i}},[t]),n},useTransition:function(){var t=Qu(Li)[0];return[Wh().current,t]},useMutableSource:BS,useOpaqueIdentifier:function(){return Qu(Li)[0]},unstable_isNewReconciler:!1},xP={readContext:ni,useCallback:jS,useContext:ni,useEffect:jh,useImperativeHandle:WS,useLayoutEffect:FS,useMemo:$S,useReducer:Ju,useRef:Wh,useState:function(){return Ju(Li)},useDebugValue:py,useDeferredValue:function(t){var e=Ju(Li),n=e[0],r=e[1];return jh(function(){var i=ti.transition;ti.transition=1;try{r(t)}finally{ti.transition=i}},[t]),n},useTransition:function(){var t=Ju(Li)[0];return[Wh().current,t]},useMutableSource:BS,useOpaqueIdentifier:function(){return Ju(Li)[0]},unstable_isNewReconciler:!1},SP=Va.ReactCurrentOwner,gi=!1;function pr(t,e,n,r){e.child=t===null?DS(e,null,n,r):Mh(e,t.child,n,r)}function L1(t,e,n,r,i){n=n.render;var s=e.ref;return jo(e,i),r=hy(t,e,n,r,s,i),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,rs(t,e,i)):(e.flags|=1,pr(t,e,r,i),e.child)}function P1(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Ey(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KS(t,e,o,r,i,s)):(t=dh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Vl,n(i,r)&&t.ref===e.ref)?rs(t,e,s):(e.flags|=1,t=ra(o,r),t.ref=e.ref,t.return=e,e.child=t)}function KS(t,e,n,r,i,s){if(t!==null&&Vl(t.memoizedProps,r)&&t.ref===e.ref)if(gi=!1,(s&i)!==0)(t.flags&16384)!==0&&(gi=!0);else return e.lanes=t.lanes,rs(t,e,s);return Eg(t,e,n,r,s)}function Sv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},$c(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},$c(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},$c(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$c(e,r);return pr(t,e,i,n),e.child}function HS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Eg(t,e,n,r,i){var s=gr(n)?Ma:Vn.current;return s=Zo(e,s),jo(e,i),n=hy(t,e,n,r,s,i),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,rs(t,e,i)):(e.flags|=1,pr(t,e,n,i),e.child)}function D1(t,e,n,r,i){if(gr(n)){var s=!0;uh(e)}else s=!1;if(jo(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),LS(e,n,r),mg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var f=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ni(c):(c=gr(n)?Ma:Vn.current,c=Zo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||f!==c)&&C1(e,o,r,c),Ls=!1;var m=e.memoizedState;o.state=m,Gl(e,r,o,i),f=e.memoizedState,u!==r||m!==f||vr.current||Ls?(typeof d=="function"&&(zh(e,n,d,r),f=e.memoizedState),(u=Ls||T1(e,n,u,r,m,f,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,RS(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:hi(e.type,u),o.props=c,p=e.pendingProps,m=o.context,f=n.contextType,typeof f=="object"&&f!==null?f=ni(f):(f=gr(n)?Ma:Vn.current,f=Zo(e,f));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||m!==f)&&C1(e,o,r,f),Ls=!1,m=e.memoizedState,o.state=m,Gl(e,r,o,i);var b=e.memoizedState;u!==p||m!==b||vr.current||Ls?(typeof E=="function"&&(zh(e,n,E,r),b=e.memoizedState),(c=Ls||T1(e,n,c,r,m,b,f))?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=f,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=256),r=!1)}return xg(t,e,n,r,s,i)}function xg(t,e,n,r,i,s){HS(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&w1(e,n,!1),rs(t,e,s);r=e.stateNode,SP.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mh(e,t.child,null,s),e.child=Mh(e,null,u,s)):pr(t,e,u,s),e.memoizedState=r.state,i&&w1(e,n,!0),e.child}function z1(t){var e=t.stateNode;e.pendingContext?_1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_1(t,e.context,!1),yg(t,e.containerInfo)}var jc={dehydrated:null,retryLane:0};function M1(t,e,n){var r=e.pendingProps,i=rn.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),sn(rn,i&1),t===null?(r.fallback!==void 0&&_g(e),t=r.children,i=r.fallback,s?(t=B1(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=jc,t):typeof r.unstable_expectedLoadTime=="number"?(t=B1(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=jc,e.lanes=33554432,t):(n=xy({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=U1(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=jc,r):(n=F1(t,e,r.children,n),e.memoizedState=null,n):s?(r=U1(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=jc,r):(n=F1(t,e,r.children,n),e.memoizedState=null,n)}function B1(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=xy(e,i,0,null),n=Vo(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function F1(t,e,n,r){var i=t.child;return t=i.sibling,n=ra(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function U1(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=ra(o,u),t!==null?r=ra(t,r):(r=Vo(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function W1(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),OS(t.return,e)}function bv(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function j1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pr(t,e,r.children,n),r=rn.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W1(t,n);else if(t.tag===19)W1(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(sn(rn,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bv(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bv(e,!0,n,null,s,e.lastEffect);break;case"together":bv(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xf|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=ra(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ra(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var VS,Sg,qS,YS;VS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sg=function(){};qS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oa(Di.current);var s=null;switch(n){case"input":i=Zv(t,i),r=Zv(t,r),s=[];break;case"option":i=Jv(t,i),r=Jv(t,r),s=[];break;case"select":i=Gt({},i,{value:void 0}),r=Gt({},r,{value:void 0}),s=[];break;case"textarea":i=eg(t,i),r=eg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oh)}rg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var f=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&f!==u&&(f!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in f)f.hasOwnProperty(o)&&u[o]!==f[o]&&(n||(n={}),n[o]=f[o])}else n||(s||(s=[]),s.push(c,n)),n=f;else c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(s=s||[]).push(c,f)):c==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(c,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(f!=null&&c==="onScroll"&&Bt("scroll",t),s||u===f||(s=[])):typeof f=="object"&&f!==null&&f.$$typeof===jm?f.toString():(s=s||[]).push(c,f))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};YS=function(t,e,n,r){n!==r&&(e.flags|=4)};function tl(t,e){if(!zi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bP(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gr(e.type)&&Nh(),null;case 3:return Qo(),Wt(vr),Wt(Vn),fy(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Sg(e),null;case 5:ly(e);var i=Oa(Xl.current);if(n=e.type,t!==null&&e.stateNode!=null)qS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return null}if(t=Oa(Di.current),Wc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fs]=e,r[Rh]=s,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(t=0;t<pl.length;t++)Bt(pl[t],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":jw(r,s),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Bt("invalid",r);break;case"textarea":Kw(r,s),Bt("invalid",r)}rg(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Fl.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Bt("scroll",r));switch(n){case"input":Dc(r),$w(r,s,!0);break;case"textarea":Dc(r),Hw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Oh)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===tg.html&&(t=Wx(n)),t===tg.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fs]=e,t[Rh]=r,VS(t,e,!1,!1),e.stateNode=t,o=ig(n,r),n){case"dialog":Bt("cancel",t),Bt("close",t),i=r;break;case"iframe":case"object":case"embed":Bt("load",t),i=r;break;case"video":case"audio":for(i=0;i<pl.length;i++)Bt(pl[i],t);i=r;break;case"source":Bt("error",t),i=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),i=r;break;case"details":Bt("toggle",t),i=r;break;case"input":jw(t,r),i=Zv(t,r),Bt("invalid",t);break;case"option":i=Jv(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gt({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":Kw(t,r),i=eg(t,r),Bt("invalid",t);break;default:i=r}rg(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];s==="style"?Kx(t,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&jx(t,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Ul(t,f):typeof f=="number"&&Ul(t,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fl.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Bt("scroll",t):f!=null&&zm(t,s,f,o))}switch(n){case"input":Dc(t),$w(t,r,!1);break;case"textarea":Dc(t),Hw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Js(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Oh)}ES(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)YS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));n=Oa(Xl.current),Oa(Di.current),Wc(e)?(r=e.stateNode,n=e.memoizedProps,r[Fs]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fs]=e,e.stateNode=r)}return null;case 13:return Wt(rn),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Wc(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(rn.current&1)!==0?Rn===0&&(Rn=3):((Rn===0||Rn===3)&&(Rn=4),ir===null||(xf&134217727)===0&&(pu&134217727)===0||Ko(ir,Kn))),(r||n)&&(e.flags|=4),null);case 4:return Qo(),Sg(e),t===null&&yS(e.stateNode.containerInfo),null;case 10:return oy(e),null;case 17:return gr(e.type)&&Nh(),null;case 19:if(Wt(rn),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)tl(r,!1);else{if(Rn!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Bh(t),o!==null){for(e.flags|=64,tl(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return sn(rn,rn.current&1|2),e.child}t=t.sibling}r.tail!==null&&jn()>Ig&&(e.flags|=64,s=!0,tl(r,!1),e.lanes=33554432)}else{if(!s)if(t=Bh(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!zi)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*jn()-r.renderingStartTime>Ig&&n!==1073741824&&(e.flags|=64,s=!0,tl(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=jn(),n.sibling=null,e=rn.current,sn(rn,s?e&1|2:e&1),n):null;case 23:case 24:return wy(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(_e(156,e.tag))}function TP(t){switch(t.tag){case 1:gr(t.type)&&Nh();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Qo(),Wt(vr),Wt(Vn),fy(),e=t.flags,(e&64)!==0)throw Error(_e(285));return t.flags=e&-4097|64,t;case 5:return ly(t),null;case 13:return Wt(rn),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Wt(rn),null;case 4:return Qo(),null;case 10:return oy(t),null;case 23:case 24:return wy(),null;default:return null}}function gy(t,e){try{var n="",r=e;do n+=sL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CP=typeof WeakMap=="function"?WeakMap:Map;function GS(t,e,n){n=Vs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hh||(Hh=!0,Og=r),bg(t,e)},n}function ZS(t,e,n){n=Vs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return bg(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this),bg(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var kP=typeof WeakSet=="function"?WeakSet:Set;function $1(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Zs(t,n)}else e.current=null}function AP(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:hi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&ry(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(_e(163))}function IP(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(sb(n,t),MP(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:hi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&b1(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}b1(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&ES(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&eS(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(_e(163))}function K1(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=$x("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function H1(t,e){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(iy,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)sb(e,n);else{r=e;try{i()}catch(s){Zs(r,s)}}n=n.next}while(n!==t)}break;case 1:if($1(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Zs(e,s)}break;case 5:$1(e);break;case 4:XS(t,e)}}function V1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function q1(t){return t.tag===5||t.tag===3||t.tag===4}function Y1(t){e:{for(var e=t.return;e!==null;){if(q1(e))break e;e=e.return}throw Error(_e(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(_e(161))}n.flags&16&&(Ul(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||q1(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Tg(t,n,e):Cg(t,n,e)}function Tg(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oh));else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function Cg(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cg(t,e,n),t=t.sibling;t!==null;)Cg(t,e,n),t=t.sibling}function XS(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(_e(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,f=u;;)if(H1(o,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(H1(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Tv(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Rh]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Fx(n,r),ig(t,i),e=ig(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?Kx(n,u):o==="dangerouslySetInnerHTML"?jx(n,u):o==="children"?Ul(n,u):zm(n,o,u,e)}switch(t){case"input":Xv(n,r);break;case"textarea":Ux(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Bo(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Bo(n,!!r.multiple,r.defaultValue,!0):Bo(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(_e(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,eS(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(_y=jn(),K1(e.child,!0)),G1(e);return;case 19:G1(e);return;case 17:return;case 23:case 24:K1(e,e.memoizedState!==null);return}throw Error(_e(163))}function G1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kP),e.forEach(function(r){var i=UP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function OP(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var RP=Math.ceil,Kh=Va.ReactCurrentDispatcher,my=Va.ReactCurrentOwner,qe=0,ir=null,yn=null,Kn=0,Fa=0,kg=fa(0),Rn=0,bd=null,du=0,xf=0,pu=0,yy=0,Ag=null,_y=0,Ig=1/0;function vu(){Ig=jn()+500}var Le=null,Hh=!1,Og=null,Pi=null,na=!1,Rl=null,vl=90,Rg=[],Ng=[],as=null,Nl=0,Lg=null,fh=-1,es=0,ch=0,Ll=null,hh=!1;function Mr(){return(qe&48)!==0?jn():fh!==-1?fh:fh=jn()}function Ys(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Xo()===99?1:2;if(es===0&&(es=du),yP.transition!==0){ch!==0&&(ch=Ag!==null?Ag.pendingLanes:0),t=es;var e=4186112&~ch;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Xo(),(qe&4)!==0&&t===98?t=Ah(12,es):(t=EL(t),t=Ah(t,es)),t}function Gs(t,e,n){if(50<Nl)throw Nl=0,Lg=null,Error(_e(185));if(t=Td(t,e),t===null)return null;md(t,e,n),t===ir&&(pu|=e,Rn===4&&Ko(t,Kn));var r=Xo();e===1?(qe&8)!==0&&(qe&48)===0?Pg(t):(ri(t,n),qe===0&&(vu(),Bi())):((qe&4)===0||r!==98&&r!==99||(as===null?as=new Set([t]):as.add(t)),ri(t,n)),Ag=t}function Td(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function ri(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-ea(o),f=1<<u,c=s[u];if(c===-1){if((f&r)===0||(f&i)!==0){c=e,ko(f);var d=Pt;s[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=e&&(t.expiredLanes|=f);o&=~f}if(r=Kl(t,t===ir?Kn:0),e=Pt,r===0)n!==null&&(n!==wv&&vg(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==wv&&vg(n)}e===15?(n=Pg.bind(null,t),Ji===null?(Ji=[n],lh=sy(xd,IS)):Ji.push(n),n=wv):e===14?n=Yl(99,Pg.bind(null,t)):(n=xL(e),n=Yl(n,QS.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function QS(t){if(fh=-1,ch=es=0,(qe&48)!==0)throw Error(_e(327));var e=t.callbackNode;if(ca()&&t.callbackNode!==e)return null;var n=Kl(t,t===ir?Kn:0);if(n===0)return null;var r=n,i=qe;qe|=16;var s=nb();(ir!==t||Kn!==r)&&(vu(),Ho(t,r));do try{PP();break}catch(u){tb(t,u)}while(1);if(ay(),Kh.current=s,qe=i,yn!==null?r=0:(ir=null,Kn=0,r=Rn),(du&pu)!==0)Ho(t,0);else if(r!==0){if(r===2&&(qe|=64,t.hydrate&&(t.hydrate=!1,ry(t.containerInfo)),n=oS(t),n!==0&&(r=gl(t,n))),r===1)throw e=bd,Ho(t,0),Ko(t,n),ri(t,jn()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(_e(345));case 2:ba(t);break;case 3:if(Ko(t,n),(n&62914560)===n&&(r=_y+500-jn(),10<r)){if(Kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=g1(ba.bind(null,t),r);break}ba(t);break;case 4:if(Ko(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-ea(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=jn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RP(n/1960))-n,10<n){t.timeoutHandle=g1(ba.bind(null,t),n);break}ba(t);break;case 5:ba(t);break;default:throw Error(_e(329))}}return ri(t,jn()),t.callbackNode===e?QS.bind(null,t):null}function Ko(t,e){for(e&=~yy,e&=~pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ea(e),r=1<<n;t[n]=-1,e&=~r}}function Pg(t){if((qe&48)!==0)throw Error(_e(327));if(ca(),t===ir&&(t.expiredLanes&Kn)!==0){var e=Kn,n=gl(t,e);(du&pu)!==0&&(e=Kl(t,e),n=gl(t,e))}else e=Kl(t,0),n=gl(t,e);if(t.tag!==0&&n===2&&(qe|=64,t.hydrate&&(t.hydrate=!1,ry(t.containerInfo)),e=oS(t),e!==0&&(n=gl(t,e))),n===1)throw n=bd,Ho(t,0),Ko(t,e),ri(t,jn()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ba(t),ri(t,jn()),null}function NP(){if(as!==null){var t=as;as=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,ri(e,jn())})}Bi()}function JS(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(vu(),Bi())}}function eb(t,e){var n=qe;qe&=-2,qe|=8;try{return t(e)}finally{qe=n,qe===0&&(vu(),Bi())}}function $c(t,e){sn(kg,Fa),Fa|=e,du|=e}function wy(){Fa=kg.current,Wt(kg)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hP(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nh();break;case 3:Qo(),Wt(vr),Wt(Vn),fy();break;case 5:ly(r);break;case 4:Qo();break;case 13:Wt(rn);break;case 19:Wt(rn);break;case 10:oy(r);break;case 23:case 24:wy()}n=n.return}ir=t,yn=ra(t.current,null),Kn=Fa=du=e,Rn=0,bd=null,yy=pu=xf=0}function tb(t,e){do{var n=yn;try{if(ay(),Il.current=$h,Fh){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fh=!1}if(Ql=0,On=Fn=cn=null,Ol=!1,my.current=null,n===null||n.return===null){Rn=1,bd=e,yn=null;break}e:{var s=t,o=n.return,u=n,f=e;if(e=Kn,u.flags|=2048,u.firstEffect=u.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var c=f;if((u.mode&2)===0){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=(rn.current&1)!==0,m=o;do{var E;if(E=m.tag===13){var b=m.memoizedState;if(b!==null)E=b.dehydrated!==null;else{var T=m.memoizedProps;E=T.fallback===void 0?!1:T.unstable_avoidThisFallback!==!0?!0:!p}}if(E){var g=m.updateQueue;if(g===null){var v=new Set;v.add(c),m.updateQueue=v}else g.add(c);if((m.mode&2)===0){if(m.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var y=Vs(-1,1);y.tag=2,qs(u,y)}u.lanes|=1;break e}f=void 0,u=e;var x=s.pingCache;if(x===null?(x=s.pingCache=new CP,f=new Set,x.set(c,f)):(f=x.get(c),f===void 0&&(f=new Set,x.set(c,f))),!f.has(u)){f.add(u);var C=FP.bind(null,s,c,u);c.then(C,C)}m.flags|=4096,m.lanes=e;break e}m=m.return}while(m!==null);f=Error((Mo(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Rn!==5&&(Rn=2),f=gy(f,u),m=o;do{switch(m.tag){case 3:s=f,m.flags|=4096,e&=-e,m.lanes|=e;var S=GS(m,s,e);S1(m,S);break e;case 1:s=f;var A=m.type,N=m.stateNode;if((m.flags&64)===0&&(typeof A.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Pi===null||!Pi.has(N)))){m.flags|=4096,e&=-e,m.lanes|=e;var z=ZS(m,s,e);S1(m,z);break e}}m=m.return}while(m!==null)}ib(n)}catch(F){e=F,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(1)}function nb(){var t=Kh.current;return Kh.current=$h,t===null?$h:t}function gl(t,e){var n=qe;qe|=16;var r=nb();ir===t&&Kn===e||Ho(t,e);do try{LP();break}catch(i){tb(t,i)}while(1);if(ay(),qe=n,Kh.current=r,yn!==null)throw Error(_e(261));return ir=null,Kn=0,Rn}function LP(){for(;yn!==null;)rb(yn)}function PP(){for(;yn!==null&&!vP();)rb(yn)}function rb(t){var e=ab(t.alternate,t,Fa);t.memoizedProps=t.pendingProps,e===null?ib(t):yn=e,my.current=null}function ib(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=bP(n,e,Fa),n!==null){yn=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Fa&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=TP(e),n!==null){n.flags&=2047,yn=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Rn===0&&(Rn=5)}function ba(t){var e=Xo();return Ba(99,DP.bind(null,t,e)),null}function DP(t,e){do ca();while(Rl!==null);if((qe&48)!==0)throw Error(_e(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var f=31-ea(s),c=1<<f;i[f]=0,o[f]=-1,u[f]=-1,s&=~c}if(as!==null&&(r&24)===0&&as.has(t)&&as.delete(t),t===ir&&(yn=ir=null,Kn=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=qe,qe|=32,my.current=null,mv=sh,o=l1(),fg(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,f=c.focusNode,c=c.focusOffset;try{u.nodeType,f.nodeType}catch{u=null;break e}var d=0,p=-1,m=-1,E=0,b=0,T=o,g=null;t:for(;;){for(var v;T!==u||s!==0&&T.nodeType!==3||(p=d+s),T!==f||c!==0&&T.nodeType!==3||(m=d+c),T.nodeType===3&&(d+=T.nodeValue.length),(v=T.firstChild)!==null;)g=T,T=v;for(;;){if(T===o)break t;if(g===u&&++E===s&&(p=d),g===f&&++b===c&&(m=d),(v=T.nextSibling)!==null)break;T=g,g=T.parentNode}T=v}u=p===-1||m===-1?null:{start:p,end:m}}else u=null;u=u||{start:0,end:0}}else u=null;yv={focusedElem:o,selectionRange:u},sh=!1,Ll=null,hh=!1,Le=r;do try{zP()}catch(F){if(Le===null)throw Error(_e(330));Zs(Le,F),Le=Le.nextEffect}while(Le!==null);Ll=null,Le=r;do try{for(o=t;Le!==null;){var y=Le.flags;if(y&16&&Ul(Le.stateNode,""),y&128){var x=Le.alternate;if(x!==null){var C=x.ref;C!==null&&(typeof C=="function"?C(null):C.current=null)}}switch(y&1038){case 2:Y1(Le),Le.flags&=-3;break;case 6:Y1(Le),Le.flags&=-3,Tv(Le.alternate,Le);break;case 1024:Le.flags&=-1025;break;case 1028:Le.flags&=-1025,Tv(Le.alternate,Le);break;case 4:Tv(Le.alternate,Le);break;case 8:u=Le,XS(o,u);var S=u.alternate;V1(u),S!==null&&V1(S)}Le=Le.nextEffect}}catch(F){if(Le===null)throw Error(_e(330));Zs(Le,F),Le=Le.nextEffect}while(Le!==null);if(C=yv,x=l1(),y=C.focusedElem,o=C.selectionRange,x!==y&&y&&y.ownerDocument&&vS(y.ownerDocument.documentElement,y)){for(o!==null&&fg(y)&&(x=o.start,C=o.end,C===void 0&&(C=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(C,y.value.length)):(C=(x=y.ownerDocument||document)&&x.defaultView||window,C.getSelection&&(C=C.getSelection(),u=y.textContent.length,S=Math.min(o.start,u),o=o.end===void 0?S:Math.min(o.end,u),!C.extend&&S>o&&(u=o,o=S,S=u),u=u1(y,S),s=u1(y,o),u&&s&&(C.rangeCount!==1||C.anchorNode!==u.node||C.anchorOffset!==u.offset||C.focusNode!==s.node||C.focusOffset!==s.offset)&&(x=x.createRange(),x.setStart(u.node,u.offset),C.removeAllRanges(),S>o?(C.addRange(x),C.extend(s.node,s.offset)):(x.setEnd(s.node,s.offset),C.addRange(x)))))),x=[],C=y;C=C.parentNode;)C.nodeType===1&&x.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<x.length;y++)C=x[y],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}sh=!!mv,yv=mv=null,t.current=n,Le=r;do try{for(y=t;Le!==null;){var A=Le.flags;if(A&36&&IP(y,Le.alternate,Le),A&128){x=void 0;var N=Le.ref;if(N!==null){var z=Le.stateNode;switch(Le.tag){case 5:x=z;break;default:x=z}typeof N=="function"?N(x):N.current=x}}Le=Le.nextEffect}}catch(F){if(Le===null)throw Error(_e(330));Zs(Le,F),Le=Le.nextEffect}while(Le!==null);Le=null,mP(),qe=i}else t.current=n;if(na)na=!1,Rl=t,vl=e;else for(Le=r;Le!==null;)e=Le.nextEffect,Le.nextEffect=null,Le.flags&8&&(A=Le,A.sibling=null,A.stateNode=null),Le=e;if(r=t.pendingLanes,r===0&&(Pi=null),r===1?t===Lg?Nl++:(Nl=0,Lg=t):Nl=0,n=n.stateNode,Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(iy,n,void 0,(n.current.flags&64)===64)}catch{}if(ri(t,jn()),Hh)throw Hh=!1,t=Og,Og=null,t;return(qe&8)!==0||Bi(),null}function zP(){for(;Le!==null;){var t=Le.alternate;hh||Ll===null||((Le.flags&8)!==0?Yw(Le,Ll)&&(hh=!0):Le.tag===13&&OP(t,Le)&&Yw(Le,Ll)&&(hh=!0));var e=Le.flags;(e&256)!==0&&AP(t,Le),(e&512)===0||na||(na=!0,Yl(97,function(){return ca(),null})),Le=Le.nextEffect}}function ca(){if(vl!==90){var t=97<vl?97:vl;return vl=90,Ba(t,BP)}return!1}function MP(t,e){Rg.push(e,t),na||(na=!0,Yl(97,function(){return ca(),null}))}function sb(t,e){Ng.push(e,t),na||(na=!0,Yl(97,function(){return ca(),null}))}function BP(){if(Rl===null)return!1;var t=Rl;if(Rl=null,(qe&48)!==0)throw Error(_e(331));var e=qe;qe|=32;var n=Ng;Ng=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(f){if(s===null)throw Error(_e(330));Zs(s,f)}}for(n=Rg,Rg=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(f){if(s===null)throw Error(_e(330));Zs(s,f)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return qe=e,Bi(),!0}function Z1(t,e,n){e=gy(n,e),e=GS(t,e,1),qs(t,e),e=Mr(),t=Td(t,1),t!==null&&(md(t,1,e),ri(t,e))}function Zs(t,e){if(t.tag===3)Z1(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Z1(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=gy(e,t);var i=ZS(n,t,1);if(qs(n,i),i=Mr(),n=Td(n,1),n!==null)md(n,1,i),ri(n,i);else if(typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function FP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&n,ir===t&&(Kn&n)===n&&(Rn===4||Rn===3&&(Kn&62914560)===Kn&&500>jn()-_y?Ho(t,0):yy|=n),ri(t,e)}function UP(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Xo()===99?1:2:(es===0&&(es=du),e=Ao(62914560&~es),e===0&&(e=4194304))),n=Mr(),t=Td(t,e),t!==null&&(md(t,e,n),ri(t,n))}var ab;ab=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||vr.current)gi=!0;else if((n&r)!==0)gi=(t.flags&16384)!==0;else{switch(gi=!1,e.tag){case 3:z1(e),xv();break;case 5:k1(e);break;case 1:gr(e.type)&&uh(e);break;case 4:yg(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;sn(Lh,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?M1(t,e,n):(sn(rn,rn.current&1),e=rs(t,e,n),e!==null?e.sibling:null);sn(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return j1(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(rn,rn.current),r)break;return null;case 23:case 24:return e.lanes=0,Sv(t,e,n)}return rs(t,e,n)}else gi=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Zo(e,Vn.current),jo(e,n),i=hy(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)){var s=!0;uh(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uy(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&zh(e,r,o,t),i.updater=Sd,e.stateNode=i,i._reactInternals=e,mg(e,r,t,n),e=xg(null,e,r,!0,s,n)}else e.tag=0,pr(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=jP(i),t=hi(i,t),s){case 0:e=Eg(null,e,i,t,n);break e;case 1:e=D1(null,e,i,t,n);break e;case 11:e=L1(null,e,i,t,n);break e;case 14:e=P1(null,e,i,hi(i.type,t),r,n);break e}throw Error(_e(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hi(r,i),Eg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hi(r,i),D1(t,e,r,i,n);case 3:if(z1(e),r=e.updateQueue,t===null||r===null)throw Error(_e(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,RS(t,e),Gl(e,r,null,n),r=e.memoizedState.element,r===i)xv(),e=rs(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Us=Wo(e.stateNode.containerInfo.firstChild),ns=e,s=zi=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],$o.push(s);for(n=DS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else pr(t,e,r,n),xv();e=e.child}return e;case 5:return k1(e),t===null&&_g(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dg(r,i)?o=null:s!==null&&dg(r,s)&&(e.flags|=16),HS(t,e),pr(t,e,o,n),e.child;case 6:return t===null&&_g(e),null;case 13:return M1(t,e,n);case 4:return yg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mh(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hi(r,i),L1(t,e,r,i,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(sn(Lh,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=Zr(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!vr.current){e=rs(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){o=u.child;for(var c=f.firstContext;c!==null;){if(c.context===r&&(c.observedBits&s)!==0){u.tag===1&&(c=Vs(-1,n&-n),c.tag=2,qs(u,c)),u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),OS(u.return,n),f.lanes|=n;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,jo(e,n),i=ni(i,s.unstable_observedBits),r=r(i),e.flags|=1,pr(t,e,r,n),e.child;case 14:return i=e.type,s=hi(i,e.pendingProps),s=hi(i.type,s),P1(t,e,i,s,r,n);case 15:return KS(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hi(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gr(r)?(t=!0,uh(e)):t=!1,jo(e,n),LS(e,r,i),mg(e,r,i,n),xg(null,e,r,!0,t,n);case 19:return j1(t,e,n);case 23:return Sv(t,e,n);case 24:return Sv(t,e,n)}throw Error(_e(156,e.tag))};function WP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,n,r){return new WP(t,e,n,r)}function Ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jP(t){if(typeof t=="function")return Ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pd)return 11;if(t===vd)return 14}return 2}function ra(t,e){var n=t.alternate;return n===null?(n=Xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ey(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return Vo(n.children,i,s,e);case zx:o=8,i|=16;break;case Mm:o=8,i|=1;break;case xl:return t=Xr(12,n,e,i|8),t.elementType=xl,t.type=xl,t.lanes=s,t;case Sl:return t=Xr(13,n,e,i),t.type=Sl,t.elementType=Sl,t.lanes=s,t;case bh:return t=Xr(19,n,e,i),t.elementType=bh,t.lanes=s,t;case $m:return xy(n,i,s,e);case Gv:return t=Xr(24,n,e,i),t.elementType=Gv,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bm:o=10;break e;case Fm:o=9;break e;case pd:o=11;break e;case vd:o=14;break e;case Um:o=16,r=null;break e;case Wm:o=22;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Xr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vo(t,e,n,r){return t=Xr(7,t,r,e),t.lanes=n,t}function xy(t,e,n,r){return t=Xr(23,t,r,e),t.elementType=$m,t.lanes=n,t}function Cv(t,e,n){return t=Xr(6,t,null,e),t.lanes=n,t}function kv(t,e,n){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $P(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=fv(0),this.expirationTimes=fv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fv(0),this.mutableSourceEagerHydrationData=null}function KP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vh(t,e,n,r){var i=e.current,s=Mr(),o=Ys(i);e:if(n){n=n._reactInternals;t:{if(qa(n)!==n||n.tag!==1)throw Error(_e(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(_e(171))}if(n.tag===1){var f=n.type;if(gr(f)){n=SS(n,f,u);break e}}n=u}else n=ta;return e.context===null?e.context=n:e.pendingContext=n,e=Vs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),qs(i,e),Gs(i,o,s),o}function Av(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sy(t,e){X1(t,e),(t=t.alternate)&&X1(t,e)}function HP(){return null}function by(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new $P(t,e,n!=null&&n.hydrate===!0),e=Xr(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,uy(e),t[hu]=n.current,yS(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}by.prototype.render=function(t){Vh(t,this._internalRoot,null,null)};by.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vh(null,t,null,function(){e[hu]=null})};function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VP(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new by(t,0,e?{hydrate:!0}:void 0)}function Cd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=Av(o);u.call(c)}}Vh(e,o,t,i)}else{if(s=n._reactRootContainer=VP(n,r),o=s._internalRoot,typeof i=="function"){var f=i;i=function(){var c=Av(o);f.call(c)}}eb(function(){Vh(e,o,t,i)})}return Av(o)}Xx=function(t){if(t.tag===13){var e=Mr();Gs(t,4,e),Sy(t,4)}};Ym=function(t){if(t.tag===13){var e=Mr();Gs(t,67108864,e),Sy(t,67108864)}};Qx=function(t){if(t.tag===13){var e=Mr(),n=Ys(t);Gs(t,n,e),Sy(t,n)}};Jx=function(t,e){return e()};sg=function(t,e,n){switch(e){case"input":if(Xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ed(r);if(!i)throw Error(_e(90));Bx(r),Xv(r,i)}}}break;case"textarea":Ux(t,n);break;case"select":e=n.value,e!=null&&Bo(t,!!n.multiple,e,!1)}};Hm=JS;qx=function(t,e,n,r,i){var s=qe;qe|=4;try{return Ba(98,t.bind(null,e,n,r,i))}finally{qe=s,qe===0&&(vu(),Bi())}};Vm=function(){(qe&49)===0&&(NP(),ca())};Yx=function(t,e){var n=qe;qe|=2;try{return t(e)}finally{qe=n,qe===0&&(vu(),Bi())}};function ob(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(e))throw Error(_e(200));return KP(t,e,null,n)}var qP={Events:[wf,Lo,Ed,Hx,Vx,ca,{current:!1}]},nl={findFiberByHostInstance:Ia,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},YP={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zx(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||HP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{iy=Kc.inject(YP),Pa=Kc}catch{}}si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;si.createPortal=ob;si.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):Error(_e(268,Object.keys(t)));return t=Zx(e),t=t===null?null:t.stateNode,t};si.flushSync=function(t,e){var n=qe;if((n&48)!==0)return t(e);qe|=1;try{if(t)return Ba(99,t.bind(null,e))}finally{qe=n,Bi()}};si.hydrate=function(t,e,n){if(!Sf(e))throw Error(_e(200));return Cd(null,t,e,!0,n)};si.render=function(t,e,n){if(!Sf(e))throw Error(_e(200));return Cd(null,t,e,!1,n)};si.unmountComponentAtNode=function(t){if(!Sf(t))throw Error(_e(40));return t._reactRootContainer?(eb(function(){Cd(null,null,t,!1,function(){t._reactRootContainer=null,t[hu]=null})}),!0):!1};si.unstable_batchedUpdates=JS;si.unstable_createPortal=function(t,e){return ob(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};si.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sf(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Cd(t,e,n,!1,r)};si.version="17.0.2";function ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ub)}catch(t){console.error(t)}}ub(),eL.exports=si;function qh(){return qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}var Na,Ty=Na||(Na={});Ty.Pop="POP";Ty.Push="PUSH";Ty.Replace="REPLACE";var Q1=function(t){return t};function J1(t){t.preventDefault(),t.returnValue=""}function eE(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(n){return n!==e})}},call:function(e){t.forEach(function(n){return n&&n(e)})}}}function GP(){return Math.random().toString(36).substr(2,8)}function Dg(t){var e=t.pathname;e=e===void 0?"/":e;var n=t.search;return n=n===void 0?"":n,t=t.hash,t=t===void 0?"":t,n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Ga(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),n=t.indexOf("?"),0<=n&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ZP(t){function e(){var g=f.location,v=c.state||{};return[v.idx,Q1({pathname:g.pathname,search:g.search,hash:g.hash,state:v.usr||null,key:v.key||"default"})]}function n(g){return typeof g=="string"?g:Dg(g)}function r(g,v){return v===void 0&&(v=null),Q1(qh({pathname:E.pathname,hash:"",search:""},typeof g=="string"?Ga(g):g,{state:v,key:GP()}))}function i(g){p=g,g=e(),m=g[0],E=g[1],b.call({action:p,location:E})}function s(g,v){function y(){s(g,v)}var x=Na.Push,C=r(g,v);if(!T.length||(T.call({action:x,location:C,retry:y}),!1)){var S=[{usr:C.state,key:C.key,idx:m+1},n(C)];C=S[0],S=S[1];try{c.pushState(C,"",S)}catch{f.location.assign(S)}i(x)}}function o(g,v){function y(){o(g,v)}var x=Na.Replace,C=r(g,v);T.length&&(T.call({action:x,location:C,retry:y}),1)||(C=[{usr:C.state,key:C.key,idx:m},n(C)],c.replaceState(C[0],"",C[1]),i(x))}function u(g){c.go(g)}t===void 0&&(t={}),t=t.window;var f=t===void 0?document.defaultView:t,c=f.history,d=null;f.addEventListener("popstate",function(){if(d)T.call(d),d=null;else{var g=Na.Pop,v=e(),y=v[0];if(v=v[1],T.length){if(y!=null){var x=m-y;x&&(d={action:g,location:v,retry:function(){u(-1*x)}},u(x))}}else i(g)}});var p=Na.Pop;t=e();var m=t[0],E=t[1],b=eE(),T=eE();return m==null&&(m=0,c.replaceState(qh({},c.state,{idx:m}),"")),{get action(){return p},get location(){return E},createHref:n,push:s,replace:o,go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(g){return b.push(g)},block:function(g){var v=T.push(g);return T.length===1&&f.addEventListener("beforeunload",J1),function(){v(),T.length||f.removeEventListener("beforeunload",J1)}}}}/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(t,e){if(!t)throw new Error(e)}const Cy=Xe.exports.createContext(null),ky=Xe.exports.createContext(null),gu=Xe.exports.createContext({outlet:null,matches:[]});function XP(t){return nD(t.context)}function QP(t){Mi(!1)}function JP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Na.Pop,navigator:s,static:o=!1}=t;bf()&&Mi(!1);let u=xD(e),f=Xe.exports.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof r=="string"&&(r=Ga(r));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:E="default"}=r,b=Xe.exports.useMemo(()=>{let T=db(c,u);return T==null?null:{pathname:T,search:d,hash:p,state:m,key:E}},[u,c,d,p,m,E]);return b==null?null:Xe.exports.createElement(Cy.Provider,{value:f},Xe.exports.createElement(ky.Provider,{children:n,value:{location:b,navigationType:i}}))}function c4(t){let{children:e,location:n}=t;return rD(zg(e),n)}function eD(t){bf()||Mi(!1);let{basename:e,navigator:n}=Xe.exports.useContext(Cy),{hash:r,pathname:i,search:s}=fb(t),o=i;if(e!=="/"){let u=ED(t),f=u!=null&&u.endsWith("/");o=i==="/"?e+(f?"/":""):Xs([e,i])}return n.createHref({pathname:o,search:s,hash:r})}function bf(){return Xe.exports.useContext(ky)!=null}function Tf(){return bf()||Mi(!1),Xe.exports.useContext(ky).location}function lb(){bf()||Mi(!1);let{basename:t,navigator:e}=Xe.exports.useContext(Cy),{matches:n}=Xe.exports.useContext(gu),{pathname:r}=Tf(),i=JSON.stringify(n.map(u=>u.pathnameBase)),s=Xe.exports.useRef(!1);return Xe.exports.useEffect(()=>{s.current=!0}),Xe.exports.useCallback(function(u,f){if(f===void 0&&(f={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let c=hb(u,JSON.parse(i),r);t!=="/"&&(c.pathname=Xs([t,c.pathname])),(f.replace?e.replace:e.push)(c,f.state)},[t,e,i,r])}const tD=Xe.exports.createContext(null);function nD(t){let e=Xe.exports.useContext(gu).outlet;return e&&Xe.exports.createElement(tD.Provider,{value:t},e)}function h4(){let{matches:t}=Xe.exports.useContext(gu),e=t[t.length-1];return e?e.params:{}}function fb(t){let{matches:e}=Xe.exports.useContext(gu),{pathname:n}=Tf(),r=JSON.stringify(e.map(i=>i.pathnameBase));return Xe.exports.useMemo(()=>hb(t,JSON.parse(r),n),[t,r,n])}function rD(t,e){bf()||Mi(!1);let{matches:n}=Xe.exports.useContext(gu),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=Tf(),u;if(e){var f;let m=typeof e=="string"?Ga(e):e;s==="/"||((f=m.pathname)==null?void 0:f.startsWith(s))||Mi(!1),u=m}else u=o;let c=u.pathname||"/",d=s==="/"?c:c.slice(s.length)||"/",p=iD(t,{pathname:d});return vD(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},i,m.params),pathname:Xs([s,m.pathname]),pathnameBase:m.pathnameBase==="/"?s:Xs([s,m.pathnameBase])})),n)}function zg(t){let e=[];return Xe.exports.Children.forEach(t,n=>{if(!Xe.exports.isValidElement(n))return;if(n.type===Xe.exports.Fragment){e.push.apply(e,zg(n.props.children));return}n.type!==QP&&Mi(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=zg(n.props.children)),e.push(r)}),e}function iD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ga(e):e,i=db(r.pathname||"/",n);if(i==null)return null;let s=cb(t);sD(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=pD(s[u],i);return o}function cb(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||Mi(!1),o.relativePath=o.relativePath.slice(r.length));let u=Xs([r,o.relativePath]),f=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&Mi(!1),cb(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:hD(u,i.index),routesMeta:f})}),e}function sD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aD=/^:\w+$/,oD=3,uD=2,lD=1,fD=10,cD=-2,tE=t=>t==="*";function hD(t,e){let n=t.split("/"),r=n.length;return n.some(tE)&&(r+=cD),e&&(r+=uD),n.filter(i=>!tE(i)).reduce((i,s)=>i+(aD.test(s)?oD:s===""?lD:fD),r)}function dD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],f=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=gD({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},c);if(!d)return null;Object.assign(r,d.params);let p=u.route;s.push({params:r,pathname:Xs([i,d.pathname]),pathnameBase:Xs([i,d.pathnameBase]),route:p}),d.pathnameBase!=="/"&&(i=Xs([i,d.pathnameBase]))}return s}function vD(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>Xe.exports.createElement(gu.Provider,{children:r.route.element!==void 0?r.route.element:Xe.exports.createElement(XP,null),value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function gD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,d,p)=>{if(d==="*"){let m=u[p]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return c[d]=yD(u[p]||""),c},{}),pathname:s,pathnameBase:o,pattern:t}}function mD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,u)=>(r.push(u),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function yD(t,e){try{return decodeURIComponent(t)}catch{return t}}function _D(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ga(t):t;return{pathname:n?n.startsWith("/")?n:wD(n,e):e,search:SD(r),hash:bD(i)}}function wD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hb(t,e,n){let r=typeof t=="string"?Ga(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let u=e.length-1;if(i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),u-=1;r.pathname=f.join("/")}s=u>=0?e[u]:"/"}let o=_D(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function ED(t){return t===""||t.pathname===""?"/":typeof t=="string"?Ga(t).pathname:t.pathname}function db(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),xD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mg(){return Mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function TD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const CD=["onClick","reloadDocument","replace","state","target","to"];function d4(t){let{basename:e,children:n,window:r}=t,i=Xe.exports.useRef();i.current==null&&(i.current=ZP({window:r}));let s=i.current,[o,u]=Xe.exports.useState({action:s.action,location:s.location});return Xe.exports.useLayoutEffect(()=>s.listen(u),[s]),Xe.exports.createElement(JP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function kD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const p4=Xe.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:u,to:f}=e,c=TD(e,CD),d=eD(f),p=AD(f,{replace:s,state:o,target:u});function m(E){r&&r(E),!E.defaultPrevented&&!i&&p(E)}return Xe.exports.createElement("a",Mg({},c,{href:d,onClick:m,ref:n,target:u}))});function AD(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=lb(),o=Tf(),u=fb(t);return Xe.exports.useCallback(f=>{if(f.button===0&&(!n||n==="_self")&&!kD(f)){f.preventDefault();let c=!!r||Dg(o)===Dg(u);s(t,{replace:c,state:i})}},[o,s,u,r,i,n,t])}function v4(t){let e=Xe.exports.useRef(Iv(t)),n=Tf(),r=Xe.exports.useMemo(()=>{let o=Iv(n.search);for(let u of e.current.keys())o.has(u)||e.current.getAll(u).forEach(f=>{o.append(u,f)});return o},[n.search]),i=lb(),s=Xe.exports.useCallback((o,u)=>{i("?"+Iv(o),u)},[i]);return[r,s]}function Iv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}var Bg={exports:{}},pb={exports:{}},ID=void 0,vb=function(t){return t!==ID&&t!==null},OD=vb,RD={object:!0,function:!0,undefined:!0},ND=function(t){return OD(t)?hasOwnProperty.call(RD,typeof t):!1},LD=ND,PD=function(t){if(!LD(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},DD=PD,zD=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!DD(t)},MD=zD,BD=/^\s*class[\s{/}]/,FD=Function.prototype.toString,UD=function(t){return!(!MD(t)||BD.test(FD.call(t)))},WD=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},jD=function(){try{return Object.keys("primitive"),!0}catch{return!1}},$D=function(){},KD=$D(),Ay=function(t){return t!==KD&&t!==null},HD=Ay,VD=Object.keys,qD=function(t){return VD(HD(t)?Object(t):t)},YD=jD()?Object.keys:qD,GD=Ay,ZD=function(t){if(!GD(t))throw new TypeError("Cannot use null or undefined");return t},XD=YD,QD=ZD,JD=Math.max,ez=function(t,e){var n,r,i=JD(arguments.length,2),s;for(t=Object(QD(t)),s=function(o){try{t[o]=e[o]}catch(u){n||(n=u)}},r=1;r<i;++r)e=arguments[r],XD(e).forEach(s);if(n!==void 0)throw n;return t},tz=WD()?Object.assign:ez,nz=Ay,rz=Array.prototype.forEach,iz=Object.create,sz=function(t,e){var n;for(n in t)e[n]=t[n]},az=function(t){var e=iz(null);return rz.call(arguments,function(n){!nz(n)||sz(Object(n),e)}),e},Ov="razdwatrzy",oz=function(){return typeof Ov.contains!="function"?!1:Ov.contains("dwa")===!0&&Ov.contains("foo")===!1},uz=String.prototype.indexOf,lz=function(t){return uz.call(this,t,arguments[1])>-1},fz=oz()?String.prototype.contains:lz,ph=vb,nE=UD,gb=tz,mb=az,Pl=fz,cz=pb.exports=function(t,e){var n,r,i,s,o;return arguments.length<2||typeof t!="string"?(s=e,e=t,t=null):s=arguments[2],ph(t)?(n=Pl.call(t,"c"),r=Pl.call(t,"e"),i=Pl.call(t,"w")):(n=i=!0,r=!1),o={value:e,configurable:n,enumerable:r,writable:i},s?gb(mb(s),o):o};cz.gs=function(t,e,n){var r,i,s,o;return typeof t!="string"?(s=n,n=e,e=t,t=null):s=arguments[3],ph(e)?nE(e)?ph(n)?nE(n)||(s=n,n=void 0):n=void 0:(s=e,e=n=void 0):e=void 0,ph(t)?(r=Pl.call(t,"c"),i=Pl.call(t,"e")):(r=!0,i=!1),o={get:e,set:n,configurable:r,enumerable:i},s?gb(mb(s),o):o};var hz=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,e){var n=pb.exports,r=hz,i=Function.prototype.apply,s=Function.prototype.call,o=Object.create,u=Object.defineProperty,f=Object.defineProperties,c=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},p,m,E,b,T,g,v;p=function(y,x){var C;return r(x),c.call(this,"__ee__")?C=this.__ee__:(C=d.value=o(null),u(this,"__ee__",d),d.value=null),C[y]?typeof C[y]=="object"?C[y].push(x):C[y]=[C[y],x]:C[y]=x,this},m=function(y,x){var C,S;return r(x),S=this,p.call(this,y,C=function(){E.call(S,y,C),i.call(x,this,arguments)}),C.__eeOnceListener__=x,this},E=function(y,x){var C,S,A,N;if(r(x),!c.call(this,"__ee__"))return this;if(C=this.__ee__,!C[y])return this;if(S=C[y],typeof S=="object")for(N=0;A=S[N];++N)(A===x||A.__eeOnceListener__===x)&&(S.length===2?C[y]=S[N?0:1]:S.splice(N,1));else(S===x||S.__eeOnceListener__===x)&&delete C[y];return this},b=function(y){var x,C,S,A,N;if(!!c.call(this,"__ee__")&&(A=this.__ee__[y],!!A))if(typeof A=="object"){for(C=arguments.length,N=new Array(C-1),x=1;x<C;++x)N[x-1]=arguments[x];for(A=A.slice(),x=0;S=A[x];++x)i.call(S,this,N)}else switch(arguments.length){case 1:s.call(A,this);break;case 2:s.call(A,this,arguments[1]);break;case 3:s.call(A,this,arguments[1],arguments[2]);break;default:for(C=arguments.length,N=new Array(C-1),x=1;x<C;++x)N[x-1]=arguments[x];i.call(A,this,N)}},T={on:p,once:m,off:E,emit:b},g={on:n(p),once:n(m),off:n(E),emit:n(b)},v=f({},g),t.exports=e=function(y){return y==null?o(v):f(Object(y),g)},e.methods=T})(Bg,Bg.exports);var Fi=Bg.exports,ha={},Za={};function Iy(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var yb=Iy({HTML:"text/html",isHTML:function(t){return t===yb.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_b=Iy({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===_b.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Za.freeze=Iy;Za.MIME_TYPE=yb;Za.NAMESPACE=_b;var dz=Za,Jl=dz.NAMESPACE;function pz(t){return t!==""}function vz(t){return t?t.split(/[\t\n\f\r ]+/).filter(pz):[]}function gz(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function rE(t){if(!t)return[];var e=vz(t);return Object.keys(e.reduce(gz,{}))}function mz(t){return function(e){return t&&t.indexOf(e)!==-1}}function Cf(t,e){for(var n in t)e[n]=t[n]}function Er(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,Cf(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var xr={},mi=xr.ELEMENT_NODE=1,Jo=xr.ATTRIBUTE_NODE=2,Yh=xr.TEXT_NODE=3,wb=xr.CDATA_SECTION_NODE=4,Eb=xr.ENTITY_REFERENCE_NODE=5,yz=xr.ENTITY_NODE=6,xb=xr.PROCESSING_INSTRUCTION_NODE=7,Sb=xr.COMMENT_NODE=8,bb=xr.DOCUMENT_NODE=9,Tb=xr.DOCUMENT_TYPE_NODE=10,cs=xr.DOCUMENT_FRAGMENT_NODE=11,_z=xr.NOTATION_NODE=12,qn={},Cn={};qn.INDEX_SIZE_ERR=(Cn[1]="Index size error",1);qn.DOMSTRING_SIZE_ERR=(Cn[2]="DOMString size error",2);var wz=qn.HIERARCHY_REQUEST_ERR=(Cn[3]="Hierarchy request error",3);qn.WRONG_DOCUMENT_ERR=(Cn[4]="Wrong document",4);qn.INVALID_CHARACTER_ERR=(Cn[5]="Invalid character",5);qn.NO_DATA_ALLOWED_ERR=(Cn[6]="No data allowed",6);qn.NO_MODIFICATION_ALLOWED_ERR=(Cn[7]="No modification allowed",7);var Ez=qn.NOT_FOUND_ERR=(Cn[8]="Not found",8);qn.NOT_SUPPORTED_ERR=(Cn[9]="Not supported",9);var iE=qn.INUSE_ATTRIBUTE_ERR=(Cn[10]="Attribute in use",10);qn.INVALID_STATE_ERR=(Cn[11]="Invalid state",11);qn.SYNTAX_ERR=(Cn[12]="Syntax error",12);qn.INVALID_MODIFICATION_ERR=(Cn[13]="Invalid modification",13);qn.NAMESPACE_ERR=(Cn[14]="Invalid namespace",14);qn.INVALID_ACCESS_ERR=(Cn[15]="Invalid access",15);function Ua(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Cn[t]),this.message=Cn[t],Error.captureStackTrace&&Error.captureStackTrace(this,Ua);return n.code=t,e&&(this.message=this.message+": "+e),n}Ua.prototype=Error.prototype;Cf(qn,Ua);function os(){}os.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)zo(this[r],n,t,e);return n.join("")}};function eu(t,e){this._node=t,this._refresh=e,Oy(this)}function Oy(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);Mb(t,"length",n.length),Cf(n,t),t._inc=e}}eu.prototype.item=function(t){return Oy(this),this[t]};Er(eu,os);function Gh(){}function Cb(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function sE(t,e,n,r){if(r?e[Cb(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&Ib(i,t,r),xz(i,t,n))}}function aE(t,e,n){var r=Cb(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(Ib(s,t,n),n.ownerElement=null)}}else throw Ua(Ez,new Error(t.tagName+"@"+n))}Gh.prototype={length:0,item:os.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Ua(iE);var n=this.getNamedItem(t.nodeName);return sE(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new Ua(iE);return n=this.getNamedItemNS(t.namespaceURI,t.localName),sE(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return aE(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return aE(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function kb(){}kb.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new kf;if(r.implementation=this,r.childNodes=new os,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new kd;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function Yn(){}Yn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Rb(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Ob(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Fg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Yh&&t.nodeType==Yh?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(n[r]==t)return r}e=e.nodeType==Jo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Jo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Ab(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Cf(xr,Yn);Cf(xr,Yn.prototype);function ef(t,e){if(e(t))return!0;if(t=t.firstChild)do if(ef(t,e))return!0;while(t=t.nextSibling)}function kf(){}function xz(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===Jl.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function Ib(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===Jl.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function Ry(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s}}}function Ob(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,Ry(t.ownerDocument,t),e}function Rb(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===cs){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var o=n?n.previousSibling:t.lastChild;i.previousSibling=o,s.nextSibling=n,o?o.nextSibling=i:t.firstChild=i,n==null?t.lastChild=s:n.previousSibling=s;do i.parentNode=t;while(i!==s&&(i=i.nextSibling));return Ry(t.ownerDocument||t,t),e.nodeType==cs&&(e.firstChild=e.lastChild=null),e}function Sz(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,Ry(t.ownerDocument,t,e),e}kf.prototype={nodeName:"#document",nodeType:bb,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==cs){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return this.documentElement==null&&t.nodeType==mi&&(this.documentElement=t),Rb(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Ob(this,t)},importNode:function(t,e){return zb(this,t,e)},getElementById:function(t){var e=null;return ef(this.documentElement,function(n){if(n.nodeType==mi&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=rE(t);return new eu(this,function(n){var r=[];return e.length>0&&ef(n.documentElement,function(i){if(i!==n&&i.nodeType===mi){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var u=rE(s);o=e.every(mz(u))}o&&r.push(i)}}}),r})},createElement:function(t){var e=new Wa;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new os;var n=e.attributes=new Gh;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Ad;return t.ownerDocument=this,t.childNodes=new os,t},createTextNode:function(t){var e=new Ny;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Ly;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Py;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new zy;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Zh;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Dy;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Wa,r=e.split(":"),i=n.attributes=new Gh;return n.childNodes=new os,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Zh,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};Er(kf,Yn);function Wa(){this._nsMap={}}Wa.prototype={nodeType:mi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===cs?this.insertBefore(t,null):Sz(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new eu(this,function(e){var n=[];return ef(e,function(r){r!==e&&r.nodeType==mi&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new eu(this,function(n){var r=[];return ef(n,function(i){i!==n&&i.nodeType===mi&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};kf.prototype.getElementsByTagName=Wa.prototype.getElementsByTagName;kf.prototype.getElementsByTagNameNS=Wa.prototype.getElementsByTagNameNS;Er(Wa,Yn);function Zh(){}Zh.prototype.nodeType=Jo;Er(Zh,Yn);function Af(){}Af.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Cn[wz])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};Er(Af,Yn);function Ny(){}Ny.prototype={nodeName:"#text",nodeType:Yh,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Er(Ny,Af);function Ly(){}Ly.prototype={nodeName:"#comment",nodeType:Sb};Er(Ly,Af);function Py(){}Py.prototype={nodeName:"#cdata-section",nodeType:wb};Er(Py,Af);function kd(){}kd.prototype.nodeType=Tb;Er(kd,Yn);function Nb(){}Nb.prototype.nodeType=_z;Er(Nb,Yn);function Lb(){}Lb.prototype.nodeType=yz;Er(Lb,Yn);function Dy(){}Dy.prototype.nodeType=Eb;Er(Dy,Yn);function Ad(){}Ad.prototype.nodeName="#document-fragment";Ad.prototype.nodeType=cs;Er(Ad,Yn);function zy(){}zy.prototype.nodeType=xb;Er(zy,Yn);function Pb(){}Pb.prototype.serializeToString=function(t,e,n){return Db.call(t,e,n)};Yn.prototype.toString=Db;function Db(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return zo(this,n,t,e,o),n.join("")}function oE(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===Jl.XML||i===Jl.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===r)return o.namespace!==i}return!0}function Rv(t,e,n){t.push(" ",e,'="',n.replace(/[<&"]/g,Ab),'"')}function zo(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case mi:var s=t.attributes,o=s.length,v=t.firstChild,u=t.tagName;n=Jl.isHTML(t.namespaceURI)||n;var f=u;if(!n&&!t.prefix&&t.namespaceURI){for(var c,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){c=s.item(d).value;break}if(!c)for(var p=i.length-1;p>=0;p--){var m=i[p];if(m.prefix===""&&m.namespace===t.namespaceURI){c=m.namespace;break}}if(c!==t.namespaceURI)for(var p=i.length-1;p>=0;p--){var m=i[p];if(m.namespace===t.namespaceURI){m.prefix&&(f=m.prefix+":"+u);break}}}e.push("<",f);for(var E=0;E<o;E++){var b=s.item(E);b.prefix=="xmlns"?i.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&i.push({prefix:"",namespace:b.value})}for(var E=0;E<o;E++){var b=s.item(E);if(oE(b,n,i)){var T=b.prefix||"",g=b.namespaceURI;Rv(e,T?"xmlns:"+T:"xmlns",g),i.push({prefix:T,namespace:g})}zo(b,e,n,r,i)}if(u===f&&oE(t,n,i)){var T=t.prefix||"",g=t.namespaceURI;Rv(e,T?"xmlns:"+T:"xmlns",g),i.push({prefix:T,namespace:g})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;v;)v.data?e.push(v.data):zo(v,e,n,r,i.slice()),v=v.nextSibling;else for(;v;)zo(v,e,n,r,i.slice()),v=v.nextSibling;e.push("</",f,">")}else e.push("/>");return;case bb:case cs:for(var v=t.firstChild;v;)zo(v,e,n,r,i.slice()),v=v.nextSibling;return;case Jo:return Rv(e,t.name,t.value);case Yh:return e.push(t.data.replace(/[<&]/g,Ab).replace(/]]>/g,"]]&gt;"));case wb:return e.push("<![CDATA[",t.data,"]]>");case Sb:return e.push("<!--",t.data,"-->");case Tb:var y=t.publicId,x=t.systemId;if(e.push("<!DOCTYPE ",t.name),y)e.push(" PUBLIC ",y),x&&x!="."&&e.push(" ",x),e.push(">");else if(x&&x!=".")e.push(" SYSTEM ",x,">");else{var C=t.internalSubset;C&&e.push(" [",C,"]"),e.push(">")}return;case xb:return e.push("<?",t.target," ",t.data,"?>");case Eb:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function zb(t,e,n){var r;switch(e.nodeType){case mi:r=e.cloneNode(!1),r.ownerDocument=t;case cs:break;case Jo:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(zb(t,i,n)),i=i.nextSibling;return r}function Fg(t,e,n){var r=new e.constructor;for(var i in e){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new os),r.ownerDocument=t,r.nodeType){case mi:var o=e.attributes,u=r.attributes=new Gh,f=o.length;u._ownerElement=r;for(var c=0;c<f;c++)r.setAttributeNode(Fg(t,o.item(c),!0));break;case Jo:n=!0}if(n)for(var d=e.firstChild;d;)r.appendChild(Fg(t,d,n)),d=d.nextSibling;return r}function Mb(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case mi:case cs:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(eu.prototype,"length",{get:function(){return Oy(this),this.$$length}}),Object.defineProperty(Yn.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case mi:case cs:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Mb=function(e,n,r){e["$$"+n]=r}}}catch{}ha.DocumentType=kd;ha.DOMException=Ua;ha.DOMImplementation=kb;ha.Element=Wa;ha.Node=Yn;ha.NodeList=os;ha.XMLSerializer=Pb;var If={},Bb={};(function(t){var e=Za.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(Bb);var My={},tf=Za.NAMESPACE,Ug=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,uE=new RegExp("[\\-\\.0-9"+Ug.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),lE=new RegExp("^"+Ug.source+uE.source+"*(?::"+Ug.source+uE.source+"*)?$"),rl=0,Rs=1,wo=2,il=3,Eo=4,xo=5,sl=6,Hc=7;function tu(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,tu)}tu.prototype=new Error;tu.prototype.name=tu.name;function Fb(){}Fb.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),Ub(e,e={}),bz(t,e,n,r,this.errorHandler),r.endDocument()}};function bz(t,e,n,r,i){function s(xe){if(xe>65535){xe-=65536;var we=55296+(xe>>10),ye=56320+(xe&1023);return String.fromCharCode(we,ye)}else return String.fromCharCode(xe)}function o(xe){var we=xe.slice(1,-1);return we in n?n[we]:we.charAt(0)==="#"?s(parseInt(we.substr(1).replace("x","0x"))):(i.error("entity not found:"+xe),xe)}function u(xe){if(xe>T){var we=t.substring(T,xe).replace(/&#?\w+;/g,o);m&&f(T),r.characters(we,0,xe-T),T=xe}}function f(xe,we){for(;xe>=d&&(we=p.exec(t));)c=we.index,d=c+we[0].length,m.lineNumber++;m.columnNumber=xe-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,m=r.locator,E=[{currentNSMap:e}],b={},T=0;;){try{var g=t.indexOf("<",T);if(g<0){if(!t.substr(T).match(/^\s*$/)){var v=r.doc,y=v.createTextNode(t.substr(T));v.appendChild(y),r.currentElement=y}return}switch(g>T&&u(g),t.charAt(g+1)){case"/":var ee=t.indexOf(">",g+3),x=t.substring(g+2,ee).replace(/[ \t\n\r]+$/g,""),C=E.pop();ee<0?(x=t.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+x+" is not complete:"+C.tagName),ee=g+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),i.error("end tag name: "+x+" maybe not complete"),ee=g+1+x.length);var S=C.localNSMap,A=C.tagName==x,N=A||C.tagName&&C.tagName.toLowerCase()==x.toLowerCase();if(N){if(r.endElement(C.uri,C.localName,x),S)for(var z in S)r.endPrefixMapping(z);A||i.fatalError("end tag name: "+x+" is not match the current start tagName:"+C.tagName)}else E.push(C);ee++;break;case"?":m&&f(g),ee=Iz(t,g,r);break;case"!":m&&f(g),ee=Az(t,g,r,i);break;default:m&&f(g);var F=new Wb,H=E[E.length-1].currentNSMap,ee=Tz(t,g,F,H,o,i),Z=F.length;if(!F.closed&&kz(t,ee,F.tagName,b)&&(F.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),m&&Z){for(var ae=fE(m,{}),ke=0;ke<Z;ke++){var ce=F[ke];f(ce.offset),ce.locator=fE(m,{})}r.locator=ae,cE(F,r,H)&&E.push(F),r.locator=m}else cE(F,r,H)&&E.push(F);tf.isHTML(F.uri)&&!F.closed?ee=Cz(t,ee,F.tagName,o,r):ee++}}catch(xe){if(xe instanceof tu)throw xe;i.error("element parse error: "+xe),ee=-1}ee>T?T=ee:u(Math.max(g,T)+1)}}function fE(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function Tz(t,e,n,r,i,s){function o(m,E,b){n.attributeNames.hasOwnProperty(m)&&s.fatalError("Attribute "+m+" redefined"),n.addValue(m,E,b)}for(var u,f,c=++e,d=rl;;){var p=t.charAt(c);switch(p){case"=":if(d===Rs)u=t.slice(e,c),d=il;else if(d===wo)d=il;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===il||d===Rs)if(d===Rs&&(s.warning('attribute value must after "="'),u=t.slice(e,c)),e=c+1,c=t.indexOf(p,e),c>0)f=t.slice(e,c).replace(/&#?\w+;/g,i),o(u,f,e-1),d=xo;else throw new Error("attribute value no end '"+p+"' match");else if(d==Eo)f=t.slice(e,c).replace(/&#?\w+;/g,i),o(u,f,e),s.warning('attribute "'+u+'" missed start quot('+p+")!!"),e=c+1,d=xo;else throw new Error('attribute value must after "="');break;case"/":switch(d){case rl:n.setTagName(t.slice(e,c));case xo:case sl:case Hc:d=Hc,n.closed=!0;case Eo:case Rs:case wo:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==rl&&n.setTagName(t.slice(e,c)),c;case">":switch(d){case rl:n.setTagName(t.slice(e,c));case xo:case sl:case Hc:break;case Eo:case Rs:f=t.slice(e,c),f.slice(-1)==="/"&&(n.closed=!0,f=f.slice(0,-1));case wo:d===wo&&(f=u),d==Eo?(s.warning('attribute "'+f+'" missed quot(")!'),o(u,f.replace(/&#?\w+;/g,i),e)):((!tf.isHTML(r[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),o(f,f,e));break;case il:throw new Error("attribute value missed!!")}return c;case"\x80":p=" ";default:if(p<=" ")switch(d){case rl:n.setTagName(t.slice(e,c)),d=sl;break;case Rs:u=t.slice(e,c),d=wo;break;case Eo:var f=t.slice(e,c).replace(/&#?\w+;/g,i);s.warning('attribute "'+f+'" missed quot(")!!'),o(u,f,e);case xo:d=sl;break}else switch(d){case wo:n.tagName,(!tf.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),o(u,u,e),e=c,d=Rs;break;case xo:s.warning('attribute space is required"'+u+'"!!');case sl:d=Rs,e=c;break;case il:d=Eo,e=c;break;case Hc:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function cE(t,e,n){for(var r=t.tagName,i=null,p=t.length;p--;){var s=t[p],o=s.qName,u=s.value,m=o.indexOf(":");if(m>0)var f=s.prefix=o.slice(0,m),c=o.slice(m+1),d=f==="xmlns"&&c;else c=o,f=null,d=o==="xmlns"&&"";s.localName=c,d!==!1&&(i==null&&(i={},Ub(n,n={})),n[d]=i[d]=u,s.uri=tf.XMLNS,e.startPrefixMapping(d,u))}for(var p=t.length;p--;){s=t[p];var f=s.prefix;f&&(f==="xml"&&(s.uri=tf.XML),f!=="xmlns"&&(s.uri=n[f||""]))}var m=r.indexOf(":");m>0?(f=t.prefix=r.slice(0,m),c=t.localName=r.slice(m+1)):(f=null,c=t.localName=r);var E=t.uri=n[f||""];if(e.startElement(E,c,r,t),t.closed){if(e.endElement(E,c,r),i)for(f in i)e.endPrefixMapping(f)}else return t.currentNSMap=n,t.localNSMap=i,!0}function Cz(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),s)}return e+1}function kz(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function Ub(t,e){for(var n in t)e[n]=t[n]}function Az(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var o=Oz(t,e),u=o.length;if(u>1&&/!doctype/i.test(o[0][0])){var f=o[1][0],c=!1,d=!1;u>3&&(/^public$/i.test(o[2][0])?(c=o[3][0],d=u>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var p=o[u-1];return n.startDTD(f,c,d),n.endDTD(),p.index+p[0].length}}return-1}function Iz(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function Wb(){this.attributeNames={}}Wb.prototype={setTagName:function(t){if(!lE.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!lE.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Oz(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}My.XMLReader=Fb;My.ParseError=tu;var Rz=Za,By=ha,hE=Bb,jb=My,Nz=By.DOMImplementation,dE=Rz.NAMESPACE,Lz=jb.ParseError,Pz=jb.XMLReader;function $b(t){this.options=t||{locator:{}}}$b.prototype.parseFromString=function(t,e){var n=this.options,r=new Pz,i=n.domBuilder||new Of,s=n.errorHandler,o=n.locator,u=n.xmlns||{},f=/\/x?html?$/.test(e),c=f?hE.HTML_ENTITIES:hE.XML_ENTITIES;return o&&i.setDocumentLocator(o),r.errorHandler=Dz(s,i,o),r.domBuilder=n.domBuilder||i,f&&(u[""]=dE.HTML),u.xml=u.xml||dE.XML,t&&typeof t=="string"?r.parse(t,u,c):r.errorHandler.error("invalid doc source"),i.doc};function Dz(t,e,n){if(!t){if(e instanceof Of)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(o){var u=t[o];!u&&i&&(u=t.length==2?function(f){t(o,f)}:t),r[o]=u&&function(f){u("[xmldom "+o+"]	"+f+Wg(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Of(){this.cdata=!1}function So(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Of.prototype={startDocument:function(){this.doc=new Nz().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),o=r.length;Vc(this,s),this.currentElement=s,this.locator&&So(this.locator,s);for(var u=0;u<o;u++){var t=r.getURI(u),f=r.getValue(u),n=r.getQName(u),c=i.createAttributeNS(t,n);this.locator&&So(r.getLocator(u),c),c.value=c.nodeValue=f,s.setAttributeNode(c)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&So(this.locator,n),Vc(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=pE.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&So(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=pE.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&So(this.locator,r),Vc(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&So(this.locator,i),Vc(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,Wg(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Wg(this.locator))},fatalError:function(t){throw new Lz(t,this.locator)}};function Wg(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function pE(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Of.prototype[t]=function(){return null}});function Vc(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}If.__DOMHandler=Of;If.DOMParser=$b;If.DOMImplementation=By.DOMImplementation;If.XMLSerializer=By.XMLSerializer;var Kb=If.DOMParser;const Hb=typeof window!="undefined"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,zz=1,Vb=typeof URL!="undefined"?URL:typeof window!="undefined"?window.URL||window.webkitURL||window.mozURL:void 0;function Fy(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?r:r&7|8).toString(16)});return e}function Mz(t){return!!(t&&t.nodeType==1)}function fn(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Bz(t){let e=parseFloat(t);return fn(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function al(t){var e=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=t.toLowerCase(),i=e.length;if(typeof document=="undefined"||typeof document.body.style[r]!="undefined")return t;for(var s=0;s<i;s++)if(typeof document.body.style[n[s]+r]!="undefined")return n[s]+r;return t}function Fz(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)t[i]===void 0&&(t[i]=r[i])}return t}function Hn(t){var e=[].slice.call(arguments,1);return e.forEach(function(n){!n||Object.getOwnPropertyNames(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}),t}function Xh(t,e,n,r,i){var s=r||0,o=i||e.length,u=parseInt(s+(o-s)/2),f;return n||(n=function(c,d){if(c>d)return 1;if(c<d)return-1;if(c==d)return 0}),o-s<=0?u:(f=n(e[u],t),o-s===1?f>=0?u:u+1:f===0?u:f===-1?Xh(t,e,n,u,o):Xh(t,e,n,s,u))}function jg(t,e,n,r,i){var s=r||0,o=i||e.length,u=parseInt(s+(o-s)/2),f;return n||(n=function(c,d){if(c>d)return 1;if(c<d)return-1;if(c==d)return 0}),o-s<=0?-1:(f=n(e[u],t),o-s===1?f===0?u:-1:f===0?u:f===-1?jg(t,e,n,u,o):jg(t,e,n,s,u))}function Nv(t){var e=window.getComputedStyle(t),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return n.forEach(function(o){i+=parseFloat(e[o])||0}),r.forEach(function(o){s+=parseFloat(e[o])||0}),{height:s,width:i}}function $g(t){var e=window.getComputedStyle(t),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return n.forEach(function(o){i+=parseFloat(e[o])||0}),r.forEach(function(o){s+=parseFloat(e[o])||0}),{height:s,width:i}}function vE(t){let e,n=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(t),e=r.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function Kg(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function Uz(t,e){for(var n=t.parentNode,r=n.childNodes,i,s=-1,o=0;o<r.length&&(i=r[o],i.nodeType===e&&s++,i!=t);o++);return s}function Wz(t){return Uz(t,zz)}function Qh(t){return["xml","opf","ncx"].indexOf(t)>-1}function jz(t,e){return new Blob([t],{type:e})}function Hg(t,e){var n,r=jz(t,e);return n=Vb.createObjectURL(r),n}function $z(t){return Vb.revokeObjectURL(t)}function gE(t,e){var n,r;if(typeof t=="string")return n=btoa(t),r="data:"+e+";base64,"+n,r}function Kz(t){return Object.prototype.toString.call(t).slice(8,-1)}function us(t,e,n){var r,i;return typeof DOMParser=="undefined"||n?i=Kb:i=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),r=new i().parseFromString(t,e),r}function zt(t,e){var n;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector!="undefined")return t.querySelector(e);if(n=t.getElementsByTagName(e),n.length)return n[0]}function ia(t,e){return typeof t.querySelector!="undefined"?t.querySelectorAll(e):t.getElementsByTagName(e)}function ol(t,e,n){var r,i;if(typeof t.querySelector!="undefined"){e+="[";for(var s in n)e+=s+"~='"+n[s]+"'";return e+="]",t.querySelector(e)}else if(r=t.getElementsByTagName(e),i=Array.prototype.slice.call(r,0).filter(function(o){for(var u in n)if(o.getAttribute(u)===n[u])return!0;return!1}),i)return i[0]}function Vg(t,e){var n=t.ownerDocument||t;typeof n.createTreeWalker!="undefined"?Hz(t,e,NodeFilter.SHOW_TEXT):qb(t,function(r){r&&r.nodeType===3&&e(r)})}function Hz(t,e,n){var r=document.createTreeWalker(t,n,null,!1);let i;for(;i=r.nextNode();)e(i)}function qb(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(qb(t,e))return!0;t=t.nextSibling}while(t)}function Vz(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onloadend=function(){e(r.result)}})}function dt(){this.resolve=null,this.reject=null,this.id=Fy(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function qg(t,e,n){var r;if(typeof t.querySelector!="undefined"&&(r=t.querySelector(`${e}[*|type="${n}"]`)),!r||r.length===0){r=ia(t,e);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||r[i].getAttribute("epub:type")===n)return r[i]}else return r}function mE(t){for(var e=[],n=t.childNodes,r=0;r<n.length;r++){let i=n[r];i.nodeType===1&&e.push(i)}return e}function yE(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function ul(t,e,n){for(var r=[],i=t.childNodes,s=0;s<i.length;s++){let o=i[s];if(o.nodeType===1&&o.nodeName.toLowerCase()===e){if(n)return o;r.push(o)}}if(!n)return r}class qz{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,n){this.startContainer=e,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,n){this.endContainer=e,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let n=e.parentNode,r=Array.prototype.indexOf.call(n.childNodes,e);this.setStart(n,r),this.setEnd(n,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let n=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,n)}_commonAncestorContainer(e,n){var r=yE(e||this.startContainer),i=yE(n||this.endContainer);if(r[0]==i[0]){for(var s=0;s<r.length;s++)if(r[s]!=i[s])return r[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}if(!Yb)var Yb={cwd:function(){return"/"}};function Ai(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+t)}function _E(t,e){for(var n="",r=-1,i=0,s,o=0;o<=t.length;++o){if(o<t.length)s=t.charCodeAt(o);else{if(s===47)break;s=47}if(s===47){if(!(r===o-1||i===1))if(r!==o-1&&i===2){if(n.length<2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){for(var u=n.length-1,f=u;f>=0&&n.charCodeAt(f)!==47;--f);if(f!==u){f===-1?n="":n=n.slice(0,f),r=o,i=0;continue}}else if(n.length===2||n.length===1){n="",r=o,i=0;continue}}e&&(n.length>0?n+="/..":n="..")}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o);r=o,i=0}else s===46&&i!==-1?++i:i=-1}return n}function Yz(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var vh={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=Yb.cwd()),s=r),Ai(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=_E(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Ai(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=_E(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Ai(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Ai(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":vh.normalize(e)},relative:function(e,n){if(Ai(e),Ai(n),e===n||(e=vh.resolve(e),n=vh.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var u=n.length,f=u-o,c=s<f?s:f,d=-1,p=0;p<=c;++p){if(p===c){if(f>c){if(n.charCodeAt(o+p)===47)return n.slice(o+p+1);if(p===0)return n.slice(o+p)}else s>c&&(e.charCodeAt(r+p)===47?d=p:p===0&&(d=0));break}var m=e.charCodeAt(r+p),E=n.charCodeAt(o+p);if(m!==E)break;m===47&&(d=p)}var b="";for(p=r+d+1;p<=i;++p)(p===i||e.charCodeAt(p)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+n.slice(o+d):(o+=d,n.charCodeAt(o)===47&&++o,n.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(Ai(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===47){if(!s){i=o;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ai(e);var r=0,i=-1,s=!0,o;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,f=-1;for(o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(c===47){if(!s){r=o+1;break}}else f===-1&&(s=!1,f=o+1),u>=0&&(c===n.charCodeAt(u)?--u===-1&&(i=o):(u=-1,i=f))}return r===i?i=f:i===-1&&(i=e.length),e.slice(r,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){r=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Ai(e);for(var n=-1,r=0,i=-1,s=!0,o=0,u=e.length-1;u>=0;--u){var f=e.charCodeAt(u);if(f===47){if(!s){r=u+1;break}continue}i===-1&&(s=!1,i=u+1),f===46?n===-1?n=u:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||i===-1||o===0||o===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return Yz("/",e)},parse:function(e){Ai(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var o=-1,u=0,f=-1,c=!0,d=e.length-1,p=0;d>=s;--d){if(r=e.charCodeAt(d),r===47){if(!c){u=d+1;break}continue}f===-1&&(c=!1,f=d+1),r===46?o===-1?o=d:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||f===-1||p===0||p===1&&o===f-1&&o===u+1?f!==-1&&(u===0&&i?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(u,f)):(u===0&&i?(n.name=e.slice(1,o),n.base=e.slice(1,f)):(n.name=e.slice(u,o),n.base=e.slice(u,f)),n.ext=e.slice(o,f)),u>0?n.dir=e.slice(0,u-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",posix:null},Ws=vh;class hs{constructor(e){var n,r;n=e.indexOf("://"),n>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Ws.parse(e)}isAbsolute(e){return Ws.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Ws.resolve(this.directory,e)}relative(e){var n=e&&e.indexOf("://")>-1;return n?e:Ws.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class di{constructor(e,n){var r=e.indexOf("://")>-1,i=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!r&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new hs(this.base),i=s.resolve(i))}this.Path=new hs(i),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var n=e.indexOf("://")>-1,r;return n?e:(r=Ws.resolve(this.directory,e),this.origin+r)}relative(e){return Ws.relative(e,this.directory)}toString(){return this.href}}const bo=1,Gr=3,Gz=9;class pt{constructor(e,n,r){var i;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof pt))return new pt(e,n,r);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),i=this.checkType(e),i==="string")return this.str=e,Hn(this,this.parse(e));if(i==="range")return Hn(this,this.fromRange(e,this.base,r));if(i==="node")return Hn(this,this.fromNode(e,this.base,r));if(i==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(Kz(e)==="Range"||typeof e.startContainer!="undefined")?"range":e&&typeof e=="object"&&typeof e.nodeType!="undefined"?"node":e&&typeof e=="object"&&e instanceof pt?"EpubCFI":!1}parse(e){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,i,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(n.base=this.parseComponent(r),i=this.getPathComponent(e),n.path=this.parseComponent(i),s=this.getRange(e),s&&(n.range=!0,n.start=this.parseComponent(s[0]),n.end=this.parseComponent(s[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(e){var n={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),i=r[0].split("/"),s;return r.length>1&&(s=r[1],n.terminal=this.parseTerminal(s)),i[0]===""&&i.shift(),n.steps=i.map(function(o){return this.parseStep(o)}.bind(this)),n}parseStep(e){var n,r,i,s,o;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(o=s[1]),r=parseInt(e),!isNaN(r))return r%2===0?(n="element",i=r/2-1):(n="text",i=(r-1)/2),{type:n,index:i,id:o||null}}parseTerminal(e){var n,r,i=e.match(/\[(.*)\]/);return i&&i[1]?(n=parseInt(e.split("[")[0]),r=i[1]):n=parseInt(e),fn(n)||(n=null),{offset:n,assertion:r}}getChapterComponent(e){var n=e.split("!");return n[0]}getPathComponent(e){var n=e.split("!");if(n[1])return n[1].split(",")[0]}getRange(e){var n=e.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(e){var n=e.split(":");return n[1]||""}joinSteps(e){return e?e.map(function(n){var r="";return n.type==="element"&&(r+=(n.index+1)*2),n.type==="text"&&(r+=1+2*n.index),n.id&&(r+="["+n.id+"]"),r}).join("/"):""}segmentString(e){var n="/";return n+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(n+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(n+="["+e.terminal.assertion+"]"),n}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,n){var r,i,s,o;if(typeof e=="string"&&(e=new pt(e)),typeof n=="string"&&(n=new pt(n)),e.spinePos>n.spinePos)return 1;if(e.spinePos<n.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),s=e.start.terminal):(r=e.path.steps,s=e.path.terminal),n.range?(i=n.path.steps.concat(n.start.steps),o=n.start.terminal):(i=n.path.steps,o=n.path.terminal);for(var u=0;u<r.length;u++){if(!r[u])return-1;if(!i[u]||r[u].index>i[u].index)return 1;if(r[u].index<i[u].index)return-1}return r.length<i.length?-1:s.offset>o.offset?1:s.offset<o.offset?-1:0}step(e){var n=e.nodeType===Gr?"text":"element";return{id:e.id,tagName:e.tagName,type:n,index:this.position(e)}}filteredStep(e,n){var r=this.filter(e,n),i;if(!!r)return i=r.nodeType===Gr?"text":"element",{id:r.id,tagName:r.tagName,type:i,index:this.filteredPosition(r,n)}}pathTo(e,n,r){for(var i={steps:[],terminal:{offset:null,assertion:null}},s=e,o;s&&s.parentNode&&s.parentNode.nodeType!=Gz;)r?o=this.filteredStep(s,r):o=this.step(s),o&&i.steps.unshift(o),s=s.parentNode;return n!=null&&n>=0&&(i.terminal.offset=n,i.steps[i.steps.length-1].type!="text"&&i.steps.push({type:"text",index:0})),i}equalStep(e,n){return!e||!n?!1:e.index===n.index&&e.id===n.id&&e.type===n.type}fromRange(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,o=e.endContainer,u=e.startOffset,f=e.endOffset,c=!1;if(r&&(c=s.ownerDocument.querySelector("."+r)!=null),typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),e.collapsed)c&&(u=this.patchOffset(s,u,r)),i.path=this.pathTo(s,u,r);else{i.range=!0,c&&(u=this.patchOffset(s,u,r)),i.start=this.pathTo(s,u,r),c&&(f=this.patchOffset(o,f,r)),i.end=this.pathTo(o,f,r),i.path={steps:[],terminal:null};var d=i.start.steps.length,p;for(p=0;p<d&&this.equalStep(i.start.steps[p],i.end.steps[p]);p++)p===d-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[p]),i.range=!1):i.path.steps.push(i.start.steps[p]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}fromNode(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),i.path=this.pathTo(e,null,r),i}filter(e,n){var r,i,s,o,u,f=!1;return e.nodeType===Gr?(f=!0,s=e.parentNode,r=e.parentNode.classList.contains(n)):(f=!1,r=e.classList.contains(n)),r&&f?(o=s.previousSibling,u=s.nextSibling,o&&o.nodeType===Gr?i=o:u&&u.nodeType===Gr&&(i=u),i||e):r&&!f?!1:e}patchOffset(e,n,r){if(e.nodeType!=Gr)throw new Error("Anchor must be a text node");var i=e,s=n;for(e.parentNode.classList.contains(r)&&(i=e.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===bo)if(i.previousSibling.classList.contains(r))s+=i.previousSibling.textContent.length;else break;else s+=i.previousSibling.textContent.length;i=i.previousSibling}return s}normalizedMap(e,n,r){var i={},s=-1,o,u=e.length,f,c;for(o=0;o<u;o++)f=e[o].nodeType,f===bo&&e[o].classList.contains(r)&&(f=Gr),o>0&&f===Gr&&c===Gr?i[o]=s:n===f&&(s=s+1,i[o]=s),c=f;return i}position(e){var n,r;return e.nodeType===bo?(n=e.parentNode.children,n||(n=mE(e.parentNode)),r=Array.prototype.indexOf.call(n,e)):(n=this.textNodes(e.parentNode),r=n.indexOf(e)),r}filteredPosition(e,n){var r,i,s;return e.nodeType===bo?(r=e.parentNode.children,s=this.normalizedMap(r,bo,n)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(n)&&(e=e.parentNode,r=e.parentNode.childNodes),s=this.normalizedMap(r,Gr,n)),i=Array.prototype.indexOf.call(r,e),s[i]}stepsToXpath(e){var n=[".","*"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("*[position()="+i+" and @id='"+r.id+"']"):r.type==="text"?n.push("text()["+i+"]"):n.push("*["+i+"]")}),n.join("/")}stepsToQuerySelector(e){var n=["html"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("#"+r.id):r.type==="text"||n.push("*:nth-child("+i+")")}),n.join(">")}textNodes(e,n){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===Gr?!0:!!(n&&r.classList.contains(n))})}walkToNode(e,n,r){var i=n||document,s=i.documentElement,o,u,f=e.length,c;for(c=0;c<f&&(u=e[c],u.type==="element"?u.id?s=i.getElementById(u.id):(o=s.children||mE(s),s=o[u.index]):u.type==="text"&&(s=this.textNodes(s,r)[u.index]),!!s);c++);return s}findNode(e,n,r){var i=n||document,s,o;return!r&&typeof i.evaluate!="undefined"?(o=this.stepsToXpath(e),s=i.evaluate(o,i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?s=this.walkToNode(e,i,r):s=this.walkToNode(e,i),s}fixMiss(e,n,r,i){var s=this.findNode(e.slice(0,-1),r,i),o=s.childNodes,u=this.normalizedMap(o,Gr,i),f,c,d=e[e.length-1].index;for(let p in u){if(!u.hasOwnProperty(p))return;if(u[p]===d)if(f=o[p],c=f.textContent.length,n>c)n=n-c;else{f.nodeType===bo?s=f.childNodes[0]:s=f;break}}return{container:s,offset:n}}toRange(e,n){var r=e||document,i,s,o,u,f,c=this,d,p,m=n?r.querySelector("."+n)!=null:!1,E;if(typeof r.createRange!="undefined"?i=r.createRange():i=new qz,c.range?(s=c.start,d=c.path.steps.concat(s.steps),u=this.findNode(d,r,m?n:null),o=c.end,p=c.path.steps.concat(o.steps),f=this.findNode(p,r,m?n:null)):(s=c.path,d=c.path.steps,u=this.findNode(c.path.steps,r,m?n:null)),u)try{s.terminal.offset!=null?i.setStart(u,s.terminal.offset):i.setStart(u,0)}catch{E=this.fixMiss(d,s.terminal.offset,r,m?n:null),i.setStart(E.container,E.offset)}else return console.log("No startContainer found for",this.toString()),null;if(f)try{o.terminal.offset!=null?i.setEnd(f,o.terminal.offset):i.setEnd(f,0)}catch{E=this.fixMiss(p,c.end.terminal.offset,r,m?n:null),i.setEnd(E.container,E.offset)}return i}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,n,r){var i=parseInt(n),s=(e+1)*2,o="/"+s+"/";return o+=(i+1)*2,r&&(o+="["+r+"]"),o}collapse(e){!this.range||(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class pi{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var n=0;n<arguments[e].length;++n)this.hooks.push(arguments[e][n])}deregister(e){let n;for(let r=0;r<this.hooks.length;r++)if(n=this.hooks[r],n===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,n=this.context,r=[];return this.hooks.forEach(function(i){try{var s=i.apply(n,e)}catch(o){console.log(o)}s&&typeof s.then=="function"&&r.push(s)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function Gb(t,e){var n,r,i=e.url,s=i.indexOf("://")>-1;!t||(r=zt(t,"head"),n=zt(r,"base"),n||(n=t.createElement("base"),r.insertBefore(n,r.firstChild)),!s&&window&&window.location&&(i=window.location.origin+i),n.setAttribute("href",i))}function Zz(t,e){var n,r,i=e.canonical;!t||(n=zt(t,"head"),r=zt(n,"link[rel='canonical']"),r?r.setAttribute("href",i):(r=t.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",i),n.appendChild(r)))}function Xz(t,e){var n,r,i=e.idref;!t||(n=zt(t,"head"),r=zt(n,"link[property='dc.identifier']"),r?r.setAttribute("content",i):(r=t.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",i),n.appendChild(r)))}function Qz(t,e){var n=t.querySelectorAll("a[href]");if(!!n.length)for(var r=zt(t.ownerDocument,"base"),i=r?r.getAttribute("href"):void 0,s=function(u){var f=u.getAttribute("href");if(f.indexOf("mailto:")!==0){var c=f.indexOf("://")>-1;if(c)u.setAttribute("target","_blank");else{var d;try{d=new di(f,i)}catch{}u.onclick=function(){return d&&d.hash?e(d.Path.path+d.hash):e(d?d.Path.path:f),!1}}}}.bind(this),o=0;o<n.length;o++)s(n[o])}function wE(t,e,n){return e.forEach(function(r,i){r&&n[i]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(r,"g"),n[i]))}),t}function nf(t,e,n,r){var i=typeof window!="undefined"?window.URL:!1,s=i?"blob":"arraybuffer",o=new dt,u=new XMLHttpRequest,f=XMLHttpRequest.prototype,c;"overrideMimeType"in f||Object.defineProperty(f,"overrideMimeType",{value:function(){}}),n&&(u.withCredentials=!0),u.onreadystatechange=p,u.onerror=d,u.open("GET",t,!0);for(c in r)u.setRequestHeader(c,r[c]);e=="json"&&u.setRequestHeader("Accept","application/json"),e||(e=new hs(t).extension),e=="blob"&&(u.responseType=s),Qh(e)&&u.overrideMimeType("text/xml"),e=="binary"&&(u.responseType="arraybuffer"),u.send();function d(m){o.reject(m)}function p(){if(this.readyState===XMLHttpRequest.DONE){var m=!1;if((this.responseType===""||this.responseType==="document")&&(m=this.responseXML),this.status===200||this.status===0||m){var E;if(!this.response&&!m)return o.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),o.promise;if(this.status===403)return o.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),o.promise;m?E=this.responseXML:Qh(e)?E=us(this.response,"text/xml"):e=="xhtml"?E=us(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?E=us(this.response,"text/html"):e=="json"?E=JSON.parse(this.response):e=="blob"?i?E=this.response:E=new Blob([this.response]):E=this.response,o.resolve(E)}else o.reject({status:this.status,message:this.response,stack:new Error().stack})}}return o.promise}class Jz{constructor(e,n){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new pi(this),this.hooks.content=new pi(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var n=e||this.request||nf,r=new dt,i=r.promise;return this.contents?r.resolve(this.contents):n(this.url).then(function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){r.resolve(this.contents)}.bind(this)).catch(function(s){r.reject(s)}),i}base(){return Gb(this.document,this)}render(e){var n=new dt,r=n.promise;return this.output,this.load(e).then(function(i){var s=typeof navigator!="undefined"&&navigator.userAgent||"",o=s.indexOf("Trident")>=0,u;typeof XMLSerializer=="undefined"||o?u=Kb:u=XMLSerializer;var f=new u;return this.output=f.serializeToString(i),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){n.resolve(this.output)}.bind(this)).catch(function(i){n.reject(i)}),r}find(e){var n=this,r=[],i=e.toLowerCase(),s=function(o){for(var u=o.textContent.toLowerCase(),f=n.document.createRange(),c,d,p=-1,m,E=150;d!=-1;)d=u.indexOf(i,p+1),d!=-1&&(f=n.document.createRange(),f.setStart(o,d),f.setEnd(o,d+i.length),c=n.cfiFromRange(f),o.textContent.length<E?m=o.textContent:(m=o.textContent.substring(d-E/2,d+E/2),m="..."+m+"..."),r.push({cfi:c,excerpt:m})),p=d};return Vg(n.document,function(o){s(o)}),r}search(e,n=5){if(typeof document.createTreeWalker=="undefined")return this.find(e);let r=[];const i=150,s=this,o=e.toLowerCase(),u=function(p){const b=p.reduce((T,g)=>T+g.textContent,"").toLowerCase().indexOf(o);if(b!=-1){const g=b+o.length;let v=0,y=0;if(b<p[0].length){let x;for(;v<p.length-1&&(y+=p[v].length,!(g<=y));)v+=1;let C=p[0],S=p[v],A=s.document.createRange();A.setStart(C,b);let N=p.slice(0,v).reduce((F,H)=>F+H.textContent.length,0);A.setEnd(S,N>g?g:g-N),x=s.cfiFromRange(A);let z=p.slice(0,v+1).reduce((F,H)=>F+H.textContent,"");z.length>i&&(z=z.substring(b-i/2,b+i/2),z="..."+z+"..."),r.push({cfi:x,excerpt:z})}}},f=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let c,d=[];for(;c=f.nextNode();)d.push(c),d.length==n&&(u(d.slice(0,n)),d=d.slice(1,n));return d.length>0&&u(d),r}reconcileLayoutSettings(e){var n={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var i=r.replace("rendition:",""),s=i.indexOf("-"),o,u;s!=-1&&(o=i.slice(0,s),u=i.slice(s+1),n[o]=u)}),n}cfiFromRange(e){return new pt(e,this.cfiBase).toString()}cfiFromElement(e){return new pt(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class eM{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new pi,this.hooks.content=new pi,this.hooks.content.register(Gb),this.hooks.content.register(Zz),this.hooks.content.register(Xz),this.epubcfi=new pt,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,n,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((i,s)=>{var o=this.manifest[i.idref],u;i.index=s,i.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,i.index,i.id),i.href&&(i.url=n(i.href,!0),i.canonical=r(i.href)),o&&(i.href=o.href,i.url=n(i.href,!0),i.canonical=r(i.href),o.properties.length&&i.properties.push.apply(i.properties,o.properties)),i.linear==="yes"?(i.prev=function(){let f=i.index;for(;f>0;){let c=this.get(f-1);if(c&&c.linear)return c;f-=1}}.bind(this),i.next=function(){let f=i.index;for(;f<this.spineItems.length-1;){let c=this.get(f+1);if(c&&c.linear)return c;f+=1}}.bind(this)):(i.prev=function(){},i.next=function(){}),u=new Jz(i,this.hooks),this.append(u)}),this.loaded=!0}get(e){var n=0;if(typeof e=="undefined")for(;n<this.spineItems.length;){let r=this.spineItems[n];if(r&&r.linear)break;n+=1}else this.epubcfi.isCfiString(e)?n=new pt(e).spinePos:typeof e=="number"||isNaN(e)===!1?n=e:typeof e=="string"&&e.indexOf("#")===0?n=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],n=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[n]||null}append(e){var n=this.spineItems.length;return e.index=n,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=n,this.spineByHref[encodeURI(e.href)]=n,this.spineByHref[e.href]=n,this.spineById[e.idref]=n,n}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(n,r){n.index=r}),0}remove(e){var n=this.spineItems.indexOf(e);if(n>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let n=this.get(e);if(n&&n.linear)return n;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let n=this.get(e);if(n&&n.linear)return n;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Uy{constructor(e){this._q=[],this.context=e,this.tick=Hb,this.running=!1,this.paused=!1}enqueue(){var e,n,r,i=[].shift.call(arguments),s=arguments;if(!i)throw new Error("No Task Provided");return typeof i=="function"?(e=new dt,n=e.promise,r={task:i,args:s,deferred:e,promise:n}):r={promise:i},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,n,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),n=e.task,n)return r=n.apply(this.context,e.args),r&&typeof r.then=="function"?r.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new dt,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new dt),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Wy="0.3",gh=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Ce={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Zb{constructor(e,n,r){this.spine=e,this.request=n,this.pause=r||100,this.q=new Uy(this),this.epubcfi=new pt,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(n){var r=new dt,i=this.parse(n,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(i),this.pause),r.promise}.bind(this))}parse(e,n,r){var i=[],s,o=e.ownerDocument,u=zt(o,"body"),f=0,c,d=r||this.break,p=function(m){var E=m.length,b,T=0;if(m.textContent.trim().length===0)return!1;for(f==0&&(s=this.createRange(),s.startContainer=m,s.startOffset=0),b=d-f,b>E&&(f+=E,T=E);T<E;)if(b=d-f,f===0&&(T+=1,s=this.createRange(),s.startContainer=m,s.startOffset=T),T+b>=E)f+=E-T,T=E;else{T+=b,s.endContainer=m,s.endOffset=T;let g=new pt(s,n).toString();i.push(g),f=0}c=m};if(Vg(u,p.bind(this)),s&&s.startContainer&&c){s.endContainer=c,s.endOffset=c.length;let m=new pt(s,n).toString();i.push(m),f=0}return i}generateFromWords(e,n,r){var i=e?new pt(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(s){s.linear&&(i?s.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),s,n,i,r):this.q.enqueue(this.processWords.bind(this),s,n,i,r))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,n,r,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then(function(s){var o=new dt,u=this.parseWords(s,e,n,r),f=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(u.length>=i?u.slice(0,f):u),e.unload(),this.processingTimeout=setTimeout(()=>o.resolve(u),this.pause),o.promise}.bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,n,r,i){var s=n.cfiBase,o=[],u=e.ownerDocument,f=zt(u,"body"),c=r,d=i?i.spinePos!==n.index:!0,p;i&&n.index===i.spinePos&&(p=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));var m=function(E){if(!d)if(E===p)d=!0;else return!1;if(E.textContent.length<10&&E.textContent.trim().length===0)return!1;var b=this.countWords(E.textContent),T,g=0;if(b===0)return!1;for(T=c-this._wordCounter,T>b&&(this._wordCounter+=b,g=b);g<b;)if(T=c-this._wordCounter,g+T>=b)this._wordCounter+=b-g,g=b;else{g+=T;let v=new pt(E,s);o.push({cfi:v.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Vg(f,m.bind(this)),o}locationFromCfi(e){let n;return pt.prototype.isCfiString(e)&&(e=new pt(e)),this._locations.length===0?-1:(n=Xh(e,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(e){if(this._locations.length===0)return null;var n=this.locationFromCfi(e);return this.percentageFromLocation(n)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var n=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(n=this._locations[e]),n}cfiFromPercentage(e){let n;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new pt(this._locations[this.total]);return r.collapse(),r.toString()}return n=Math.ceil(this.total*e),this.cfiFromLocation(n)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var n;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(n=this.locationFromCfi(e),this._current=n):n=e,this.emit(Ce.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Fi(Zb.prototype);class tM{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var n;if(!e)throw new Error("Container File Not Found");if(n=zt(e,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=Ws.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class EE{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var n,r,i;if(!e)throw new Error("Package File Not Found");if(n=zt(e,"metadata"),!n)throw new Error("No Metadata Found");if(r=zt(e,"manifest"),!r)throw new Error("No Manifest Found");if(i=zt(e,"spine"),!i)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=Wz(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(n),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var n={};return n.title=this.getElementText(e,"title"),n.creator=this.getElementText(e,"creator"),n.description=this.getElementText(e,"description"),n.pubdate=this.getElementText(e,"date"),n.publisher=this.getElementText(e,"publisher"),n.identifier=this.getElementText(e,"identifier"),n.language=this.getElementText(e,"language"),n.rights=this.getElementText(e,"rights"),n.modified_date=this.getPropertyText(e,"dcterms:modified"),n.layout=this.getPropertyText(e,"rendition:layout"),n.orientation=this.getPropertyText(e,"rendition:orientation"),n.flow=this.getPropertyText(e,"rendition:flow"),n.viewport=this.getPropertyText(e,"rendition:viewport"),n.media_active_class=this.getPropertyText(e,"media:active-class"),n.spread=this.getPropertyText(e,"rendition:spread"),n}parseManifest(e){var n={},r=ia(e,"item"),i=Array.prototype.slice.call(r);return i.forEach(function(s){var o=s.getAttribute("id"),u=s.getAttribute("href")||"",f=s.getAttribute("media-type")||"",c=s.getAttribute("media-overlay")||"",d=s.getAttribute("properties")||"";n[o]={href:u,type:f,overlay:c,properties:d.length?d.split(" "):[]}}),n}parseSpine(e,n){var r=[],i=ia(e,"itemref"),s=Array.prototype.slice.call(i);return s.forEach(function(o,u){var f=o.getAttribute("idref"),c=o.getAttribute("properties")||"",d=c.length?c.split(" "):[],p={id:o.getAttribute("id"),idref:f,linear:o.getAttribute("linear")||"yes",properties:d,index:u};r.push(p)}),r}findUniqueIdentifier(e){var n=e.documentElement.getAttribute("unique-identifier");if(!n)return"";var r=e.getElementById(n);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var n=ol(e,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(e,n){var r=ol(e,"item",{"media-type":"application/x-dtbncx+xml"}),i;return r||(i=n.getAttribute("toc"),i&&(r=e.querySelector(`#${i}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var n=zt(e,"package");n.getAttribute("version");var r=ol(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var i=ol(e,"meta",{name:"cover"});if(i){var s=i.getAttribute("content"),o=e.getElementById(s);return o?o.getAttribute("href"):""}else return!1}getElementText(e,n){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),i;return!r||r.length===0?"":(i=r[0],i.childNodes.length?i.childNodes[0].nodeValue:"")}getPropertyText(e,n){var r=ol(e,"meta",{property:n});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let n=e.readingOrder||e.spine;return this.spine=n.map((r,i)=>(r.index=i,r.linear=r.linear||"yes",r)),e.resources.forEach((r,i)=>{this.manifest[i]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,i)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Lv{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let n=e.nodeType,r,i;n&&(r=zt(e,"html"),i=zt(e,"ncx")),n?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var n,r=0;r<e.length;r++)n=e[r],n.href&&(this.tocByHref[n.href]=r),n.id&&(this.tocById[n.id]=r),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(e){var n;return e?(e.indexOf("#")===0?n=this.tocById[e.substring(1)]:e in this.tocByHref&&(n=this.tocByHref[e]),this.getByIndex(e,n,this.toc)):this.toc}getByIndex(e,n,r){if(r.length===0)return;const i=r[n];if(i&&(e===i.id||e===i.href))return i;{let s;for(let o=0;o<r.length&&(s=this.getByIndex(e,n,r[o].subitems),!s);++o);return s}}landmark(e){var n;return e?(n=this.landmarksByType[e],this.landmarks[n]):this.landmarks}parseNav(e){var n=qg(e,"nav","toc"),r=[];if(!n)return r;let i=ul(n,"ol",!0);return i&&(r=this.parseNavList(i)),r}parseNavList(e,n){const r=[];if(!e||!e.children)return r;for(let i=0;i<e.children.length;i++){const s=this.navItem(e.children[i],n);s&&r.push(s)}return r}navItem(e,n){let r=e.getAttribute("id")||void 0,i=ul(e,"a",!0)||ul(e,"span",!0);if(!i)return;let s=i.getAttribute("href")||"";r||(r=s);let o=i.textContent||"",u=[],f=ul(e,"ol",!0);return f&&(u=this.parseNavList(f,r)),{id:r,href:s,label:o,subitems:u,parent:n}}parseLandmarks(e){var n=qg(e,"nav","landmarks"),r=n?ia(n,"li"):[],i=r.length,s,o=[],u;if(!r||i===0)return o;for(s=0;s<i;++s)u=this.landmarkItem(r[s]),u&&(o.push(u),this.landmarksByType[u.type]=s);return o}landmarkItem(e){let n=ul(e,"a",!0);if(!n)return;let r=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,i=n.getAttribute("href")||"",s=n.textContent||"";return{href:i,label:s,type:r}}parseNcx(e){var n=ia(e,"navPoint"),r=n.length,i,s={},o=[],u,f;if(!n||r===0)return o;for(i=0;i<r;++i)u=this.ncxItem(n[i]),s[u.id]=u,u.parent?(f=s[u.parent],f.subitems.push(u)):o.push(u);return o}ncxItem(e){var n=e.getAttribute("id")||!1,r=zt(e,"content"),i=r.getAttribute("src"),s=zt(e,"navLabel"),o=s.textContent?s.textContent:"",u=[],f=e.parentNode,c;return f&&(f.nodeName==="navPoint"||f.nodeName.split(":").slice(-1)[0]==="navPoint")&&(c=f.getAttribute("id")),{id:n,href:i,label:o,subitems:u,parent:c}}load(e){return e.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(e){return this.toc.forEach(e)}}var ll={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},nM=function(){var t,e,n,r,i={};for(t in ll)if(ll.hasOwnProperty(t)){for(e in ll[t])if(ll[t].hasOwnProperty(e))if(n=ll[t][e],typeof n=="string")i[n]=t+"/"+e;else for(r=0;r<n.length;r++)i[n[r]]=t+"/"+e}return i}(),rM="text/plain";function iM(t){return t&&nM[t.split(".").pop().toLowerCase()]||rM}var qo={lookup:iM};class sM{constructor(e,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(n){return e[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var n=new di(e),r=qo.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(i=>Vz(i)).then(i=>gE(i,r)):this.settings.request(e,"blob").then(i=>Hg(i,r))}replacements(){if(this.settings.replacements==="none")return new Promise(function(n){n(this.urls)}.bind(this));var e=this.urls.map(n=>{var r=this.settings.resolver(n);return this.createUrl(r).catch(i=>(console.error(i),null))});return Promise.all(e).then(n=>(this.replacementUrls=n.filter(r=>typeof r=="string"),n))}replaceCss(e,n){var r=[];return e=e||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach(function(i){var s=this.createCssFile(i,e,n).then(function(o){var u=this.urls.indexOf(i);u>-1&&(this.replacementUrls[u]=o)}.bind(this));r.push(s)}.bind(this)),Promise.all(r)}createCssFile(e){var n;if(Ws.isAbsolute(e))return new Promise(function(o){o()});var r=this.settings.resolver(e),i;this.settings.archive?i=this.settings.archive.getText(r):i=this.settings.request(r,"text");var s=this.urls.map(o=>{var u=this.settings.resolver(o),f=new hs(r).relative(u);return f});return i?i.then(o=>(o=wE(o,s,this.replacementUrls),this.settings.replacements==="base64"?n=gE(o,"text/css"):n=Hg(o,"text/css"),n),o=>new Promise(function(u){u()})):new Promise(function(o){o()})}relativeTo(e,n){return n=n||this.settings.resolver,this.urls.map(function(r){var i=n(r),s=new hs(e).relative(i);return s}.bind(this))}get(e){var n=this.urls.indexOf(e);if(n!==-1)return this.replacementUrls.length?new Promise(function(r,i){r(this.replacementUrls[n])}.bind(this)):this.createUrl(e)}substitute(e,n){var r;return n?r=this.relativeTo(n):r=this.urls,wE(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Pv{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new pt,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var n=zt(e,"html"),r=zt(e,"ncx");if(n)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var n=qg(e,"nav","page-list"),r=n?ia(n,"li"):[],i=r.length,s,o=[],u;if(!r||i===0)return o;for(s=0;s<i;++s)u=this.item(r[s]),o.push(u);return o}parseNcx(e){var n=[],r=0,i,s,o,u=0;if(s=zt(e,"pageList"),!s||(o=ia(s,"pageTarget"),u=o.length,!o||o.length===0))return n;for(r=0;r<u;++r)i=this.ncxItem(o[r]),n.push(i);return n}ncxItem(e){var n=zt(e,"navLabel"),r=zt(n,"text"),i=r.textContent,s=zt(e,"content"),o=s.getAttribute("src"),u=parseInt(i,10);return{href:o,page:u}}item(e){var n=zt(e,"a"),r=n.getAttribute("href")||"",i=n.textContent||"",s=parseInt(i),o=r.indexOf("epubcfi"),u,f,c;return o!=-1?(u=r.split("#"),f=u[0],c=u.length>1?u[1]:!1,{cfi:c,href:r,packageUrl:f,page:s}):{href:r,page:s}}process(e){e.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var n=-1;if(this.locations.length===0)return-1;var r=jg(e,this.locations,this.epubcfi.compare);return r!=-1?n=this.pages[r]:(r=Xh(e,this.locations,this.epubcfi.compare),n=r-1>=0?this.pages[r-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(e){var n=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(n=this.locations[r]),n}pageFromPercentage(e){var n=Math.round(this.totalPages*e);return n}percentageFromPage(e){var n=(e-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(e){var n=this.pageFromCfi(e),r=this.percentageFromPage(n);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Xb{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e!="undefined"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,n){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(e,n,r){var i=1,s=r||0,o=e,u=n,f=Math.floor(o/12),c,d,p,m;this._spread&&o>=this._minSpreadWidth?i=2:i=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(s=f%2===0?f:f-1),this.name==="pre-paginated"&&(s=0),i>1?(c=o/i-s,p=c+s):(c=o,p=o),this.name==="pre-paginated"&&i>1&&(o=c),d=c*i+s,m=o,this.width=o,this.height=u,this.spreadWidth=d,this.pageWidth=p,this.delta=m,this.columnWidth=c,this.gap=s,this.divisor=i,this.update({width:o,height:u,spreadWidth:d,pageWidth:p,delta:m,columnWidth:c,gap:s,divisor:i})}format(e,n,r){var i;return this.name==="pre-paginated"?i=e.fit(this.columnWidth,this.height,n):this._flow==="paginated"?i=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?i=e.size(null,this.height):i=e.size(this.width,null),i}count(e,n){let r,i;return this.name==="pre-paginated"?(r=1,i=1):this._flow==="paginated"?(n=n||this.delta,r=Math.ceil(e/n),i=r*this.divisor):(n=n||this.height,r=Math.ceil(e/n),i=r),{spreads:r,pages:i}}update(e){if(Object.keys(e).forEach(n=>{this.props[n]===e[n]&&delete e[n]}),Object.keys(e).length>0){let n=Hn(this.props,e);this.emit(Ce.LAYOUT.UPDATED,n,e)}}}Fi(Xb.prototype);class aM{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(!!e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="string"?this.registerUrl(n,e[n]):this.registerRules(n,e[n]))}registerCss(e,n){this._themes[e]={serialized:n},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,n){var r=new di(n);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,n){this._themes[e]={rules:n},(this._injected[e]||e=="default")&&this.update(e)}select(e){var n=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(i=>{i.removeClass(n),i.addClass(e)})}update(e){var n=this.rendition.getContents();n.forEach(r=>{this.add(e,r)})}inject(e){var n=[],r=this._themes,i;for(var s in r)r.hasOwnProperty(s)&&(s===this._current||s==="default")&&(i=r[s],(i.rules&&Object.keys(i.rules).length>0||i.url&&n.indexOf(i.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,n){var r=this._themes[e];!r||!n||(r.url?n.addStylesheet(r.url):r.serialized?(n.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(n.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,n,r){var i=this.rendition.getContents();this._overrides[e]={value:n,priority:r===!0},i.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var n=this.rendition.getContents();delete this._overrides[e],n.forEach(r=>{r.css(e)})}overrides(e){var n=this._overrides;for(var r in n)n.hasOwnProperty(r)&&e.css(r,n[r].value,n[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Jh{constructor(e,n,r,i=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=n||"ltr",this._dev=i}section(e){var n=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,n);return r}page(e,n,r,i){var s=e&&e.document?e.document.body:!1,o;if(!!s){if(o=this.rangePairToCfiPair(n,{start:this.findStart(s,r,i),end:this.findEnd(s,r,i)}),this._dev===!0){let u=e.document,f=new pt(o.start).toRange(u),c=new pt(o.end).toRange(u),d=u.defaultView.getSelection(),p=u.createRange();d.removeAllRanges(),p.setStart(f.startContainer,f.startOffset),p.setEnd(c.endContainer,c.endOffset),d.addRange(p)}return o}}walk(e,n){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(f){return f.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=r.acceptNode;i.acceptNode=r.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1),o,u;(o=s.nextNode())&&(u=n(o),!u););return u}}findRanges(e){for(var n=[],r=e.contents.scrollWidth(),i=Math.ceil(r/this.layout.spreadWidth),s=i*this.layout.divisor,o=this.layout.columnWidth,u=this.layout.gap,f,c,d=0;d<s.pages;d++)f=(o+u)*d,c=o*(d+1)+u*d,n.push({start:this.findStart(e.document.body,f,c),end:this.findEnd(e.document.body,f,c)});return n}findStart(e,n,r){for(var i=[e],s,o,u=e;i.length;)if(s=i.shift(),o=this.walk(s,f=>{var c,d,p,m,E;if(E=vE(f),this.horizontal&&this.direction==="ltr"){if(c=this.horizontal?E.left:E.top,d=this.horizontal?E.right:E.bottom,c>=n&&c<=r)return f;if(d>n)return f;u=f,i.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(c=E.left,d=E.right,d<=r&&d>=n)return f;if(c<r)return f;u=f,i.push(f)}else{if(p=E.top,m=E.bottom,p>=n&&p<=r)return f;if(m>n)return f;u=f,i.push(f)}}),o)return this.findTextStartRange(o,n,r);return this.findTextStartRange(u,n,r)}findEnd(e,n,r){for(var i=[e],s,o=e,u;i.length;)if(s=i.shift(),u=this.walk(s,f=>{var c,d,p,m,E;if(E=vE(f),this.horizontal&&this.direction==="ltr"){if(c=Math.round(E.left),d=Math.round(E.right),c>r&&o)return o;if(d>r)return f;o=f,i.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(c=Math.round(this.horizontal?E.left:E.top),d=Math.round(this.horizontal?E.right:E.bottom),d<n&&o)return o;if(c<n)return f;o=f,i.push(f)}else{if(p=Math.round(E.top),m=Math.round(E.bottom),p>r&&o)return o;if(m>r)return f;o=f,i.push(f)}}),u)return this.findTextEndRange(u,n,r);return this.findTextEndRange(o,n,r)}findTextStartRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),s,o,u,f,c,d=0;d<i.length;d++)if(s=i[d],o=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,u>=n)return s}else if(this.horizontal&&this.direction==="rtl"){if(c=o.right,c<=r)return s}else if(f=o.top,f>=n)return s;return i[0]}findTextEndRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),s,o,u,f,c,d,p,m=0;m<i.length;m++){if(o=i[m],u=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(f=u.left,c=u.right,f>r&&s)return s;if(c>r)return o}else if(this.horizontal&&this.direction==="rtl"){if(f=u.left,c=u.right,c<n&&s)return s;if(f<n)return o}else{if(d=u.top,p=u.bottom,d>r&&s)return s;if(p>r)return o}s=o}return i[i.length-1]}splitTextNodeIntoRanges(e,n){var r=[],i=e.textContent||"",s=i.trim(),o,u=e.ownerDocument,f=n||" ",c=s.indexOf(f);if(c===-1||e.nodeType!=Node.TEXT_NODE)return o=u.createRange(),o.selectNodeContents(e),[o];for(o=u.createRange(),o.setStart(e,0),o.setEnd(e,c),r.push(o),o=!1;c!=-1;)c=s.indexOf(f,c+1),c>0&&(o&&(o.setEnd(e,c),r.push(o)),o=u.createRange(),o.setStart(e,c+1));return o&&(o.setEnd(e,s.length),r.push(o)),r}rangePairToCfiPair(e,n){var r=n.start,i=n.end;r.collapse(!0),i.collapse(!1);let s=new pt(r,e).toString(),o=new pt(i,e).toString();return{start:s,end:o}}rangeListToCfiList(e,n){for(var r=[],i,s=0;s<n.length;s++)i=this.rangePairToCfiPair(e,n[s]),r.push(i);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Qb=typeof navigator!="undefined",oM=Qb&&/Chrome/.test(navigator.userAgent),xE=Qb&&!oM&&/AppleWebKit/.test(navigator.userAgent),uM=1;class Jb{constructor(e,n,r,i){this.epubcfi=new pt,this.document=e,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=i||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",Wy),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return gh}width(e){var n=this.content;return e&&fn(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}height(e){var n=this.content;return e&&fn(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}contentWidth(e){var n=this.content||this.document.body;return e&&fn(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}contentHeight(e){var n=this.content||this.document.body;return e&&fn(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let e,n,r=this.document.createRange(),i=this.content||this.document.body,s=$g(i);return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.width,s&&s.width&&(n+=s.width),Math.round(n)}textHeight(){let e,n,r=this.document.createRange(),i=this.content||this.document.body;return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.bottom,Math.round(n)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,n,r){var i=this.content||this.document.body;return n?i.style.setProperty(e,n,r?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}viewport(e){var n=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},i=[],s={};if(n&&n.hasAttribute("content")){let o=n.getAttribute("content"),u=o.match(/width\s*=\s*([^,]*)/),f=o.match(/height\s*=\s*([^,]*)/),c=o.match(/initial-scale\s*=\s*([^,]*)/),d=o.match(/minimum-scale\s*=\s*([^,]*)/),p=o.match(/maximum-scale\s*=\s*([^,]*)/),m=o.match(/user-scalable\s*=\s*([^,]*)/);u&&u.length&&typeof u[1]!="undefined"&&(r.width=u[1]),f&&f.length&&typeof f[1]!="undefined"&&(r.height=f[1]),c&&c.length&&typeof c[1]!="undefined"&&(r.scale=c[1]),d&&d.length&&typeof d[1]!="undefined"&&(r.minimum=d[1]),p&&p.length&&typeof p[1]!="undefined"&&(r.maximum=p[1]),m&&m.length&&typeof m[1]!="undefined"&&(r.scalable=m[1])}return s=Fz(e||{},r),e&&(s.width&&i.push("width="+s.width),s.height&&i.push("height="+s.height),s.scale&&i.push("initial-scale="+s.scale),s.scalable==="no"?(i.push("minimum-scale="+s.scale),i.push("maximum-scale="+s.scale),i.push("user-scalable="+s.scalable)):(s.scalable&&i.push("user-scalable="+s.scalable),s.minimum&&i.push("minimum-scale="+s.minimum),s.maximum&&i.push("minimum-scale="+s.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",i.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(Ce.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver=="undefined"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),n=this.textHeight();(e!=this._size.width||n!=this._size.height)&&(this._size={width:e,height:n},this.onResize&&this.onResize(this._size),this.emit(Ce.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,n=function(u){u.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),r=0;r<e.length;r+=1){var i;try{i=e[r].cssRules}catch{return}if(!i)return;for(var s=0;s<i.length;s+=1)if(i[s].media){var o=this.window.matchMedia(i[s].media.mediaText);o.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),n,r=0;r<e.length;r++)n=e[r],typeof n.naturalWidth!="undefined"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,n){var r,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){let s=new pt(e).toRange(this.document,n);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let o=s.startContainer.textContent.indexOf(" ",s.startOffset);o==-1&&(o=s.startContainer.textContent.length),s.setEnd(s.startContainer,o)}}catch(o){console.error("setting end offset to start container length failed",o)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)r=s.startContainer.getBoundingClientRect(),i.left=r.left,i.top=r.top;else if(xE){let o=s.startContainer,u=new Range;try{o.nodeType===uM?r=o.getBoundingClientRect():s.startOffset+2<o.length?(u.setStart(o,s.startOffset),u.setEnd(o,s.startOffset+2),r=u.getBoundingClientRect()):s.startOffset-2>0?(u.setStart(o,s.startOffset-2),u.setEnd(o,s.startOffset),r=u.getBoundingClientRect()):r=o.parentNode.getBoundingClientRect()}catch(f){console.error(f,f.stack)}}else r=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),o=this.document.getElementById(s);if(o)if(xE){let u=new Range;u.selectNode(o),r=u.getBoundingClientRect()}else r=o.getBoundingClientRect()}return r&&(i.left=r.left,i.top=r.top),i}addStylesheet(e){return new Promise(function(n,r){var i,s=!1;if(!this.document){n(!1);return}if(i=this.document.querySelector("link[href='"+e+"']"),i){n(!0);return}i=this.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(i)}.bind(this))}_getStylesheetNode(e){var n;return e="epubjs-inserted-css-"+(e||""),this.document?(n=this.document.getElementById(e),n||(n=this.document.createElement("style"),n.id=e,this.document.head.appendChild(n)),n):!1}addStylesheetCss(e,n){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(n),r.innerHTML=e,!0}addStylesheetRules(e,n){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var i=0,s=e.length;i<s;i++){var o=1,u=e[i],f=e[i][0],c="";Object.prototype.toString.call(u[1][0])==="[object Array]"&&(u=u[1],o=0);for(var d=u.length;o<d;o++){var p=u[o];c+=p[0]+":"+p[1]+(p[2]?" !important":"")+`;
`}r.insertRule(f+"{"+c+"}",r.cssRules.length)}else Object.keys(e).forEach(E=>{const b=e[E];if(Array.isArray(b))b.forEach(T=>{const v=Object.keys(T).map(y=>`${y}:${T[y]}`).join(";");r.insertRule(`${E}{${v}}`,r.cssRules.length)});else{const g=Object.keys(b).map(v=>`${v}:${b[v]}`).join(";");r.insertRule(`${E}{${g}}`,r.cssRules.length)}})}addScript(e){return new Promise(function(n,r){var i,s=!1;if(!this.document){n(!1);return}i=this.document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(i)}.bind(this))}addClass(e){var n;!this.document||(n=this.content||this.document.body,n&&n.classList.add(e))}removeClass(e){var n;!this.document||(n=this.content||this.document.body,n&&n.classList.remove(e))}addEventListeners(){!this.document||(this._triggerEvent=this.triggerEvent.bind(this),gh.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){!this.document||(gh.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){!this.document||(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){!this.document||(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}.bind(this),250)}triggerSelectedEvent(e){var n,r;e&&e.rangeCount>0&&(n=e.getRangeAt(0),n.collapsed||(r=new pt(n,this.cfiBase).toString(),this.emit(Ce.CONTENTS.SELECTED,r),this.emit(Ce.CONTENTS.SELECTED_RANGE,n)))}range(e,n){var r=new pt(e);return r.toRange(this.document,n)}cfiFromRange(e,n){return new pt(e,this.cfiBase,n).toString()}cfiFromNode(e,n){return new pt(e,this.cfiBase,n).toString()}map(e){var n=new Jh(e);return n.section()}size(e,n){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),n>=0&&(this.height(n),r.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,n,r,i,s){let o=al("column-axis"),u=al("column-gap"),f=al("column-width"),c=al("column-fill"),p=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&p==="horizontal"&&this.direction(s),this.width(e),this.height(n),this.viewport({width:e,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),p==="vertical"?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(c,"auto"),this.css(u,i+"px"),this.css(f,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,n,r){var i="scale("+e+")",s="";this.css("transform-origin","top left"),(n>=0||r>=0)&&(s=" translate("+(n||0)+"px, "+(r||0)+"px )"),this.css("transform",i+s)}fit(e,n,r){var i=this.viewport(),s=parseInt(i.width),o=parseInt(i.height),u=e/s,f=n/o,c=u<f?u:f;if(this.layoutStyle("paginated"),this.width(s),this.height(o),this.overflow("hidden"),this.scaler(c,0,0),this.css("background-size",s*c+"px "+o*c+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var d=e-s*c;this.css("margin-left",d+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,n,r,i,s){var o=new Jh(n,s);return o.page(this,e,r,i)}linksHandler(){Qz(this.content,e=>{this.emit(Ce.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let n=al("writing-mode");return e&&this.documentElement&&(this.documentElement.style[n]=e),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,n){return navigator.epubReadingSystem={name:e,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Fi(Jb.prototype);class lM{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,n,r,i,s,o){let u=encodeURI(n+e),c=new pt(n).spinePos,d=new eT({type:e,cfiRange:n,data:r,sectionIndex:c,cb:i,className:s,styles:o});return this._annotations[u]=d,c in this._annotationsBySectionIndex?this._annotationsBySectionIndex[c].push(u):this._annotationsBySectionIndex[c]=[u],this.rendition.views().forEach(m=>{d.sectionIndex===m.index&&d.attach(m)}),d}remove(e,n){let r=encodeURI(e+n);if(r in this._annotations){let i=this._annotations[r];if(n&&i.type!==n)return;this.rendition.views().forEach(o=>{this._removeFromAnnotationBySectionIndex(i.sectionIndex,r),i.sectionIndex===o.index&&i.detach(o)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,n){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==n)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,n,r,i,s){return this.add("highlight",e,n,r,i,s)}underline(e,n,r,i,s){return this.add("underline",e,n,r,i,s)}mark(e,n,r){return this.add("mark",e,n,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].attach(e)})}clear(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].detach(e)})}show(){}hide(){}}class eT{constructor({type:e,cfiRange:n,data:r,sectionIndex:i,cb:s,className:o,styles:u}){this.type=e,this.cfiRange=n,this.data=r,this.sectionIndex=i,this.mark=void 0,this.cb=s,this.className=o,this.styles=u}update(e){this.data=e}attach(e){let{cfiRange:n,data:r,type:i,mark:s,cb:o,className:u,styles:f}=this,c;return i==="highlight"?c=e.highlight(n,r,o,u,f):i==="underline"?c=e.underline(n,r,o,u,f):i==="mark"&&(c=e.mark(n,r,o)),this.mark=c,this.emit(Ce.ANNOTATION.ATTACH,c),c}detach(e){let{cfiRange:n,type:r}=this,i;return e&&(r==="highlight"?i=e.unhighlight(n):r==="underline"?i=e.ununderline(n):r==="mark"&&(i=e.unmark(n))),this.mark=void 0,this.emit(Ce.ANNOTATION.DETACH,i),i}text(){}}Fi(eT.prototype);var is={},Id={};Object.defineProperty(Id,"__esModule",{value:!0});Id.createElement=tT;function tT(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}Id.default={createElement:tT};var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.proxyMouse=nT;Rf.clone=rT;Rf.default={proxyMouse:nT};function nT(t,e){function n(o){for(var u=e.length-1;u>=0;u--){var f=e[u],c=o.clientX,d=o.clientY;if(o.touches&&o.touches.length&&(c=o.touches[0].clientX,d=o.touches[0].clientY),!!fM(f,t,c,d)){f.dispatchEvent(rT(o));break}}}if(t.nodeName==="iframe"||t.nodeName==="IFRAME")try{this.target=t.contentDocument}catch{this.target=t}else this.target=t;for(var r=["mouseup","mousedown","click","touchstart"],i=0;i<r.length;i++){var s=r[i];this.target.addEventListener(s,function(o){return n(o)},!1)}}function rT(t){var e=Object.assign({},t,{bubbles:!1});try{return new MouseEvent(t.type,e)}catch{var n=document.createEvent("MouseEvents");return n.initMouseEvent(t.type,!1,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n}}function fM(t,e,n,r){var i=e.getBoundingClientRect();function s(d,p,m){var E=d.top-i.top,b=d.left-i.left,T=E+d.height,g=b+d.width;return E<=m&&b<=p&&T>m&&g>p}var o=t.getBoundingClientRect();if(!s(o,n,r))return!1;for(var u=t.getClientRects(),f=0,c=u.length;f<c;f++)if(s(u[f],n,r))return!0;return!1}var ed,jy;Object.defineProperty(is,"__esModule",{value:!0});var iT=is.Underline=jy=is.Highlight=is.Mark=ed=is.Pane=void 0,cM=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:t(s,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},Od=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hM=Id,rf=sT(hM),dM=Rf,pM=sT(dM);function sT(t){return t&&t.__esModule?t:{default:t}}function aT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}ed=is.Pane=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;Rd(this,t),this.target=e,this.element=rf.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),pM.default.proxyMouse(this.target,this.marks),this.container=n,this.container.appendChild(this.element),this.render()}return Od(t,[{key:"addMark",value:function(n){var r=rf.default.createElement("g");return this.element.appendChild(r),n.bind(r,this.container),this.marks.push(n),n.render(),n}},{key:"removeMark",value:function(n){var r=this.marks.indexOf(n);if(r!==-1){var i=n.unbind();this.element.removeChild(i),this.marks.splice(r,1)}}},{key:"render",value:function(){yM(this.element,mM(this.target,this.container));var n=!0,r=!1,i=void 0;try{for(var s=this.marks[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;u.render()}}catch(f){r=!0,i=f}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}]),t}();var vM=is.Mark=function(){function t(){Rd(this,t),this.element=null}return Od(t,[{key:"bind",value:function(n,r){this.element=n,this.container=r}},{key:"unbind",value:function(){var n=this.element;return this.element=null,n}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(n){!this.element||this.element.dispatchEvent(n)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var n=[],r=this.element.firstChild;r;)n.push(r.getBoundingClientRect()),r=r.nextSibling;return n}},{key:"filteredRanges",value:function(){var n=Array.from(this.range.getClientRects());return n.filter(function(r){for(var i=0;i<n.length;i++){if(n[i]===r)return!0;var s=_M(n[i],r);if(s)return!1}return!0})}}]),t}(),gM=jy=is.Highlight=function(t){oT(e,t);function e(n,r,i,s){Rd(this,e);var o=aT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.range=n,o.className=r,o.data=i||{},o.attributes=s||{},o}return Od(e,[{key:"bind",value:function(r,i){cM(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this,r,i);for(var s in this.data)this.data.hasOwnProperty(s)&&(this.element.dataset[s]=this.data[s]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&this.element.setAttribute(s,this.attributes[s]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),o=this.container.getBoundingClientRect(),u=0,f=i.length;u<f;u++){var c=i[u],d=rf.default.createElement("rect");d.setAttribute("x",c.left-s.left+o.left),d.setAttribute("y",c.top-s.top+o.top),d.setAttribute("height",c.height),d.setAttribute("width",c.width),r.appendChild(d)}this.element.appendChild(r)}}]),e}(vM);iT=is.Underline=function(t){oT(e,t);function e(n,r,i,s){return Rd(this,e),aT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r,i,s))}return Od(e,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),o=this.container.getBoundingClientRect(),u=0,f=i.length;u<f;u++){var c=i[u],d=rf.default.createElement("rect");d.setAttribute("x",c.left-s.left+o.left),d.setAttribute("y",c.top-s.top+o.top),d.setAttribute("height",c.height),d.setAttribute("width",c.width),d.setAttribute("fill","none");var p=rf.default.createElement("line");p.setAttribute("x1",c.left-s.left+o.left),p.setAttribute("x2",c.left-s.left+o.left+c.width),p.setAttribute("y1",c.top-s.top+o.top+c.height-1),p.setAttribute("y2",c.top-s.top+o.top+c.height-1),p.setAttribute("stroke-width",1),p.setAttribute("stroke","black"),p.setAttribute("stroke-linecap","square"),r.appendChild(d),r.appendChild(p)}this.element.appendChild(r)}}]),e}(gM);function mM(t,e){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-n.top,left:r.left-n.left,height:t.scrollHeight,width:t.scrollWidth}}function yM(t,e){t.style.setProperty("top",e.top+"px","important"),t.style.setProperty("left",e.left+"px","important"),t.style.setProperty("height",e.height+"px","important"),t.style.setProperty("width",e.width+"px","important")}function _M(t,e){return e.right<=t.right&&e.left>=t.left&&e.top>=t.top&&e.bottom<=t.bottom}class uT{constructor(e,n){this.settings=Hn({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+Fy(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new pt,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",e&&e=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Nv(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(r){return this.load(r)}.bind(this)).then(function(){let r=this.contents.writingMode(),i;return this.settings.flow==="scrolled"?i=r.indexOf("vertical")===0?"horizontal":"vertical":i=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(i),this.emit(Ce.VIEWS.AXIS,i),this.setWritingMode(r),this.emit(Ce.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,o)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}.bind(this),function(r){return this.emit(Ce.VIEWS.LOAD_ERROR,r),new Promise((i,s)=>{s(r)})}.bind(this)).then(function(){this.emit(Ce.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,n){var r=e||this.settings.width,i=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,i):this.settings.axis==="horizontal"?this.lock("height",r,i):this.lock("width",r,i),this.settings.width=r,this.settings.height=i}lock(e,n,r){var i=$g(this.element),s;this.iframe?s=$g(this.iframe):s={width:0,height:0},e=="width"&&fn(n)&&(this.lockedWidth=n-i.width-s.width),e=="height"&&fn(r)&&(this.lockedHeight=r-i.height-s.height),e==="both"&&fn(n)&&fn(r)&&(this.lockedWidth=n-i.width-s.width,this.lockedHeight=r-i.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var n=this.lockedWidth,r=this.lockedHeight,i;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(i=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&i%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||r!=this._height)&&this.reframe(n,r),this._expanding=!1)}reframe(e,n){var r;fn(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),fn(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let i=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?n-this.prevBounds.height:n;r={width:e,height:n,widthDelta:i,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let o;for(let u in this.marks)this.marks.hasOwnProperty(u)&&(o=this.marks[u],this.placeMark(o.element,o.range))}),this.onResize(this,r),this.emit(Ce.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=Nv(this.element)}load(e){var n=new dt,r=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=function(s){this.onLoad(s,n)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=Hg(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction(function(){i.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Jb(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(Ce.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Ce.CONTENTS.RESIZE,i=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var n=new dt;return this.displayed?n.resolve(this):this.render(e).then(function(){this.emit(Ce.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}.bind(this),function(r){n.reject(r,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Ce.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Ce.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(e,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(e){}onResize(e,n){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Nv(this.element)),this.elementBounds}highlight(e,n={},r,i="epubjs-hl",s={}){if(!this.contents)return;const o=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let u=this.contents.range(e),f=()=>{this.emit(Ce.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new ed(this.iframe,this.element));let c=new jy(u,i,n,o),d=this.pane.addMark(c);return this.highlights[e]={mark:d,element:d.element,listeners:[f,r]},d.element.setAttribute("ref",i),d.element.addEventListener("click",f),d.element.addEventListener("touchstart",f),r&&(d.element.addEventListener("click",r),d.element.addEventListener("touchstart",r)),d}underline(e,n={},r,i="epubjs-ul",s={}){if(!this.contents)return;const o=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let u=this.contents.range(e),f=()=>{this.emit(Ce.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new ed(this.iframe,this.element));let c=new iT(u,i,n,o),d=this.pane.addMark(c);return this.underlines[e]={mark:d,element:d.element,listeners:[f,r]},d.element.setAttribute("ref",i),d.element.addEventListener("click",f),d.element.addEventListener("touchstart",f),r&&(d.element.addEventListener("click",r),d.element.addEventListener("touchstart",r)),d}mark(e,n={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let i=this.contents.range(e);if(!i)return;let s=i.commonAncestorContainer,o=s.nodeType===1?s:s.parentNode,u=c=>{this.emit(Ce.VIEWS.MARK_CLICKED,e,n)};i.collapsed&&s.nodeType===1?(i=new Range,i.selectNodeContents(s)):i.collapsed&&(i=new Range,i.selectNodeContents(o));let f=this.document.createElement("a");return f.setAttribute("ref","epubjs-mk"),f.style.position="absolute",f.dataset.epubcfi=e,n&&Object.keys(n).forEach(c=>{f.dataset[c]=n[c]}),r&&(f.addEventListener("click",r),f.addEventListener("touchstart",r)),f.addEventListener("click",u),f.addEventListener("touchstart",u),this.placeMark(f,i),this.element.appendChild(f),this.marks[e]={element:f,range:i,listeners:[u,r]},o}placeMark(e,n){let r,i,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let u=n.getBoundingClientRect();r=u.top,i=u.right}else{let u=n.getClientRects(),f;for(var o=0;o!=u.length;o++)f=u[o],(!s||f.left<s)&&(s=f.left,i=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=f.top)}e.style.top=`${r}px`,e.style.left=`${i}px`}unhighlight(e){let n;e in this.highlights&&(n=this.highlights[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let n;e in this.underlines&&(n=this.underlines[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let n;e in this.marks&&(n=this.marks[e],this.element.removeChild(n.element),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&$z(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Fi(uT.prototype);function wM(){var t="reverse",e=EM();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function EM(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(n),e.appendChild(r),t.appendChild(e),t}function xM(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $y=xM,SM=typeof Un=="object"&&Un&&Un.Object===Object&&Un,bM=SM,TM=bM,CM=typeof self=="object"&&self&&self.Object===Object&&self,kM=TM||CM||Function("return this")(),lT=kM,AM=lT,IM=function(){return AM.Date.now()},OM=IM,RM=/\s/;function NM(t){for(var e=t.length;e--&&RM.test(t.charAt(e)););return e}var LM=NM,PM=LM,DM=/^\s+/;function zM(t){return t&&t.slice(0,PM(t)+1).replace(DM,"")}var MM=zM,BM=lT,FM=BM.Symbol,fT=FM,SE=fT,cT=Object.prototype,UM=cT.hasOwnProperty,WM=cT.toString,fl=SE?SE.toStringTag:void 0;function jM(t){var e=UM.call(t,fl),n=t[fl];try{t[fl]=void 0;var r=!0}catch{}var i=WM.call(t);return r&&(e?t[fl]=n:delete t[fl]),i}var $M=jM,KM=Object.prototype,HM=KM.toString;function VM(t){return HM.call(t)}var qM=VM,bE=fT,YM=$M,GM=qM,ZM="[object Null]",XM="[object Undefined]",TE=bE?bE.toStringTag:void 0;function QM(t){return t==null?t===void 0?XM:ZM:TE&&TE in Object(t)?YM(t):GM(t)}var JM=QM;function e3(t){return t!=null&&typeof t=="object"}var t3=e3,n3=JM,r3=t3,i3="[object Symbol]";function s3(t){return typeof t=="symbol"||r3(t)&&n3(t)==i3}var a3=s3,o3=MM,CE=$y,u3=a3,kE=0/0,l3=/^[-+]0x[0-9a-f]+$/i,f3=/^0b[01]+$/i,c3=/^0o[0-7]+$/i,h3=parseInt;function d3(t){if(typeof t=="number")return t;if(u3(t))return kE;if(CE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=o3(t);var n=f3.test(t);return n||c3.test(t)?h3(t.slice(2),n?2:8):l3.test(t)?kE:+t}var p3=d3,v3=$y,Dv=OM,AE=p3,g3="Expected a function",m3=Math.max,y3=Math.min;function _3(t,e,n){var r,i,s,o,u,f,c=0,d=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(g3);e=AE(e)||0,v3(n)&&(d=!!n.leading,p="maxWait"in n,s=p?m3(AE(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function E(A){var N=r,z=i;return r=i=void 0,c=A,o=t.apply(z,N),o}function b(A){return c=A,u=setTimeout(v,e),d?E(A):o}function T(A){var N=A-f,z=A-c,F=e-N;return p?y3(F,s-z):F}function g(A){var N=A-f,z=A-c;return f===void 0||N>=e||N<0||p&&z>=s}function v(){var A=Dv();if(g(A))return y(A);u=setTimeout(v,T(A))}function y(A){return u=void 0,m&&r?E(A):(r=i=void 0,o)}function x(){u!==void 0&&clearTimeout(u),c=0,r=f=i=u=void 0}function C(){return u===void 0?o:y(Dv())}function S(){var A=Dv(),N=g(A);if(r=arguments,i=this,f=A,N){if(u===void 0)return b(f);if(p)return clearTimeout(u),u=setTimeout(v,e),E(f)}return u===void 0&&(u=setTimeout(v,e)),o}return S.cancel=x,S.flush=C,S}var hT=_3,w3=hT,E3=$y,x3="Expected a function";function S3(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(x3);return E3(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),w3(t,e,{leading:r,maxWait:e,trailing:i})}var b3=S3;class T3{constructor(e){this.settings=e||{},this.id="epubjs-container-"+Fy(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let n=e.height,r=e.width,i=e.overflow||!1,s=e.axis||"vertical",o=e.direction;Hn(this.settings,e),e.height&&fn(e.height)&&(n=e.height+"px"),e.width&&fn(e.width)&&(r=e.width+"px");let u=document.createElement("div");return u.id=this.id,u.classList.add("epub-container"),u.style.wordSpacing="0",u.style.lineHeight="0",u.style.verticalAlign="top",u.style.position="relative",s==="horizontal"&&(u.style.display="flex",u.style.flexDirection="row",u.style.flexWrap="nowrap"),r&&(u.style.width=r),n&&(u.style.height=n),i&&(i==="scroll"&&s==="vertical"?(u.style["overflow-y"]=i,u.style["overflow-x"]="hidden"):i==="scroll"&&s==="horizontal"?(u.style["overflow-y"]="hidden",u.style["overflow-x"]=i):u.style.overflow=i),o&&(u.dir=o,u.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),u}wrap(e){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(e),n}getElement(e){var n;if(Mz(e)?n=e:typeof e=="string"&&(n=document.getElementById(e)),!n)throw new Error("Not an Element");return n}attachTo(e){var n=this.getElement(e),r;if(!!n)return this.settings.hidden?r=this.wrapper:r=this.container,n.appendChild(r),this.element=n,n}getContainer(){return this.container}onResize(e){(!fn(this.settings.width)||!fn(this.settings.height))&&(this.resizeFunc=b3(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,n){var r;let i=e||this.settings.width,s=n||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):fn(e)?this.container.style.width=e+"px":this.container.style.width=e,n===null?(r=r||this.element.getBoundingClientRect(),r.height&&(n=r.height,this.container.style.height=n+"px")):fn(n)?this.container.style.height=n+"px":this.container.style.height=n,fn(e)||(e=this.container.clientWidth),fn(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let o=Kg(),u=window.getComputedStyle(document.body),f={left:parseFloat(u["padding-left"])||0,right:parseFloat(u["padding-right"])||0,top:parseFloat(u["padding-top"])||0,bottom:parseFloat(u["padding-bottom"])||0};return i||(e=o.width-f.left-f.right),(this.settings.fullsize&&!s||!s)&&(n=o.height-f.top-f.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Kg():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,n){var r="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(s){for(var o in s)s.hasOwnProperty(o)&&(i+=o+":"+s[o]+";")}),this.sheet.insertRule(r+e+" {"+i+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class C3{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,n){return this._views.splice(n,0,e),this.container&&(n<this.container.children.length?this.container.insertBefore(e.element,this.container.children[n]):this.container.appendChild(e.element)),this.length++,e}remove(e){var n=this._views.indexOf(e);n>-1&&this._views.splice(n,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,n=this.length;if(!!this.length){for(var r=0;r<n;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var n,r=this.length,i=0;i<r;i++)if(n=this._views[i],n.displayed&&n.section.index==e.index)return n}displayed(){for(var e=[],n,r=this.length,i=0;i<r;i++)n=this._views[i],n.displayed&&e.push(n);return e}show(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class td{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Uy(this),this.settings=Hn(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Hn(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,n){let r=e.tagName;typeof this.settings.fullsize=="undefined"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=wM(),this.stage=new T3({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new C3(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",function(n){this.destroy()}.bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Ce.MANAGERS.ORIENTATION_CHANGE,n)}.bind(this),500)}onResized(e){this.resize()}resize(e,n,r){let i=this.stage.size(e,n);if(this.winBounds=Kg(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Ce.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,n){return new this.View(e,Hn(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(e,n,r){let i;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||n.index===0)return;if(i=n.next(),i&&!i.properties.includes("page-spread-left"))return r.call(this,i)}}display(e,n){var r=new dt,i=r.promise;(n===e.href||fn(n))&&(n=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let u=s.offset();if(this.settings.direction==="ltr")this.scrollTo(u.left,u.top,!0);else{let f=s.width();this.scrollTo(u.left+f,u.top,!0)}if(n){let f=s.locationOf(n),c=s.width();this.moveTo(f,c)}return r.resolve(),i}this.clear();let o=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(o=!0),this.add(e,o).then(function(u){if(n){let f=u.locationOf(n),c=u.width();this.moveTo(f,c)}}.bind(this),u=>{r.reject(u)}).then(function(){return this.handleNextPrePaginated(o,e,this.add)}.bind(this)).then(function(){this.views.show(),r.resolve()}.bind(this)),i}afterDisplayed(e){this.emit(Ce.MANAGERS.ADDED,e)}afterResized(e){this.emit(Ce.MANAGERS.RESIZE,e.section)}moveTo(e,n){var r=0,i=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),i=Math.floor(e.top/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-n),this.scrollTo(r,i,!0)}add(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Ce.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(Ce.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}append(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Ce.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(Ce.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}prepend(e,n){var r=this.createView(e,n);return r.on(Ce.VIEWS.RESIZED,i=>{this.counter(i)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Ce.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(Ce.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,n;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(i=!0),this.append(e,i).then(function(){return this.handleNextPrePaginated(i,e,this.append)}.bind(this),s=>s).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e,n;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(i=!0),this.prepend(e,i).then(function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}.bind(this),s=>s).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=n.height<window.innerHeight?n.height:window.innerHeight,i=n.width<window.innerWidth?n.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let o=0,u=0;return this.settings.fullsize&&(o=s?window.scrollY:window.scrollX),e.map(c=>{let{index:d,href:p}=c.section,m=c.position(),E=c.width(),b=c.height(),T,g,v,y;s?(T=o+n.top-m.top+u,g=T+r-u,y=this.layout.count(b,r).pages,v=r):(T=o+n.left-m.left+u,g=T+i-u,y=this.layout.count(E,i).pages,v=i);let x=Math.ceil(T/v),C=[],S=Math.ceil(g/v);if(this.settings.direction==="rtl"&&!s){let z=x;x=y-S,S=y-z}C=[];for(var A=x;A<=S;A++){let z=A+1;C.push(z)}let N=this.mapping.page(c.contents,c.section.cfiBase,T,g);return{index:d,href:p,pages:C,totalPages:y,mapping:N}})}paginatedLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=0,i=0;return this.settings.fullsize&&(r=window.scrollX),e.map(o=>{let{index:u,href:f}=o.section,c,d=o.position(),p=o.width(),m,E,b;this.settings.direction==="rtl"?(c=n.right-r,b=Math.min(Math.abs(c-d.left),this.layout.width)-i,E=d.width-(d.right-c)-i,m=E-b):(c=n.left+r,b=Math.min(d.right-c,this.layout.width)-i,m=c-d.left+i,E=m+b),i+=b;let T=this.mapping.page(o.contents,o.section.cfiBase,m,E),g=this.layout.count(p).pages,v=Math.floor(m/this.layout.pageWidth),y=[],x=Math.floor(E/this.layout.pageWidth);if(v<0&&(v=0,x=x+1),this.settings.direction==="rtl"){let S=v;v=g-x,x=g-S}for(var C=v+1;C<=x;C++){let S=C;y.push(S)}return{index:u,href:f,pages:y,totalPages:g,mapping:T}})}isVisible(e,n,r,i){var s=e.position(),o=i||this.bounds();return this.settings.axis==="horizontal"&&s.right>o.left-n&&s.left<o.right+r?!0:this.settings.axis==="vertical"&&s.bottom>o.top-n&&s.top<o.bottom+r}visible(){for(var e=this.bounds(),n=this.views.displayed(),r=n.length,i=[],s,o,u=0;u<r;u++)o=n[u],s=this.isVisible(o,0,0,e),s===!0&&i.push(o);return i}scrollBy(e,n,r){let i=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,n*i):(e&&(this.container.scrollLeft+=e*i),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(e,n,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,n):(this.container.scrollLeft=e,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let e,n;this.settings.fullsize?(e=window.scrollY,n=window.scrollX):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(Ce.MANAGERS.SCROLL,{top:e,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(Ce.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){!this.stage||(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Jh(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,n){!n&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Jh(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,n="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(n){const r=n&&n.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}Fi(td.prototype);const k3=Math.PI/2,A3={easeOutSine:function(t){return Math.sin(t*k3)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInCubic:function(t){return Math.pow(t,3)}};class Yg{constructor(e,n){this.settings=Hn({duration:80,minVelocity:.2,minDistance:10,easing:A3.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Ce.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Ce.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let n=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{n.on(r,i=>this.triggerViewEvent(i,n))})}triggerViewEvent(e,n){this.emit(e.type,e,n)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:n,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:n,screenY:r}=e.touches[0],i=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&i<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,r=Math.abs(n),i=this.endTime-this.startTime,s=n/i,o=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(s>o)return-1;if(s<-o)return 1}needsSnap(){let e=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return e%n!==0}snap(e=0){let n=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,i=Math.round(n/r)*r;return e&&(i+=e*r),this.smoothScrollTo(i)}smoothScrollTo(e){const n=new dt,r=this.scrollLeft,i=this.now(),s=this.settings.duration,o=this.settings.easing;this.snapping=!0;function u(){const f=this.now(),c=Math.min(1,(f-i)/s);if(o(c),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}c<1?(window.requestAnimationFrame(u.bind(this)),this.scrollTo(r+(e-r)*c,0)):(this.scrollTo(e,0),this.snapping=!1,n.resolve())}return u.call(this),n.promise}scrollTo(e=0,n=0){this.fullsize?window.scroll(e,n):(this.scroller.scrollLeft=e,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){!this.scroller||(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Fi(Yg.prototype);class I3 extends td{constructor(e){super(e);this.name="continuous",this.settings=Hn(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Hn(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,n){return td.prototype.display.call(this,e,n).then(function(){return this.fill()}.bind(this))}fill(e){var n=e||new dt;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(n):n.resolve()}),n.promise}moveTo(e){var n=0,r=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(n>0||r>0)&&this.scrollBy(n,r,!0)}afterResized(e){this.emit(Ce.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var n=this.createView(e);return this.views.append(n),n.on(Ce.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(Ce.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(Ce.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(e){var n=this.createView(e);return n.on(Ce.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(Ce.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(Ce.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(e){var n=this.createView(e);return n.on(Ce.VIEWS.RESIZED,r=>{this.counter(r),n.expanded=!0}),n.on(Ce.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(Ce.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var n=this.bounds(),r=this.views.all(),i=r.length,s=typeof e!="undefined"?e:this.settings.offset||0,o,u,f=new dt,c=[],d=0;d<i;d++)if(u=r[d],o=this.isVisible(u,s,s,n),o===!0)if(u.displayed)u.show();else{let p=u.display(this.request).then(function(m){m.show()},m=>{u.hide()});c.push(p)}else this.q.enqueue(u.destroy.bind(u)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return c.length?Promise.all(c).catch(p=>{f.reject(p)}):(f.resolve(),f.promise)}check(e,n){var r=new dt,i=[],s=this.settings.axis==="horizontal",o=this.settings.offset||0;e&&s&&(o=e),n&&!s&&(o=n);var u=this._bounds;let f=s?this.scrollLeft:this.scrollTop,c=s?Math.floor(u.width):u.height,d=s?this.container.scrollWidth:this.container.scrollHeight,p=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",m=this.settings.rtlScrollType,E=this.settings.direction==="rtl";this.settings.fullsize?(s&&E&&m==="negative"||!s&&E&&m==="default")&&(f=f*-1):(E&&m==="default"&&p==="horizontal"&&(f=d-c-f),E&&m==="negative"&&p==="horizontal"&&(f=f*-1));let b=()=>{let x=this.views.first(),C=x&&x.section.prev();C&&i.push(this.prepend(C))},T=()=>{let x=this.views.last(),C=x&&x.section.next();C&&i.push(this.append(C))},g=f+c+o,v=f-o;g>=d&&T(),v<0&&b();let y=i.map(x=>x.display(this.request));return i.length?Promise.all(y).then(()=>this.check()).then(()=>this.update(o),x=>x):(this.q.enqueue(function(){this.update()}.bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new dt,n=this.views.displayed(),r=n[0],i=n[n.length-1],s=this.views.indexOf(r),o=this.views.indexOf(i),u=this.views.slice(0,s),f=this.views.slice(o+1),c=0;c<u.length-1;c++)this.erase(u[c],u);for(var d=1;d<f.length;d++)this.erase(f[d]);return e.resolve(),e.promise}erase(e,n){var r,i;this.settings.fullsize?(r=window.scrollY,i=window.scrollX):(r=this.container.scrollTop,i=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),n&&(this.settings.axis==="vertical"?this.scrollTo(0,r-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(i+Math.floor(s.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",function(n){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Yg(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=Hb;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=hT(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,n,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,n=window.scrollX*r):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(Ce.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Ce.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Yg(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class dT{constructor(e,n){this.settings=Hn(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Hn(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new pi(this),this.hooks.serialize=new pi(this),this.hooks.content=new pi(this),this.hooks.unloaded=new pi(this),this.hooks.layout=new pi(this),this.hooks.render=new pi(this),this.hooks.show=new pi(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new aM(this),this.annotations=new lM(this),this.epubcfi=new pt,this.q=new Uy(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new dt,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var n;return typeof e=="string"&&e==="default"?n=td:typeof e=="string"&&e==="continuous"?n=I3:n=e,n}requireView(e){var n;return typeof e=="string"&&e==="iframe"?n=uT:n=e,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Ce.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Ce.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Ce.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Ce.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Ce.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Ce.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Ce.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(!!this.book){this.epubcfi.isCfiString(e);var n=new dt,r=n.promise,i;return this.displaying=n,this.book.locations.length()&&Bz(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),i=this.book.spine.get(e),i?(this.manager.display(i,e).then(()=>{n.resolve(i),this.displaying=void 0,this.emit(Ce.RENDITION.DISPLAYED,i),this.reportLocation()},s=>{this.emit(Ce.RENDITION.DISPLAY_ERROR,s)}),r):(n.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(Ce.VIEWS.MARK_CLICKED,(n,r)=>this.triggerMarkEvent(n,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Ce.RENDITION.RENDERED,e.section,e)}):this.emit(Ce.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Ce.RENDITION.REMOVED,e.section,e)})}onResized(e,n){this.emit(Ce.RENDITION.RESIZED,{width:e.width,height:e.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(e){this.emit(Ce.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,n,r){e&&(this.settings.width=e),n&&(this.settings.height=n),this.manager.resize(e,n,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var n,r=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",o=this.settings.flow||e.flow||"auto",u=e.viewport||"",f=this.settings.minSpreadWidth||e.minSpreadWidth||800,c=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:r,spread:i,orientation:s,flow:o,viewport:u,minSpreadWidth:f,direction:c},n}flow(e){var n=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(n="scrolled"),(e==="auto"||e==="paginated")&&(n="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Xb(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Ce.LAYOUT.UPDATED,(n,r)=>{this.emit(Ce.RENDITION.LAYOUT,n,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,n){this.settings.spread=e,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(e,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then(function(i){let s=this.located(i);!s||!s.start||!s.end||(this.location=s,this.emit(Ce.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Ce.RENDITION.RELOCATED,this.location))}.bind(this));else if(r){let i=this.located(r);if(!i||!i.start||!i.end)return;this.location=i,this.emit(Ce.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Ce.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then(function(n){return this.located(n)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let n=e[0],r=e[e.length-1],i={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},s=this.book.locations.locationFromCfi(n.mapping.start),o=this.book.locations.locationFromCfi(r.mapping.end);s!=null&&(i.start.location=s,i.start.percentage=this.book.locations.percentageFromLocation(s)),o!=null&&(i.end.location=o,i.end.percentage=this.book.locations.percentageFromLocation(o));let u=this.book.pageList.pageFromCfi(n.mapping.start),f=this.book.pageList.pageFromCfi(r.mapping.end);return u!=-1&&(i.start.page=u),f!=-1&&(i.end.page=f),r.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),n.index===this.book.spine.first().index&&i.start.displayed.page===1&&(i.atStart=!0),i}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){gh.forEach(n=>{e.on(n,r=>this.triggerViewEvent(r,e))}),e.on(Ce.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,e))}triggerViewEvent(e,n){this.emit(e.type,e,n)}triggerSelectedEvent(e,n){this.emit(Ce.RENDITION.SELECTED,e,n)}triggerMarkEvent(e,n,r){this.emit(Ce.RENDITION.MARK_CLICKED,e,n,r)}getRange(e,n){var r=new pt(e),i=this.manager.visible().filter(function(s){if(r.spinePos===s.index)return!0});if(i.length)return i[0].contents.range(r,n)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let n=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,i=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,o){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Ce.CONTENTS.LINK_CLICKED,n=>{let r=this.book.path.relative(n);this.display(r)})}injectStylesheet(e,n){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,n){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,n){let r=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),r&&i.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(i)}}Fi(dT.prototype);var pT={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,d){if(!i[c]){if(!r[c]){var p=typeof Ms=="function"&&Ms;if(!d&&p)return p(c,!0);if(u)return u(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var E=i[c]={exports:{}};r[c][0].call(E.exports,function(b){var T=r[c][1][b];return o(T||b)},E,E.exports,n,r,i,s)}return i[c].exports}for(var u=typeof Ms=="function"&&Ms,f=0;f<s.length;f++)o(s[f]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(f){for(var c=[],d,p,m,E,b,T,g,v=0,y=f.length,x=y,C=s.getTypeOf(f)!=="string";v<f.length;)x=y-v,C?(d=f[v++],p=v<y?f[v++]:0,m=v<y?f[v++]:0):(d=f.charCodeAt(v++),p=v<y?f.charCodeAt(v++):0,m=v<y?f.charCodeAt(v++):0),E=d>>2,b=(d&3)<<4|p>>4,T=x>1?(p&15)<<2|m>>6:64,g=x>2?m&63:64,c.push(u.charAt(E)+u.charAt(b)+u.charAt(T)+u.charAt(g));return c.join("")},i.decode=function(f){var c,d,p,m,E,b,T,g=0,v=0,y="data:";if(f.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");var x=f.length*3/4;if(f.charAt(f.length-1)===u.charAt(64)&&x--,f.charAt(f.length-2)===u.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var C;for(o.uint8array?C=new Uint8Array(x|0):C=new Array(x|0);g<f.length;)m=u.indexOf(f.charAt(g++)),E=u.indexOf(f.charAt(g++)),b=u.indexOf(f.charAt(g++)),T=u.indexOf(f.charAt(g++)),c=m<<2|E>>4,d=(E&15)<<4|b>>2,p=(b&3)<<6|T,C[v++]=c,b!==64&&(C[v++]=d),T!==64&&(C[v++]=p);return C}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function c(d,p,m,E,b){this.compressedSize=d,this.uncompressedSize=p,this.crc32=m,this.compression=E,this.compressedContent=b}c.prototype={getContentWorker:function(){var d=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,p,m){return d.pipe(new u).pipe(new f("uncompressedSize")).pipe(p.compressWorker(m)).pipe(new f("compressedSize")).withStreamInfo("compression",p)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(o){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils");function o(){for(var d,p=[],m=0;m<256;m++){d=m;for(var E=0;E<8;E++)d=d&1?3988292384^d>>>1:d>>>1;p[m]=d}return p}var u=o();function f(d,p,m,E){var b=u,T=E+m;d=d^-1;for(var g=E;g<T;g++)d=d>>>8^b[(d^p[g])&255];return d^-1}function c(d,p,m,E){var b=u,T=E+m;d=d^-1;for(var g=E;g<T;g++)d=d>>>8^b[(d^p.charCodeAt(g))&255];return d^-1}r.exports=function(p,m){if(typeof p=="undefined"||!p.length)return 0;var E=s.getTypeOf(p)!=="string";return E?f(m|0,p,p.length,0):c(m|0,p,p.length,0)}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;typeof Promise!="undefined"?s=Promise:s=n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",o=n("pako"),u=n("./utils"),f=n("./stream/GenericWorker"),c=s?"uint8array":"array";i.magic="\b\0";function d(p,m){f.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=m,this.meta={}}u.inherits(d,f),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(c,p.data),!1)},d.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(m){p.push({data:m,meta:p.meta})}},i.compressWorker=function(p){return new d("Deflate",p)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker"),u=n("../utf8"),f=n("../crc32"),c=n("../signature"),d=function(v,y){var x="",C;for(C=0;C<y;C++)x+=String.fromCharCode(v&255),v=v>>>8;return x},p=function(v,y){var x=v;return v||(x=y?16893:33204),(x&65535)<<16},m=function(v,y){return(v||0)&63},E=function(v,y,x,C,S,A){var N=v.file,z=v.compression,F=A!==u.utf8encode,H=s.transformTo("string",A(N.name)),ee=s.transformTo("string",u.utf8encode(N.name)),Z=N.comment,ae=s.transformTo("string",A(Z)),ke=s.transformTo("string",u.utf8encode(Z)),ce=ee.length!==N.name.length,xe=ke.length!==Z.length,we,ye,Me="",Ve="",ie="",le=N.dir,Se=N.date,Oe={crc32:0,compressedSize:0,uncompressedSize:0};(!y||x)&&(Oe.crc32=v.crc32,Oe.compressedSize=v.compressedSize,Oe.uncompressedSize=v.uncompressedSize);var Ke=0;y&&(Ke|=8),!F&&(ce||xe)&&(Ke|=2048);var ot=0,vt=0;le&&(ot|=16),S==="UNIX"?(vt=798,ot|=p(N.unixPermissions,le)):(vt=20,ot|=m(N.dosPermissions)),we=Se.getUTCHours(),we=we<<6,we=we|Se.getUTCMinutes(),we=we<<5,we=we|Se.getUTCSeconds()/2,ye=Se.getUTCFullYear()-1980,ye=ye<<4,ye=ye|Se.getUTCMonth()+1,ye=ye<<5,ye=ye|Se.getUTCDate(),ce&&(Ve=d(1,1)+d(f(H),4)+ee,Me+="up"+d(Ve.length,2)+Ve),xe&&(ie=d(1,1)+d(f(ae),4)+ke,Me+="uc"+d(ie.length,2)+ie);var $e="";$e+=`
\0`,$e+=d(Ke,2),$e+=z.magic,$e+=d(we,2),$e+=d(ye,2),$e+=d(Oe.crc32,4),$e+=d(Oe.compressedSize,4),$e+=d(Oe.uncompressedSize,4),$e+=d(H.length,2),$e+=d(Me.length,2);var _t=c.LOCAL_FILE_HEADER+$e+H+Me,$t=c.CENTRAL_FILE_HEADER+d(vt,2)+$e+d(ae.length,2)+"\0\0\0\0"+d(ot,4)+d(C,4)+H+Me+ae;return{fileRecord:_t,dirRecord:$t}},b=function(v,y,x,C,S){var A="",N=s.transformTo("string",S(C));return A=c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(v,2)+d(v,2)+d(y,4)+d(x,4)+d(N.length,2)+N,A},T=function(v){var y="";return y=c.DATA_DESCRIPTOR+d(v.crc32,4)+d(v.compressedSize,4)+d(v.uncompressedSize,4),y};function g(v,y,x,C){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=x,this.encodeFileName=C,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,o),g.prototype.push=function(v){var y=v.meta.percent||0,x=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,o.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:x?(y+100*(x-C-1))/x:100}}))},g.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var y=this.streamFiles&&!v.file.dir;if(y){var x=E(v,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(v){this.accumulate=!1;var y=this.streamFiles&&!v.file.dir,x=E(v,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),y)this.push({data:T(v),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var v=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var x=this.bytesWritten-v,C=b(this.dirRecords.length,x,v,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(v){this._sources.push(v);var y=this;return v.on("data",function(x){y.processChunk(x)}),v.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),v.on("error",function(x){y.error(x)}),this},g.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},g.prototype.error=function(v){var y=this._sources;if(!o.prototype.error.call(this,v))return!1;for(var x=0;x<y.length;x++)try{y[x].error(v)}catch{}return!0},g.prototype.lock=function(){o.prototype.lock.call(this);for(var v=this._sources,y=0;y<v.length;y++)v[y].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker"),u=function(f,c){var d=f||c,p=s[d];if(!p)throw new Error(d+" is not a valid compression method !");return p};i.generateWorker=function(f,c,d){var p=new o(c.streamFiles,d,c.platform,c.encodeFileName),m=0;try{f.forEach(function(E,b){m++;var T=u(b.options.compression,c.compression),g=b.options.compressionOptions||c.compressionOptions||{},v=b.dir,y=b.date;b._compressWorker(T,g).withStreamInfo("file",{name:E,dir:v,date:y,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(p)}),p.entriesCount=m}catch(E){p.error(E)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var u in this)typeof this[u]!="function"&&(o[u]=this[u]);return o}}s.prototype=n("./object"),s.prototype.loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.7.1",s.loadAsync=function(o,u){return new s().loadAsync(o,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),u=n("./utf8"),f=n("./zipEntries"),c=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function p(m){return new o.Promise(function(E,b){var T=m.decompressed.getContentWorker().pipe(new c);T.on("error",function(g){b(g)}).on("end",function(){T.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}r.exports=function(m,E){var b=this;return E=s.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),d.isNode&&d.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,E.optimizedBinaryString,E.base64).then(function(T){var g=new f(E);return g.load(T),g}).then(function(g){var v=[o.Promise.resolve(g)],y=g.files;if(E.checkCRC32)for(var x=0;x<y.length;x++)v.push(p(y[x]));return o.Promise.all(v)}).then(function(g){for(var v=g.shift(),y=v.files,x=0;x<y.length;x++){var C=y[x];b.file(C.fileNameStr,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:E.createFolders})}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function u(f,c){o.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(u,o),u.prototype._bindStream=function(f){var c=this;this._stream=f,f.pause(),f.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},u.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},u.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable,o=n("../utils");o.inherits(u,s);function u(f,c,d){s.call(this,c),this._helper=f;var p=this;f.on("data",function(m,E){p.push(m)||p._helper.pause(),d&&d(E)}).on("error",function(m){p.emit("error",m)}).on("end",function(){p.push(null)})}u.prototype._read=function(){this._helper.resume()},r.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){var s=n("./utf8"),o=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),E=n("./nodejsUtils"),b=n("./nodejs/NodejsStreamInputAdapter"),T=function(S,A,N){var z=o.getTypeOf(A),F,H=o.extend(N||{},c);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&H.unixPermissions&16384&&(H.dir=!0),H.dosPermissions&&H.dosPermissions&16&&(H.dir=!0),H.dir&&(S=v(S)),H.createFolders&&(F=g(S))&&y.call(this,F,!0);var ee=z==="string"&&H.binary===!1&&H.base64===!1;(!N||typeof N.binary=="undefined")&&(H.binary=!ee);var Z=A instanceof d&&A.uncompressedSize===0;(Z||H.dir||!A||A.length===0)&&(H.base64=!1,H.binary=!0,A="",H.compression="STORE",z="string");var ae=null;A instanceof d||A instanceof u?ae=A:E.isNode&&E.isStream(A)?ae=new b(S,A):ae=o.prepareContent(S,A,H.binary,H.optimizedBinaryString,H.base64);var ke=new p(S,ae,H);this.files[S]=ke},g=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var A=S.lastIndexOf("/");return A>0?S.substring(0,A):""},v=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},y=function(S,A){return A=typeof A!="undefined"?A:c.createFolders,S=v(S),this.files[S]||T.call(this,S,null,{dir:!0,createFolders:A}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var A,N,z;for(A in this.files)z=this.files[A],N=A.slice(this.root.length,A.length),N&&A.slice(0,this.root.length)===this.root&&S(N,z)},filter:function(S){var A=[];return this.forEach(function(N,z){S(N,z)&&A.push(z)}),A},file:function(S,A,N){if(arguments.length===1)if(x(S)){var z=S;return this.filter(function(H,ee){return!ee.dir&&z.test(H)})}else{var F=this.files[this.root+S];return F&&!F.dir?F:null}else S=this.root+S,T.call(this,S,A,N);return this},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(F,H){return H.dir&&S.test(F)});var A=this.root+S,N=y.call(this,A),z=this.clone();return z.root=N.name,z},remove:function(S){S=this.root+S;var A=this.files[S];if(A||(S.slice(-1)!=="/"&&(S+="/"),A=this.files[S]),A&&!A.dir)delete this.files[S];else for(var N=this.filter(function(F,H){return H.name.slice(0,S.length)===S}),z=0;z<N.length;z++)delete this.files[N[z].name];return this},generate:function(S){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var A,N={};try{if(N=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),N.type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),(N.platform==="darwin"||N.platform==="freebsd"||N.platform==="linux"||N.platform==="sunos")&&(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var z=N.comment||this.comment||"";A=m.generateWorker(this,N,z)}catch(F){A=new u("error"),A.error(F)}return new f(A,N.type||"string",N.mimeType)},generateAsync:function(S,A){return this.generateInternalStream(S).accumulate(A)},generateNodeStream:function(S,A){return S=S||{},S.type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(A)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader"),o=n("../utils");function u(f){s.call(this,f);for(var c=0;c<this.data.length;c++)f[c]=f[c]&255}o.inherits(u,s),u.prototype.byteAt=function(f){return this.data[this.zero+f]},u.prototype.lastIndexOfSignature=function(f){for(var c=f.charCodeAt(0),d=f.charCodeAt(1),p=f.charCodeAt(2),m=f.charCodeAt(3),E=this.length-4;E>=0;--E)if(this.data[E]===c&&this.data[E+1]===d&&this.data[E+2]===p&&this.data[E+3]===m)return E-this.zero;return-1},u.prototype.readAndCheckSignature=function(f){var c=f.charCodeAt(0),d=f.charCodeAt(1),p=f.charCodeAt(2),m=f.charCodeAt(3),E=this.readData(4);return c===E[0]&&d===E[1]&&p===E[2]&&m===E[3]},u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,c},r.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(u){},readInt:function(u){var f=0,c;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=u,f},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(u){},lastIndexOfSignature:function(u){},readAndCheckSignature:function(u){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC((u>>25&127)+1980,(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(u&31)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader"),o=n("../utils");function u(f){s.call(this,f)}o.inherits(u,s),u.prototype.readData=function(f){this.checkOffset(f);var c=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,c},r.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader"),o=n("../utils");function u(f){s.call(this,f)}o.inherits(u,s),u.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},u.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},u.prototype.readAndCheckSignature=function(f){var c=this.readData(4);return f===c},u.prototype.readData=function(f){this.checkOffset(f);var c=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,c},r.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader"),o=n("../utils");function u(f){s.call(this,f)}o.inherits(u,s),u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,c},r.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),u=n("./ArrayReader"),f=n("./StringReader"),c=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(p){var m=s.getTypeOf(p);return s.checkSupport(m),m==="string"&&!o.uint8array?new f(p):m==="nodebuffer"?new c(p):o.uint8array?new d(s.transformTo("uint8array",p)):new u(s.transformTo("array",p))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function u(f){s.call(this,"ConvertWorker to "+f),this.destType=f}o.inherits(u,s),u.prototype.processChunk=function(f){this.push({data:o.transformTo(this.destType,f.data),meta:f.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32"),u=n("../utils");function f(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u.inherits(f,s),f.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function u(f){o.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}s.inherits(u,o),u.prototype.processChunk=function(f){if(f){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+f.data.length}o.prototype.processChunk.call(this,f)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker"),u=16*1024;function f(c){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=s.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}s.inherits(f,o),f.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=u,d=null,p=Math.min(this.max,this.index+c);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p);break}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,u){return this._listeners[o].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,u){if(this._listeners[o])for(var f=0;f<this._listeners[o].length;f++)this._listeners[o][f].call(this,u)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var u=this;return o.on("data",function(f){u.processChunk(f)}),o.on("end",function(){u.end()}),o.on("error",function(f){u.error(f)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,u){return this.extraStreamInfo[o]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(o)||(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),u=n("./GenericWorker"),f=n("../base64"),c=n("../support"),d=n("../external"),p=null;if(c.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(g,v,y){switch(g){case"blob":return s.newBlob(s.transformTo("arraybuffer",v),y);case"base64":return f.encode(v);default:return s.transformTo(g,v)}}function E(g,v){var y,x=0,C=null,S=0;for(y=0;y<v.length;y++)S+=v[y].length;switch(g){case"string":return v.join("");case"array":return Array.prototype.concat.apply([],v);case"uint8array":for(C=new Uint8Array(S),y=0;y<v.length;y++)C.set(v[y],x),x+=v[y].length;return C;case"nodebuffer":return Buffer.concat(v);default:throw new Error("concat : unsupported type '"+g+"'")}}function b(g,v){return new d.Promise(function(y,x){var C=[],S=g._internalType,A=g._outputType,N=g._mimeType;g.on("data",function(z,F){C.push(z),v&&v(F)}).on("error",function(z){C=[],x(z)}).on("end",function(){try{var z=m(A,E(S,C),N);y(z)}catch(F){x(F)}C=[]}).resume()})}function T(g,v,y){var x=v;switch(v){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=v,this._mimeType=y,s.checkSupport(x),this._worker=g.pipe(new o(x)),g.lock()}catch(C){this._worker=new u("error"),this._worker.error(C)}}T.prototype={accumulate:function(g){return b(this,g)},on:function(g,v){var y=this;return g==="data"?this._worker.on(g,function(x){v.call(y,x.data,x.meta)}):this._worker.on(g,function(){s.delay(v,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,u=new o;u.append(s),i.blob=u.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),u=n("./nodejsUtils"),f=n("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;c[254]=c[254]=1;var p=function(g){var v,y,x,C,S,A=g.length,N=0;for(C=0;C<A;C++)y=g.charCodeAt(C),(y&64512)===55296&&C+1<A&&(x=g.charCodeAt(C+1),(x&64512)===56320&&(y=65536+(y-55296<<10)+(x-56320),C++)),N+=y<128?1:y<2048?2:y<65536?3:4;for(o.uint8array?v=new Uint8Array(N):v=new Array(N),S=0,C=0;S<N;C++)y=g.charCodeAt(C),(y&64512)===55296&&C+1<A&&(x=g.charCodeAt(C+1),(x&64512)===56320&&(y=65536+(y-55296<<10)+(x-56320),C++)),y<128?v[S++]=y:y<2048?(v[S++]=192|y>>>6,v[S++]=128|y&63):y<65536?(v[S++]=224|y>>>12,v[S++]=128|y>>>6&63,v[S++]=128|y&63):(v[S++]=240|y>>>18,v[S++]=128|y>>>12&63,v[S++]=128|y>>>6&63,v[S++]=128|y&63);return v},m=function(g,v){var y;for(v=v||g.length,v>g.length&&(v=g.length),y=v-1;y>=0&&(g[y]&192)===128;)y--;return y<0||y===0?v:y+c[g[y]]>v?y:v},E=function(g){var v,y,x,C,S=g.length,A=new Array(S*2);for(y=0,v=0;v<S;){if(x=g[v++],x<128){A[y++]=x;continue}if(C=c[x],C>4){A[y++]=65533,v+=C-1;continue}for(x&=C===2?31:C===3?15:7;C>1&&v<S;)x=x<<6|g[v++]&63,C--;if(C>1){A[y++]=65533;continue}x<65536?A[y++]=x:(x-=65536,A[y++]=55296|x>>10&1023,A[y++]=56320|x&1023)}return A.length!==y&&(A.subarray?A=A.subarray(0,y):A.length=y),s.applyFromCharCode(A)};i.utf8encode=function(v){return o.nodebuffer?u.newBufferFrom(v,"utf-8"):p(v)},i.utf8decode=function(v){return o.nodebuffer?s.transformTo("nodebuffer",v).toString("utf-8"):(v=s.transformTo(o.uint8array?"uint8array":"array",v),E(v))};function b(){f.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(b,f),b.prototype.processChunk=function(g){var v=s.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=v;v=new Uint8Array(y.length+this.leftOver.length),v.set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var x=m(v),C=v;x!==v.length&&(o.uint8array?(C=v.subarray(0,x),this.leftOver=v.subarray(x,v.length)):(C=v.slice(0,x),this.leftOver=v.slice(x,v.length))),this.push({data:i.utf8decode(C),meta:g.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=b;function T(){f.call(this,"utf-8 encode")}s.inherits(T,f),T.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),u=n("./nodejsUtils"),f=n("set-immediate-shim"),c=n("./external");function d(v){var y=null;return s.uint8array?y=new Uint8Array(v.length):y=new Array(v.length),m(v,y)}i.newBlob=function(v,y){i.checkSupport("blob");try{return new Blob([v],{type:y})}catch{try{var x=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,C=new x;return C.append(v),C.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};function p(v){return v}function m(v,y){for(var x=0;x<v.length;++x)y[x]=v.charCodeAt(x)&255;return y}var E={stringifyByChunk:function(v,y,x){var C=[],S=0,A=v.length;if(A<=x)return String.fromCharCode.apply(null,v);for(;S<A;)y==="array"||y==="nodebuffer"?C.push(String.fromCharCode.apply(null,v.slice(S,Math.min(S+x,A)))):C.push(String.fromCharCode.apply(null,v.subarray(S,Math.min(S+x,A)))),S+=x;return C.join("")},stringifyByChar:function(v){for(var y="",x=0;x<v.length;x++)y+=String.fromCharCode(v[x]);return y},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var y=65536,x=i.getTypeOf(v),C=!0;if(x==="uint8array"?C=E.applyCanBeUsed.uint8array:x==="nodebuffer"&&(C=E.applyCanBeUsed.nodebuffer),C)for(;y>1;)try{return E.stringifyByChunk(v,x,y)}catch{y=Math.floor(y/2)}return E.stringifyByChar(v)}i.applyFromCharCode=b;function T(v,y){for(var x=0;x<v.length;x++)y[x]=v[x];return y}var g={};g.string={string:p,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return g.string.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:function(v){return m(v,u.allocBuffer(v.length))}},g.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},g.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return T(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},g.uint8array={string:b,array:function(v){return T(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},g.nodebuffer={string:b,array:function(v){return T(v,new Array(v.length))},arraybuffer:function(v){return g.nodebuffer.uint8array(v).buffer},uint8array:function(v){return T(v,new Uint8Array(v.length))},nodebuffer:p},i.transformTo=function(v,y){if(y||(y=""),!v)return y;i.checkSupport(v);var x=i.getTypeOf(y),C=g[x][v](y);return C},i.getTypeOf=function(v){if(typeof v=="string")return"string";if(Object.prototype.toString.call(v)==="[object Array]")return"array";if(s.nodebuffer&&u.isBuffer(v))return"nodebuffer";if(s.uint8array&&v instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&v instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(v){var y=s[v.toLowerCase()];if(!y)throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var y="",x,C;for(C=0;C<(v||"").length;C++)x=v.charCodeAt(C),y+="\\x"+(x<16?"0":"")+x.toString(16).toUpperCase();return y},i.delay=function(v,y,x){f(function(){v.apply(x||null,y||[])})},i.inherits=function(v,y){var x=function(){};x.prototype=y.prototype,v.prototype=new x},i.extend=function(){var v={},y,x;for(y=0;y<arguments.length;y++)for(x in arguments[y])arguments[y].hasOwnProperty(x)&&typeof v[x]=="undefined"&&(v[x]=arguments[y][x]);return v},i.prepareContent=function(v,y,x,C,S){var A=c.Promise.resolve(y).then(function(N){var z=s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1);return z&&typeof FileReader!="undefined"?new c.Promise(function(F,H){var ee=new FileReader;ee.onload=function(Z){F(Z.target.result)},ee.onerror=function(Z){H(Z.target.error)},ee.readAsArrayBuffer(N)}):N});return A.then(function(N){var z=i.getTypeOf(N);return z?(z==="arraybuffer"?N=i.transformTo("uint8array",N):z==="string"&&(S?N=o.decode(N):x&&C!==!0&&(N=d(N))),N):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),u=n("./signature"),f=n("./zipEntry");n("./utf8");var c=n("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(p)+")")}},isSignature:function(p,m){var E=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4),T=b===m;return this.reader.setIndex(E),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),m=c.uint8array?"uint8array":"array",E=o.transformTo(m,p);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p=this.zip64EndOfCentralSize-44,m=0,E,b,T;m<p;)E=this.reader.readInt(2),b=this.reader.readInt(4),T=this.reader.readData(b),this.zip64ExtensibleData[E]={id:E,length:b,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,m;for(p=0;p<this.files.length;p++)m=this.files[p],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)p=new f({zip64:this.zip64},this.loadOptions),p.readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(p<0){var m=!this.isSignature(0,u.LOCAL_FILE_HEADER);throw m?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(p);var E=p;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,p=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),p<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var T=E-b;if(T>0)this.isSignature(E,u.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),u=n("./compressedObject"),f=n("./crc32"),c=n("./utf8"),d=n("./compressions"),p=n("./support"),m=0,E=3,b=function(g){for(var v in d)if(!!d.hasOwnProperty(v)&&d[v].magic===g)return d[v];return null};function T(g,v){this.options=g,this.loadOptions=v}T.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(g){var v,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(v=b(this.compressionMethod),v===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,v,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var v=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(v),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),g===m&&(this.dosPermissions=this.externalFileAttributes&63),g===E&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(g){if(!!this.extraFields[1]){var v=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(g){var v=g.index+this.extraFieldsLength,y,x,C;for(this.extraFields||(this.extraFields={});g.index+4<v;)y=g.readInt(2),x=g.readInt(2),C=g.readData(x),this.extraFields[y]={id:y,length:x,value:C};g.setIndex(v)},handleUTF8:function(){var g=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var C=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var v=s(g.value);return v.readInt(1)!==1||f(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var v=s(g.value);return v.readInt(1)!==1||f(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(g.length-5))}return null}},r.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),c=n("./stream/GenericWorker"),d=function(b,T,g){this.name=b,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=T,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}};d.prototype={internalStream:function(b){var T=null,g="string";try{if(!b)throw new Error("No output type specified.");g=b.toLowerCase();var v=g==="string"||g==="text";(g==="binarystring"||g==="text")&&(g="string"),T=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(T=T.pipe(new u.Utf8EncodeWorker)),!y&&v&&(T=T.pipe(new u.Utf8DecodeWorker))}catch(x){T=new c("error"),T.error(x)}return new s(T,g,"")},async:function(b,T){return this.internalStream(b).accumulate(T)},nodeStream:function(b,T){return this.internalStream(b||"nodebuffer").toNodejsStream(T)},_compressWorker:function(b,T){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(g,b,T)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<p.length;E++)d.prototype[p[E]]=m;r.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,u;if(o){var f=0,c=new o(b),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),u=function(){d.data=f=++f%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var p=new s.MessageChannel;p.port1.onmessage=b,u=function(){p.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?u=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){b(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:u=function(){setTimeout(b,0)};var m,E=[];function b(){m=!0;for(var g,v,y=E.length;y;){for(v=E,E=[],g=-1;++g<y;)v[g]();y=E.length}m=!1}r.exports=T;function T(g){E.push(g)===1&&!m&&u()}}).call(this,typeof Un!="undefined"?Un:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var u={},f=["REJECTED"],c=["FULFILLED"],d=["PENDING"];r.exports=p;function p(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,S!==o&&T(this,S)}p.prototype.finally=function(S){if(typeof S!="function")return this;var A=this.constructor;return this.then(N,z);function N(F){function H(){return F}return A.resolve(S()).then(H)}function z(F){function H(){throw F}return A.resolve(S()).then(H)}},p.prototype.catch=function(S){return this.then(null,S)},p.prototype.then=function(S,A){if(typeof S!="function"&&this.state===c||typeof A!="function"&&this.state===f)return this;var N=new this.constructor(o);if(this.state!==d){var z=this.state===c?S:A;E(N,z,this.outcome)}else this.queue.push(new m(N,S,A));return N};function m(S,A,N){this.promise=S,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(S){u.resolve(this.promise,S)},m.prototype.otherCallFulfilled=function(S){E(this.promise,this.onFulfilled,S)},m.prototype.callRejected=function(S){u.reject(this.promise,S)},m.prototype.otherCallRejected=function(S){E(this.promise,this.onRejected,S)};function E(S,A,N){s(function(){var z;try{z=A(N)}catch(F){return u.reject(S,F)}z===S?u.reject(S,new TypeError("Cannot resolve promise with itself")):u.resolve(S,z)})}u.resolve=function(S,A){var N=g(b,A);if(N.status==="error")return u.reject(S,N.value);var z=N.value;if(z)T(S,z);else{S.state=c,S.outcome=A;for(var F=-1,H=S.queue.length;++F<H;)S.queue[F].callFulfilled(A)}return S},u.reject=function(S,A){S.state=f,S.outcome=A;for(var N=-1,z=S.queue.length;++N<z;)S.queue[N].callRejected(A);return S};function b(S){var A=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof A=="function")return function(){A.apply(S,arguments)}}function T(S,A){var N=!1;function z(Z){N||(N=!0,u.reject(S,Z))}function F(Z){N||(N=!0,u.resolve(S,Z))}function H(){A(F,z)}var ee=g(H);ee.status==="error"&&z(ee.value)}function g(S,A){var N={};try{N.value=S(A),N.status="success"}catch(z){N.status="error",N.value=z}return N}p.resolve=v;function v(S){return S instanceof this?S:u.resolve(new this(o),S)}p.reject=y;function y(S){var A=new this(o);return u.reject(A,S)}p.all=x;function x(S){var A=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=S.length,z=!1;if(!N)return this.resolve([]);for(var F=new Array(N),H=0,ee=-1,Z=new this(o);++ee<N;)ae(S[ee],ee);return Z;function ae(ke,ce){A.resolve(ke).then(xe,function(we){z||(z=!0,u.reject(Z,we))});function xe(we){F[ce]=we,++H===N&&!z&&(z=!0,u.resolve(Z,F))}}}p.race=C;function C(S){var A=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=S.length,z=!1;if(!N)return this.resolve([]);for(var F=-1,H=new this(o);++F<N;)ee(S[F]);return H;function ee(Z){A.resolve(Z).then(function(ae){z||(z=!0,u.resolve(H,ae))},function(ae){z||(z=!0,u.reject(H,ae))})}}},{immediate:36}],38:[function(n,r,i){var s=n("./lib/utils/common").assign,o=n("./lib/deflate"),u=n("./lib/inflate"),f=n("./lib/zlib/constants"),c={};s(c,o,u,f),r.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),u=n("./utils/strings"),f=n("./zlib/messages"),c=n("./zlib/zstream"),d=Object.prototype.toString,p=0,m=4,E=0,b=1,T=2,g=-1,v=0,y=8;function x(N){if(!(this instanceof x))return new x(N);this.options=o.assign({level:g,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},N||{});var z=this.options;z.raw&&z.windowBits>0?z.windowBits=-z.windowBits:z.gzip&&z.windowBits>0&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var F=s.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(F!==E)throw new Error(f[F]);if(z.header&&s.deflateSetHeader(this.strm,z.header),z.dictionary){var H;if(typeof z.dictionary=="string"?H=u.string2buf(z.dictionary):d.call(z.dictionary)==="[object ArrayBuffer]"?H=new Uint8Array(z.dictionary):H=z.dictionary,F=s.deflateSetDictionary(this.strm,H),F!==E)throw new Error(f[F]);this._dict_set=!0}}x.prototype.push=function(N,z){var F=this.strm,H=this.options.chunkSize,ee,Z;if(this.ended)return!1;Z=z===~~z?z:z===!0?m:p,typeof N=="string"?F.input=u.string2buf(N):d.call(N)==="[object ArrayBuffer]"?F.input=new Uint8Array(N):F.input=N,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(H),F.next_out=0,F.avail_out=H),ee=s.deflate(F,Z),ee!==b&&ee!==E)return this.onEnd(ee),this.ended=!0,!1;(F.avail_out===0||F.avail_in===0&&(Z===m||Z===T))&&(this.options.to==="string"?this.onData(u.buf2binstring(o.shrinkBuf(F.output,F.next_out))):this.onData(o.shrinkBuf(F.output,F.next_out)))}while((F.avail_in>0||F.avail_out===0)&&ee!==b);return Z===m?(ee=s.deflateEnd(this.strm),this.onEnd(ee),this.ended=!0,ee===E):(Z===T&&(this.onEnd(E),F.avail_out=0),!0)},x.prototype.onData=function(N){this.chunks.push(N)},x.prototype.onEnd=function(N){N===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg};function C(N,z){var F=new x(z);if(F.push(N,!0),F.err)throw F.msg||f[F.err];return F.result}function S(N,z){return z=z||{},z.raw=!0,C(N,z)}function A(N,z){return z=z||{},z.gzip=!0,C(N,z)}i.Deflate=x,i.deflate=C,i.deflateRaw=S,i.gzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),u=n("./utils/strings"),f=n("./zlib/constants"),c=n("./zlib/messages"),d=n("./zlib/zstream"),p=n("./zlib/gzheader"),m=Object.prototype.toString;function E(g){if(!(this instanceof E))return new E(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&v.windowBits>=0&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),v.windowBits>=0&&v.windowBits<16&&!(g&&g.windowBits)&&(v.windowBits+=32),v.windowBits>15&&v.windowBits<48&&(v.windowBits&15)===0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,v.windowBits);if(y!==f.Z_OK)throw new Error(c[y]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}E.prototype.push=function(g,v){var y=this.strm,x=this.options.chunkSize,C=this.options.dictionary,S,A,N,z,F,H,ee=!1;if(this.ended)return!1;A=v===~~v?v:v===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof g=="string"?y.input=u.binstring2buf(g):m.call(g)==="[object ArrayBuffer]"?y.input=new Uint8Array(g):y.input=g,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new o.Buf8(x),y.next_out=0,y.avail_out=x),S=s.inflate(y,f.Z_NO_FLUSH),S===f.Z_NEED_DICT&&C&&(typeof C=="string"?H=u.string2buf(C):m.call(C)==="[object ArrayBuffer]"?H=new Uint8Array(C):H=C,S=s.inflateSetDictionary(this.strm,H)),S===f.Z_BUF_ERROR&&ee===!0&&(S=f.Z_OK,ee=!1),S!==f.Z_STREAM_END&&S!==f.Z_OK)return this.onEnd(S),this.ended=!0,!1;y.next_out&&(y.avail_out===0||S===f.Z_STREAM_END||y.avail_in===0&&(A===f.Z_FINISH||A===f.Z_SYNC_FLUSH))&&(this.options.to==="string"?(N=u.utf8border(y.output,y.next_out),z=y.next_out-N,F=u.buf2string(y.output,N),y.next_out=z,y.avail_out=x-z,z&&o.arraySet(y.output,y.output,N,z,0),this.onData(F)):this.onData(o.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(ee=!0)}while((y.avail_in>0||y.avail_out===0)&&S!==f.Z_STREAM_END);return S===f.Z_STREAM_END&&(A=f.Z_FINISH),A===f.Z_FINISH?(S=s.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===f.Z_OK):(A===f.Z_SYNC_FLUSH&&(this.onEnd(f.Z_OK),y.avail_out=0),!0)},E.prototype.onData=function(g){this.chunks.push(g)},E.prototype.onEnd=function(g){g===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function b(g,v){var y=new E(v);if(y.push(g,!0),y.err)throw y.msg||c[y.err];return y.result}function T(g,v){return v=v||{},v.raw=!0,b(g,v)}i.Inflate=E,i.inflate=b,i.inflateRaw=T,i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(f){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(!!d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])}}return f},i.shrinkBuf=function(f,c){return f.length===c?f:f.subarray?f.subarray(0,c):(f.length=c,f)};var o={arraySet:function(f,c,d,p,m){if(c.subarray&&f.subarray){f.set(c.subarray(d,d+p),m);return}for(var E=0;E<p;E++)f[m+E]=c[d+E]},flattenChunks:function(f){var c,d,p,m,E,b;for(p=0,c=0,d=f.length;c<d;c++)p+=f[c].length;for(b=new Uint8Array(p),m=0,c=0,d=f.length;c<d;c++)E=f[c],b.set(E,m),m+=E.length;return b}},u={arraySet:function(f,c,d,p,m){for(var E=0;E<p;E++)f[m+E]=c[d+E]},flattenChunks:function(f){return[].concat.apply([],f)}};i.setTyped=function(f){f?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var f=new s.Buf8(256),c=0;c<256;c++)f[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;f[254]=f[254]=1,i.string2buf=function(p){var m,E,b,T,g,v=p.length,y=0;for(T=0;T<v;T++)E=p.charCodeAt(T),(E&64512)===55296&&T+1<v&&(b=p.charCodeAt(T+1),(b&64512)===56320&&(E=65536+(E-55296<<10)+(b-56320),T++)),y+=E<128?1:E<2048?2:E<65536?3:4;for(m=new s.Buf8(y),g=0,T=0;g<y;T++)E=p.charCodeAt(T),(E&64512)===55296&&T+1<v&&(b=p.charCodeAt(T+1),(b&64512)===56320&&(E=65536+(E-55296<<10)+(b-56320),T++)),E<128?m[g++]=E:E<2048?(m[g++]=192|E>>>6,m[g++]=128|E&63):E<65536?(m[g++]=224|E>>>12,m[g++]=128|E>>>6&63,m[g++]=128|E&63):(m[g++]=240|E>>>18,m[g++]=128|E>>>12&63,m[g++]=128|E>>>6&63,m[g++]=128|E&63);return m};function d(p,m){if(m<65537&&(p.subarray&&u||!p.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(p,m));for(var E="",b=0;b<m;b++)E+=String.fromCharCode(p[b]);return E}i.buf2binstring=function(p){return d(p,p.length)},i.binstring2buf=function(p){for(var m=new s.Buf8(p.length),E=0,b=m.length;E<b;E++)m[E]=p.charCodeAt(E);return m},i.buf2string=function(p,m){var E,b,T,g,v=m||p.length,y=new Array(v*2);for(b=0,E=0;E<v;){if(T=p[E++],T<128){y[b++]=T;continue}if(g=f[T],g>4){y[b++]=65533,E+=g-1;continue}for(T&=g===2?31:g===3?15:7;g>1&&E<v;)T=T<<6|p[E++]&63,g--;if(g>1){y[b++]=65533;continue}T<65536?y[b++]=T:(T-=65536,y[b++]=55296|T>>10&1023,y[b++]=56320|T&1023)}return d(y,b)},i.utf8border=function(p,m){var E;for(m=m||p.length,m>p.length&&(m=p.length),E=m-1;E>=0&&(p[E]&192)===128;)E--;return E<0||E===0?m:E+f[p[E]]>m?E:m}},{"./common":41}],43:[function(n,r,i){function s(o,u,f,c){for(var d=o&65535|0,p=o>>>16&65535|0,m=0;f!==0;){m=f>2e3?2e3:f,f-=m;do d=d+u[c++]|0,p=p+d|0;while(--m);d%=65521,p%=65521}return d|p<<16|0}r.exports=s},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){function s(){for(var f,c=[],d=0;d<256;d++){f=d;for(var p=0;p<8;p++)f=f&1?3988292384^f>>>1:f>>>1;c[d]=f}return c}var o=s();function u(f,c,d,p){var m=o,E=p+d;f^=-1;for(var b=p;b<E;b++)f=f>>>8^m[(f^c[b])&255];return f^-1}r.exports=u},{}],46:[function(n,r,i){var s=n("../utils/common"),o=n("./trees"),u=n("./adler32"),f=n("./crc32"),c=n("./messages"),d=0,p=1,m=3,E=4,b=5,T=0,g=1,v=-2,y=-3,x=-5,C=-1,S=1,A=2,N=3,z=4,F=0,H=2,ee=8,Z=9,ae=15,ke=8,ce=29,xe=256,we=xe+1+ce,ye=30,Me=19,Ve=2*we+1,ie=15,le=3,Se=258,Oe=Se+le+1,Ke=32,ot=42,vt=69,$e=73,_t=91,$t=103,ut=113,Tt=666,lt=1,St=2,It=3,Pn=4,Qe=3;function en(_,Q){return _.msg=c[Q],Q}function Sr(_){return(_<<1)-(_>4?9:0)}function tn(_){for(var Q=_.length;--Q>=0;)_[Q]=0}function Ct(_){var Q=_.state,te=Q.pending;te>_.avail_out&&(te=_.avail_out),te!==0&&(s.arraySet(_.output,Q.pending_buf,Q.pending_out,te,_.next_out),_.next_out+=te,Q.pending_out+=te,_.total_out+=te,_.avail_out-=te,Q.pending-=te,Q.pending===0&&(Q.pending_out=0))}function wt(_,Q){o._tr_flush_block(_,_.block_start>=0?_.block_start:-1,_.strstart-_.block_start,Q),_.block_start=_.strstart,Ct(_.strm)}function Ye(_,Q){_.pending_buf[_.pending++]=Q}function kn(_,Q){_.pending_buf[_.pending++]=Q>>>8&255,_.pending_buf[_.pending++]=Q&255}function Gn(_,Q,te,O){var W=_.avail_in;return W>O&&(W=O),W===0?0:(_.avail_in-=W,s.arraySet(Q,_.input,_.next_in,W,te),_.state.wrap===1?_.adler=u(_.adler,Q,W,te):_.state.wrap===2&&(_.adler=f(_.adler,Q,W,te)),_.next_in+=W,_.total_in+=W,W)}function br(_,Q){var te=_.max_chain_length,O=_.strstart,W,X,Pe=_.prev_length,be=_.nice_match,Ae=_.strstart>_.w_size-Oe?_.strstart-(_.w_size-Oe):0,nt=_.window,Cr=_.w_mask,Nt=_.prev,it=_.strstart+Se,Xt=nt[O+Pe-1],dn=nt[O+Pe];_.prev_length>=_.good_match&&(te>>=2),be>_.lookahead&&(be=_.lookahead);do if(W=Q,!(nt[W+Pe]!==dn||nt[W+Pe-1]!==Xt||nt[W]!==nt[O]||nt[++W]!==nt[O+1])){O+=2,W++;do;while(nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&nt[++O]===nt[++W]&&O<it);if(X=Se-(it-O),O=it-Se,X>Pe){if(_.match_start=Q,Pe=X,X>=be)break;Xt=nt[O+Pe-1],dn=nt[O+Pe]}}while((Q=Nt[Q&Cr])>Ae&&--te!==0);return Pe<=_.lookahead?Pe:_.lookahead}function an(_){var Q=_.w_size,te,O,W,X,Pe;do{if(X=_.window_size-_.lookahead-_.strstart,_.strstart>=Q+(Q-Oe)){s.arraySet(_.window,_.window,Q,Q,0),_.match_start-=Q,_.strstart-=Q,_.block_start-=Q,O=_.hash_size,te=O;do W=_.head[--te],_.head[te]=W>=Q?W-Q:0;while(--O);O=Q,te=O;do W=_.prev[--te],_.prev[te]=W>=Q?W-Q:0;while(--O);X+=Q}if(_.strm.avail_in===0)break;if(O=Gn(_.strm,_.window,_.strstart+_.lookahead,X),_.lookahead+=O,_.lookahead+_.insert>=le)for(Pe=_.strstart-_.insert,_.ins_h=_.window[Pe],_.ins_h=(_.ins_h<<_.hash_shift^_.window[Pe+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[Pe+le-1])&_.hash_mask,_.prev[Pe&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=Pe,Pe++,_.insert--,!(_.lookahead+_.insert<le)););}while(_.lookahead<Oe&&_.strm.avail_in!==0)}function Dn(_,Q){var te=65535;for(te>_.pending_buf_size-5&&(te=_.pending_buf_size-5);;){if(_.lookahead<=1){if(an(_),_.lookahead===0&&Q===d)return lt;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var O=_.block_start+te;if((_.strstart===0||_.strstart>=O)&&(_.lookahead=_.strstart-O,_.strstart=O,wt(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-Oe&&(wt(_,!1),_.strm.avail_out===0))return lt}return _.insert=0,Q===E?(wt(_,!0),_.strm.avail_out===0?It:Pn):(_.strstart>_.block_start&&(wt(_,!1),_.strm.avail_out===0),lt)}function Zn(_,Q){for(var te,O;;){if(_.lookahead<Oe){if(an(_),_.lookahead<Oe&&Q===d)return lt;if(_.lookahead===0)break}if(te=0,_.lookahead>=le&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+le-1])&_.hash_mask,te=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),te!==0&&_.strstart-te<=_.w_size-Oe&&(_.match_length=br(_,te)),_.match_length>=le)if(O=o._tr_tally(_,_.strstart-_.match_start,_.match_length-le),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=le){_.match_length--;do _.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+le-1])&_.hash_mask,te=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart;while(--_.match_length!==0);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else O=o._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(O&&(wt(_,!1),_.strm.avail_out===0))return lt}return _.insert=_.strstart<le-1?_.strstart:le-1,Q===E?(wt(_,!0),_.strm.avail_out===0?It:Pn):_.last_lit&&(wt(_,!1),_.strm.avail_out===0)?lt:St}function wn(_,Q){for(var te,O,W;;){if(_.lookahead<Oe){if(an(_),_.lookahead<Oe&&Q===d)return lt;if(_.lookahead===0)break}if(te=0,_.lookahead>=le&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+le-1])&_.hash_mask,te=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=le-1,te!==0&&_.prev_length<_.max_lazy_match&&_.strstart-te<=_.w_size-Oe&&(_.match_length=br(_,te),_.match_length<=5&&(_.strategy===S||_.match_length===le&&_.strstart-_.match_start>4096)&&(_.match_length=le-1)),_.prev_length>=le&&_.match_length<=_.prev_length){W=_.strstart+_.lookahead-le,O=o._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-le),_.lookahead-=_.prev_length-1,_.prev_length-=2;do++_.strstart<=W&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+le-1])&_.hash_mask,te=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart);while(--_.prev_length!==0);if(_.match_available=0,_.match_length=le-1,_.strstart++,O&&(wt(_,!1),_.strm.avail_out===0))return lt}else if(_.match_available){if(O=o._tr_tally(_,0,_.window[_.strstart-1]),O&&wt(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return lt}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(O=o._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<le-1?_.strstart:le-1,Q===E?(wt(_,!0),_.strm.avail_out===0?It:Pn):_.last_lit&&(wt(_,!1),_.strm.avail_out===0)?lt:St}function Tr(_,Q){for(var te,O,W,X,Pe=_.window;;){if(_.lookahead<=Se){if(an(_),_.lookahead<=Se&&Q===d)return lt;if(_.lookahead===0)break}if(_.match_length=0,_.lookahead>=le&&_.strstart>0&&(W=_.strstart-1,O=Pe[W],O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W])){X=_.strstart+Se;do;while(O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W]&&O===Pe[++W]&&W<X);_.match_length=Se-(X-W),_.match_length>_.lookahead&&(_.match_length=_.lookahead)}if(_.match_length>=le?(te=o._tr_tally(_,1,_.match_length-le),_.lookahead-=_.match_length,_.strstart+=_.match_length,_.match_length=0):(te=o._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++),te&&(wt(_,!1),_.strm.avail_out===0))return lt}return _.insert=0,Q===E?(wt(_,!0),_.strm.avail_out===0?It:Pn):_.last_lit&&(wt(_,!1),_.strm.avail_out===0)?lt:St}function Xn(_,Q){for(var te;;){if(_.lookahead===0&&(an(_),_.lookahead===0)){if(Q===d)return lt;break}if(_.match_length=0,te=o._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++,te&&(wt(_,!1),_.strm.avail_out===0))return lt}return _.insert=0,Q===E?(wt(_,!0),_.strm.avail_out===0?It:Pn):_.last_lit&&(wt(_,!1),_.strm.avail_out===0)?lt:St}function Zt(_,Q,te,O,W){this.good_length=_,this.max_lazy=Q,this.nice_length=te,this.max_chain=O,this.func=W}var En;En=[new Zt(0,0,0,0,Dn),new Zt(4,4,8,4,Zn),new Zt(4,5,16,8,Zn),new Zt(4,6,32,32,Zn),new Zt(4,4,16,16,wn),new Zt(8,16,32,32,wn),new Zt(8,16,128,128,wn),new Zt(8,32,128,256,wn),new Zt(32,128,258,1024,wn),new Zt(32,258,258,4096,wn)];function Ur(_){_.window_size=2*_.w_size,tn(_.head),_.max_lazy_match=En[_.level].max_lazy,_.good_match=En[_.level].good_length,_.nice_match=En[_.level].nice_length,_.max_chain_length=En[_.level].max_chain,_.strstart=0,_.block_start=0,_.lookahead=0,_.insert=0,_.match_length=_.prev_length=le-1,_.match_available=0,_.ins_h=0}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ee,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(Ve*2),this.dyn_dtree=new s.Buf16((2*ye+1)*2),this.bl_tree=new s.Buf16((2*Me+1)*2),tn(this.dyn_ltree),tn(this.dyn_dtree),tn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(ie+1),this.heap=new s.Buf16(2*we+1),tn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*we+1),tn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(_){var Q;return!_||!_.state?en(_,v):(_.total_in=_.total_out=0,_.data_type=H,Q=_.state,Q.pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?ot:ut,_.adler=Q.wrap===2?0:1,Q.last_flush=d,o._tr_init(Q),T)}function ve(_){var Q=fe(_);return Q===T&&Ur(_.state),Q}function Ie(_,Q){return!_||!_.state||_.state.wrap!==2?v:(_.state.gzhead=Q,T)}function $(_,Q,te,O,W,X){if(!_)return v;var Pe=1;if(Q===C&&(Q=6),O<0?(Pe=0,O=-O):O>15&&(Pe=2,O-=16),W<1||W>Z||te!==ee||O<8||O>15||Q<0||Q>9||X<0||X>z)return en(_,v);O===8&&(O=9);var be=new D;return _.state=be,be.strm=_,be.wrap=Pe,be.gzhead=null,be.w_bits=O,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=W+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+le-1)/le),be.window=new s.Buf8(be.w_size*2),be.head=new s.Buf16(be.hash_size),be.prev=new s.Buf16(be.w_size),be.lit_bufsize=1<<W+6,be.pending_buf_size=be.lit_bufsize*4,be.pending_buf=new s.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=(1+2)*be.lit_bufsize,be.level=Q,be.strategy=X,be.method=te,ve(_)}function ne(_,Q){return $(_,Q,ee,ae,ke,F)}function I(_,Q){var te,O,W,X;if(!_||!_.state||Q>b||Q<0)return _?en(_,v):v;if(O=_.state,!_.output||!_.input&&_.avail_in!==0||O.status===Tt&&Q!==E)return en(_,_.avail_out===0?x:v);if(O.strm=_,te=O.last_flush,O.last_flush=Q,O.status===ot)if(O.wrap===2)_.adler=0,Ye(O,31),Ye(O,139),Ye(O,8),O.gzhead?(Ye(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),Ye(O,O.gzhead.time&255),Ye(O,O.gzhead.time>>8&255),Ye(O,O.gzhead.time>>16&255),Ye(O,O.gzhead.time>>24&255),Ye(O,O.level===9?2:O.strategy>=A||O.level<2?4:0),Ye(O,O.gzhead.os&255),O.gzhead.extra&&O.gzhead.extra.length&&(Ye(O,O.gzhead.extra.length&255),Ye(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(_.adler=f(_.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=vt):(Ye(O,0),Ye(O,0),Ye(O,0),Ye(O,0),Ye(O,0),Ye(O,O.level===9?2:O.strategy>=A||O.level<2?4:0),Ye(O,Qe),O.status=ut);else{var Pe=ee+(O.w_bits-8<<4)<<8,be=-1;O.strategy>=A||O.level<2?be=0:O.level<6?be=1:O.level===6?be=2:be=3,Pe|=be<<6,O.strstart!==0&&(Pe|=Ke),Pe+=31-Pe%31,O.status=ut,kn(O,Pe),O.strstart!==0&&(kn(O,_.adler>>>16),kn(O,_.adler&65535)),_.adler=1}if(O.status===vt)if(O.gzhead.extra){for(W=O.pending;O.gzindex<(O.gzhead.extra.length&65535)&&!(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>W&&(_.adler=f(_.adler,O.pending_buf,O.pending-W,W)),Ct(_),W=O.pending,O.pending===O.pending_buf_size));)Ye(O,O.gzhead.extra[O.gzindex]&255),O.gzindex++;O.gzhead.hcrc&&O.pending>W&&(_.adler=f(_.adler,O.pending_buf,O.pending-W,W)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=$e)}else O.status=$e;if(O.status===$e)if(O.gzhead.name){W=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>W&&(_.adler=f(_.adler,O.pending_buf,O.pending-W,W)),Ct(_),W=O.pending,O.pending===O.pending_buf_size)){X=1;break}O.gzindex<O.gzhead.name.length?X=O.gzhead.name.charCodeAt(O.gzindex++)&255:X=0,Ye(O,X)}while(X!==0);O.gzhead.hcrc&&O.pending>W&&(_.adler=f(_.adler,O.pending_buf,O.pending-W,W)),X===0&&(O.gzindex=0,O.status=_t)}else O.status=_t;if(O.status===_t)if(O.gzhead.comment){W=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>W&&(_.adler=f(_.adler,O.pending_buf,O.pending-W,W)),Ct(_),W=O.pending,O.pending===O.pending_buf_size)){X=1;break}O.gzindex<O.gzhead.comment.length?X=O.gzhead.comment.charCodeAt(O.gzindex++)&255:X=0,Ye(O,X)}while(X!==0);O.gzhead.hcrc&&O.pending>W&&(_.adler=f(_.adler,O.pending_buf,O.pending-W,W)),X===0&&(O.status=$t)}else O.status=$t;if(O.status===$t&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&Ct(_),O.pending+2<=O.pending_buf_size&&(Ye(O,_.adler&255),Ye(O,_.adler>>8&255),_.adler=0,O.status=ut)):O.status=ut),O.pending!==0){if(Ct(_),_.avail_out===0)return O.last_flush=-1,T}else if(_.avail_in===0&&Sr(Q)<=Sr(te)&&Q!==E)return en(_,x);if(O.status===Tt&&_.avail_in!==0)return en(_,x);if(_.avail_in!==0||O.lookahead!==0||Q!==d&&O.status!==Tt){var Ae=O.strategy===A?Xn(O,Q):O.strategy===N?Tr(O,Q):En[O.level].func(O,Q);if((Ae===It||Ae===Pn)&&(O.status=Tt),Ae===lt||Ae===It)return _.avail_out===0&&(O.last_flush=-1),T;if(Ae===St&&(Q===p?o._tr_align(O):Q!==b&&(o._tr_stored_block(O,0,0,!1),Q===m&&(tn(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),Ct(_),_.avail_out===0))return O.last_flush=-1,T}return Q!==E?T:O.wrap<=0?g:(O.wrap===2?(Ye(O,_.adler&255),Ye(O,_.adler>>8&255),Ye(O,_.adler>>16&255),Ye(O,_.adler>>24&255),Ye(O,_.total_in&255),Ye(O,_.total_in>>8&255),Ye(O,_.total_in>>16&255),Ye(O,_.total_in>>24&255)):(kn(O,_.adler>>>16),kn(O,_.adler&65535)),Ct(_),O.wrap>0&&(O.wrap=-O.wrap),O.pending!==0?T:g)}function he(_){var Q;return!_||!_.state?v:(Q=_.state.status,Q!==ot&&Q!==vt&&Q!==$e&&Q!==_t&&Q!==$t&&Q!==ut&&Q!==Tt?en(_,v):(_.state=null,Q===ut?en(_,y):T))}function Be(_,Q){var te=Q.length,O,W,X,Pe,be,Ae,nt,Cr;if(!_||!_.state||(O=_.state,Pe=O.wrap,Pe===2||Pe===1&&O.status!==ot||O.lookahead))return v;for(Pe===1&&(_.adler=u(_.adler,Q,te,0)),O.wrap=0,te>=O.w_size&&(Pe===0&&(tn(O.head),O.strstart=0,O.block_start=0,O.insert=0),Cr=new s.Buf8(O.w_size),s.arraySet(Cr,Q,te-O.w_size,O.w_size,0),Q=Cr,te=O.w_size),be=_.avail_in,Ae=_.next_in,nt=_.input,_.avail_in=te,_.next_in=0,_.input=Q,an(O);O.lookahead>=le;){W=O.strstart,X=O.lookahead-(le-1);do O.ins_h=(O.ins_h<<O.hash_shift^O.window[W+le-1])&O.hash_mask,O.prev[W&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=W,W++;while(--X);O.strstart=W,O.lookahead=le-1,an(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=le-1,O.match_available=0,_.next_in=Ae,_.input=nt,_.avail_in=be,O.wrap=Pe,T}i.deflateInit=ne,i.deflateInit2=$,i.deflateReset=ve,i.deflateResetKeep=fe,i.deflateSetHeader=Ie,i.deflate=I,i.deflateEnd=he,i.deflateSetDictionary=Be,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=s},{}],48:[function(n,r,i){var s=30,o=12;r.exports=function(f,c){var d,p,m,E,b,T,g,v,y,x,C,S,A,N,z,F,H,ee,Z,ae,ke,ce,xe,we,ye;d=f.state,p=f.next_in,we=f.input,m=p+(f.avail_in-5),E=f.next_out,ye=f.output,b=E-(c-f.avail_out),T=E+(f.avail_out-257),g=d.dmax,v=d.wsize,y=d.whave,x=d.wnext,C=d.window,S=d.hold,A=d.bits,N=d.lencode,z=d.distcode,F=(1<<d.lenbits)-1,H=(1<<d.distbits)-1;e:do{A<15&&(S+=we[p++]<<A,A+=8,S+=we[p++]<<A,A+=8),ee=N[S&F];t:for(;;){if(Z=ee>>>24,S>>>=Z,A-=Z,Z=ee>>>16&255,Z===0)ye[E++]=ee&65535;else if(Z&16){ae=ee&65535,Z&=15,Z&&(A<Z&&(S+=we[p++]<<A,A+=8),ae+=S&(1<<Z)-1,S>>>=Z,A-=Z),A<15&&(S+=we[p++]<<A,A+=8,S+=we[p++]<<A,A+=8),ee=z[S&H];n:for(;;){if(Z=ee>>>24,S>>>=Z,A-=Z,Z=ee>>>16&255,Z&16){if(ke=ee&65535,Z&=15,A<Z&&(S+=we[p++]<<A,A+=8,A<Z&&(S+=we[p++]<<A,A+=8)),ke+=S&(1<<Z)-1,ke>g){f.msg="invalid distance too far back",d.mode=s;break e}if(S>>>=Z,A-=Z,Z=E-b,ke>Z){if(Z=ke-Z,Z>y&&d.sane){f.msg="invalid distance too far back",d.mode=s;break e}if(ce=0,xe=C,x===0){if(ce+=v-Z,Z<ae){ae-=Z;do ye[E++]=C[ce++];while(--Z);ce=E-ke,xe=ye}}else if(x<Z){if(ce+=v+x-Z,Z-=x,Z<ae){ae-=Z;do ye[E++]=C[ce++];while(--Z);if(ce=0,x<ae){Z=x,ae-=Z;do ye[E++]=C[ce++];while(--Z);ce=E-ke,xe=ye}}}else if(ce+=x-Z,Z<ae){ae-=Z;do ye[E++]=C[ce++];while(--Z);ce=E-ke,xe=ye}for(;ae>2;)ye[E++]=xe[ce++],ye[E++]=xe[ce++],ye[E++]=xe[ce++],ae-=3;ae&&(ye[E++]=xe[ce++],ae>1&&(ye[E++]=xe[ce++]))}else{ce=E-ke;do ye[E++]=ye[ce++],ye[E++]=ye[ce++],ye[E++]=ye[ce++],ae-=3;while(ae>2);ae&&(ye[E++]=ye[ce++],ae>1&&(ye[E++]=ye[ce++]))}}else if((Z&64)===0){ee=z[(ee&65535)+(S&(1<<Z)-1)];continue n}else{f.msg="invalid distance code",d.mode=s;break e}break}}else if((Z&64)===0){ee=N[(ee&65535)+(S&(1<<Z)-1)];continue t}else if(Z&32){d.mode=o;break e}else{f.msg="invalid literal/length code",d.mode=s;break e}break}}while(p<m&&E<T);ae=A>>3,p-=ae,A-=ae<<3,S&=(1<<A)-1,f.next_in=p,f.next_out=E,f.avail_in=p<m?5+(m-p):5-(p-m),f.avail_out=E<T?257+(T-E):257-(E-T),d.hold=S,d.bits=A}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),u=n("./crc32"),f=n("./inffast"),c=n("./inftrees"),d=0,p=1,m=2,E=4,b=5,T=6,g=0,v=1,y=2,x=-2,C=-3,S=-4,A=-5,N=8,z=1,F=2,H=3,ee=4,Z=5,ae=6,ke=7,ce=8,xe=9,we=10,ye=11,Me=12,Ve=13,ie=14,le=15,Se=16,Oe=17,Ke=18,ot=19,vt=20,$e=21,_t=22,$t=23,ut=24,Tt=25,lt=26,St=27,It=28,Pn=29,Qe=30,en=31,Sr=32,tn=852,Ct=592,wt=15,Ye=wt;function kn($){return($>>>24&255)+($>>>8&65280)+(($&65280)<<8)+(($&255)<<24)}function Gn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function br($){var ne;return!$||!$.state?x:(ne=$.state,$.total_in=$.total_out=ne.total=0,$.msg="",ne.wrap&&($.adler=ne.wrap&1),ne.mode=z,ne.last=0,ne.havedict=0,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new s.Buf32(tn),ne.distcode=ne.distdyn=new s.Buf32(Ct),ne.sane=1,ne.back=-1,g)}function an($){var ne;return!$||!$.state?x:(ne=$.state,ne.wsize=0,ne.whave=0,ne.wnext=0,br($))}function Dn($,ne){var I,he;return!$||!$.state||(he=$.state,ne<0?(I=0,ne=-ne):(I=(ne>>4)+1,ne<48&&(ne&=15)),ne&&(ne<8||ne>15))?x:(he.window!==null&&he.wbits!==ne&&(he.window=null),he.wrap=I,he.wbits=ne,an($))}function Zn($,ne){var I,he;return $?(he=new Gn,$.state=he,he.window=null,I=Dn($,ne),I!==g&&($.state=null),I):x}function wn($){return Zn($,Ye)}var Tr=!0,Xn,Zt;function En($){if(Tr){var ne;for(Xn=new s.Buf32(512),Zt=new s.Buf32(32),ne=0;ne<144;)$.lens[ne++]=8;for(;ne<256;)$.lens[ne++]=9;for(;ne<280;)$.lens[ne++]=7;for(;ne<288;)$.lens[ne++]=8;for(c(p,$.lens,0,288,Xn,0,$.work,{bits:9}),ne=0;ne<32;)$.lens[ne++]=5;c(m,$.lens,0,32,Zt,0,$.work,{bits:5}),Tr=!1}$.lencode=Xn,$.lenbits=9,$.distcode=Zt,$.distbits=5}function Ur($,ne,I,he){var Be,_=$.state;return _.window===null&&(_.wsize=1<<_.wbits,_.wnext=0,_.whave=0,_.window=new s.Buf8(_.wsize)),he>=_.wsize?(s.arraySet(_.window,ne,I-_.wsize,_.wsize,0),_.wnext=0,_.whave=_.wsize):(Be=_.wsize-_.wnext,Be>he&&(Be=he),s.arraySet(_.window,ne,I-he,Be,_.wnext),he-=Be,he?(s.arraySet(_.window,ne,I-he,he,0),_.wnext=he,_.whave=_.wsize):(_.wnext+=Be,_.wnext===_.wsize&&(_.wnext=0),_.whave<_.wsize&&(_.whave+=Be))),0}function D($,ne){var I,he,Be,_,Q,te,O,W,X,Pe,be,Ae,nt,Cr,Nt=0,it,Xt,dn,xn,_s,ji,Kt,zn,on=new s.Buf8(4),kr,ur,to=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return x;I=$.state,I.mode===Me&&(I.mode=Ve),Q=$.next_out,Be=$.output,O=$.avail_out,_=$.next_in,he=$.input,te=$.avail_in,W=I.hold,X=I.bits,Pe=te,be=O,zn=g;e:for(;;)switch(I.mode){case z:if(I.wrap===0){I.mode=Ve;break}for(;X<16;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(I.wrap&2&&W===35615){I.check=0,on[0]=W&255,on[1]=W>>>8&255,I.check=u(I.check,on,2,0),W=0,X=0,I.mode=F;break}if(I.flags=0,I.head&&(I.head.done=!1),!(I.wrap&1)||(((W&255)<<8)+(W>>8))%31){$.msg="incorrect header check",I.mode=Qe;break}if((W&15)!==N){$.msg="unknown compression method",I.mode=Qe;break}if(W>>>=4,X-=4,Kt=(W&15)+8,I.wbits===0)I.wbits=Kt;else if(Kt>I.wbits){$.msg="invalid window size",I.mode=Qe;break}I.dmax=1<<Kt,$.adler=I.check=1,I.mode=W&512?we:Me,W=0,X=0;break;case F:for(;X<16;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(I.flags=W,(I.flags&255)!==N){$.msg="unknown compression method",I.mode=Qe;break}if(I.flags&57344){$.msg="unknown header flags set",I.mode=Qe;break}I.head&&(I.head.text=W>>8&1),I.flags&512&&(on[0]=W&255,on[1]=W>>>8&255,I.check=u(I.check,on,2,0)),W=0,X=0,I.mode=H;case H:for(;X<32;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}I.head&&(I.head.time=W),I.flags&512&&(on[0]=W&255,on[1]=W>>>8&255,on[2]=W>>>16&255,on[3]=W>>>24&255,I.check=u(I.check,on,4,0)),W=0,X=0,I.mode=ee;case ee:for(;X<16;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}I.head&&(I.head.xflags=W&255,I.head.os=W>>8),I.flags&512&&(on[0]=W&255,on[1]=W>>>8&255,I.check=u(I.check,on,2,0)),W=0,X=0,I.mode=Z;case Z:if(I.flags&1024){for(;X<16;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}I.length=W,I.head&&(I.head.extra_len=W),I.flags&512&&(on[0]=W&255,on[1]=W>>>8&255,I.check=u(I.check,on,2,0)),W=0,X=0}else I.head&&(I.head.extra=null);I.mode=ae;case ae:if(I.flags&1024&&(Ae=I.length,Ae>te&&(Ae=te),Ae&&(I.head&&(Kt=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),s.arraySet(I.head.extra,he,_,Ae,Kt)),I.flags&512&&(I.check=u(I.check,he,Ae,_)),te-=Ae,_+=Ae,I.length-=Ae),I.length))break e;I.length=0,I.mode=ke;case ke:if(I.flags&2048){if(te===0)break e;Ae=0;do Kt=he[_+Ae++],I.head&&Kt&&I.length<65536&&(I.head.name+=String.fromCharCode(Kt));while(Kt&&Ae<te);if(I.flags&512&&(I.check=u(I.check,he,Ae,_)),te-=Ae,_+=Ae,Kt)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=ce;case ce:if(I.flags&4096){if(te===0)break e;Ae=0;do Kt=he[_+Ae++],I.head&&Kt&&I.length<65536&&(I.head.comment+=String.fromCharCode(Kt));while(Kt&&Ae<te);if(I.flags&512&&(I.check=u(I.check,he,Ae,_)),te-=Ae,_+=Ae,Kt)break e}else I.head&&(I.head.comment=null);I.mode=xe;case xe:if(I.flags&512){for(;X<16;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(W!==(I.check&65535)){$.msg="header crc mismatch",I.mode=Qe;break}W=0,X=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),$.adler=I.check=0,I.mode=Me;break;case we:for(;X<32;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}$.adler=I.check=kn(W),W=0,X=0,I.mode=ye;case ye:if(I.havedict===0)return $.next_out=Q,$.avail_out=O,$.next_in=_,$.avail_in=te,I.hold=W,I.bits=X,y;$.adler=I.check=1,I.mode=Me;case Me:if(ne===b||ne===T)break e;case Ve:if(I.last){W>>>=X&7,X-=X&7,I.mode=St;break}for(;X<3;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}switch(I.last=W&1,W>>>=1,X-=1,W&3){case 0:I.mode=ie;break;case 1:if(En(I),I.mode=vt,ne===T){W>>>=2,X-=2;break e}break;case 2:I.mode=Oe;break;case 3:$.msg="invalid block type",I.mode=Qe}W>>>=2,X-=2;break;case ie:for(W>>>=X&7,X-=X&7;X<32;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if((W&65535)!==(W>>>16^65535)){$.msg="invalid stored block lengths",I.mode=Qe;break}if(I.length=W&65535,W=0,X=0,I.mode=le,ne===T)break e;case le:I.mode=Se;case Se:if(Ae=I.length,Ae){if(Ae>te&&(Ae=te),Ae>O&&(Ae=O),Ae===0)break e;s.arraySet(Be,he,_,Ae,Q),te-=Ae,_+=Ae,O-=Ae,Q+=Ae,I.length-=Ae;break}I.mode=Me;break;case Oe:for(;X<14;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(I.nlen=(W&31)+257,W>>>=5,X-=5,I.ndist=(W&31)+1,W>>>=5,X-=5,I.ncode=(W&15)+4,W>>>=4,X-=4,I.nlen>286||I.ndist>30){$.msg="too many length or distance symbols",I.mode=Qe;break}I.have=0,I.mode=Ke;case Ke:for(;I.have<I.ncode;){for(;X<3;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}I.lens[to[I.have++]]=W&7,W>>>=3,X-=3}for(;I.have<19;)I.lens[to[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,kr={bits:I.lenbits},zn=c(d,I.lens,0,19,I.lencode,0,I.work,kr),I.lenbits=kr.bits,zn){$.msg="invalid code lengths set",I.mode=Qe;break}I.have=0,I.mode=ot;case ot:for(;I.have<I.nlen+I.ndist;){for(;Nt=I.lencode[W&(1<<I.lenbits)-1],it=Nt>>>24,Xt=Nt>>>16&255,dn=Nt&65535,!(it<=X);){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(dn<16)W>>>=it,X-=it,I.lens[I.have++]=dn;else{if(dn===16){for(ur=it+2;X<ur;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(W>>>=it,X-=it,I.have===0){$.msg="invalid bit length repeat",I.mode=Qe;break}Kt=I.lens[I.have-1],Ae=3+(W&3),W>>>=2,X-=2}else if(dn===17){for(ur=it+3;X<ur;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}W>>>=it,X-=it,Kt=0,Ae=3+(W&7),W>>>=3,X-=3}else{for(ur=it+7;X<ur;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}W>>>=it,X-=it,Kt=0,Ae=11+(W&127),W>>>=7,X-=7}if(I.have+Ae>I.nlen+I.ndist){$.msg="invalid bit length repeat",I.mode=Qe;break}for(;Ae--;)I.lens[I.have++]=Kt}}if(I.mode===Qe)break;if(I.lens[256]===0){$.msg="invalid code -- missing end-of-block",I.mode=Qe;break}if(I.lenbits=9,kr={bits:I.lenbits},zn=c(p,I.lens,0,I.nlen,I.lencode,0,I.work,kr),I.lenbits=kr.bits,zn){$.msg="invalid literal/lengths set",I.mode=Qe;break}if(I.distbits=6,I.distcode=I.distdyn,kr={bits:I.distbits},zn=c(m,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,kr),I.distbits=kr.bits,zn){$.msg="invalid distances set",I.mode=Qe;break}if(I.mode=vt,ne===T)break e;case vt:I.mode=$e;case $e:if(te>=6&&O>=258){$.next_out=Q,$.avail_out=O,$.next_in=_,$.avail_in=te,I.hold=W,I.bits=X,f($,be),Q=$.next_out,Be=$.output,O=$.avail_out,_=$.next_in,he=$.input,te=$.avail_in,W=I.hold,X=I.bits,I.mode===Me&&(I.back=-1);break}for(I.back=0;Nt=I.lencode[W&(1<<I.lenbits)-1],it=Nt>>>24,Xt=Nt>>>16&255,dn=Nt&65535,!(it<=X);){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(Xt&&(Xt&240)===0){for(xn=it,_s=Xt,ji=dn;Nt=I.lencode[ji+((W&(1<<xn+_s)-1)>>xn)],it=Nt>>>24,Xt=Nt>>>16&255,dn=Nt&65535,!(xn+it<=X);){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}W>>>=xn,X-=xn,I.back+=xn}if(W>>>=it,X-=it,I.back+=it,I.length=dn,Xt===0){I.mode=lt;break}if(Xt&32){I.back=-1,I.mode=Me;break}if(Xt&64){$.msg="invalid literal/length code",I.mode=Qe;break}I.extra=Xt&15,I.mode=_t;case _t:if(I.extra){for(ur=I.extra;X<ur;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}I.length+=W&(1<<I.extra)-1,W>>>=I.extra,X-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=$t;case $t:for(;Nt=I.distcode[W&(1<<I.distbits)-1],it=Nt>>>24,Xt=Nt>>>16&255,dn=Nt&65535,!(it<=X);){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if((Xt&240)===0){for(xn=it,_s=Xt,ji=dn;Nt=I.distcode[ji+((W&(1<<xn+_s)-1)>>xn)],it=Nt>>>24,Xt=Nt>>>16&255,dn=Nt&65535,!(xn+it<=X);){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}W>>>=xn,X-=xn,I.back+=xn}if(W>>>=it,X-=it,I.back+=it,Xt&64){$.msg="invalid distance code",I.mode=Qe;break}I.offset=dn,I.extra=Xt&15,I.mode=ut;case ut:if(I.extra){for(ur=I.extra;X<ur;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}I.offset+=W&(1<<I.extra)-1,W>>>=I.extra,X-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){$.msg="invalid distance too far back",I.mode=Qe;break}I.mode=Tt;case Tt:if(O===0)break e;if(Ae=be-O,I.offset>Ae){if(Ae=I.offset-Ae,Ae>I.whave&&I.sane){$.msg="invalid distance too far back",I.mode=Qe;break}Ae>I.wnext?(Ae-=I.wnext,nt=I.wsize-Ae):nt=I.wnext-Ae,Ae>I.length&&(Ae=I.length),Cr=I.window}else Cr=Be,nt=Q-I.offset,Ae=I.length;Ae>O&&(Ae=O),O-=Ae,I.length-=Ae;do Be[Q++]=Cr[nt++];while(--Ae);I.length===0&&(I.mode=$e);break;case lt:if(O===0)break e;Be[Q++]=I.length,O--,I.mode=$e;break;case St:if(I.wrap){for(;X<32;){if(te===0)break e;te--,W|=he[_++]<<X,X+=8}if(be-=O,$.total_out+=be,I.total+=be,be&&($.adler=I.check=I.flags?u(I.check,Be,be,Q-be):o(I.check,Be,be,Q-be)),be=O,(I.flags?W:kn(W))!==I.check){$.msg="incorrect data check",I.mode=Qe;break}W=0,X=0}I.mode=It;case It:if(I.wrap&&I.flags){for(;X<32;){if(te===0)break e;te--,W+=he[_++]<<X,X+=8}if(W!==(I.total&4294967295)){$.msg="incorrect length check",I.mode=Qe;break}W=0,X=0}I.mode=Pn;case Pn:zn=v;break e;case Qe:zn=C;break e;case en:return S;case Sr:default:return x}return $.next_out=Q,$.avail_out=O,$.next_in=_,$.avail_in=te,I.hold=W,I.bits=X,(I.wsize||be!==$.avail_out&&I.mode<Qe&&(I.mode<St||ne!==E))&&Ur($,$.output,$.next_out,be-$.avail_out),Pe-=$.avail_in,be-=$.avail_out,$.total_in+=Pe,$.total_out+=be,I.total+=be,I.wrap&&be&&($.adler=I.check=I.flags?u(I.check,Be,be,$.next_out-be):o(I.check,Be,be,$.next_out-be)),$.data_type=I.bits+(I.last?64:0)+(I.mode===Me?128:0)+(I.mode===vt||I.mode===le?256:0),(Pe===0&&be===0||ne===E)&&zn===g&&(zn=A),zn}function fe($){if(!$||!$.state)return x;var ne=$.state;return ne.window&&(ne.window=null),$.state=null,g}function ve($,ne){var I;return!$||!$.state||(I=$.state,(I.wrap&2)===0)?x:(I.head=ne,ne.done=!1,g)}function Ie($,ne){var I=ne.length,he,Be,_;return!$||!$.state||(he=$.state,he.wrap!==0&&he.mode!==ye)?x:he.mode===ye&&(Be=1,Be=o(Be,ne,I,0),Be!==he.check)?C:(_=Ur($,ne,I,I),_?(he.mode=en,S):(he.havedict=1,g))}i.inflateReset=an,i.inflateReset2=Dn,i.inflateResetKeep=br,i.inflateInit=wn,i.inflateInit2=Zn,i.inflate=D,i.inflateEnd=fe,i.inflateGetHeader=ve,i.inflateSetDictionary=Ie,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=15,u=852,f=592,c=0,d=1,p=2,m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],E=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(v,y,x,C,S,A,N,z){var F=z.bits,H=0,ee=0,Z=0,ae=0,ke=0,ce=0,xe=0,we=0,ye=0,Me=0,Ve,ie,le,Se,Oe,Ke=null,ot=0,vt,$e=new s.Buf16(o+1),_t=new s.Buf16(o+1),$t=null,ut=0,Tt,lt,St;for(H=0;H<=o;H++)$e[H]=0;for(ee=0;ee<C;ee++)$e[y[x+ee]]++;for(ke=F,ae=o;ae>=1&&$e[ae]===0;ae--);if(ke>ae&&(ke=ae),ae===0)return S[A++]=1<<24|64<<16|0,S[A++]=1<<24|64<<16|0,z.bits=1,0;for(Z=1;Z<ae&&$e[Z]===0;Z++);for(ke<Z&&(ke=Z),we=1,H=1;H<=o;H++)if(we<<=1,we-=$e[H],we<0)return-1;if(we>0&&(v===c||ae!==1))return-1;for(_t[1]=0,H=1;H<o;H++)_t[H+1]=_t[H]+$e[H];for(ee=0;ee<C;ee++)y[x+ee]!==0&&(N[_t[y[x+ee]]++]=ee);if(v===c?(Ke=$t=N,vt=19):v===d?(Ke=m,ot-=257,$t=E,ut-=257,vt=256):(Ke=b,$t=T,vt=-1),Me=0,ee=0,H=Z,Oe=A,ce=ke,xe=0,le=-1,ye=1<<ke,Se=ye-1,v===d&&ye>u||v===p&&ye>f)return 1;for(;;){Tt=H-xe,N[ee]<vt?(lt=0,St=N[ee]):N[ee]>vt?(lt=$t[ut+N[ee]],St=Ke[ot+N[ee]]):(lt=32+64,St=0),Ve=1<<H-xe,ie=1<<ce,Z=ie;do ie-=Ve,S[Oe+(Me>>xe)+ie]=Tt<<24|lt<<16|St|0;while(ie!==0);for(Ve=1<<H-1;Me&Ve;)Ve>>=1;if(Ve!==0?(Me&=Ve-1,Me+=Ve):Me=0,ee++,--$e[H]===0){if(H===ae)break;H=y[x+N[ee]]}if(H>ke&&(Me&Se)!==le){for(xe===0&&(xe=ke),Oe+=Z,ce=H-xe,we=1<<ce;ce+xe<ae&&(we-=$e[ce+xe],!(we<=0));)ce++,we<<=1;if(ye+=1<<ce,v===d&&ye>u||v===p&&ye>f)return 1;le=Me&Se,S[le]=ke<<24|ce<<16|Oe-A|0}}return Me!==0&&(S[Oe+Me]=H-xe<<24|64<<16|0),z.bits=ke,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=4,u=0,f=1,c=2;function d(D){for(var fe=D.length;--fe>=0;)D[fe]=0}var p=0,m=1,E=2,b=3,T=258,g=29,v=256,y=v+1+g,x=30,C=19,S=2*y+1,A=15,N=16,z=7,F=256,H=16,ee=17,Z=18,ae=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ke=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],we=512,ye=new Array((y+2)*2);d(ye);var Me=new Array(x*2);d(Me);var Ve=new Array(we);d(Ve);var ie=new Array(T-b+1);d(ie);var le=new Array(g);d(le);var Se=new Array(x);d(Se);function Oe(D,fe,ve,Ie,$){this.static_tree=D,this.extra_bits=fe,this.extra_base=ve,this.elems=Ie,this.max_length=$,this.has_stree=D&&D.length}var Ke,ot,vt;function $e(D,fe){this.dyn_tree=D,this.max_code=0,this.stat_desc=fe}function _t(D){return D<256?Ve[D]:Ve[256+(D>>>7)]}function $t(D,fe){D.pending_buf[D.pending++]=fe&255,D.pending_buf[D.pending++]=fe>>>8&255}function ut(D,fe,ve){D.bi_valid>N-ve?(D.bi_buf|=fe<<D.bi_valid&65535,$t(D,D.bi_buf),D.bi_buf=fe>>N-D.bi_valid,D.bi_valid+=ve-N):(D.bi_buf|=fe<<D.bi_valid&65535,D.bi_valid+=ve)}function Tt(D,fe,ve){ut(D,ve[fe*2],ve[fe*2+1])}function lt(D,fe){var ve=0;do ve|=D&1,D>>>=1,ve<<=1;while(--fe>0);return ve>>>1}function St(D){D.bi_valid===16?($t(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):D.bi_valid>=8&&(D.pending_buf[D.pending++]=D.bi_buf&255,D.bi_buf>>=8,D.bi_valid-=8)}function It(D,fe){var ve=fe.dyn_tree,Ie=fe.max_code,$=fe.stat_desc.static_tree,ne=fe.stat_desc.has_stree,I=fe.stat_desc.extra_bits,he=fe.stat_desc.extra_base,Be=fe.stat_desc.max_length,_,Q,te,O,W,X,Pe=0;for(O=0;O<=A;O++)D.bl_count[O]=0;for(ve[D.heap[D.heap_max]*2+1]=0,_=D.heap_max+1;_<S;_++)Q=D.heap[_],O=ve[ve[Q*2+1]*2+1]+1,O>Be&&(O=Be,Pe++),ve[Q*2+1]=O,!(Q>Ie)&&(D.bl_count[O]++,W=0,Q>=he&&(W=I[Q-he]),X=ve[Q*2],D.opt_len+=X*(O+W),ne&&(D.static_len+=X*($[Q*2+1]+W)));if(Pe!==0){do{for(O=Be-1;D.bl_count[O]===0;)O--;D.bl_count[O]--,D.bl_count[O+1]+=2,D.bl_count[Be]--,Pe-=2}while(Pe>0);for(O=Be;O!==0;O--)for(Q=D.bl_count[O];Q!==0;)te=D.heap[--_],!(te>Ie)&&(ve[te*2+1]!==O&&(D.opt_len+=(O-ve[te*2+1])*ve[te*2],ve[te*2+1]=O),Q--)}}function Pn(D,fe,ve){var Ie=new Array(A+1),$=0,ne,I;for(ne=1;ne<=A;ne++)Ie[ne]=$=$+ve[ne-1]<<1;for(I=0;I<=fe;I++){var he=D[I*2+1];he!==0&&(D[I*2]=lt(Ie[he]++,he))}}function Qe(){var D,fe,ve,Ie,$,ne=new Array(A+1);for(ve=0,Ie=0;Ie<g-1;Ie++)for(le[Ie]=ve,D=0;D<1<<ae[Ie];D++)ie[ve++]=Ie;for(ie[ve-1]=Ie,$=0,Ie=0;Ie<16;Ie++)for(Se[Ie]=$,D=0;D<1<<ke[Ie];D++)Ve[$++]=Ie;for($>>=7;Ie<x;Ie++)for(Se[Ie]=$<<7,D=0;D<1<<ke[Ie]-7;D++)Ve[256+$++]=Ie;for(fe=0;fe<=A;fe++)ne[fe]=0;for(D=0;D<=143;)ye[D*2+1]=8,D++,ne[8]++;for(;D<=255;)ye[D*2+1]=9,D++,ne[9]++;for(;D<=279;)ye[D*2+1]=7,D++,ne[7]++;for(;D<=287;)ye[D*2+1]=8,D++,ne[8]++;for(Pn(ye,y+1,ne),D=0;D<x;D++)Me[D*2+1]=5,Me[D*2]=lt(D,5);Ke=new Oe(ye,ae,v+1,y,A),ot=new Oe(Me,ke,0,x,A),vt=new Oe(new Array(0),ce,0,C,z)}function en(D){var fe;for(fe=0;fe<y;fe++)D.dyn_ltree[fe*2]=0;for(fe=0;fe<x;fe++)D.dyn_dtree[fe*2]=0;for(fe=0;fe<C;fe++)D.bl_tree[fe*2]=0;D.dyn_ltree[F*2]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function Sr(D){D.bi_valid>8?$t(D,D.bi_buf):D.bi_valid>0&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function tn(D,fe,ve,Ie){Sr(D),Ie&&($t(D,ve),$t(D,~ve)),s.arraySet(D.pending_buf,D.window,fe,ve,D.pending),D.pending+=ve}function Ct(D,fe,ve,Ie){var $=fe*2,ne=ve*2;return D[$]<D[ne]||D[$]===D[ne]&&Ie[fe]<=Ie[ve]}function wt(D,fe,ve){for(var Ie=D.heap[ve],$=ve<<1;$<=D.heap_len&&($<D.heap_len&&Ct(fe,D.heap[$+1],D.heap[$],D.depth)&&$++,!Ct(fe,Ie,D.heap[$],D.depth));)D.heap[ve]=D.heap[$],ve=$,$<<=1;D.heap[ve]=Ie}function Ye(D,fe,ve){var Ie,$,ne=0,I,he;if(D.last_lit!==0)do Ie=D.pending_buf[D.d_buf+ne*2]<<8|D.pending_buf[D.d_buf+ne*2+1],$=D.pending_buf[D.l_buf+ne],ne++,Ie===0?Tt(D,$,fe):(I=ie[$],Tt(D,I+v+1,fe),he=ae[I],he!==0&&($-=le[I],ut(D,$,he)),Ie--,I=_t(Ie),Tt(D,I,ve),he=ke[I],he!==0&&(Ie-=Se[I],ut(D,Ie,he)));while(ne<D.last_lit);Tt(D,F,fe)}function kn(D,fe){var ve=fe.dyn_tree,Ie=fe.stat_desc.static_tree,$=fe.stat_desc.has_stree,ne=fe.stat_desc.elems,I,he,Be=-1,_;for(D.heap_len=0,D.heap_max=S,I=0;I<ne;I++)ve[I*2]!==0?(D.heap[++D.heap_len]=Be=I,D.depth[I]=0):ve[I*2+1]=0;for(;D.heap_len<2;)_=D.heap[++D.heap_len]=Be<2?++Be:0,ve[_*2]=1,D.depth[_]=0,D.opt_len--,$&&(D.static_len-=Ie[_*2+1]);for(fe.max_code=Be,I=D.heap_len>>1;I>=1;I--)wt(D,ve,I);_=ne;do I=D.heap[1],D.heap[1]=D.heap[D.heap_len--],wt(D,ve,1),he=D.heap[1],D.heap[--D.heap_max]=I,D.heap[--D.heap_max]=he,ve[_*2]=ve[I*2]+ve[he*2],D.depth[_]=(D.depth[I]>=D.depth[he]?D.depth[I]:D.depth[he])+1,ve[I*2+1]=ve[he*2+1]=_,D.heap[1]=_++,wt(D,ve,1);while(D.heap_len>=2);D.heap[--D.heap_max]=D.heap[1],It(D,fe),Pn(ve,Be,D.bl_count)}function Gn(D,fe,ve){var Ie,$=-1,ne,I=fe[0*2+1],he=0,Be=7,_=4;for(I===0&&(Be=138,_=3),fe[(ve+1)*2+1]=65535,Ie=0;Ie<=ve;Ie++)ne=I,I=fe[(Ie+1)*2+1],!(++he<Be&&ne===I)&&(he<_?D.bl_tree[ne*2]+=he:ne!==0?(ne!==$&&D.bl_tree[ne*2]++,D.bl_tree[H*2]++):he<=10?D.bl_tree[ee*2]++:D.bl_tree[Z*2]++,he=0,$=ne,I===0?(Be=138,_=3):ne===I?(Be=6,_=3):(Be=7,_=4))}function br(D,fe,ve){var Ie,$=-1,ne,I=fe[0*2+1],he=0,Be=7,_=4;for(I===0&&(Be=138,_=3),Ie=0;Ie<=ve;Ie++)if(ne=I,I=fe[(Ie+1)*2+1],!(++he<Be&&ne===I)){if(he<_)do Tt(D,ne,D.bl_tree);while(--he!==0);else ne!==0?(ne!==$&&(Tt(D,ne,D.bl_tree),he--),Tt(D,H,D.bl_tree),ut(D,he-3,2)):he<=10?(Tt(D,ee,D.bl_tree),ut(D,he-3,3)):(Tt(D,Z,D.bl_tree),ut(D,he-11,7));he=0,$=ne,I===0?(Be=138,_=3):ne===I?(Be=6,_=3):(Be=7,_=4)}}function an(D){var fe;for(Gn(D,D.dyn_ltree,D.l_desc.max_code),Gn(D,D.dyn_dtree,D.d_desc.max_code),kn(D,D.bl_desc),fe=C-1;fe>=3&&D.bl_tree[xe[fe]*2+1]===0;fe--);return D.opt_len+=3*(fe+1)+5+5+4,fe}function Dn(D,fe,ve,Ie){var $;for(ut(D,fe-257,5),ut(D,ve-1,5),ut(D,Ie-4,4),$=0;$<Ie;$++)ut(D,D.bl_tree[xe[$]*2+1],3);br(D,D.dyn_ltree,fe-1),br(D,D.dyn_dtree,ve-1)}function Zn(D){var fe=4093624447,ve;for(ve=0;ve<=31;ve++,fe>>>=1)if(fe&1&&D.dyn_ltree[ve*2]!==0)return u;if(D.dyn_ltree[9*2]!==0||D.dyn_ltree[10*2]!==0||D.dyn_ltree[13*2]!==0)return f;for(ve=32;ve<v;ve++)if(D.dyn_ltree[ve*2]!==0)return f;return u}var wn=!1;function Tr(D){wn||(Qe(),wn=!0),D.l_desc=new $e(D.dyn_ltree,Ke),D.d_desc=new $e(D.dyn_dtree,ot),D.bl_desc=new $e(D.bl_tree,vt),D.bi_buf=0,D.bi_valid=0,en(D)}function Xn(D,fe,ve,Ie){ut(D,(p<<1)+(Ie?1:0),3),tn(D,fe,ve,!0)}function Zt(D){ut(D,m<<1,3),Tt(D,F,ye),St(D)}function En(D,fe,ve,Ie){var $,ne,I=0;D.level>0?(D.strm.data_type===c&&(D.strm.data_type=Zn(D)),kn(D,D.l_desc),kn(D,D.d_desc),I=an(D),$=D.opt_len+3+7>>>3,ne=D.static_len+3+7>>>3,ne<=$&&($=ne)):$=ne=ve+5,ve+4<=$&&fe!==-1?Xn(D,fe,ve,Ie):D.strategy===o||ne===$?(ut(D,(m<<1)+(Ie?1:0),3),Ye(D,ye,Me)):(ut(D,(E<<1)+(Ie?1:0),3),Dn(D,D.l_desc.max_code+1,D.d_desc.max_code+1,I+1),Ye(D,D.dyn_ltree,D.dyn_dtree)),en(D),Ie&&Sr(D)}function Ur(D,fe,ve){return D.pending_buf[D.d_buf+D.last_lit*2]=fe>>>8&255,D.pending_buf[D.d_buf+D.last_lit*2+1]=fe&255,D.pending_buf[D.l_buf+D.last_lit]=ve&255,D.last_lit++,fe===0?D.dyn_ltree[ve*2]++:(D.matches++,fe--,D.dyn_ltree[(ie[ve]+v+1)*2]++,D.dyn_dtree[_t(fe)*2]++),D.last_lit===D.lit_bufsize-1}i._tr_init=Tr,i._tr_stored_block=Xn,i._tr_flush_block=En,i._tr_tally=Ur,i._tr_align=Zt},{"../utils/common":41}],53:[function(n,r,i){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=s},{}],54:[function(n,r,i){r.exports=typeof setImmediate=="function"?setImmediate:function(){var o=[].slice.apply(arguments);o.splice(1,0,0),setTimeout.apply(null,o)}},{}]},{},[10])(10)})})(pT);var O3=pT.exports;class R3{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new O3}catch{throw new Error("JSZip lib not loaded")}}open(e,n){return this.zip.loadAsync(e,{base64:n})}openUrl(e,n){return nf(e,"binary").then(function(r){return this.zip.loadAsync(r,{base64:n})}.bind(this))}request(e,n){var r=new dt,i,s=new hs(e);return n||(n=s.extension),n=="blob"?i=this.getBlob(e):i=this.getText(e),i?i.then(function(o){let u=this.handleResponse(o,n);r.resolve(u)}.bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):Qh(n)?r=us(e,"text/xml"):n=="xhtml"?r=us(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=us(e,"text/html"):r=e,r}getBlob(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||qo.lookup(i.name),i.async("uint8array").then(function(s){return new Blob([s],{type:n})})}getText(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return i.async("string").then(function(s){return s})}getBase64(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||qo.lookup(i.name),i.async("base64").then(function(s){return"data:"+n+";base64,"+s})}createUrl(e,n){var r=new dt,i=window.URL||window.webkitURL||window.mozURL,s,o,u=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(u?(o=this.getBase64(e),o&&o.then(function(f){this.urlCache[e]=f,r.resolve(f)}.bind(this))):(o=this.getBlob(e),o&&o.then(function(f){s=i.createObjectURL(f),this.urlCache[e]=s,r.resolve(s)}.bind(this))),o||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var vT={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,d){if(!i[c]){if(!r[c]){var p=typeof Ms=="function"&&Ms;if(!d&&p)return p(c,!0);if(u)return u(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var E=i[c]={exports:{}};r[c][0].call(E.exports,function(b){var T=r[c][1][b];return o(T||b)},E,E.exports,n,r,i,s)}return i[c].exports}for(var u=typeof Ms=="function"&&Ms,f=0;f<s.length;f++)o(s[f]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,u;if(o){var f=0,c=new o(b),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),u=function(){d.data=f=++f%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var p=new s.MessageChannel;p.port1.onmessage=b,u=function(){p.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?u=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){b(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:u=function(){setTimeout(b,0)};var m,E=[];function b(){m=!0;for(var g,v,y=E.length;y;){for(v=E,E=[],g=-1;++g<y;)v[g]();y=E.length}m=!1}r.exports=T;function T(g){E.push(g)===1&&!m&&u()}}).call(this,typeof Un!="undefined"?Un:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var u={},f=["REJECTED"],c=["FULFILLED"],d=["PENDING"];r.exports=p;function p(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,S!==o&&T(this,S)}p.prototype.catch=function(S){return this.then(null,S)},p.prototype.then=function(S,A){if(typeof S!="function"&&this.state===c||typeof A!="function"&&this.state===f)return this;var N=new this.constructor(o);if(this.state!==d){var z=this.state===c?S:A;E(N,z,this.outcome)}else this.queue.push(new m(N,S,A));return N};function m(S,A,N){this.promise=S,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(S){u.resolve(this.promise,S)},m.prototype.otherCallFulfilled=function(S){E(this.promise,this.onFulfilled,S)},m.prototype.callRejected=function(S){u.reject(this.promise,S)},m.prototype.otherCallRejected=function(S){E(this.promise,this.onRejected,S)};function E(S,A,N){s(function(){var z;try{z=A(N)}catch(F){return u.reject(S,F)}z===S?u.reject(S,new TypeError("Cannot resolve promise with itself")):u.resolve(S,z)})}u.resolve=function(S,A){var N=g(b,A);if(N.status==="error")return u.reject(S,N.value);var z=N.value;if(z)T(S,z);else{S.state=c,S.outcome=A;for(var F=-1,H=S.queue.length;++F<H;)S.queue[F].callFulfilled(A)}return S},u.reject=function(S,A){S.state=f,S.outcome=A;for(var N=-1,z=S.queue.length;++N<z;)S.queue[N].callRejected(A);return S};function b(S){var A=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof A=="function")return function(){A.apply(S,arguments)}}function T(S,A){var N=!1;function z(Z){N||(N=!0,u.reject(S,Z))}function F(Z){N||(N=!0,u.resolve(S,Z))}function H(){A(F,z)}var ee=g(H);ee.status==="error"&&z(ee.value)}function g(S,A){var N={};try{N.value=S(A),N.status="success"}catch(z){N.status="error",N.value=z}return N}p.resolve=v;function v(S){return S instanceof this?S:u.resolve(new this(o),S)}p.reject=y;function y(S){var A=new this(o);return u.reject(A,S)}p.all=x;function x(S){var A=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=S.length,z=!1;if(!N)return this.resolve([]);for(var F=new Array(N),H=0,ee=-1,Z=new this(o);++ee<N;)ae(S[ee],ee);return Z;function ae(ke,ce){A.resolve(ke).then(xe,function(we){z||(z=!0,u.reject(Z,we))});function xe(we){F[ce]=we,++H===N&&!z&&(z=!0,u.resolve(Z,F))}}}p.race=C;function C(S){var A=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=S.length,z=!1;if(!N)return this.resolve([]);for(var F=-1,H=new this(o);++F<N;)ee(S[F]);return H;function ee(Z){A.resolve(Z).then(function(ae){z||(z=!0,u.resolve(H,ae))},function(ae){z||(z=!0,u.reject(H,ae))})}}},{"1":1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Un!="undefined"?Un:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};function o(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var f=u();function c(){try{if(!f||!f.open)return!1;var L=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),U=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!L||U)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function d(L,U){L=L||[],U=U||{};try{return new Blob(L,U)}catch(K){if(K.name!=="TypeError")throw K;for(var M=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,V=new M,G=0;G<L.length;G+=1)V.append(L[G]);return V.getBlob(U.type)}}typeof Promise=="undefined"&&n(3);var p=Promise;function m(L,U){U&&L.then(function(M){U(null,M)},function(M){U(M)})}function E(L,U,M){typeof U=="function"&&L.then(U),typeof M=="function"&&L.catch(M)}function b(L){return typeof L!="string"&&(console.warn(L+" used as a key, but it is not a string."),L=String(L)),L}function T(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",v=void 0,y={},x=Object.prototype.toString,C="readonly",S="readwrite";function A(L){for(var U=L.length,M=new ArrayBuffer(U),V=new Uint8Array(M),G=0;G<U;G++)V[G]=L.charCodeAt(G);return M}function N(L){return new p(function(U){var M=L.transaction(g,S),V=d([""]);M.objectStore(g).put(V,"key"),M.onabort=function(G){G.preventDefault(),G.stopPropagation(),U(!1)},M.oncomplete=function(){var G=navigator.userAgent.match(/Chrome\/(\d+)/),K=navigator.userAgent.match(/Edge\//);U(K||!G||parseInt(G[1],10)>=43)}}).catch(function(){return!1})}function z(L){return typeof v=="boolean"?p.resolve(v):N(L).then(function(U){return v=U,v})}function F(L){var U=y[L.name],M={};M.promise=new p(function(V,G){M.resolve=V,M.reject=G}),U.deferredOperations.push(M),U.dbReady?U.dbReady=U.dbReady.then(function(){return M.promise}):U.dbReady=M.promise}function H(L){var U=y[L.name],M=U.deferredOperations.pop();if(M)return M.resolve(),M.promise}function ee(L,U){var M=y[L.name],V=M.deferredOperations.pop();if(V)return V.reject(U),V.promise}function Z(L,U){return new p(function(M,V){if(y[L.name]=y[L.name]||le(),L.db)if(U)F(L),L.db.close();else return M(L.db);var G=[L.name];U&&G.push(L.version);var K=f.open.apply(f,G);U&&(K.onupgradeneeded=function(se){var pe=K.result;try{pe.createObjectStore(L.storeName),se.oldVersion<=1&&pe.createObjectStore(g)}catch(ge){if(ge.name==="ConstraintError")console.warn('The database "'+L.name+'" has been upgraded from version '+se.oldVersion+" to version "+se.newVersion+', but the storage "'+L.storeName+'" already exists.');else throw ge}}),K.onerror=function(se){se.preventDefault(),V(K.error)},K.onsuccess=function(){var se=K.result;se.onversionchange=function(pe){pe.target.close()},M(se),H(L)}})}function ae(L){return Z(L,!1)}function ke(L){return Z(L,!0)}function ce(L,U){if(!L.db)return!0;var M=!L.db.objectStoreNames.contains(L.storeName),V=L.version<L.db.version,G=L.version>L.db.version;if(V&&(L.version!==U&&console.warn('The database "'+L.name+`" can't be downgraded from version `+L.db.version+" to version "+L.version+"."),L.version=L.db.version),G||M){if(M){var K=L.db.version+1;K>L.version&&(L.version=K)}return!0}return!1}function xe(L){return new p(function(U,M){var V=new FileReader;V.onerror=M,V.onloadend=function(G){var K=btoa(G.target.result||"");U({__local_forage_encoded_blob:!0,data:K,type:L.type})},V.readAsBinaryString(L)})}function we(L){var U=A(atob(L.data));return d([U],{type:L.type})}function ye(L){return L&&L.__local_forage_encoded_blob}function Me(L){var U=this,M=U._initReady().then(function(){var V=y[U._dbInfo.name];if(V&&V.dbReady)return V.dbReady});return E(M,L,L),M}function Ve(L){F(L);for(var U=y[L.name],M=U.forages,V=0;V<M.length;V++){var G=M[V];G._dbInfo.db&&(G._dbInfo.db.close(),G._dbInfo.db=null)}return L.db=null,ae(L).then(function(K){return L.db=K,ce(L)?ke(L):K}).then(function(K){L.db=U.db=K;for(var se=0;se<M.length;se++)M[se]._dbInfo.db=K}).catch(function(K){throw ee(L,K),K})}function ie(L,U,M,V){V===void 0&&(V=1);try{var G=L.db.transaction(L.storeName,U);M(null,G)}catch(K){if(V>0&&(!L.db||K.name==="InvalidStateError"||K.name==="NotFoundError"))return p.resolve().then(function(){if(!L.db||K.name==="NotFoundError"&&!L.db.objectStoreNames.contains(L.storeName)&&L.version<=L.db.version)return L.db&&(L.version=L.db.version+1),ke(L)}).then(function(){return Ve(L).then(function(){ie(L,U,M,V-1)})}).catch(M);M(K)}}function le(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Se(L){var U=this,M={db:null};if(L)for(var V in L)M[V]=L[V];var G=y[M.name];G||(G=le(),y[M.name]=G),G.forages.push(U),U._initReady||(U._initReady=U.ready,U.ready=Me);var K=[];function se(){return p.resolve()}for(var pe=0;pe<G.forages.length;pe++){var ge=G.forages[pe];ge!==U&&K.push(ge._initReady().catch(se))}var me=G.forages.slice(0);return p.all(K).then(function(){return M.db=G.db,ae(M)}).then(function(Ee){return M.db=Ee,ce(M,U._defaultConfig.version)?ke(M):Ee}).then(function(Ee){M.db=G.db=Ee,U._dbInfo=M;for(var De=0;De<me.length;De++){var et=me[De];et!==U&&(et._dbInfo.db=M.db,et._dbInfo.version=M.version)}})}function Oe(L,U){var M=this;L=b(L);var V=new p(function(G,K){M.ready().then(function(){ie(M._dbInfo,C,function(se,pe){if(se)return K(se);try{var ge=pe.objectStore(M._dbInfo.storeName),me=ge.get(L);me.onsuccess=function(){var Ee=me.result;Ee===void 0&&(Ee=null),ye(Ee)&&(Ee=we(Ee)),G(Ee)},me.onerror=function(){K(me.error)}}catch(Ee){K(Ee)}})}).catch(K)});return m(V,U),V}function Ke(L,U){var M=this,V=new p(function(G,K){M.ready().then(function(){ie(M._dbInfo,C,function(se,pe){if(se)return K(se);try{var ge=pe.objectStore(M._dbInfo.storeName),me=ge.openCursor(),Ee=1;me.onsuccess=function(){var De=me.result;if(De){var et=De.value;ye(et)&&(et=we(et));var gt=L(et,De.key,Ee++);gt!==void 0?G(gt):De.continue()}else G()},me.onerror=function(){K(me.error)}}catch(De){K(De)}})}).catch(K)});return m(V,U),V}function ot(L,U,M){var V=this;L=b(L);var G=new p(function(K,se){var pe;V.ready().then(function(){return pe=V._dbInfo,x.call(U)==="[object Blob]"?z(pe.db).then(function(ge){return ge?U:xe(U)}):U}).then(function(ge){ie(V._dbInfo,S,function(me,Ee){if(me)return se(me);try{var De=Ee.objectStore(V._dbInfo.storeName);ge===null&&(ge=void 0);var et=De.put(ge,L);Ee.oncomplete=function(){ge===void 0&&(ge=null),K(ge)},Ee.onabort=Ee.onerror=function(){var gt=et.error?et.error:et.transaction.error;se(gt)}}catch(gt){se(gt)}})}).catch(se)});return m(G,M),G}function vt(L,U){var M=this;L=b(L);var V=new p(function(G,K){M.ready().then(function(){ie(M._dbInfo,S,function(se,pe){if(se)return K(se);try{var ge=pe.objectStore(M._dbInfo.storeName),me=ge.delete(L);pe.oncomplete=function(){G()},pe.onerror=function(){K(me.error)},pe.onabort=function(){var Ee=me.error?me.error:me.transaction.error;K(Ee)}}catch(Ee){K(Ee)}})}).catch(K)});return m(V,U),V}function $e(L){var U=this,M=new p(function(V,G){U.ready().then(function(){ie(U._dbInfo,S,function(K,se){if(K)return G(K);try{var pe=se.objectStore(U._dbInfo.storeName),ge=pe.clear();se.oncomplete=function(){V()},se.onabort=se.onerror=function(){var me=ge.error?ge.error:ge.transaction.error;G(me)}}catch(me){G(me)}})}).catch(G)});return m(M,L),M}function _t(L){var U=this,M=new p(function(V,G){U.ready().then(function(){ie(U._dbInfo,C,function(K,se){if(K)return G(K);try{var pe=se.objectStore(U._dbInfo.storeName),ge=pe.count();ge.onsuccess=function(){V(ge.result)},ge.onerror=function(){G(ge.error)}}catch(me){G(me)}})}).catch(G)});return m(M,L),M}function $t(L,U){var M=this,V=new p(function(G,K){if(L<0){G(null);return}M.ready().then(function(){ie(M._dbInfo,C,function(se,pe){if(se)return K(se);try{var ge=pe.objectStore(M._dbInfo.storeName),me=!1,Ee=ge.openKeyCursor();Ee.onsuccess=function(){var De=Ee.result;if(!De){G(null);return}L===0||me?G(De.key):(me=!0,De.advance(L))},Ee.onerror=function(){K(Ee.error)}}catch(De){K(De)}})}).catch(K)});return m(V,U),V}function ut(L){var U=this,M=new p(function(V,G){U.ready().then(function(){ie(U._dbInfo,C,function(K,se){if(K)return G(K);try{var pe=se.objectStore(U._dbInfo.storeName),ge=pe.openKeyCursor(),me=[];ge.onsuccess=function(){var Ee=ge.result;if(!Ee){V(me);return}me.push(Ee.key),Ee.continue()},ge.onerror=function(){G(ge.error)}}catch(Ee){G(Ee)}})}).catch(G)});return m(M,L),M}function Tt(L,U){U=T.apply(this,arguments);var M=this.config();L=typeof L!="function"&&L||{},L.name||(L.name=L.name||M.name,L.storeName=L.storeName||M.storeName);var V=this,G;if(!L.name)G=p.reject("Invalid arguments");else{var K=L.name===M.name&&V._dbInfo.db,se=K?p.resolve(V._dbInfo.db):ae(L).then(function(pe){var ge=y[L.name],me=ge.forages;ge.db=pe;for(var Ee=0;Ee<me.length;Ee++)me[Ee]._dbInfo.db=pe;return pe});L.storeName?G=se.then(function(pe){if(!!pe.objectStoreNames.contains(L.storeName)){var ge=pe.version+1;F(L);var me=y[L.name],Ee=me.forages;pe.close();for(var De=0;De<Ee.length;De++){var et=Ee[De];et._dbInfo.db=null,et._dbInfo.version=ge}var gt=new p(function(mt,Ht){var At=f.open(L.name,ge);At.onerror=function(Qn){var Es=At.result;Es.close(),Ht(Qn)},At.onupgradeneeded=function(){var Qn=At.result;Qn.deleteObjectStore(L.storeName)},At.onsuccess=function(){var Qn=At.result;Qn.close(),mt(Qn)}});return gt.then(function(mt){me.db=mt;for(var Ht=0;Ht<Ee.length;Ht++){var At=Ee[Ht];At._dbInfo.db=mt,H(At._dbInfo)}}).catch(function(mt){throw(ee(L,mt)||p.resolve()).catch(function(){}),mt})}}):G=se.then(function(pe){F(L);var ge=y[L.name],me=ge.forages;pe.close();for(var Ee=0;Ee<me.length;Ee++){var De=me[Ee];De._dbInfo.db=null}var et=new p(function(gt,mt){var Ht=f.deleteDatabase(L.name);Ht.onerror=function(){var At=Ht.result;At&&At.close(),mt(Ht.error)},Ht.onblocked=function(){console.warn('dropInstance blocked for database "'+L.name+'" until all open connections are closed')},Ht.onsuccess=function(){var At=Ht.result;At&&At.close(),gt(At)}});return et.then(function(gt){ge.db=gt;for(var mt=0;mt<me.length;mt++){var Ht=me[mt];H(Ht._dbInfo)}}).catch(function(gt){throw(ee(L,gt)||p.resolve()).catch(function(){}),gt})})}return m(G,U),G}var lt={_driver:"asyncStorage",_initStorage:Se,_support:c(),iterate:Ke,getItem:Oe,setItem:ot,removeItem:vt,clear:$e,length:_t,key:$t,keys:ut,dropInstance:Tt};function St(){return typeof openDatabase=="function"}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn="~~local_forage_type~",Qe=/^~~local_forage_type~([^~]+)~/,en="__lfsc__:",Sr=en.length,tn="arbf",Ct="blob",wt="si08",Ye="ui08",kn="uic8",Gn="si16",br="si32",an="ur16",Dn="ui32",Zn="fl32",wn="fl64",Tr=Sr+tn.length,Xn=Object.prototype.toString;function Zt(L){var U=L.length*.75,M=L.length,V,G=0,K,se,pe,ge;L[L.length-1]==="="&&(U--,L[L.length-2]==="="&&U--);var me=new ArrayBuffer(U),Ee=new Uint8Array(me);for(V=0;V<M;V+=4)K=It.indexOf(L[V]),se=It.indexOf(L[V+1]),pe=It.indexOf(L[V+2]),ge=It.indexOf(L[V+3]),Ee[G++]=K<<2|se>>4,Ee[G++]=(se&15)<<4|pe>>2,Ee[G++]=(pe&3)<<6|ge&63;return me}function En(L){var U=new Uint8Array(L),M="",V;for(V=0;V<U.length;V+=3)M+=It[U[V]>>2],M+=It[(U[V]&3)<<4|U[V+1]>>4],M+=It[(U[V+1]&15)<<2|U[V+2]>>6],M+=It[U[V+2]&63];return U.length%3===2?M=M.substring(0,M.length-1)+"=":U.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function Ur(L,U){var M="";if(L&&(M=Xn.call(L)),L&&(M==="[object ArrayBuffer]"||L.buffer&&Xn.call(L.buffer)==="[object ArrayBuffer]")){var V,G=en;L instanceof ArrayBuffer?(V=L,G+=tn):(V=L.buffer,M==="[object Int8Array]"?G+=wt:M==="[object Uint8Array]"?G+=Ye:M==="[object Uint8ClampedArray]"?G+=kn:M==="[object Int16Array]"?G+=Gn:M==="[object Uint16Array]"?G+=an:M==="[object Int32Array]"?G+=br:M==="[object Uint32Array]"?G+=Dn:M==="[object Float32Array]"?G+=Zn:M==="[object Float64Array]"?G+=wn:U(new Error("Failed to get type for BinaryArray"))),U(G+En(V))}else if(M==="[object Blob]"){var K=new FileReader;K.onload=function(){var se=Pn+L.type+"~"+En(this.result);U(en+Ct+se)},K.readAsArrayBuffer(L)}else try{U(JSON.stringify(L))}catch(se){console.error("Couldn't convert value into a JSON string: ",L),U(null,se)}}function D(L){if(L.substring(0,Sr)!==en)return JSON.parse(L);var U=L.substring(Tr),M=L.substring(Sr,Tr),V;if(M===Ct&&Qe.test(U)){var G=U.match(Qe);V=G[1],U=U.substring(G[0].length)}var K=Zt(U);switch(M){case tn:return K;case Ct:return d([K],{type:V});case wt:return new Int8Array(K);case Ye:return new Uint8Array(K);case kn:return new Uint8ClampedArray(K);case Gn:return new Int16Array(K);case an:return new Uint16Array(K);case br:return new Int32Array(K);case Dn:return new Uint32Array(K);case Zn:return new Float32Array(K);case wn:return new Float64Array(K);default:throw new Error("Unkown type: "+M)}}var fe={serialize:Ur,deserialize:D,stringToBuffer:Zt,bufferToString:En};function ve(L,U,M,V){L.executeSql("CREATE TABLE IF NOT EXISTS "+U.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,V)}function Ie(L){var U=this,M={db:null};if(L)for(var V in L)M[V]=typeof L[V]!="string"?L[V].toString():L[V];var G=new p(function(K,se){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(pe){return se(pe)}M.db.transaction(function(pe){ve(pe,M,function(){U._dbInfo=M,K()},function(ge,me){se(me)})},se)});return M.serializer=fe,G}function $(L,U,M,V,G,K){L.executeSql(M,V,G,function(se,pe){pe.code===pe.SYNTAX_ERR?se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[U.storeName],function(ge,me){me.rows.length?K(ge,pe):ve(ge,U,function(){ge.executeSql(M,V,G,K)},K)},K):K(se,pe)},K)}function ne(L,U){var M=this;L=b(L);var V=new p(function(G,K){M.ready().then(function(){var se=M._dbInfo;se.db.transaction(function(pe){$(pe,se,"SELECT * FROM "+se.storeName+" WHERE key = ? LIMIT 1",[L],function(ge,me){var Ee=me.rows.length?me.rows.item(0).value:null;Ee&&(Ee=se.serializer.deserialize(Ee)),G(Ee)},function(ge,me){K(me)})})}).catch(K)});return m(V,U),V}function I(L,U){var M=this,V=new p(function(G,K){M.ready().then(function(){var se=M._dbInfo;se.db.transaction(function(pe){$(pe,se,"SELECT * FROM "+se.storeName,[],function(ge,me){for(var Ee=me.rows,De=Ee.length,et=0;et<De;et++){var gt=Ee.item(et),mt=gt.value;if(mt&&(mt=se.serializer.deserialize(mt)),mt=L(mt,gt.key,et+1),mt!==void 0){G(mt);return}}G()},function(ge,me){K(me)})})}).catch(K)});return m(V,U),V}function he(L,U,M,V){var G=this;L=b(L);var K=new p(function(se,pe){G.ready().then(function(){U===void 0&&(U=null);var ge=U,me=G._dbInfo;me.serializer.serialize(U,function(Ee,De){De?pe(De):me.db.transaction(function(et){$(et,me,"INSERT OR REPLACE INTO "+me.storeName+" (key, value) VALUES (?, ?)",[L,Ee],function(){se(ge)},function(gt,mt){pe(mt)})},function(et){if(et.code===et.QUOTA_ERR){if(V>0){se(he.apply(G,[L,ge,M,V-1]));return}pe(et)}})})}).catch(pe)});return m(K,M),K}function Be(L,U,M){return he.apply(this,[L,U,M,1])}function _(L,U){var M=this;L=b(L);var V=new p(function(G,K){M.ready().then(function(){var se=M._dbInfo;se.db.transaction(function(pe){$(pe,se,"DELETE FROM "+se.storeName+" WHERE key = ?",[L],function(){G()},function(ge,me){K(me)})})}).catch(K)});return m(V,U),V}function Q(L){var U=this,M=new p(function(V,G){U.ready().then(function(){var K=U._dbInfo;K.db.transaction(function(se){$(se,K,"DELETE FROM "+K.storeName,[],function(){V()},function(pe,ge){G(ge)})})}).catch(G)});return m(M,L),M}function te(L){var U=this,M=new p(function(V,G){U.ready().then(function(){var K=U._dbInfo;K.db.transaction(function(se){$(se,K,"SELECT COUNT(key) as c FROM "+K.storeName,[],function(pe,ge){var me=ge.rows.item(0).c;V(me)},function(pe,ge){G(ge)})})}).catch(G)});return m(M,L),M}function O(L,U){var M=this,V=new p(function(G,K){M.ready().then(function(){var se=M._dbInfo;se.db.transaction(function(pe){$(pe,se,"SELECT key FROM "+se.storeName+" WHERE id = ? LIMIT 1",[L+1],function(ge,me){var Ee=me.rows.length?me.rows.item(0).key:null;G(Ee)},function(ge,me){K(me)})})}).catch(K)});return m(V,U),V}function W(L){var U=this,M=new p(function(V,G){U.ready().then(function(){var K=U._dbInfo;K.db.transaction(function(se){$(se,K,"SELECT key FROM "+K.storeName,[],function(pe,ge){for(var me=[],Ee=0;Ee<ge.rows.length;Ee++)me.push(ge.rows.item(Ee).key);V(me)},function(pe,ge){G(ge)})})}).catch(G)});return m(M,L),M}function X(L){return new p(function(U,M){L.transaction(function(V){V.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(G,K){for(var se=[],pe=0;pe<K.rows.length;pe++)se.push(K.rows.item(pe).name);U({db:L,storeNames:se})},function(G,K){M(K)})},function(V){M(V)})})}function Pe(L,U){U=T.apply(this,arguments);var M=this.config();L=typeof L!="function"&&L||{},L.name||(L.name=L.name||M.name,L.storeName=L.storeName||M.storeName);var V=this,G;return L.name?G=new p(function(K){var se;L.name===M.name?se=V._dbInfo.db:se=openDatabase(L.name,"","",0),L.storeName?K({db:se,storeNames:[L.storeName]}):K(X(se))}).then(function(K){return new p(function(se,pe){K.db.transaction(function(ge){function me(gt){return new p(function(mt,Ht){ge.executeSql("DROP TABLE IF EXISTS "+gt,[],function(){mt()},function(At,Qn){Ht(Qn)})})}for(var Ee=[],De=0,et=K.storeNames.length;De<et;De++)Ee.push(me(K.storeNames[De]));p.all(Ee).then(function(){se()}).catch(function(gt){pe(gt)})},function(ge){pe(ge)})})}):G=p.reject("Invalid arguments"),m(G,U),G}var be={_driver:"webSQLStorage",_initStorage:Ie,_support:St(),iterate:I,getItem:ne,setItem:Be,removeItem:_,clear:Q,length:te,key:O,keys:W,dropInstance:Pe};function Ae(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function nt(L,U){var M=L.name+"/";return L.storeName!==U.storeName&&(M+=L.storeName+"/"),M}function Cr(){var L="_localforage_support_test";try{return localStorage.setItem(L,!0),localStorage.removeItem(L),!1}catch{return!0}}function Nt(){return!Cr()||localStorage.length>0}function it(L){var U=this,M={};if(L)for(var V in L)M[V]=L[V];return M.keyPrefix=nt(L,U._defaultConfig),Nt()?(U._dbInfo=M,M.serializer=fe,p.resolve()):p.reject()}function Xt(L){var U=this,M=U.ready().then(function(){for(var V=U._dbInfo.keyPrefix,G=localStorage.length-1;G>=0;G--){var K=localStorage.key(G);K.indexOf(V)===0&&localStorage.removeItem(K)}});return m(M,L),M}function dn(L,U){var M=this;L=b(L);var V=M.ready().then(function(){var G=M._dbInfo,K=localStorage.getItem(G.keyPrefix+L);return K&&(K=G.serializer.deserialize(K)),K});return m(V,U),V}function xn(L,U){var M=this,V=M.ready().then(function(){for(var G=M._dbInfo,K=G.keyPrefix,se=K.length,pe=localStorage.length,ge=1,me=0;me<pe;me++){var Ee=localStorage.key(me);if(Ee.indexOf(K)===0){var De=localStorage.getItem(Ee);if(De&&(De=G.serializer.deserialize(De)),De=L(De,Ee.substring(se),ge++),De!==void 0)return De}}});return m(V,U),V}function _s(L,U){var M=this,V=M.ready().then(function(){var G=M._dbInfo,K;try{K=localStorage.key(L)}catch{K=null}return K&&(K=K.substring(G.keyPrefix.length)),K});return m(V,U),V}function ji(L){var U=this,M=U.ready().then(function(){for(var V=U._dbInfo,G=localStorage.length,K=[],se=0;se<G;se++){var pe=localStorage.key(se);pe.indexOf(V.keyPrefix)===0&&K.push(pe.substring(V.keyPrefix.length))}return K});return m(M,L),M}function Kt(L){var U=this,M=U.keys().then(function(V){return V.length});return m(M,L),M}function zn(L,U){var M=this;L=b(L);var V=M.ready().then(function(){var G=M._dbInfo;localStorage.removeItem(G.keyPrefix+L)});return m(V,U),V}function on(L,U,M){var V=this;L=b(L);var G=V.ready().then(function(){U===void 0&&(U=null);var K=U;return new p(function(se,pe){var ge=V._dbInfo;ge.serializer.serialize(U,function(me,Ee){if(Ee)pe(Ee);else try{localStorage.setItem(ge.keyPrefix+L,me),se(K)}catch(De){(De.name==="QuotaExceededError"||De.name==="NS_ERROR_DOM_QUOTA_REACHED")&&pe(De),pe(De)}})})});return m(G,M),G}function kr(L,U){if(U=T.apply(this,arguments),L=typeof L!="function"&&L||{},!L.name){var M=this.config();L.name=L.name||M.name,L.storeName=L.storeName||M.storeName}var V=this,G;return L.name?G=new p(function(K){L.storeName?K(nt(L,V._defaultConfig)):K(L.name+"/")}).then(function(K){for(var se=localStorage.length-1;se>=0;se--){var pe=localStorage.key(se);pe.indexOf(K)===0&&localStorage.removeItem(pe)}}):G=p.reject("Invalid arguments"),m(G,U),G}var ur={_driver:"localStorageWrapper",_initStorage:it,_support:Ae(),iterate:xn,getItem:dn,setItem:on,removeItem:zn,clear:Xt,length:Kt,key:_s,keys:ji,dropInstance:kr},to=function(U,M){return U===M||typeof U=="number"&&typeof M=="number"&&isNaN(U)&&isNaN(M)},no=function(U,M){for(var V=U.length,G=0;G<V;){if(to(U[G],M))return!0;G++}return!1},jf=Array.isArray||function(L){return Object.prototype.toString.call(L)==="[object Array]"},bi={},$f={},ws={INDEXEDDB:lt,WEBSQL:be,LOCALSTORAGE:ur},qd=[ws.INDEXEDDB._driver,ws.WEBSQL._driver,ws.LOCALSTORAGE._driver],pa=["dropInstance"],ro=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(pa),Kf={description:"",driver:qd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Yd(L,U){L[U]=function(){var M=arguments;return L.ready().then(function(){return L[U].apply(L,M)})}}function Au(){for(var L=1;L<arguments.length;L++){var U=arguments[L];if(U)for(var M in U)U.hasOwnProperty(M)&&(jf(U[M])?arguments[0][M]=U[M].slice():arguments[0][M]=U[M])}return arguments[0]}var Gd=function(){function L(U){o(this,L);for(var M in ws)if(ws.hasOwnProperty(M)){var V=ws[M],G=V._driver;this[M]=G,bi[G]||this.defineDriver(V)}this._defaultConfig=Au({},Kf),this._config=Au({},this._defaultConfig,U),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return L.prototype.config=function(M){if((typeof M=="undefined"?"undefined":s(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var V in M){if(V==="storeName"&&(M[V]=M[V].replace(/\W/g,"_")),V==="version"&&typeof M[V]!="number")return new Error("Database version must be a number.");this._config[V]=M[V]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},L.prototype.defineDriver=function(M,V,G){var K=new p(function(se,pe){try{var ge=M._driver,me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){pe(me);return}for(var Ee=ro.concat("_initStorage"),De=0,et=Ee.length;De<et;De++){var gt=Ee[De],mt=!no(pa,gt);if((mt||M[gt])&&typeof M[gt]!="function"){pe(me);return}}var Ht=function(){for(var Es=function(Vf){return function(){var Qd=new Error("Method "+Vf+" is not implemented by the current driver"),qf=p.reject(Qd);return m(qf,arguments[arguments.length-1]),qf}},Iu=0,Hf=pa.length;Iu<Hf;Iu++){var io=pa[Iu];M[io]||(M[io]=Es(io))}};Ht();var At=function(Es){bi[ge]&&console.info("Redefining LocalForage driver: "+ge),bi[ge]=M,$f[ge]=Es,se()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(At,pe):At(!!M._support):At(!0)}catch(Qn){pe(Qn)}});return E(K,V,G),K},L.prototype.driver=function(){return this._driver||null},L.prototype.getDriver=function(M,V,G){var K=bi[M]?p.resolve(bi[M]):p.reject(new Error("Driver not found."));return E(K,V,G),K},L.prototype.getSerializer=function(M){var V=p.resolve(fe);return E(V,M),V},L.prototype.ready=function(M){var V=this,G=V._driverSet.then(function(){return V._ready===null&&(V._ready=V._initDriver()),V._ready});return E(G,M,M),G},L.prototype.setDriver=function(M,V,G){var K=this;jf(M)||(M=[M]);var se=this._getSupportedDrivers(M);function pe(){K._config.driver=K.driver()}function ge(De){return K._extend(De),pe(),K._ready=K._initStorage(K._config),K._ready}function me(De){return function(){var et=0;function gt(){for(;et<De.length;){var mt=De[et];return et++,K._dbInfo=null,K._ready=null,K.getDriver(mt).then(ge).catch(gt)}pe();var Ht=new Error("No available storage method found.");return K._driverSet=p.reject(Ht),K._driverSet}return gt()}}var Ee=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=Ee.then(function(){var De=se[0];return K._dbInfo=null,K._ready=null,K.getDriver(De).then(function(et){K._driver=et._driver,pe(),K._wrapLibraryMethodsWithReady(),K._initDriver=me(se)})}).catch(function(){pe();var De=new Error("No available storage method found.");return K._driverSet=p.reject(De),K._driverSet}),E(this._driverSet,V,G),this._driverSet},L.prototype.supports=function(M){return!!$f[M]},L.prototype._extend=function(M){Au(this,M)},L.prototype._getSupportedDrivers=function(M){for(var V=[],G=0,K=M.length;G<K;G++){var se=M[G];this.supports(se)&&V.push(se)}return V},L.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,V=ro.length;M<V;M++)Yd(this,ro[M])},L.prototype.createInstance=function(M){return new L(M)},L}(),Zd=new Gd;r.exports=Zd},{"3":3}]},{},[4])(4)})})(vT);var IE=vT.exports;class gT{constructor(e,n,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=n||nf,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof IE=="undefined"&&(e=IE),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(e,n){let r=e.resources.map(i=>{let{href:s}=i,o=this.resolver(s),u=window.encodeURIComponent(o);return this.storage.getItem(u).then(f=>!f||n?this.requester(o,"binary").then(c=>this.storage.setItem(u,c)):f)});return Promise.all(r)}put(e,n,r){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(s=>s||this.requester(e,"binary",n,r).then(o=>this.storage.setItem(i,o)))}request(e,n,r,i){return this.online?this.requester(e,n,r,i).then(s=>(this.put(e),s)):this.retrieve(e,n)}retrieve(e,n){new dt;var r,i=new hs(e);return n||(n=i.extension),n=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(s=>{var o=new dt,u;return s?(u=this.handleResponse(s,n),o.resolve(u)):o.reject({message:"File not found in storage: "+e,stack:new Error().stack}),o.promise})}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):Qh(n)?r=us(e,"text/xml"):n=="xhtml"?r=us(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=us(e,"text/html"):r=e,r}getBlob(e,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(i){if(!!i)return n=n||qo.lookup(e),new Blob([i],{type:n})})}getText(e,n){let r=window.encodeURIComponent(e);return n=n||qo.lookup(e),this.storage.getItem(r).then(function(i){var s=new dt,o=new FileReader,u;if(!!i)return u=new Blob([i],{type:n}),o.addEventListener("loadend",()=>{s.resolve(o.result)}),o.readAsText(u,n),s.promise})}getBase64(e,n){let r=window.encodeURIComponent(e);return n=n||qo.lookup(e),this.storage.getItem(r).then(i=>{var s=new dt,o=new FileReader,u;if(!!i)return u=new Blob([i],{type:n}),o.addEventListener("loadend",()=>{s.resolve(o.result)}),o.readAsDataURL(u,n),s.promise})}createUrl(e,n){var r=new dt,i=window.URL||window.webkitURL||window.mozURL,s,o,u=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(u?(o=this.getBase64(e),o&&o.then(function(f){this.urlCache[e]=f,r.resolve(f)}.bind(this))):(o=this.getBlob(e),o&&o.then(function(f){s=i.createObjectURL(f),this.urlCache[e]=s,r.resolve(s)}.bind(this))),o||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}Fi(gT.prototype);class zv{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const n=zt(e,"display_options");return n?(ia(n,"option").forEach(i=>{let s="";switch(i.childNodes.length&&(s=i.childNodes[0].nodeValue),i.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const OE="META-INF/container.xml",N3="META-INF/com.apple.ibooks.display-options.xml",ci={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class L3{constructor(e,n){typeof n=="undefined"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(n=e,e=void 0),this.settings=Hn(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Hn(this.settings,n),this.opening=new dt,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new dt,spine:new dt,metadata:new dt,cover:new dt,navigation:new dt,pageList:new dt,resources:new dt,displayOptions:new dt},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||nf,this.spine=new eM,this.locations=new Zb(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var i=new Error("Cannot load book at "+e);this.emit(Ce.BOOK.OPEN_FAILED,i)})}open(e,n){var r,i=n||this.determineType(e);return i===ci.BINARY?(this.archived=!0,this.url=new di("/",""),r=this.openEpub(e)):i===ci.BASE64?(this.archived=!0,this.url=new di("/",""),r=this.openEpub(e,i)):i===ci.EPUB?(this.archived=!0,this.url=new di("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==ci.OPF?(this.url=new di(e),r=this.openPackaging(this.url.Path.toString())):i==ci.MANIFEST?(this.url=new di(e),r=this.openManifest(this.url.Path.toString())):(this.url=new di(e),r=this.openContainer(OE).then(this.openPackaging.bind(this))),r}openEpub(e,n){return this.unarchive(e,n||this.settings.encoding).then(()=>this.openContainer(OE)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(n=>(this.container=new tM(n),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new hs(e),this.load(e).then(n=>(this.packaging=new EE(n),this.unpack(this.packaging)))}openManifest(e){return this.path=new hs(e),this.load(e).then(n=>(this.packaging=new EE,this.packaging.load(n),this.unpack(this.packaging)))}load(e){var n=this.resolve(e);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,n){if(!!e){var r=e,i=e.indexOf("://")>-1;return i?e:(this.path&&(r=this.path.resolve(e)),n!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var n=e;return e?(this.settings.canonical?n=this.settings.canonical(e):n=this.resolve(e,!0),n):""}determineType(e){var n,r,i;if(this.settings.encoding==="base64")return ci.BASE64;if(typeof e!="string")return ci.BINARY;if(n=new di(e),r=n.path(),i=r.extension,i&&(i=i.replace(/\?.*$/,"")),!i)return ci.DIRECTORY;if(i==="epub")return ci.EPUB;if(i==="opf")return ci.OPF;if(i==="json")return ci.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(N3)).then(n=>{this.displayOptions=new zv(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new zv,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new zv,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new sM(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let n=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((i,s)=>{this.navigation=new Lv(r),e.pageList&&(this.pageList=new Pv(e.pageList)),i(this.navigation)}):n?this.load(n,"xml").then(i=>(this.navigation=new Lv(i),this.pageList=new Pv(i),this.navigation)):new Promise((i,s)=>{this.navigation=new Lv,this.pageList=new Pv,i(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,n){return this.rendition=new dT(this,n),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,n){return this.archive=new R3,this.archive.open(e,n)}store(e){let n=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,i=this.settings.requestMethod||nf.bind(this);return this.storage=new gT(e,i,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(o,u)=>{u.output=this.resources.substitute(o,u.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new di("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,n)=>{n.output=this.resources.substitute(e,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var n=new pt(e),r=this.spine.get(n.spinePos),i=this.load.bind(this);return r?r.load(i).then(function(s){var o=n.toRange(r.document);return o}):new Promise((s,o)=>{o("CFI could not be found")})}key(e){var n=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Wy}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Fi(L3.prototype);typeof global!="undefined"&&(global.EPUBJS_VERSION=Wy);var Nd="delete",Ft=5,Qr=1<<Ft,rr=Qr-1,ht={};function Gg(){return{value:!1}}function Jr(t){t&&(t.value=!0)}function Ky(){}function nu(t){return t.size===void 0&&(t.size=t.__iterate(mT)),t.size}function sa(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?nu(t)+e:e}function mT(){return!0}function Ld(t,e,n){return(t===0&&!_T(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function Nf(t,e){return yT(t,e,0)}function Pd(t,e){return yT(t,e,e)}function yT(t,e,n){return t===void 0?n:_T(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function _T(t){return t<0||t===0&&1/t===-1/0}var wT="@@__IMMUTABLE_ITERABLE__@@";function yr(t){return Boolean(t&&t[wT])}var ET="@@__IMMUTABLE_KEYED__@@";function Jt(t){return Boolean(t&&t[ET])}var xT="@@__IMMUTABLE_INDEXED__@@";function mr(t){return Boolean(t&&t[xT])}function Dd(t){return Jt(t)||mr(t)}var hn=function(e){return yr(e)?e:Br(e)},xi=function(t){function e(n){return Jt(n)?n:da(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(hn),Xa=function(t){function e(n){return mr(n)?n:Si(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(hn),mu=function(t){function e(n){return yr(n)&&!Dd(n)?n:wu(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(hn);hn.Keyed=xi;hn.Indexed=Xa;hn.Set=mu;var ST="@@__IMMUTABLE_SEQ__@@";function Hy(t){return Boolean(t&&t[ST])}var P3="@@__IMMUTABLE_RECORD__@@";function Vy(t){return Boolean(t&&t[P3])}function ys(t){return yr(t)||Vy(t)}var yu="@@__IMMUTABLE_ORDERED__@@";function yi(t){return Boolean(t&&t[yu])}var Lf=0,wi=1,Ei=2,Zg=typeof Symbol=="function"&&Symbol.iterator,bT="@@iterator",qy=Zg||bT,xt=function(e){this.next=e};xt.prototype.toString=function(){return"[Iterator]"};xt.KEYS=Lf;xt.VALUES=wi;xt.ENTRIES=Ei;xt.prototype.inspect=xt.prototype.toSource=function(){return this.toString()};xt.prototype[qy]=function(){return this};function Yt(t,e,n,r){var i=t===0?e:t===1?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function _r(){return{value:void 0,done:!0}}function TT(t){return Array.isArray(t)?!0:!!zd(t)}function RE(t){return t&&typeof t.next=="function"}function Xg(t){var e=zd(t);return e&&e.call(t)}function zd(t){var e=t&&(Zg&&t[Zg]||t[bT]);if(typeof e=="function")return e}function D3(t){var e=zd(t);return e&&e===t.entries}function z3(t){var e=zd(t);return e&&e===t.keys}var _u=Object.prototype.hasOwnProperty;function CT(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Br=function(t){function e(n){return n==null?Gy():ys(n)?n.toSeq():B3(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,i){var s=this._cache;if(s){for(var o=s.length,u=0;u!==o;){var f=s[i?o-++u:u++];if(r(f[1],f[0],this)===!1)break}return u}return this.__iterateUncached(r,i)},e.prototype.__iterator=function(r,i){var s=this._cache;if(s){var o=s.length,u=0;return new xt(function(){if(u===o)return _r();var f=s[i?o-++u:u++];return Yt(r,f[0],f[1])})}return this.__iteratorUncached(r,i)},e}(hn),da=function(t){function e(n){return n==null?Gy().toKeyedSeq():yr(n)?Jt(n)?n.toSeq():n.fromEntrySeq():Vy(n)?n.toSeq():kT(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Br),Si=function(t){function e(n){return n==null?Gy():yr(n)?Jt(n)?n.entrySeq():n.toIndexedSeq():Vy(n)?n.toSeq().entrySeq():AT(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Br),wu=function(t){function e(n){return(yr(n)&&!Dd(n)?n:Si(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Br);Br.isSeq=Hy;Br.Keyed=da;Br.Set=wu;Br.Indexed=Si;Br.prototype[ST]=!0;var ja=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this.has(r)?this._array[sa(this,r)]:i},e.prototype.__iterate=function(r,i){for(var s=this._array,o=s.length,u=0;u!==o;){var f=i?o-++u:u++;if(r(s[f],f,this)===!1)break}return u},e.prototype.__iterator=function(r,i){var s=this._array,o=s.length,u=0;return new xt(function(){if(u===o)return _r();var f=i?o-++u:u++;return Yt(r,f,s[f])})},e}(Si),Yy=function(t){function e(n){var r=Object.keys(n);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},e.prototype.has=function(r){return _u.call(this._object,r)},e.prototype.__iterate=function(r,i){for(var s=this._object,o=this._keys,u=o.length,f=0;f!==u;){var c=o[i?u-++f:f++];if(r(s[c],c,this)===!1)break}return f},e.prototype.__iterator=function(r,i){var s=this._object,o=this._keys,u=o.length,f=0;return new xt(function(){if(f===u)return _r();var c=o[i?u-++f:f++];return Yt(r,c,s[c])})},e}(da);Yy.prototype[yu]=!0;var M3=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var s=this._collection,o=Xg(s),u=0;if(RE(o))for(var f;!(f=o.next()).done&&r(f.value,u++,this)!==!1;);return u},e.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=this._collection,o=Xg(s);if(!RE(o))return new xt(_r);var u=0;return new xt(function(){var f=o.next();return f.done?f:Yt(r,u++,f.value)})},e}(Si),NE;function Gy(){return NE||(NE=new ja([]))}function kT(t){var e=Zy(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Yy(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function AT(t){var e=Zy(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function B3(t){var e=Zy(t);if(e)return D3(t)?e.fromEntrySeq():z3(t)?e.toSetSeq():e;if(typeof t=="object")return new Yy(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function Zy(t){return CT(t)?new ja(t):TT(t)?new M3(t):void 0}var IT="@@__IMMUTABLE_MAP__@@";function Xy(t){return Boolean(t&&t[IT])}function OT(t){return Xy(t)&&yi(t)}function LE(t){return Boolean(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function zr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(LE(t)&&LE(e)&&t.equals(e))}var cl=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,i=n&65535;return r*i+((e>>>16)*i+r*(n>>>16)<<16>>>0)|0};function Md(t){return t>>>1&1073741824|t&3221225471}var F3=Object.prototype.valueOf;function Dr(t){if(t==null)return PE(t);if(typeof t.hashCode=="function")return Md(t.hashCode(t));var e=H3(t);if(e==null)return PE(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return U3(e);case"string":return e.length>V3?W3(e):Qg(e);case"object":case"function":return $3(e);case"symbol":return j3(e);default:if(typeof e.toString=="function")return Qg(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function PE(t){return t===null?1108378658:1108378659}function U3(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Md(e)}function W3(t){var e=Fv[t];return e===void 0&&(e=Qg(t),Bv===q3&&(Bv=0,Fv={}),Bv++,Fv[t]=e),e}function Qg(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Md(e)}function j3(t){var e=ME[t];return e!==void 0||(e=RT(),ME[t]=e),e}function $3(t){var e;if(Jg&&(e=em.get(t),e!==void 0)||(e=t[Ta],e!==void 0)||!zE&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ta],e!==void 0||(e=K3(t),e!==void 0)))return e;if(e=RT(),Jg)em.set(t,e);else{if(DE!==void 0&&DE(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(zE)Object.defineProperty(t,Ta,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ta]=e;else if(t.nodeType!==void 0)t[Ta]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var DE=Object.isExtensible,zE=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function K3(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function H3(t){return t.valueOf!==F3&&typeof t.valueOf=="function"?t.valueOf(t):t}function RT(){var t=++Mv;return Mv&1073741824&&(Mv=0),t}var Jg=typeof WeakMap=="function",em;Jg&&(em=new WeakMap);var ME=Object.create(null),Mv=0,Ta="__immutablehash__";typeof Symbol=="function"&&(Ta=Symbol(Ta));var V3=16,q3=255,Bv=0,Fv={},Bd=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this._iter.get(r,i)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,i=Qy(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},e.prototype.map=function(r,i){var s=this,o=zT(this,r,i);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(r,i)}),o},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(o,u){return r(o,u,s)},i)},e.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},e}(da);Bd.prototype[yu]=!0;var NT=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this,o=0;return i&&nu(this),this._iter.__iterate(function(u){return r(u,i?s.size-++o:o++,s)},i)},e.prototype.__iterator=function(r,i){var s=this,o=this._iter.__iterator(wi,i),u=0;return i&&nu(this),new xt(function(){var f=o.next();return f.done?f:Yt(r,i?s.size-++u:u++,f.value,f)})},e}(Si),LT=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(o){return r(o,o,s)},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(wi,i);return new xt(function(){var o=s.next();return o.done?o:Yt(r,o.value,o.value,o)})},e}(wu),PT=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(o){if(o){FE(o);var u=yr(o);return r(u?o.get(1):o[1],u?o.get(0):o[0],s)}},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(wi,i);return new xt(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value;if(u){FE(u);var f=yr(u);return Yt(r,f?u.get(0):u[0],f?u.get(1):u[1],o)}}})},e}(da);NT.prototype.cacheResult=Bd.prototype.cacheResult=LT.prototype.cacheResult=PT.prototype.cacheResult=e0;function DT(t){var e=Ui(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=e0,e.__iterateUncached=function(n,r){var i=this;return t.__iterate(function(s,o){return n(o,s,i)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===Ei){var i=t.__iterator(n,r);return new xt(function(){var s=i.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(n===wi?Lf:wi,r)},e}function zT(t,e,n){var r=Ui(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(i,s){var o=t.get(i,ht);return o===ht?s:e.call(n,o,i,t)},r.__iterateUncached=function(i,s){var o=this;return t.__iterate(function(u,f,c){return i(e.call(n,u,f,c),f,o)!==!1},s)},r.__iteratorUncached=function(i,s){var o=t.__iterator(Ei,s);return new xt(function(){var u=o.next();if(u.done)return u;var f=u.value,c=f[0];return Yt(i,c,e.call(n,f[1],c,t),u)})},r}function Qy(t,e){var n=this,r=Ui(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=DT(t);return i.reverse=function(){return t.flip()},i}),r.get=function(i,s){return t.get(e?i:-1-i,s)},r.has=function(i){return t.has(e?i:-1-i)},r.includes=function(i){return t.includes(i)},r.cacheResult=e0,r.__iterate=function(i,s){var o=this,u=0;return s&&nu(t),t.__iterate(function(f,c){return i(f,e?c:s?o.size-++u:u++,o)},!s)},r.__iterator=function(i,s){var o=0;s&&nu(t);var u=t.__iterator(Ei,!s);return new xt(function(){var f=u.next();if(f.done)return f;var c=f.value;return Yt(i,e?c[0]:s?n.size-++o:o++,c[1],f)})},r}function MT(t,e,n,r){var i=Ui(t);return r&&(i.has=function(s){var o=t.get(s,ht);return o!==ht&&!!e.call(n,o,s,t)},i.get=function(s,o){var u=t.get(s,ht);return u!==ht&&e.call(n,u,s,t)?u:o}),i.__iterateUncached=function(s,o){var u=this,f=0;return t.__iterate(function(c,d,p){if(e.call(n,c,d,p))return f++,s(c,r?d:f-1,u)},o),f},i.__iteratorUncached=function(s,o){var u=t.__iterator(Ei,o),f=0;return new xt(function(){for(;;){var c=u.next();if(c.done)return c;var d=c.value,p=d[0],m=d[1];if(e.call(n,m,p,t))return Yt(s,r?p:f++,m,c)}})},i}function Y3(t,e,n){var r=xu().asMutable();return t.__iterate(function(i,s){r.update(e.call(n,i,s,t),0,function(o){return o+1})}),r.asImmutable()}function G3(t,e,n){var r=Jt(t),i=(yi(t)?ps():xu()).asMutable();t.__iterate(function(o,u){i.update(e.call(n,o,u,t),function(f){return f=f||[],f.push(r?[u,o]:o),f})});var s=UT(t);return i.map(function(o){return Dt(t,s(o))}).asImmutable()}function Jy(t,e,n,r){var i=t.size;if(Ld(e,n,i))return t;var s=Nf(e,i),o=Pd(n,i);if(s!==s||o!==o)return Jy(t.toSeq().cacheResult(),e,n,r);var u=o-s,f;u===u&&(f=u<0?0:u);var c=Ui(t);return c.size=f===0?f:t.size&&f||void 0,!r&&Hy(t)&&f>=0&&(c.get=function(d,p){return d=sa(this,d),d>=0&&d<f?t.get(d+s,p):p}),c.__iterateUncached=function(d,p){var m=this;if(f===0)return 0;if(p)return this.cacheResult().__iterate(d,p);var E=0,b=!0,T=0;return t.__iterate(function(g,v){if(!(b&&(b=E++<s)))return T++,d(g,r?v:T-1,m)!==!1&&T!==f}),T},c.__iteratorUncached=function(d,p){if(f!==0&&p)return this.cacheResult().__iterator(d,p);if(f===0)return new xt(_r);var m=t.__iterator(d,p),E=0,b=0;return new xt(function(){for(;E++<s;)m.next();if(++b>f)return _r();var T=m.next();return r||d===wi||T.done?T:d===Lf?Yt(d,b-1,void 0,T):Yt(d,b-1,T.value[1],T)})},c}function Z3(t,e,n){var r=Ui(t);return r.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var u=0;return t.__iterate(function(f,c,d){return e.call(n,f,c,d)&&++u&&i(f,c,o)}),u},r.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var u=t.__iterator(Ei,s),f=!0;return new xt(function(){if(!f)return _r();var c=u.next();if(c.done)return c;var d=c.value,p=d[0],m=d[1];return e.call(n,m,p,o)?i===Ei?c:Yt(i,p,m,c):(f=!1,_r())})},r}function BT(t,e,n,r){var i=Ui(t);return i.__iterateUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterate(s,o);var f=!0,c=0;return t.__iterate(function(d,p,m){if(!(f&&(f=e.call(n,d,p,m))))return c++,s(d,r?p:c-1,u)}),c},i.__iteratorUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterator(s,o);var f=t.__iterator(Ei,o),c=!0,d=0;return new xt(function(){var p,m,E;do{if(p=f.next(),p.done)return r||s===wi?p:s===Lf?Yt(s,d++,void 0,p):Yt(s,d++,p.value[1],p);var b=p.value;m=b[0],E=b[1],c&&(c=e.call(n,E,m,u))}while(c);return s===Ei?p:Yt(s,m,E,p)})},i}function X3(t,e){var n=Jt(t),r=[t].concat(e).map(function(o){return yr(o)?n&&(o=xi(o)):o=n?kT(o):AT(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(r.length===0)return t;if(r.length===1){var i=r[0];if(i===t||n&&Jt(i)||mr(t)&&mr(i))return i}var s=new ja(r);return n?s=s.toKeyedSeq():mr(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=r.reduce(function(o,u){if(o!==void 0){var f=u.size;if(f!==void 0)return o+f}},0),s}function FT(t,e,n){var r=Ui(t);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var o=0,u=!1;function f(c,d){c.__iterate(function(p,m){return(!e||d<e)&&yr(p)?f(p,d+1):(o++,i(p,n?m:o-1,r)===!1&&(u=!0)),!u},s)}return f(t,0),o},r.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(i,s),u=[],f=0;return new xt(function(){for(;o;){var c=o.next();if(c.done!==!1){o=u.pop();continue}var d=c.value;if(i===Ei&&(d=d[1]),(!e||u.length<e)&&yr(d))u.push(o),o=d.__iterator(i,s);else return n?c:Yt(i,f++,d,c)}return _r()})},r}function Q3(t,e,n){var r=UT(t);return t.toSeq().map(function(i,s){return r(e.call(n,i,s,t))}).flatten(!0)}function J3(t,e){var n=Ui(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,i){var s=this,o=0;return t.__iterate(function(u){return(!o||r(e,o++,s)!==!1)&&r(u,o++,s)!==!1},i),o},n.__iteratorUncached=function(r,i){var s=t.__iterator(wi,i),o=0,u;return new xt(function(){return(!u||o%2)&&(u=s.next(),u.done)?u:o%2?Yt(r,o++,e):Yt(r,o++,u.value,u)})},n}function ru(t,e,n){e||(e=WT);var r=Jt(t),i=0,s=t.toSeq().map(function(o,u){return[u,o,i++,n?n(o,u,t):o]}).valueSeq().toArray();return s.sort(function(o,u){return e(o[3],u[3])||o[2]-u[2]}).forEach(r?function(o,u){s[u].length=2}:function(o,u){s[u]=o[1]}),r?da(s):mr(t)?Si(s):wu(s)}function qc(t,e,n){if(e||(e=WT),n){var r=t.toSeq().map(function(i,s){return[i,n(i,s,t)]}).reduce(function(i,s){return BE(e,i[1],s[1])?s:i});return r&&r[0]}return t.reduce(function(i,s){return BE(e,i,s)?s:i})}function BE(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function Yc(t,e,n,r){var i=Ui(t),s=new ja(n).map(function(o){return o.size});return i.size=r?s.max():s.min(),i.__iterate=function(o,u){for(var f=this.__iterator(wi,u),c,d=0;!(c=f.next()).done&&o(c.value,d++,this)!==!1;);return d},i.__iteratorUncached=function(o,u){var f=n.map(function(p){return p=hn(p),Xg(u?p.reverse():p)}),c=0,d=!1;return new xt(function(){var p;return d||(p=f.map(function(m){return m.next()}),d=r?p.every(function(m){return m.done}):p.some(function(m){return m.done})),d?_r():Yt(o,c++,e.apply(null,p.map(function(m){return m.value})))})},i}function Dt(t,e){return t===e?t:Hy(t)?e:t.constructor(e)}function FE(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function UT(t){return Jt(t)?xi:mr(t)?Xa:mu}function Ui(t){return Object.create((Jt(t)?da:mr(t)?Si:wu).prototype)}function e0(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Br.prototype.cacheResult.call(this)}function WT(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Ri(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function jT(t,e){if(!t)throw new Error(e)}function ei(t){jT(t!==1/0,"Cannot perform this action with an infinite size.")}function $T(t){if(CT(t)&&typeof t!="string")return t;if(yi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var eB=Object.prototype.toString;function tB(t){if(!t||typeof t!="object"||eB.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function aa(t){return typeof t=="object"&&(ys(t)||Array.isArray(t)||tB(t))}function nd(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function nB(t,e){return ys(t)?t.has(e):aa(t)&&_u.call(t,e)}function KT(t,e,n){return ys(t)?t.get(e,n):nB(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function rd(t){if(Array.isArray(t))return Ri(t);var e={};for(var n in t)_u.call(t,n)&&(e[n]=t[n]);return e}function rB(t,e){if(!aa(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ys(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!_u.call(t,e))return t;var n=rd(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function iB(t,e,n){if(!aa(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ys(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(_u.call(t,e)&&n===t[e])return t;var r=rd(t);return r[e]=n,r}function Eu(t,e,n,r){r||(r=n,n=void 0);var i=HT(ys(t),t,$T(e),0,n,r);return i===ht?n:i}function HT(t,e,n,r,i,s){var o=e===ht;if(r===n.length){var u=o?i:e,f=s(u);return f===u?e:f}if(!o&&!aa(e))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(nd)+"]: "+e);var c=n[r],d=o?ht:KT(e,c,ht),p=HT(d===ht?t:ys(d),d,n,r+1,i,s);return p===d?e:p===ht?rB(e,c):iB(o?t?vi():{}:e,c,p)}function sB(t,e,n){return Eu(t,e,ht,function(){return n})}function VT(t,e){return sB(this,t,e)}function aB(t,e){return Eu(t,e,function(){return ht})}function qT(t){return aB(this,t)}function YT(t,e,n,r){return Eu(t,[e],n,r)}function GT(t,e,n){return arguments.length===1?t(this):YT(this,t,e,n)}function ZT(t,e,n){return Eu(this,t,e,n)}function oB(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return XT(this,t)}function uB(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return XT(this,e,t)}function XT(t,e,n){for(var r=[],i=0;i<e.length;i++){var s=xi(e[i]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?t.constructor(r[0]):t.withMutations(function(o){for(var u=n?function(c,d){YT(o,d,ht,function(p){return p===ht?c:n(p,c,d)})}:function(c,d){o.set(d,c)},f=0;f<r.length;f++)r[f].forEach(u)})}function t0(t,e,n){return n0(t,e,lB(n))}function n0(t,e,n){if(!aa(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(ys(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,s=r?Xa:xi,o=r?function(f){i===t&&(i=rd(i)),i.push(f)}:function(f,c){var d=_u.call(i,c),p=d&&n?n(i[c],f,c):f;(!d||p!==i[c])&&(i===t&&(i=rd(i)),i[c]=p)},u=0;u<e.length;u++)s(e[u]).forEach(o);return i}function lB(t){function e(n,r,i){return aa(n)&&aa(r)&&fB(n,r)?n0(n,[r],e):t?t(n,r,i):r}return e}function fB(t,e){var n=Br(t),r=Br(e);return mr(n)===mr(r)&&Jt(n)===Jt(r)}function cB(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t0(this,t)}function hB(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return t0(this,e,t)}function QT(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Eu(this,t,vi(),function(r){return n0(r,e)})}function JT(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Eu(this,t,vi(),function(r){return t0(r,e)})}function Fd(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Ud(){return this.__ownerID?this:this.__ensureOwner(new Ky)}function Wd(){return this.__ensureOwner()}function r0(){return this.__altered}var xu=function(t){function e(n){return n==null?vi():Xy(n)&&!yi(n)?n:vi().withMutations(function(r){var i=t(n);ei(i.size),i.forEach(function(s,o){return r.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return vi().withMutations(function(s){for(var o=0;o<r.length;o+=2){if(o+1>=r.length)throw new Error("Missing value for key: "+r[o]);s.set(r[o],r[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},e.prototype.set=function(r,i){return jE(this,r,i)},e.prototype.remove=function(r){return jE(this,r,ht)},e.prototype.deleteAll=function(r){var i=hn(r);return i.size===0?this:this.withMutations(function(s){i.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):vi()},e.prototype.sort=function(r){return ps(ru(this,r))},e.prototype.sortBy=function(r,i){return ps(ru(this,i,r))},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(o){o.forEach(function(u,f){o.set(f,r.call(i,u,f,s))})})},e.prototype.__iterator=function(r,i){return new dB(this,r,i)},e.prototype.__iterate=function(r,i){var s=this,o=0;return this._root&&this._root.iterate(function(u){return o++,r(u[1],u[0],s)},i),o},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?i0(this.size,this._root,r,this.__hash):this.size===0?vi():(this.__ownerID=r,this.__altered=!1,this)},e}(xi);xu.isMap=Xy;var jt=xu.prototype;jt[IT]=!0;jt[Nd]=jt.remove;jt.removeAll=jt.deleteAll;jt.setIn=VT;jt.removeIn=jt.deleteIn=qT;jt.update=GT;jt.updateIn=ZT;jt.merge=jt.concat=oB;jt.mergeWith=uB;jt.mergeDeep=cB;jt.mergeDeepWith=hB;jt.mergeIn=QT;jt.mergeDeepIn=JT;jt.withMutations=Fd;jt.wasAltered=r0;jt.asImmutable=Wd;jt["@@transducer/init"]=jt.asMutable=Ud;jt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};jt["@@transducer/result"]=function(t){return t.asImmutable()};var sf=function(e,n){this.ownerID=e,this.entries=n};sf.prototype.get=function(e,n,r,i){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(zr(r,s[o][0]))return s[o][1];return i};sf.prototype.update=function(e,n,r,i,s,o,u){for(var f=s===ht,c=this.entries,d=0,p=c.length;d<p&&!zr(i,c[d][0]);d++);var m=d<p;if(m?c[d][1]===s:f)return this;if(Jr(u),(f||!m)&&Jr(o),!(f&&c.length===1)){if(!m&&!f&&c.length>=_B)return pB(e,c,i,s);var E=e&&e===this.ownerID,b=E?c:Ri(c);return m?f?d===p-1?b.pop():b[d]=b.pop():b[d]=[i,s]:b.push([i,s]),E?(this.entries=b,this):new sf(e,b)}};var iu=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};iu.prototype.get=function(e,n,r,i){n===void 0&&(n=Dr(r));var s=1<<((e===0?n:n>>>e)&rr),o=this.bitmap;return(o&s)===0?i:this.nodes[eC(o&s-1)].get(e+Ft,n,r,i)};iu.prototype.update=function(e,n,r,i,s,o,u){r===void 0&&(r=Dr(i));var f=(n===0?r:r>>>n)&rr,c=1<<f,d=this.bitmap,p=(d&c)!==0;if(!p&&s===ht)return this;var m=eC(d&c-1),E=this.nodes,b=p?E[m]:void 0,T=s0(b,e,n+Ft,r,i,s,o,u);if(T===b)return this;if(!p&&T&&E.length>=wB)return gB(e,E,d,f,T);if(p&&!T&&E.length===2&&$E(E[m^1]))return E[m^1];if(p&&T&&E.length===1&&$E(T))return T;var g=e&&e===this.ownerID,v=p?T?d:d^c:d|c,y=p?T?tC(E,m,T,g):yB(E,m,g):mB(E,m,T,g);return g?(this.bitmap=v,this.nodes=y,this):new iu(e,v,y)};var af=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};af.prototype.get=function(e,n,r,i){n===void 0&&(n=Dr(r));var s=(e===0?n:n>>>e)&rr,o=this.nodes[s];return o?o.get(e+Ft,n,r,i):i};af.prototype.update=function(e,n,r,i,s,o,u){r===void 0&&(r=Dr(i));var f=(n===0?r:r>>>n)&rr,c=s===ht,d=this.nodes,p=d[f];if(c&&!p)return this;var m=s0(p,e,n+Ft,r,i,s,o,u);if(m===p)return this;var E=this.count;if(!p)E++;else if(!m&&(E--,E<EB))return vB(e,d,E,f);var b=e&&e===this.ownerID,T=tC(d,f,m,b);return b?(this.count=E,this.nodes=T,this):new af(e,E,T)};var su=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};su.prototype.get=function(e,n,r,i){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(zr(r,s[o][0]))return s[o][1];return i};su.prototype.update=function(e,n,r,i,s,o,u){r===void 0&&(r=Dr(i));var f=s===ht;if(r!==this.keyHash)return f?this:(Jr(u),Jr(o),a0(this,e,n,r,[i,s]));for(var c=this.entries,d=0,p=c.length;d<p&&!zr(i,c[d][0]);d++);var m=d<p;if(m?c[d][1]===s:f)return this;if(Jr(u),(f||!m)&&Jr(o),f&&p===2)return new ds(e,this.keyHash,c[d^1]);var E=e&&e===this.ownerID,b=E?c:Ri(c);return m?f?d===p-1?b.pop():b[d]=b.pop():b[d]=[i,s]:b.push([i,s]),E?(this.entries=b,this):new su(e,this.keyHash,b)};var ds=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};ds.prototype.get=function(e,n,r,i){return zr(r,this.entry[0])?this.entry[1]:i};ds.prototype.update=function(e,n,r,i,s,o,u){var f=s===ht,c=zr(i,this.entry[0]);if(c?s===this.entry[1]:f)return this;if(Jr(u),f){Jr(o);return}return c?e&&e===this.ownerID?(this.entry[1]=s,this):new ds(e,this.keyHash,[i,s]):(Jr(o),a0(this,e,n,Dr(i),[i,s]))};sf.prototype.iterate=su.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1};iu.prototype.iterate=af.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[e?i-r:r];if(s&&s.iterate(t,e)===!1)return!1}};ds.prototype.iterate=function(t,e){return t(this.entry)};var dB=function(t){function e(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&UE(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var s=i.node,o=i.index++,u=void 0;if(s.entry){if(o===0)return Uv(r,s.entry)}else if(s.entries){if(u=s.entries.length-1,o<=u)return Uv(r,s.entries[this._reverse?u-o:o])}else if(u=s.nodes.length-1,o<=u){var f=s.nodes[this._reverse?u-o:o];if(f){if(f.entry)return Uv(r,f.entry);i=this._stack=UE(f,i)}continue}i=this._stack=this._stack.__prev}return _r()},e}(xt);function Uv(t,e){return Yt(t,e[0],e[1])}function UE(t,e){return{node:t,index:0,__prev:e}}function i0(t,e,n,r){var i=Object.create(jt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var WE;function vi(){return WE||(WE=i0(0))}function jE(t,e,n){var r,i;if(t._root){var s=Gg(),o=Gg();if(r=s0(t._root,t.__ownerID,0,void 0,e,n,s,o),!o.value)return t;i=t.size+(s.value?n===ht?-1:1:0)}else{if(n===ht)return t;i=1,r=new sf(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?i0(i,r):vi()}function s0(t,e,n,r,i,s,o,u){return t?t.update(e,n,r,i,s,o,u):s===ht?t:(Jr(u),Jr(o),new ds(e,r,[i,s]))}function $E(t){return t.constructor===ds||t.constructor===su}function a0(t,e,n,r,i){if(t.keyHash===r)return new su(e,r,[t.entry,i]);var s=(n===0?t.keyHash:t.keyHash>>>n)&rr,o=(n===0?r:r>>>n)&rr,u,f=s===o?[a0(t,e,n+Ft,r,i)]:(u=new ds(e,r,i),s<o?[t,u]:[u,t]);return new iu(e,1<<s|1<<o,f)}function pB(t,e,n,r){t||(t=new Ky);for(var i=new ds(t,Dr(n),[n,r]),s=0;s<e.length;s++){var o=e[s];i=i.update(t,0,void 0,o[0],o[1])}return i}function vB(t,e,n,r){for(var i=0,s=0,o=new Array(n),u=0,f=1,c=e.length;u<c;u++,f<<=1){var d=e[u];d!==void 0&&u!==r&&(i|=f,o[s++]=d)}return new iu(t,i,o)}function gB(t,e,n,r,i){for(var s=0,o=new Array(Qr),u=0;n!==0;u++,n>>>=1)o[u]=n&1?e[s++]:void 0;return o[r]=i,new af(t,s+1,o)}function eC(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function tC(t,e,n,r){var i=r?t:Ri(t);return i[e]=n,i}function mB(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var s=new Array(i),o=0,u=0;u<i;u++)u===e?(s[u]=n,o=-1):s[u]=t[u+o];return s}function yB(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),s=0,o=0;o<r;o++)o===e&&(s=1),i[o]=t[o+s];return i}var _B=Qr/4,wB=Qr/2,EB=Qr/4,nC="@@__IMMUTABLE_LIST__@@";function rC(t){return Boolean(t&&t[nC])}var o0=function(t){function e(n){var r=mh();if(n==null)return r;if(rC(n))return n;var i=t(n),s=i.size;return s===0?r:(ei(s),s>0&&s<Qr?of(0,s,Ft,null,new Qs(i.toArray())):r.withMutations(function(o){o.setSize(s),i.forEach(function(u,f){return o.set(f,u)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,i){if(r=sa(this,r),r>=0&&r<this.size){r+=this._origin;var s=iC(this,r);return s&&s.array[r&rr]}return i},e.prototype.set=function(r,i){return xB(this,r,i)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,i){return this.splice(r,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ft,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):mh()},e.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(s){Ps(s,0,i+r.length);for(var o=0;o<r.length;o++)s.set(i+o,r[o])})},e.prototype.pop=function(){return Ps(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){Ps(i,-r.length);for(var s=0;s<r.length;s++)i.set(s,r[s])})},e.prototype.shift=function(){return Ps(this,1)},e.prototype.concat=function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++){var o=r[s],u=t(typeof o!="string"&&TT(o)?o:[o]);u.size!==0&&i.push(u)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(f){i.forEach(function(c){return c.forEach(function(d){return f.push(d)})})})},e.prototype.setSize=function(r){return Ps(this,0,r)},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(o){for(var u=0;u<s.size;u++)o.set(u,r.call(i,o.get(u),u,s))})},e.prototype.slice=function(r,i){var s=this.size;return Ld(r,i,s)?this:Ps(this,Nf(r,s),Pd(i,s))},e.prototype.__iterator=function(r,i){var s=i?this.size:0,o=KE(this,i);return new xt(function(){var u=o();return u===Dl?_r():Yt(r,i?--s:s++,u)})},e.prototype.__iterate=function(r,i){for(var s=i?this.size:0,o=KE(this,i),u;(u=o())!==Dl&&r(u,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?of(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?mh():(this.__ownerID=r,this.__altered=!1,this)},e}(Xa);o0.isList=rC;var vn=o0.prototype;vn[nC]=!0;vn[Nd]=vn.remove;vn.merge=vn.concat;vn.setIn=VT;vn.deleteIn=vn.removeIn=qT;vn.update=GT;vn.updateIn=ZT;vn.mergeIn=QT;vn.mergeDeepIn=JT;vn.withMutations=Fd;vn.wasAltered=r0;vn.asImmutable=Wd;vn["@@transducer/init"]=vn.asMutable=Ud;vn["@@transducer/step"]=function(t,e){return t.push(e)};vn["@@transducer/result"]=function(t){return t.asImmutable()};var Qs=function(e,n){this.array=e,this.ownerID=n};Qs.prototype.removeBefore=function(e,n,r){if(r===n?1<<n:this.array.length===0)return this;var i=r>>>n&rr;if(i>=this.array.length)return new Qs([],e);var s=i===0,o;if(n>0){var u=this.array[i];if(o=u&&u.removeBefore(e,n-Ft,r),o===u&&s)return this}if(s&&!o)return this;var f=au(this,e);if(!s)for(var c=0;c<i;c++)f.array[c]=void 0;return o&&(f.array[i]=o),f};Qs.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var i=r-1>>>n&rr;if(i>=this.array.length)return this;var s;if(n>0){var o=this.array[i];if(s=o&&o.removeAfter(e,n-Ft,r),s===o&&i===this.array.length-1)return this}var u=au(this,e);return u.array.splice(i+1),s&&(u.array[i]=s),u};var Dl={};function KE(t,e){var n=t._origin,r=t._capacity,i=uf(r),s=t._tail;return o(t._root,t._level,0);function o(c,d,p){return d===0?u(c,p):f(c,d,p)}function u(c,d){var p=d===i?s&&s.array:c&&c.array,m=d>n?0:n-d,E=r-d;return E>Qr&&(E=Qr),function(){if(m===E)return Dl;var b=e?--E:m++;return p&&p[b]}}function f(c,d,p){var m,E=c&&c.array,b=p>n?0:n-p>>d,T=(r-p>>d)+1;return T>Qr&&(T=Qr),function(){for(;;){if(m){var g=m();if(g!==Dl)return g;m=null}if(b===T)return Dl;var v=e?--T:b++;m=o(E&&E[v],d-Ft,p+(v<<d))}}}}function of(t,e,n,r,i,s,o){var u=Object.create(vn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}var HE;function mh(){return HE||(HE=of(0,0,Ft))}function xB(t,e,n){if(e=sa(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?Ps(o,e).set(0,n):Ps(o,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,s=Gg();return e>=uf(t._capacity)?r=tm(r,t.__ownerID,0,e,n,s):i=tm(i,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):of(t._origin,t._capacity,t._level,i,r):t}function tm(t,e,n,r,i,s){var o=r>>>n&rr,u=t&&o<t.array.length;if(!u&&i===void 0)return t;var f;if(n>0){var c=t&&t.array[o],d=tm(c,e,n-Ft,r,i,s);return d===c?t:(f=au(t,e),f.array[o]=d,f)}return u&&t.array[o]===i?t:(s&&Jr(s),f=au(t,e),i===void 0&&o===f.array.length-1?f.array.pop():f.array[o]=i,f)}function au(t,e){return e&&t&&e===t.ownerID?t:new Qs(t?t.array.slice():[],e)}function iC(t,e){if(e>=uf(t._capacity))return t._tail;if(e<1<<t._level+Ft){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&rr],r-=Ft;return n}}function Ps(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new Ky,i=t._origin,s=t._capacity,o=i+e,u=n===void 0?s:n<0?s+n:i+n;if(o===i&&u===s)return t;if(o>=u)return t.clear();for(var f=t._level,c=t._root,d=0;o+d<0;)c=new Qs(c&&c.array.length?[void 0,c]:[],r),f+=Ft,d+=1<<f;d&&(o+=d,i+=d,u+=d,s+=d);for(var p=uf(s),m=uf(u);m>=1<<f+Ft;)c=new Qs(c&&c.array.length?[c]:[],r),f+=Ft;var E=t._tail,b=m<p?iC(t,u-1):m>p?new Qs([],r):E;if(E&&m>p&&o<s&&E.array.length){c=au(c,r);for(var T=c,g=f;g>Ft;g-=Ft){var v=p>>>g&rr;T=T.array[v]=au(T.array[v],r)}T.array[p>>>Ft&rr]=E}if(u<s&&(b=b&&b.removeAfter(r,0,u)),o>=m)o-=m,u-=m,f=Ft,c=null,b=b&&b.removeBefore(r,0,o);else if(o>i||m<p){for(d=0;c;){var y=o>>>f&rr;if(y!==m>>>f&rr)break;y&&(d+=(1<<f)*y),f-=Ft,c=c.array[y]}c&&o>i&&(c=c.removeBefore(r,f,o-d)),c&&m<p&&(c=c.removeAfter(r,f,m-d)),d&&(o-=d,u-=d)}return t.__ownerID?(t.size=u-o,t._origin=o,t._capacity=u,t._level=f,t._root=c,t._tail=b,t.__hash=void 0,t.__altered=!0,t):of(o,u,f,c,b)}function uf(t){return t<Qr?0:t-1>>>Ft<<Ft}var ps=function(t){function e(n){return n==null?ml():OT(n)?n:ml().withMutations(function(r){var i=xi(n);ei(i.size),i.forEach(function(s,o){return r.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,i){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):ml()},e.prototype.set=function(r,i){return qE(this,r,i)},e.prototype.remove=function(r){return qE(this,r,ht)},e.prototype.__iterate=function(r,i){var s=this;return this._list.__iterate(function(o){return o&&r(o[1],o[0],s)},i)},e.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?u0(i,s,r,this.__hash):this.size===0?ml():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=s,this)},e}(xu);ps.isOrderedMap=OT;ps.prototype[yu]=!0;ps.prototype[Nd]=ps.prototype.remove;function u0(t,e,n,r){var i=Object.create(ps.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var VE;function ml(){return VE||(VE=u0(vi(),mh()))}function qE(t,e,n){var r=t._map,i=t._list,s=r.get(e),o=s!==void 0,u,f;if(n===ht){if(!o)return t;i.size>=Qr&&i.size>=r.size*2?(f=i.filter(function(c,d){return c!==void 0&&s!==d}),u=f.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),t.__ownerID&&(u.__ownerID=f.__ownerID=t.__ownerID)):(u=r.remove(e),f=s===i.size-1?i.pop():i.set(s,void 0))}else if(o){if(n===i.get(s)[1])return t;u=r,f=i.set(s,[e,n])}else u=r.set(e,i.size),f=i.set(i.size,[e,n]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=f,t.__hash=void 0,t.__altered=!0,t):u0(u,f)}var sC="@@__IMMUTABLE_STACK__@@";function nm(t){return Boolean(t&&t[sC])}var l0=function(t){function e(n){return n==null?Gc():nm(n)?n:Gc().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,i){var s=this._head;for(r=sa(this,r);s&&r--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:r[o],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):yl(i,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&nm(r))return r;ei(r.size);var i=this.size,s=this._head;return r.__iterate(function(o){i++,s={value:o,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):yl(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Gc()},e.prototype.slice=function(r,i){if(Ld(r,i,this.size))return this;var s=Nf(r,this.size),o=Pd(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,r,i);for(var u=this.size-s,f=this._head;s--;)f=f.next;return this.__ownerID?(this.size=u,this._head=f,this.__hash=void 0,this.__altered=!0,this):yl(u,f)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?yl(this.size,this._head,r,this.__hash):this.size===0?Gc():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,i){var s=this;if(i)return new ja(this.toArray()).__iterate(function(f,c){return r(f,c,s)},i);for(var o=0,u=this._head;u&&r(u.value,o++,this)!==!1;)u=u.next;return o},e.prototype.__iterator=function(r,i){if(i)return new ja(this.toArray()).__iterator(r,i);var s=0,o=this._head;return new xt(function(){if(o){var u=o.value;return o=o.next,Yt(r,s++,u)}return _r()})},e}(Xa);l0.isStack=nm;var sr=l0.prototype;sr[sC]=!0;sr.shift=sr.pop;sr.unshift=sr.push;sr.unshiftAll=sr.pushAll;sr.withMutations=Fd;sr.wasAltered=r0;sr.asImmutable=Wd;sr["@@transducer/init"]=sr.asMutable=Ud;sr["@@transducer/step"]=function(t,e){return t.unshift(e)};sr["@@transducer/result"]=function(t){return t.asImmutable()};function yl(t,e,n,r){var i=Object.create(sr);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var YE;function Gc(){return YE||(YE=yl(0))}var aC="@@__IMMUTABLE_SET__@@";function f0(t){return Boolean(t&&t[aC])}function oC(t){return f0(t)&&yi(t)}function uC(t,e){if(t===e)return!0;if(!yr(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||Jt(t)!==Jt(e)||mr(t)!==mr(e)||yi(t)!==yi(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!Dd(t);if(yi(t)){var r=t.entries();return e.every(function(f,c){var d=r.next().value;return d&&zr(d[1],f)&&(n||zr(d[0],c))})&&r.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var o=!0,u=e.__iterate(function(f,c){if(n?!t.has(f):i?!zr(f,t.get(c,ht)):!zr(t.get(c,ht),f))return o=!1,!1});return o&&t.size===u}function Qa(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function rm(t){if(!t||typeof t!="object")return t;if(!yr(t)){if(!aa(t))return t;t=Br(t)}if(Jt(t)){var e={};return t.__iterate(function(r,i){e[i]=rm(r)}),e}var n=[];return t.__iterate(function(r){n.push(rm(r))}),n}var jd=function(t){function e(n){return n==null?_l():f0(n)&&!yi(n)?n:_l().withMutations(function(r){var i=t(n);ei(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(xi(r).keySeq())},e.intersect=function(r){return r=hn(r).toArray(),r.length?Nn.intersect.apply(e(r.pop()),r):_l()},e.union=function(r){return r=hn(r).toArray(),r.length?Nn.union.apply(e(r.pop()),r):_l()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return Zc(this,this._map.set(r,r))},e.prototype.remove=function(r){return Zc(this,this._map.remove(r))},e.prototype.clear=function(){return Zc(this,this._map.clear())},e.prototype.map=function(r,i){var s=this,o=!1,u=Zc(this,this._map.mapEntries(function(f){var c=f[1],d=r.call(i,c,c,s);return d!==c&&(o=!0),[d,d]},i));return o?u:this},e.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var o=0;o<r.length;o++)t(r[o]).forEach(function(u){return s.add(u)})})},e.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(o){return t(o)});var s=[];return this.forEach(function(o){r.every(function(u){return u.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(o){return t(o)});var s=[];return this.forEach(function(o){r.some(function(u){return u.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.sort=function(r){return lf(ru(this,r))},e.prototype.sortBy=function(r,i){return lf(ru(this,i,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,i){var s=this;return this._map.__iterate(function(o){return r(o,o,s)},i)},e.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},e}(mu);jd.isSet=f0;var Nn=jd.prototype;Nn[aC]=!0;Nn[Nd]=Nn.remove;Nn.merge=Nn.concat=Nn.union;Nn.withMutations=Fd;Nn.asImmutable=Wd;Nn["@@transducer/init"]=Nn.asMutable=Ud;Nn["@@transducer/step"]=function(t,e){return t.add(e)};Nn["@@transducer/result"]=function(t){return t.asImmutable()};Nn.__empty=_l;Nn.__make=lC;function Zc(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function lC(t,e){var n=Object.create(Nn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var GE;function _l(){return GE||(GE=lC(vi()))}var SB=function(t){function e(n,r,i){if(!(this instanceof e))return new e(n,r,i);if(jT(i!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),i=i===void 0?1:Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(Wv)return Wv;Wv=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,i){return this.has(r)?this._start+sa(this,r)*this._step:i},e.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(r,i){return Ld(r,i,this.size)?this:(r=Nf(r,this.size),i=Pd(i,this.size),i<=r?new e(0,0):new e(this.get(r,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,i){for(var s=this.size,o=this._step,u=i?this._start+(s-1)*o:this._start,f=0;f!==s&&r(u,i?s-++f:f++,this)!==!1;)u+=i?-o:o;return f},e.prototype.__iterator=function(r,i){var s=this.size,o=this._step,u=i?this._start+(s-1)*o:this._start,f=0;return new xt(function(){if(f===s)return _r();var c=u;return u+=i?-o:o,Yt(r,i?s-++f:f++,c)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:uC(this,r)},e}(Si),Wv;function fC(t,e,n){for(var r=$T(e),i=0;i!==r.length;)if(t=KT(t,r[i++],ht),t===ht)return n;return t}function bB(t,e){return fC(this,t,e)}function TB(t,e){return fC(t,e,ht)!==ht}function CB(t){return TB(this,t)}function cC(){ei(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}hn.isIterable=yr;hn.isKeyed=Jt;hn.isIndexed=mr;hn.isAssociative=Dd;hn.isOrdered=yi;hn.Iterator=xt;Qa(hn,{toArray:function(){ei(this.size);var e=new Array(this.size||0),n=Jt(this),r=0;return this.__iterate(function(i,s){e[r++]=n?[s,i]:i}),e},toIndexedSeq:function(){return new NT(this)},toJS:function(){return rm(this)},toKeyedSeq:function(){return new Bd(this,!0)},toMap:function(){return xu(this.toKeyedSeq())},toObject:cC,toOrderedMap:function(){return ps(this.toKeyedSeq())},toOrderedSet:function(){return lf(Jt(this)?this.valueSeq():this)},toSet:function(){return jd(Jt(this)?this.valueSeq():this)},toSetSeq:function(){return new LT(this)},toSeq:function(){return mr(this)?this.toIndexedSeq():Jt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return l0(Jt(this)?this.valueSeq():this)},toList:function(){return o0(Jt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Dt(this,X3(this,e))},includes:function(e){return this.some(function(n){return zr(n,e)})},entries:function(){return this.__iterator(Ei)},every:function(e,n){ei(this.size);var r=!0;return this.__iterate(function(i,s,o){if(!e.call(n,i,s,o))return r=!1,!1}),r},filter:function(e,n){return Dt(this,MT(this,e,n,!0))},find:function(e,n,r){var i=this.findEntry(e,n);return i?i[1]:r},forEach:function(e,n){return ei(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){ei(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=e,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(Lf)},map:function(e,n){return Dt(this,zT(this,e,n))},reduce:function(e,n,r){return ZE(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return ZE(this,e,n,r,arguments.length<2,!0)},reverse:function(){return Dt(this,Qy(this,!0))},slice:function(e,n){return Dt(this,Jy(this,e,n,!0))},some:function(e,n){return!this.every(Xc(e),n)},sort:function(e){return Dt(this,ru(this,e))},values:function(){return this.__iterator(wi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return nu(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return Y3(this,e,n)},equals:function(e){return uC(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ja(e._cache);var n=e.toSeq().map(AB).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(Xc(e),n)},findEntry:function(e,n,r){var i=r;return this.__iterate(function(s,o,u){if(e.call(n,s,o,u))return i=[o,s],!1}),i},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(mT,null,e)},flatMap:function(e,n){return Dt(this,Q3(this,e,n))},flatten:function(e){return Dt(this,FT(this,e,!0))},fromEntrySeq:function(){return new PT(this)},get:function(e,n){return this.find(function(r,i){return zr(i,e)},void 0,n)},getIn:bB,groupBy:function(e,n){return G3(this,e,n)},has:function(e){return this.get(e,ht)!==ht},hasIn:CB,isSubset:function(e){return e=typeof e.includes=="function"?e:hn(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:hn(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return zr(n,e)})},keySeq:function(){return this.toSeq().map(kB).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return qc(this,e)},maxBy:function(e,n){return qc(this,n,e)},min:function(e){return qc(this,e?XE(e):JE)},minBy:function(e,n){return qc(this,n?XE(n):JE,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return Dt(this,BT(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(Xc(e),n)},sortBy:function(e,n){return Dt(this,ru(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return Dt(this,Z3(this,e,n))},takeUntil:function(e,n){return this.takeWhile(Xc(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=IB(this))}});var wr=hn.prototype;wr[wT]=!0;wr[qy]=wr.values;wr.toJSON=wr.toArray;wr.__toStringMapper=nd;wr.inspect=wr.toSource=function(){return this.toString()};wr.chain=wr.flatMap;wr.contains=wr.includes;Qa(xi,{flip:function(){return Dt(this,DT(this))},mapEntries:function(e,n){var r=this,i=0;return Dt(this,this.toSeq().map(function(s,o){return e.call(n,[o,s],i++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return Dt(this,this.toSeq().flip().map(function(i,s){return e.call(n,i,s,r)}).flip())}});var Pf=xi.prototype;Pf[ET]=!0;Pf[qy]=wr.entries;Pf.toJSON=cC;Pf.__toStringMapper=function(t,e){return nd(e)+": "+nd(t)};Qa(Xa,{toKeyedSeq:function(){return new Bd(this,!1)},filter:function(e,n){return Dt(this,MT(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return Dt(this,Qy(this,!1))},slice:function(e,n){return Dt(this,Jy(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=Nf(e,e<0?this.count():this.size);var i=this.slice(0,e);return Dt(this,r===1?i:i.concat(Ri(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Dt(this,FT(this,e,!1))},get:function(e,n){return e=sa(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,i){return i===e},void 0,n)},has:function(e){return e=sa(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Dt(this,J3(this,e))},interleave:function(){var e=[this].concat(Ri(arguments)),n=Yc(this.toSeq(),Si.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),Dt(this,r)},keySeq:function(){return SB(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return Dt(this,BT(this,e,n,!1))},zip:function(){var e=[this].concat(Ri(arguments));return Dt(this,Yc(this,QE,e))},zipAll:function(){var e=[this].concat(Ri(arguments));return Dt(this,Yc(this,QE,e,!0))},zipWith:function(e){var n=Ri(arguments);return n[0]=this,Dt(this,Yc(this,e,n))}});var Su=Xa.prototype;Su[xT]=!0;Su[yu]=!0;Qa(mu,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var ou=mu.prototype;ou.has=wr.includes;ou.contains=ou.includes;ou.keys=ou.values;Qa(da,Pf);Qa(Si,Su);Qa(wu,ou);function ZE(t,e,n,r,i,s){return ei(t.size),t.__iterate(function(o,u,f){i?(i=!1,n=o):n=e.call(r,n,o,u,f)},s),n}function kB(t,e){return e}function AB(t,e){return[e,t]}function Xc(t){return function(){return!t.apply(this,arguments)}}function XE(t){return function(){return-t.apply(this,arguments)}}function QE(){return Ri(arguments)}function JE(t,e){return t<e?1:t>e?-1:0}function IB(t){if(t.size===1/0)return 0;var e=yi(t),n=Jt(t),r=e?1:0,i=t.__iterate(n?e?function(s,o){r=31*r+ex(Dr(s),Dr(o))|0}:function(s,o){r=r+ex(Dr(s),Dr(o))|0}:e?function(s){r=31*r+Dr(s)|0}:function(s){r=r+Dr(s)|0});return OB(i,r)}function OB(t,e){return e=cl(e,3432918353),e=cl(e<<15|e>>>-15,461845907),e=cl(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=cl(e^e>>>16,2246822507),e=cl(e^e>>>13,3266489909),e=Md(e^e>>>16),e}function ex(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var lf=function(t){function e(n){return n==null?im():oC(n)?n:im().withMutations(function(r){var i=mu(n);ei(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(xi(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(jd);lf.isOrderedSet=oC;var Ja=lf.prototype;Ja[yu]=!0;Ja.zip=Su.zip;Ja.zipWith=Su.zipWith;Ja.zipAll=Su.zipAll;Ja.__empty=im;Ja.__make=hC;function hC(t,e){var n=Object.create(Ja);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var tx;function im(){return tx||(tx=hC(ml()))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ct=function(){return ct=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ct.apply(this,arguments)};function sm(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ut=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,pn=Object.keys,$n=Array.isArray;typeof Promise!="undefined"&&!Ut.Promise&&(Ut.Promise=Promise);function ar(t,e){return typeof e!="object"||pn(e).forEach(function(n){t[n]=e[n]}),t}var ff=Object.getPrototypeOf,RB={}.hasOwnProperty;function ii(t,e){return RB.call(t,e)}function uu(t,e){typeof e=="function"&&(e=e(ff(t))),(typeof Reflect=="undefined"?pn:Reflect.ownKeys)(e).forEach(function(n){vs(t,n,e[n])})}var dC=Object.defineProperty;function vs(t,e,n,r){dC(t,e,ar(n&&ii(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function bu(t){return{from:function(e){return t.prototype=Object.create(e.prototype),vs(t.prototype,"constructor",t),{extend:uu.bind(null,t.prototype)}}}}var NB=Object.getOwnPropertyDescriptor;function c0(t,e){var n=NB(t,e),r;return n||(r=ff(t))&&c0(r,e)}var LB=[].slice;function $d(t,e,n){return LB.call(t,e,n)}function pC(t,e){return e(t)}function wl(t){if(!t)throw new Error("Assertion Failed")}function vC(t){Ut.setImmediate?setImmediate(t):setTimeout(t,0)}function gC(t,e){return t.reduce(function(n,r,i){var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function PB(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function ls(t,e){if(ii(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=ls(t,e[r]);n.push(s)}return n}var o=e.indexOf(".");if(o!==-1){var u=t[e.substr(0,o)];return u===void 0?void 0:ls(u,e.substr(o+1))}}function _i(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){wl(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)_i(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var o=e.substr(0,s),u=e.substr(s+1);if(u==="")n===void 0?$n(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var f=t[o];f||(f=t[o]={}),_i(f,u,n)}}else n===void 0?$n(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function DB(t,e){typeof e=="string"?_i(t,e,void 0):"length"in e&&[].map.call(e,function(n){_i(t,n,void 0)})}function mC(t){var e={};for(var n in t)ii(t,n)&&(e[n]=t[n]);return e}var zB=[].concat;function yC(t){return zB.apply([],t)}var _C="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(yC([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return Ut[t]}),MB=_C.map(function(t){return Ut[t]});gC(_C,function(t){return[t,!0]});var Ds=null;function Df(t){Ds=typeof WeakMap!="undefined"&&new WeakMap;var e=am(t);return Ds=null,e}function am(t){if(!t||typeof t!="object")return t;var e=Ds&&Ds.get(t);if(e)return e;if($n(t)){e=[],Ds&&Ds.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(am(t[n]))}else if(MB.indexOf(t.constructor)>=0)e=t;else{var i=ff(t);e=i===Object.prototype?{}:Object.create(i),Ds&&Ds.set(t,e);for(var s in t)ii(t,s)&&(e[s]=am(t[s]))}return e}var BB={}.toString;function om(t){return BB.call(t).slice(8,-1)}var um=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",FB=typeof um=="symbol"?function(t){var e;return t!=null&&(e=t[um])&&e.apply(t)}:function(){return null},Io={};function ts(t){var e,n,r,i;if(arguments.length===1){if($n(t))return t.slice();if(this===Io&&typeof t=="string")return[t];if(i=FB(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var h0=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wi=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wC(t,e){Wi=t,EC=e}var EC=function(){return!0},UB=!new Error("").stack;function eo(){if(UB)try{throw eo.arguments,new Error}catch(t){return t}return new Error}function lm(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(EC).map(function(r){return`
`+r}).join("")):""}var WB=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],xC=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],d0=WB.concat(xC),jB={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Tu(t,e){this._e=eo(),this.name=t,this.message=e}bu(Tu).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+lm(this._e,2))}},toString:function(){return this.name+": "+this.message}});function SC(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function id(t,e,n,r){this._e=eo(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=SC(t,e)}bu(id).from(Tu);function zl(t,e){this._e=eo(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=SC(t,e)}bu(zl).from(Tu);var p0=d0.reduce(function(t,e){return t[e]=e+"Error",t},{}),$B=Tu,He=d0.reduce(function(t,e){var n=e+"Error";function r(i,s){this._e=eo(),this.name=n,i?typeof i=="string"?(this.message=""+i+(s?`
 `+s:""),this.inner=s||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=jB[e]||n,this.inner=null)}return bu(r).from($B),t[e]=r,t},{});He.Syntax=SyntaxError;He.Type=TypeError;He.Range=RangeError;var nx=xC.reduce(function(t,e){return t[e+"Error"]=He[e],t},{});function KB(t,e){if(!t||t instanceof Tu||t instanceof TypeError||t instanceof SyntaxError||!t.name||!nx[t.name])return t;var n=new nx[t.name](e||t.message,t);return"stack"in t&&vs(n,"stack",{get:function(){return this.inner.stack}}),n}var Kd=d0.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=He[e]),t},{});Kd.ModifyError=id;Kd.DexieError=Tu;Kd.BulkError=zl;function Rt(){}function zf(t){return t}function HB(t,e){return t==null||t===zf?e:function(n){return e(t(n))}}function $a(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function VB(t,e){return t===Rt?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?$a(r,this.onsuccess):r),i&&(this.onerror=this.onerror?$a(i,this.onerror):i),s!==void 0?s:n}}function qB(t,e){return t===Rt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?$a(n,this.onsuccess):n),r&&(this.onerror=this.onerror?$a(r,this.onerror):r)}}function YB(t,e){return t===Rt?e:function(n){var r=t.apply(this,arguments);ar(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?$a(i,this.onsuccess):i),s&&(this.onerror=this.onerror?$a(s,this.onerror):s),r===void 0?o===void 0?void 0:o:ar(r,o)}}function GB(t,e){return t===Rt?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function v0(t,e){return t===Rt?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}var cf={},ZB=100,XB=20,bC=100,g0=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,ff(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,ff(e),t]}(),fm=g0[0],sd=g0[1],cm=g0[2],TC=sd&&sd.then,yh=fm&&fm.constructor,m0=!!cm,hm=!1,QB=cm?function(){cm.then(Qc)}:Ut.setImmediate?setImmediate.bind(null,Qc):Ut.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Qc(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Qc,0)},hf=function(t,e){El.push([t,e]),ad&&(QB(),ad=!1)},dm=!0,ad=!0,Da=[],_h=[],pm=null,vm=zf,Yo={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:sx,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{sx(t[0],t[1])}catch{}})}},Fe=Yo,El=[],za=0,wh=[];function Ne(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Rt,this._lib=!1;var e=this._PSD=Fe;if(Wi&&(this._stackHolder=eo(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==cf)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&mm(this,this._value);return}this._state=null,this._value=null,++e.ref,kC(this,t)}var gm={get:function(){var t=Fe,e=od;function n(r,i){var s=this,o=!t.global&&(t!==Fe||e!==od),u=o&&!gs(),f=new Ne(function(c,d){y0(s,new CC(ld(r,t,o,u),ld(i,t,o,u),c,d,t))});return Wi&&OC(f,this),f}return n.prototype=cf,n},set:function(t){vs(this,"then",t&&t.prototype===cf?gm:{get:function(){return t},set:gm.set})}};uu(Ne.prototype,{then:gm,_then:function(t,e){y0(this,new CC(null,null,t,e,Fe))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):Eh(r)}):this.then(null,function(r){return r&&r.name===e?n(r):Eh(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Eh(e)})},stack:{get:function(){if(this._stack)return this._stack;try{hm=!0;var t=IC(this,[],XB),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{hm=!1}}},timeout:function(t,e){var n=this;return t<1/0?new Ne(function(r,i){var s=setTimeout(function(){return i(new He.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,s))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&vs(Ne.prototype,Symbol.toStringTag,"Dexie.Promise");Yo.env=RC();function CC(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}uu(Ne,{all:function(){var t=ts.apply(null,arguments).map(ud);return new Ne(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,s){return Ne.resolve(i).then(function(o){t[s]=o,--r||e(t)},n)})})},resolve:function(t){if(t instanceof Ne)return t;if(t&&typeof t.then=="function")return new Ne(function(n,r){t.then(n,r)});var e=new Ne(cf,!0,t);return OC(e,pm),e},reject:Eh,race:function(){var t=ts.apply(null,arguments).map(ud);return new Ne(function(e,n){t.map(function(r){return Ne.resolve(r).then(e,n)})})},PSD:{get:function(){return Fe},set:function(t){return Fe=t}},totalEchoes:{get:function(){return od}},newPSD:oa,usePSD:ku,scheduler:{get:function(){return hf},set:function(t){hf=t}},rejectionMapper:{get:function(){return vm},set:function(t){vm=t}},follow:function(t,e){return new Ne(function(n,r){return oa(function(i,s){var o=Fe;o.unhandleds=[],o.onunhandled=s,o.finalize=$a(function(){var u=this;eF(function(){u.unhandleds.length===0?i():s(u.unhandleds[0])})},o.finalize),t()},e,n,r)})}});yh&&(yh.allSettled&&vs(Ne,"allSettled",function(){var t=ts.apply(null,arguments).map(ud);return new Ne(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,s){return Ne.resolve(i).then(function(o){return r[s]={status:"fulfilled",value:o}},function(o){return r[s]={status:"rejected",reason:o}}).then(function(){return--n||e(r)})})})}),yh.any&&typeof AggregateError!="undefined"&&vs(Ne,"any",function(){var t=ts.apply(null,arguments).map(ud);return new Ne(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(s,o){return Ne.resolve(s).then(function(u){return e(u)},function(u){i[o]=u,--r||n(new AggregateError(i))})})})}));function kC(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Mf();n&&typeof n.then=="function"?kC(t,function(i,s){n instanceof Ne?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,AC(t)),r&&Bf()}},mm.bind(null,t))}catch(n){mm(t,n)}}function mm(t,e){if(_h.push(e),t._state===null){var n=t._lib&&Mf();e=vm(e),t._state=!1,t._value=e,Wi&&e!==null&&typeof e=="object"&&!e._promise&&PB(function(){var r=c0(e,"stack");e._promise=t,vs(e,"stack",{get:function(){return hm?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),tF(t),AC(t),n&&Bf()}}function AC(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)y0(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),za===0&&(++za,hf(function(){--za===0&&_0()},[]))}function y0(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++za,hf(JB,[n,t,e])}function JB(t,e,n){try{pm=e;var r,i=e._value;e._state?r=t(i):(_h.length&&(_h=[]),r=t(i),_h.indexOf(i)===-1&&nF(e)),n.resolve(r)}catch(s){n.reject(s)}finally{pm=null,--za===0&&_0(),--n.psd.ref||n.psd.finalize()}}function IC(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,s,o;i!=null?(s=i.name||"Error",o=i.message||i,r=lm(i,0)):(s=i,o=""),e.push(s+(o?": "+o:"")+r)}return Wi&&(r=lm(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&IC(t._prev,e,n)),e}function OC(t,e){var n=e?e._numPrev+1:0;n<ZB&&(t._prev=e,t._numPrev=n)}function Qc(){Mf()&&Bf()}function Mf(){var t=dm;return dm=!1,ad=!1,t}function Bf(){var t,e,n;do for(;El.length>0;)for(t=El,El=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(El.length>0);dm=!0,ad=!0}function _0(){var t=Da;Da=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=wh.slice(0),n=e.length;n;)e[--n]()}function eF(t){function e(){t(),wh.splice(wh.indexOf(e),1)}wh.push(e),++za,hf(function(){--za===0&&_0()},[])}function tF(t){Da.some(function(e){return e._value===t._value})||Da.push(t)}function nF(t){for(var e=Da.length;e;)if(Da[--e]._value===t._value){Da.splice(e,1);return}}function Eh(t){return new Ne(cf,!1,t)}function qt(t,e){var n=Fe;return function(){var r=Mf(),i=Fe;try{return ua(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{ua(i,!1),r&&Bf()}}}var Wn={awaits:0,echoes:0,id:0},rF=0,xh=[],jv=0,od=0,iF=0;function oa(t,e,n,r){var i=Fe,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++iF;var o=Yo.env;s.env=m0?{Promise:Ne,PromiseProp:{value:Ne,configurable:!0,writable:!0},all:Ne.all,race:Ne.race,allSettled:Ne.allSettled,any:Ne.any,resolve:Ne.resolve,reject:Ne.reject,nthen:rx(o.nthen,s),gthen:rx(o.gthen,s)}:{},e&&ar(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ku(s,t,n,r);return s.ref===0&&s.finalize(),u}function Cu(){return Wn.id||(Wn.id=++rF),++Wn.awaits,Wn.echoes+=bC,Wn.id}function gs(){return Wn.awaits?(--Wn.awaits===0&&(Wn.id=0),Wn.echoes=Wn.awaits*bC,!0):!1}(""+TC).indexOf("[native code]")===-1&&(Cu=gs=Rt);function ud(t){return Wn.echoes&&t&&t.constructor===yh?(Cu(),t.then(function(e){return gs(),e},function(e){return gs(),_n(e)})):t}function sF(t){++od,(!Wn.echoes||--Wn.echoes===0)&&(Wn.echoes=Wn.id=0),xh.push(Fe),ua(t,!0)}function aF(){var t=xh[xh.length-1];xh.pop(),ua(t,!1)}function ua(t,e){var n=Fe;if((e?Wn.echoes&&(!jv++||t!==Fe):jv&&(!--jv||t!==Fe))&&NC(e?sF.bind(null,t):aF),t!==Fe&&(Fe=t,n===Yo&&(Yo.env=RC()),m0)){var r=Yo.env.Promise,i=t.env;sd.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(Ut,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function RC(){var t=Ut.Promise;return m0?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Ut,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:sd.then,gthen:t.prototype.then}:{}}function ku(t,e,n,r,i){var s=Fe;try{return ua(t,!0),e(n,r,i)}finally{ua(s,!1)}}function NC(t){TC.call(fm,t)}function ld(t,e,n,r){return typeof t!="function"?t:function(){var i=Fe;n&&Cu(),ua(e,!0);try{return t.apply(this,arguments)}finally{ua(i,!1),r&&NC(gs)}}}function rx(t,e){return function(n,r){return t.call(this,ld(n,e),ld(r,e))}}var ix="unhandledrejection";function sx(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(Ut.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(ix,!0,!0),ar(r,i)):Ut.CustomEvent&&(r=new CustomEvent(ix,{detail:i}),ar(r,i)),r&&Ut.dispatchEvent&&(dispatchEvent(r),!Ut.PromiseRejectionEvent&&Ut.onunhandledrejection))try{Ut.onunhandledrejection(r)}catch{}Wi&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var _n=Ne.reject;function ym(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!Fe.letThrough&&!t._vip){if(t._state.openComplete)return _n(new He.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return _n(new He.DatabaseClosed);t.open().catch(Rt)}return t._state.dbReadyPromise.then(function(){return ym(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===p0.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return ym(t,e,n,r)})):_n(s)}return i._promise(e,function(s,o){return oa(function(){return Fe.trans=i,r(s,o,i)})}).then(function(s){return i._completion.then(function(){return s})})}}var ax="3.2.1",La=String.fromCharCode(65535),_m=-1/0,Qi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",LC="String expected.",Ml=[],Hd=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),oF=Hd,uF=Hd,PC=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Vd="__dbnames",$v="readonly",Kv="readwrite";function Ka(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var DC={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Jc(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=Df(e),delete e[t]),e}:function(e){return e}}var lF=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||Fe.trans,s=this.name;function o(f,c,d){if(!d.schema[s])throw new He.NotFound("Table "+s+" not part of transaction");return n(d.idbtrans,d)}var u=Mf();try{return i&&i.db===this.db?i===Fe.trans?i._promise(e,o,r):oa(function(){return i._promise(e,o,r)},{trans:i,transless:Fe.transless||Fe}):ym(this.db,e,[this.name],o)}finally{u&&Bf()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(s){return r.hook.reading.fire(s)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if($n(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=pn(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(d){return d.compound&&n.every(function(p){return d.keyPath.indexOf(p)>=0})&&d.keyPath.every(function(p){return n.indexOf(p)>=0})})[0];if(r&&this.db._maxKey!==La)return this.where(r.name).equals(r.keyPath.map(function(d){return e[d]}));!r&&Wi&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,s=this.db._deps.indexedDB;function o(d,p){try{return s.cmp(d,p)===0}catch{return!1}}var u=n.reduce(function(d,p){var m=d[0],E=d[1],b=i[p],T=e[p];return[m||b,m||!b?Ka(E,b&&b.multi?function(g){var v=ls(g,p);return $n(v)&&v.some(function(y){return o(T,y)})}:function(g){return o(T,ls(g,p))}):E]},[null,null]),f=u[0],c=u[1];return f?this.where(f.name).equals(e[f.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,$n(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var s in r)if(ii(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){ar(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,o=i.keyPath,u=e;return o&&s&&(u=Jc(o)(e)),this._trans("readwrite",function(f){return r.core.mutate({trans:f,type:"add",keys:n!=null?[n]:null,values:[u]})}).then(function(f){return f.numFailures?Ne.reject(f.failures[0]):f.lastResult}).then(function(f){if(o)try{_i(e,o,f)}catch{}return f})},t.prototype.update=function(e,n){if(typeof e=="object"&&!$n(e)){var r=ls(e,this.schema.primKey.keyPath);if(r===void 0)return _n(new He.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?pn(n).forEach(function(i){_i(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,o=i.keyPath,u=e;return o&&s&&(u=Jc(o)(e)),this._trans("readwrite",function(f){return r.core.mutate({trans:f,type:"put",values:[u],keys:n!=null?[n]:null})}).then(function(f){return f.numFailures?Ne.reject(f.failures[0]):f.lastResult}).then(function(f){if(o)try{_i(e,o,f)}catch{}return f})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?Ne.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:DC})}).then(function(n){return n.numFailures?Ne.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(s){return n.hook.reading.fire(s)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var f=i.schema.primKey,c=f.auto,d=f.keyPath;if(d&&s)throw new He.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new He.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length,m=d&&c?e.map(Jc(d)):e;return i.core.mutate({trans:u,type:"add",keys:s,values:m,wantResults:o}).then(function(E){var b=E.numFailures,T=E.results,g=E.lastResult,v=E.failures,y=o?T:g;if(b===0)return y;throw new zl(i.name+".bulkAdd(): "+b+" of "+p+" operations failed",v)})})},t.prototype.bulkPut=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var f=i.schema.primKey,c=f.auto,d=f.keyPath;if(d&&s)throw new He.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new He.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length,m=d&&c?e.map(Jc(d)):e;return i.core.mutate({trans:u,type:"put",keys:s,values:m,wantResults:o}).then(function(E){var b=E.numFailures,T=E.results,g=E.lastResult,v=E.failures,y=o?T:g;if(b===0)return y;throw new zl(i.name+".bulkPut(): "+b+" of "+p+" operations failed",v)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var s=i.numFailures,o=i.lastResult,u=i.failures;if(s===0)return o;throw new zl(n.name+".bulkDelete(): "+s+" of "+r+" operations failed",u)})},t}();function Ff(t){var e={},n=function(u,f){if(f){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return e[u].subscribe.apply(null,d),t}else if(typeof u=="string")return e[u]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(u,f,c){if(typeof u=="object")return o(u);f||(f=GB),c||(c=Rt);var d={subscribers:[],fire:c,subscribe:function(p){d.subscribers.indexOf(p)===-1&&(d.subscribers.push(p),d.fire=f(d.fire,p))},unsubscribe:function(p){d.subscribers=d.subscribers.filter(function(m){return m!==p}),d.fire=d.subscribers.reduce(f,c)}};return e[u]=n[u]=d,d}function o(u){pn(u).forEach(function(f){var c=u[f];if($n(c))s(f,u[f][0],u[f][1]);else if(c==="asap")var d=s(f,zf,function(){for(var m=arguments.length,E=new Array(m);m--;)E[m]=arguments[m];d.subscribers.forEach(function(b){vC(function(){b.apply(null,E)})})});else throw new He.InvalidArgument("Invalid event config")})}}function Uf(t,e){return bu(e).from({prototype:t}),e}function fF(t){return Uf(lF.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Ff(null,{creating:[VB,Rt],reading:[HB,zf],updating:[YB,Rt],deleting:[qB,Rt]})})}function To(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Hv(t,e){t.filter=Ka(t.filter,e)}function Vv(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Ka(r(),e())}:e,t.justLimit=n&&!r}function cF(t,e){t.isMatch=Ka(t.isMatch,e)}function Sh(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new He.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function ox(t,e,n){var r=Sh(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function eh(t,e,n,r){var i=t.replayFilter?Ka(t.filter,t.replayFilter()):t.filter;if(t.or){var s={},o=function(u,f,c){if(!i||i(f,c,function(m){return f.stop(m)},function(m){return f.fail(m)})){var d=f.primaryKey,p=""+d;p==="[object ArrayBuffer]"&&(p=""+new Uint8Array(d)),ii(s,p)||(s[p]=!0,e(u,f,c))}};return Promise.all([t.or._iterate(o,n),ux(ox(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}else return ux(ox(t,r,n),Ka(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function ux(t,e,n,r){var i=r?function(o,u,f){return n(r(o),u,f)}:n,s=qt(i);return t.then(function(o){if(o)return o.start(function(){var u=function(){return o.continue()};(!e||e(o,function(f){return u=f},function(f){o.stop(f),u=Rt},function(f){o.fail(f),u=Rt}))&&s(o.value,o,function(f){return u=f}),u()})})}function nr(t,e){try{var n=lx(t),r=lx(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return dF(fx(t),fx(e));case"Array":return hF(t,e)}}catch{}return NaN}function hF(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s){var o=nr(t[s],e[s]);if(o!==0)return o}return n===r?0:n<r?-1:1}function dF(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s)if(t[s]!==e[s])return t[s]<e[s]?-1:1;return n===r?0:n<r?-1:1}function lx(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=om(t);return n==="ArrayBuffer"?"binary":n}function fx(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var pF=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,_n.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,_n.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=Ka(n.algorithm,e)},t.prototype._iterate=function(e,n){return eh(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&ar(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return eh(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,s=i.table.core;if(To(i,!0))return s.count({trans:r,query:{index:Sh(i,s.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var o=0;return eh(i,function(){return++o,!1},r,s).then(function(){return o})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],s=r.length-1;function o(c,d){return d?o(c[r[d]],d-1):c[i]}var u=this._ctx.dir==="next"?1:-1;function f(c,d){var p=o(c,s),m=o(d,s);return p<m?-u:p>m?u:0}return this.toArray(function(c){return c.sort(f)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&To(i,!0)&&i.limit>0){var s=i.valueMapper,o=Sh(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:o,range:i.range}}).then(function(f){var c=f.result;return s?c.map(s):c})}else{var u=[];return eh(i,function(f){return u.push(f)},r,i.table.core).then(function(){return u})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,To(n)?Vv(n,function(){var r=e;return function(i,s){return r===0?!0:r===1?(--r,!1):(s(function(){i.advance(r),r=0}),!1)}}):Vv(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Vv(this._ctx,function(){var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this},t.prototype.until=function(e,n){return Hv(this._ctx,function(r,i,s){return e(r.value)?(i(s),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return Hv(this._ctx,function(n){return e(n.value)}),cF(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&To(n,!0)&&n.limit>0)return this._read(function(i){var s=Sh(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(function(i){var s=i.result;return s}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Hv(this._ctx,function(i){var s=i.primaryKey.toString(),o=ii(r,s);return r[s]=!0,!o}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var s;if(typeof e=="function")s=e;else{var o=pn(e),u=o.length;s=function(v){for(var y=!1,x=0;x<u;++x){var C=o[x],S=e[C];ls(v,C)!==S&&(_i(v,C,S),y=!0)}return y}}var f=r.table.core,c=f.schema.primaryKey,d=c.outbound,p=c.extractKey,m=n.db._options.modifyChunkSize||200,E=[],b=0,T=[],g=function(v,y){var x=y.failures,C=y.numFailures;b+=v-C;for(var S=0,A=pn(x);S<A.length;S++){var N=A[S];E.push(x[N])}};return n.clone().primaryKeys().then(function(v){var y=function(x){var C=Math.min(m,v.length-x);return f.getMany({trans:i,keys:v.slice(x,x+C),cache:"immutable"}).then(function(S){for(var A=[],N=[],z=d?[]:null,F=[],H=0;H<C;++H){var ee=S[H],Z={value:Df(ee),primKey:v[x+H]};s.call(Z,Z.value,Z)!==!1&&(Z.value==null?F.push(v[x+H]):!d&&nr(p(ee),p(Z.value))!==0?(F.push(v[x+H]),A.push(Z.value)):(N.push(Z.value),d&&z.push(v[x+H])))}var ae=To(r)&&r.limit===1/0&&(typeof e!="function"||e===qv)&&{index:r.index,range:r.range};return Promise.resolve(A.length>0&&f.mutate({trans:i,type:"add",values:A}).then(function(ke){for(var ce in ke.failures)F.splice(parseInt(ce),1);g(A.length,ke)})).then(function(){return(N.length>0||ae&&typeof e=="object")&&f.mutate({trans:i,type:"put",keys:z,values:N,criteria:ae,changeSpec:typeof e!="function"&&e}).then(function(ke){return g(N.length,ke)})}).then(function(){return(F.length>0||ae&&e===qv)&&f.mutate({trans:i,type:"delete",keys:F,criteria:ae}).then(function(ke){return g(F.length,ke)})}).then(function(){return v.length>x+C&&y(x+m)})})};return y(0).then(function(){if(E.length>0)throw new id("Error modifying one or more objects",E,b,T);return v.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return To(e)&&(e.isPrimKey&&!uF||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(function(o){return e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(function(u){var f=u.failures;u.lastResult,u.results;var c=u.numFailures;if(c)throw new id("Could not delete some values",Object.keys(f).map(function(d){return f[d]}),o-c);return o-c})})}):this.modify(qv)},t}(),qv=function(t,e){return e.value=null};function vF(t){return Uf(pF.prototype,function(n,r){this.db=t;var i=DC,s=null;if(r)try{i=r()}catch(c){s=c}var o=n._ctx,u=o.table,f=u.hook.reading.fire;this._ctx={table:u,index:o.index,isPrimKey:!o.index||u.schema.primKey.keyPath&&o.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:s,or:o.or,valueMapper:f!==zf?f:null}})}function gF(t,e){return t<e?-1:t===e?0:1}function mF(t,e){return t>e?-1:t===e?0:1}function Pr(t,e,n){var r=t instanceof MC?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Co(t){return new t.Collection(t,function(){return zC("")}).limit(0)}function yF(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function _F(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function wF(t,e,n,r,i,s){for(var o=Math.min(t.length,r.length),u=-1,f=0;f<o;++f){var c=e[f];if(c!==r[f])return i(t[f],n[f])<0?t.substr(0,f)+n[f]+n.substr(f+1):i(t[f],r[f])<0?t.substr(0,f)+r[f]+n.substr(f+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;i(t[f],c)<0&&(u=f)}return o<r.length&&s==="next"?t+n.substr(t.length):o<t.length&&s==="prev"?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)}function th(t,e,n,r){var i,s,o,u,f,c,d,p=n.length;if(!n.every(function(T){return typeof T=="string"}))return Pr(t,LC);function m(T){i=yF(T),s=_F(T),o=T==="next"?gF:mF;var g=n.map(function(v){return{lower:s(v),upper:i(v)}}).sort(function(v,y){return o(v.lower,y.lower)});u=g.map(function(v){return v.upper}),f=g.map(function(v){return v.lower}),c=T,d=T==="next"?"":r}m("next");var E=new t.Collection(t,function(){return Ns(u[0],f[p-1]+r)});E._ondirectionchange=function(T){m(T)};var b=0;return E._addAlgorithm(function(T,g,v){var y=T.key;if(typeof y!="string")return!1;var x=s(y);if(e(x,f,b))return!0;for(var C=null,S=b;S<p;++S){var A=wF(y,x,u[S],f[S],o,c);A===null&&C===null?b=S+1:(C===null||o(C,A)>0)&&(C=A)}return g(C!==null?function(){T.continue(C+d)}:v),!1}),E}function Ns(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function zC(t){return{type:1,lower:t,upper:t}}var MC=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?Co(this):new this.Collection(this,function(){return Ns(e,n,!r,!i)})}catch{return Pr(this,Qi)}},t.prototype.equals=function(e){return e==null?Pr(this,Qi):new this.Collection(this,function(){return zC(e)})},t.prototype.above=function(e){return e==null?Pr(this,Qi):new this.Collection(this,function(){return Ns(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?Pr(this,Qi):new this.Collection(this,function(){return Ns(e,void 0,!1)})},t.prototype.below=function(e){return e==null?Pr(this,Qi):new this.Collection(this,function(){return Ns(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?Pr(this,Qi):new this.Collection(this,function(){return Ns(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?Pr(this,LC):this.between(e,e+La,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):th(this,function(n,r){return n.indexOf(r[0])===0},[e],La)},t.prototype.equalsIgnoreCase=function(e){return th(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=ts.apply(Io,arguments);return e.length===0?Co(this):th(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=ts.apply(Io,arguments);return e.length===0?Co(this):th(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,La)},t.prototype.anyOf=function(){var e=this,n=ts.apply(Io,arguments),r=this._cmp;try{n.sort(r)}catch{return Pr(this,Qi)}if(n.length===0)return Co(this);var i=new this.Collection(this,function(){return Ns(n[0],n[n.length-1])});i._ondirectionchange=function(o){r=o==="next"?e._ascending:e._descending,n.sort(r)};var s=0;return i._addAlgorithm(function(o,u,f){for(var c=o.key;r(c,n[s])>0;)if(++s,s===n.length)return u(f),!1;return r(c,n[s])===0?!0:(u(function(){o.continue(n[s])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[_m,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=ts.apply(Io,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Pr(this,Qi)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[_m,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,s=this._ascending,o=this._descending,u=this._min,f=this._max;if(e.length===0)return Co(this);if(!e.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&s(S[0],S[1])<=0}))return Pr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",He.InvalidArgument);var c=!n||n.includeLowers!==!1,d=n&&n.includeUppers===!0;function p(S,A){for(var N=0,z=S.length;N<z;++N){var F=S[N];if(i(A[0],F[1])<0&&i(A[1],F[0])>0){F[0]=u(F[0],A[0]),F[1]=f(F[1],A[1]);break}}return N===z&&S.push(A),S}var m=s;function E(S,A){return m(S[0],A[0])}var b;try{b=e.reduce(p,[]),b.sort(E)}catch{return Pr(this,Qi)}var T=0,g=d?function(S){return s(S,b[T][1])>0}:function(S){return s(S,b[T][1])>=0},v=c?function(S){return o(S,b[T][0])>0}:function(S){return o(S,b[T][0])>=0};function y(S){return!g(S)&&!v(S)}var x=g,C=new this.Collection(this,function(){return Ns(b[0][0],b[b.length-1][1],!c,!d)});return C._ondirectionchange=function(S){S==="next"?(x=g,m=s):(x=v,m=o),b.sort(E)},C._addAlgorithm(function(S,A,N){for(var z=S.key;x(z);)if(++T,T===b.length)return A(N),!1;return y(z)?!0:(r._cmp(z,b[T][1])===0||r._cmp(z,b[T][0])===0||A(function(){m===s?S.continue(b[T][0]):S.continue(b[T][1])}),!1)}),C},t.prototype.startsWithAnyOf=function(){var e=ts.apply(Io,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Co(this):this.inAnyRange(e.map(function(n){return[n,n+La]})):Pr(this,"startsWithAnyOf() only works with strings")},t}();function EF(t){return Uf(MC.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var s=t._deps.indexedDB;if(!s)throw new He.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=function(o,u){return s.cmp(u,o)},this._max=function(o,u){return s.cmp(o,u)>0?o:u},this._min=function(o,u){return s.cmp(o,u)<0?o:u},this._IDBKeyRange=t._deps.IDBKeyRange})}function Ii(t){return qt(function(e){return df(e),t(e.target.error),!1})}function df(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var pf="storagemutated",js="x-storagemutated-1",la=Ff(null,pf),xF=function(){function t(){}return t.prototype._lock=function(){return wl(!Fe.global),++this._reculock,this._reculock===1&&!Fe.global&&(Fe.lockOwnerFor=this),this},t.prototype._unlock=function(){if(wl(!Fe.global),--this._reculock===0)for(Fe.global||(Fe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ku(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&Fe.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(wl(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new He.DatabaseClosed(i);case"MissingAPIError":throw new He.MissingAPI(i.message,i);default:throw new He.OpenFailed(i)}if(!this.active)throw new He.TransactionInactive;return wl(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=qt(function(s){df(s),n._reject(e.error)}),e.onabort=qt(function(s){df(s),n.active&&n._reject(new He.Abort(e.error)),n.active=!1,n.on("abort").fire(s)}),e.oncomplete=qt(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&la.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return _n(new He.ReadOnly("Transaction is readonly"));if(!this.active)return _n(new He.TransactionInactive);if(this._locked())return new Ne(function(o,u){i._blockedFuncs.push([function(){i._promise(e,n,r).then(o,u)},Fe])});if(r)return oa(function(){var o=new Ne(function(u,f){i._lock();var c=n(u,f,i);c&&c.then&&c.then(u,f)});return o.finally(function(){return i._unlock()}),o._lib=!0,o});var s=new Ne(function(o,u){var f=n(o,u,i);f&&f.then&&f.then(o,u)});return s._lib=!0,s},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=Ne.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new Ne(function(o,u){r.then(function(f){return n._waitingQueue.push(qt(o.bind(null,f)))},function(f){return n._waitingQueue.push(qt(u.bind(null,f)))}).finally(function(){n._waitingFor===s&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new He.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(ii(n,e))return n[e];var r=this.schema[e];if(!r)throw new He.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function SF(t){return Uf(xF.prototype,function(n,r,i,s,o){var u=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Ff(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ne(function(f,c){u._resolve=f,u._reject=c}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(f){var c=u.active;return u.active=!1,u.on.error.fire(f),u.parent?u.parent._reject(f):c&&u.idbtrans&&u.idbtrans.abort(),_n(f)})})}function wm(t,e,n,r,i,s,o){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+BC(e)}}function BC(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function FC(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:gC(n,function(r){return[r.name,r]})}}function bF(t){return t.length===1?t[0]:t}var vf=function(t){try{return t.only([[]]),vf=function(){return[[]]},[[]]}catch{return vf=function(){return La},La}};function Em(t){return t==null?function(){}:typeof t=="string"?TF(t):function(e){return ls(e,t)}}function TF(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return ls(n,t)}}function cx(t){return[].slice.call(t)}var CF=0;function Bl(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function kF(t,e,n){function r(p,m){var E=cx(p.objectStoreNames);return{schema:{name:p.name,tables:E.map(function(b){return m.objectStore(b)}).map(function(b){var T=b.keyPath,g=b.autoIncrement,v=$n(T),y=T==null,x={},C={name:b.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:y,compound:v,keyPath:T,autoIncrement:g,unique:!0,extractKey:Em(T)},indexes:cx(b.indexNames).map(function(S){return b.index(S)}).map(function(S){var A=S.name,N=S.unique,z=S.multiEntry,F=S.keyPath,H=$n(F),ee={name:A,compound:H,keyPath:F,unique:N,multiEntry:z,extractKey:Em(F)};return x[Bl(F)]=ee,ee}),getIndexByKeyPath:function(S){return x[Bl(S)]}};return x[":id"]=C.primaryKey,T!=null&&(x[Bl(T)]=C.primaryKey),C})},hasGetAll:E.length>0&&"getAll"in m.objectStore(E[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(p){if(p.type===3)return null;if(p.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var m=p.lower,E=p.upper,b=p.lowerOpen,T=p.upperOpen,g=m===void 0?E===void 0?null:e.upperBound(E,!!T):E===void 0?e.lowerBound(m,!!b):e.bound(m,E,!!b,!!T);return g}function s(p){var m=p.name;function E(g){var v=g.trans,y=g.type,x=g.keys,C=g.values,S=g.range;return new Promise(function(A,N){A=qt(A);var z=v.objectStore(m),F=z.keyPath==null,H=y==="put"||y==="add";if(!H&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);var ee=(x||C||{length:1}).length;if(x&&C&&x.length!==C.length)throw new Error("Given keys array must have same length as given values array.");if(ee===0)return A({numFailures:0,failures:{},results:[],lastResult:void 0});var Z,ae=[],ke=[],ce=0,xe=function(le){++ce,df(le)};if(y==="deleteRange"){if(S.type===4)return A({numFailures:ce,failures:ke,results:[],lastResult:void 0});S.type===3?ae.push(Z=z.clear()):ae.push(Z=z.delete(i(S)))}else{var we=H?F?[C,x]:[C,null]:[x,null],ye=we[0],Me=we[1];if(H)for(var Ve=0;Ve<ee;++Ve)ae.push(Z=Me&&Me[Ve]!==void 0?z[y](ye[Ve],Me[Ve]):z[y](ye[Ve])),Z.onerror=xe;else for(var Ve=0;Ve<ee;++Ve)ae.push(Z=z[y](ye[Ve])),Z.onerror=xe}var ie=function(le){var Se=le.target.result;ae.forEach(function(Oe,Ke){return Oe.error!=null&&(ke[Ke]=Oe.error)}),A({numFailures:ce,failures:ke,results:y==="delete"?x:ae.map(function(Oe){return Oe.result}),lastResult:Se})};Z.onerror=function(le){xe(le),ie(le)},Z.onsuccess=ie})}function b(g){var v=g.trans,y=g.values,x=g.query,C=g.reverse,S=g.unique;return new Promise(function(A,N){A=qt(A);var z=x.index,F=x.range,H=v.objectStore(m),ee=z.isPrimaryKey?H:H.index(z.name),Z=C?S?"prevunique":"prev":S?"nextunique":"next",ae=y||!("openKeyCursor"in ee)?ee.openCursor(i(F),Z):ee.openKeyCursor(i(F),Z);ae.onerror=Ii(N),ae.onsuccess=qt(function(ke){var ce=ae.result;if(!ce){A(null);return}ce.___id=++CF,ce.done=!1;var xe=ce.continue.bind(ce),we=ce.continuePrimaryKey;we&&(we=we.bind(ce));var ye=ce.advance.bind(ce),Me=function(){throw new Error("Cursor not started")},Ve=function(){throw new Error("Cursor not stopped")};ce.trans=v,ce.stop=ce.continue=ce.continuePrimaryKey=ce.advance=Me,ce.fail=qt(N),ce.next=function(){var ie=this,le=1;return this.start(function(){return le--?ie.continue():ie.stop()}).then(function(){return ie})},ce.start=function(ie){var le=new Promise(function(Oe,Ke){Oe=qt(Oe),ae.onerror=Ii(Ke),ce.fail=Ke,ce.stop=function(ot){ce.stop=ce.continue=ce.continuePrimaryKey=ce.advance=Ve,Oe(ot)}}),Se=function(){if(ae.result)try{ie()}catch(Oe){ce.fail(Oe)}else ce.done=!0,ce.start=function(){throw new Error("Cursor behind last entry")},ce.stop()};return ae.onsuccess=qt(function(Oe){ae.onsuccess=Se,Se()}),ce.continue=xe,ce.continuePrimaryKey=we,ce.advance=ye,Se(),le},A(ce)},N)})}function T(g){return function(v){return new Promise(function(y,x){y=qt(y);var C=v.trans,S=v.values,A=v.limit,N=v.query,z=A===1/0?void 0:A,F=N.index,H=N.range,ee=C.objectStore(m),Z=F.isPrimaryKey?ee:ee.index(F.name),ae=i(H);if(A===0)return y({result:[]});if(g){var ke=S?Z.getAll(ae,z):Z.getAllKeys(ae,z);ke.onsuccess=function(ye){return y({result:ye.target.result})},ke.onerror=Ii(x)}else{var ce=0,xe=S||!("openKeyCursor"in Z)?Z.openCursor(ae):Z.openKeyCursor(ae),we=[];xe.onsuccess=function(ye){var Me=xe.result;if(!Me)return y({result:we});if(we.push(S?Me.value:Me.primaryKey),++ce===A)return y({result:we});Me.continue()},xe.onerror=Ii(x)}})}}return{name:m,schema:p,mutate:E,getMany:function(g){var v=g.trans,y=g.keys;return new Promise(function(x,C){x=qt(x);for(var S=v.objectStore(m),A=y.length,N=new Array(A),z=0,F=0,H,ee=function(ce){var xe=ce.target;(N[xe._pos]=xe.result)!=null,++F===z&&x(N)},Z=Ii(C),ae=0;ae<A;++ae){var ke=y[ae];ke!=null&&(H=S.get(y[ae]),H._pos=ae,H.onsuccess=ee,H.onerror=Z,++z)}z===0&&x(N)})},get:function(g){var v=g.trans,y=g.key;return new Promise(function(x,C){x=qt(x);var S=v.objectStore(m),A=S.get(y);A.onsuccess=function(N){return x(N.target.result)},A.onerror=Ii(C)})},query:T(f),openCursor:b,count:function(g){var v=g.query,y=g.trans,x=v.index,C=v.range;return new Promise(function(S,A){var N=y.objectStore(m),z=x.isPrimaryKey?N:N.index(x.name),F=i(C),H=F?z.count(F):z.count();H.onsuccess=qt(function(ee){return S(ee.target.result)}),H.onerror=Ii(A)})}}}var o=r(t,n),u=o.schema,f=o.hasGetAll,c=u.tables.map(function(p){return s(p)}),d={};return c.forEach(function(p){return d[p.name]=p}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(p){var m=d[p];if(!m)throw new Error("Table '"+p+"' not found");return d[p]},MIN_KEY:-1/0,MAX_KEY:vf(e),schema:u}}function AF(t,e){return e.reduce(function(n,r){var i=r.create;return ct(ct({},n),i(n))},t)}function IF(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var s=AF(kF(e,i,r),t.dbcore);return{dbcore:s}}function w0(t,e){var n=t._novip,r=e.db,i=IF(n._middlewares,r,n._deps,e);n.core=i.dbcore,n.tables.forEach(function(s){var o=s.name;n.core.schema.tables.some(function(u){return u.name===o})&&(s.core=n.core.table(o),n[o]instanceof n.Table&&(n[o].core=s.core))})}function fd(t,e,n,r){var i=t._novip;n.forEach(function(s){var o=r[s];e.forEach(function(u){var f=c0(u,s);(!f||"value"in f&&f.value===void 0)&&(u===i.Transaction.prototype||u instanceof i.Transaction?vs(u,s,{get:function(){return this.table(s)},set:function(c){dC(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):u[s]=new i.Table(s,o))})})}function xm(t,e){var n=t._novip;e.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function OF(t,e){return t._cfg.version-e._cfg.version}function RF(t,e,n,r){var i=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);var o=s._reject.bind(s),u=Fe.transless||Fe;oa(function(){Fe.trans=s,Fe.transless=u,e===0?(pn(i).forEach(function(f){E0(n,f,i[f].primKey,i[f].indexes)}),w0(t,n),Ne.follow(function(){return t.on.populate.fire(s)}).catch(o)):NF(t,e,s,n).catch(o)})}function NF(t,e,n,r){var i=t._novip,s=[],o=i._versions,u=i._dbSchema=x0(i,i.idbdb,r),f=!1,c=o.filter(function(p){return p._cfg.version>=e});c.forEach(function(p){s.push(function(){var m=u,E=p._cfg.dbschema;bm(i,m,r),bm(i,E,r),u=i._dbSchema=E;var b=UC(m,E);b.add.forEach(function(C){E0(r,C[0],C[1].primKey,C[1].indexes)}),b.change.forEach(function(C){if(C.recreate)throw new He.Upgrade("Not yet support for changing primary key");var S=r.objectStore(C.name);C.add.forEach(function(A){return Sm(S,A)}),C.change.forEach(function(A){S.deleteIndex(A.name),Sm(S,A)}),C.del.forEach(function(A){return S.deleteIndex(A)})});var T=p._cfg.contentUpgrade;if(T&&p._cfg.version>e){w0(i,r),n._memoizedTables={},f=!0;var g=mC(E);b.del.forEach(function(C){g[C]=m[C]}),xm(i,[i.Transaction.prototype]),fd(i,[i.Transaction.prototype],pn(g),g),n.schema=g;var v=h0(T);v&&Cu();var y,x=Ne.follow(function(){if(y=T(n),y&&v){var C=gs.bind(null,null);y.then(C,C)}});return y&&typeof y.then=="function"?Ne.resolve(y):x.then(function(){return y})}}),s.push(function(m){if(!f||!oF){var E=p._cfg.dbschema;PF(E,m)}xm(i,[i.Transaction.prototype]),fd(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function d(){return s.length?Ne.resolve(s.shift()(n.idbtrans)).then(d):Ne.resolve()}return d().then(function(){LF(u,r)})}function UC(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],s=e[r];if(!i)n.add.push([r,s]);else{var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Hd)o.recreate=!0,n.change.push(o);else{var u=i.idxByName,f=s.idxByName,c=void 0;for(c in u)f[c]||o.del.push(c);for(c in f){var d=u[c],p=f[c];d?d.src!==p.src&&o.change.push(p):o.add.push(p)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}}return n}function E0(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(s){return Sm(i,s)}),i}function LF(t,e){pn(t).forEach(function(n){e.db.objectStoreNames.contains(n)||E0(e,n,t[n].primKey,t[n].indexes)})}function PF(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function Sm(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function x0(t,e,n){var r={},i=$d(e.objectStoreNames,0);return i.forEach(function(s){for(var o=n.objectStore(s),u=o.keyPath,f=wm(BC(u),u||"",!1,!1,!!o.autoIncrement,u&&typeof u!="string",!0),c=[],d=0;d<o.indexNames.length;++d){var p=o.index(o.indexNames[d]);u=p.keyPath;var m=wm(p.name,u,!!p.unique,!!p.multiEntry,!1,u&&typeof u!="string",!1);c.push(m)}r[s]=FC(s,f,c)}),r}function DF(t,e,n){var r=t._novip;r.verno=e.version/10;var i=r._dbSchema=x0(r,e,n);r._storeNames=$d(e.objectStoreNames,0),fd(r,[r._allTables],pn(i),i)}function zF(t,e){var n=x0(t,t.idbdb,e),r=UC(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function bm(t,e,n){for(var r=t._novip,i=n.db.objectStoreNames,s=0;s<i.length;++s){var o=i[s],u=n.objectStore(o);r._hasGetAll="getAll"in u;for(var f=0;f<u.indexNames.length;++f){var c=u.indexNames[f],d=u.index(c).keyPath,p=typeof d=="string"?d:"["+$d(d).join("+")+"]";if(e[o]){var m=e[o].idxByName[p];m&&(m.name=c,delete e[o].idxByName[p],e[o].idxByName[c]=m)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ut.WorkerGlobalScope&&Ut instanceof Ut.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function MF(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return wm(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),$n(i),n===0)})}var BF=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){pn(e).forEach(function(r){if(e[r]!==null){var i=MF(e[r]),s=i.shift();if(s.multi)throw new He.Schema("Primary key cannot be multi-valued");i.forEach(function(o){if(o.auto)throw new He.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new He.Schema("Index must have a name and cannot be an empty string")}),n[r]=FC(r,s,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?ar(this._cfg.storesSource,e):e;var r=n._versions,i={},s={};return r.forEach(function(o){ar(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,xm(n,[n._allTables,n,n.Transaction.prototype]),fd(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],pn(s),s),n._storeNames=pn(s),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=v0(this._cfg.contentUpgrade||Rt,e),this},t}();function FF(t){return Uf(BF.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function S0(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new cd(Vd,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function b0(t){return t&&typeof t.databases=="function"}function UF(t){var e=t.indexedDB,n=t.IDBKeyRange;return b0(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Vd})}):S0(e,n).toCollection().primaryKeys()}function WF(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!b0(n)&&e!==Vd&&S0(n,r).put({name:e}).catch(Rt)}function jF(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!b0(n)&&e!==Vd&&S0(n,r).delete(e).catch(Rt)}function Tm(t){return oa(function(){return Fe.letThrough=!0,t()})}function $F(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function KF(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?_n(e.dbOpenError):t});Wi&&(e.openCanceller._stackHolder=eo()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new He.DatabaseClosed("db.open() was cancelled")}var s=e.dbReadyResolve,o=null,u=!1;return Ne.race([r,(typeof navigator=="undefined"?Ne.resolve():$F()).then(function(){return new Ne(function(f,c){if(i(),!n)throw new He.MissingAPI;var d=t.name,p=e.autoSchema?n.open(d):n.open(d,Math.round(t.verno*10));if(!p)throw new He.MissingAPI;p.onerror=Ii(c),p.onblocked=qt(t._fireOnBlocked),p.onupgradeneeded=qt(function(m){if(o=p.transaction,e.autoSchema&&!t._options.allowEmptyDB){p.onerror=df,o.abort(),p.result.close();var E=n.deleteDatabase(d);E.onsuccess=E.onerror=qt(function(){c(new He.NoSuchDatabase("Database "+d+" doesnt exist"))})}else{o.onerror=Ii(c);var b=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;u=b<1,t._novip.idbdb=p.result,RF(t,b/10,o,c)}},c),p.onsuccess=qt(function(){o=null;var m=t._novip.idbdb=p.result,E=$d(m.objectStoreNames);if(E.length>0)try{var b=m.transaction(bF(E),"readonly");e.autoSchema?DF(t,m,b):(bm(t,t._dbSchema,b),zF(t,b)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),w0(t,b)}catch{}Ml.push(t),m.onversionchange=qt(function(T){e.vcFired=!0,t.on("versionchange").fire(T)}),m.onclose=qt(function(T){t.on("close").fire(T)}),u&&WF(t._deps,d),f()},c)})})]).then(function(){return i(),e.onReadyBeingFired=[],Ne.resolve(Tm(function(){return t.on.ready.fire(t.vip)})).then(function f(){if(e.onReadyBeingFired.length>0){var c=e.onReadyBeingFired.reduce(v0,Rt);return e.onReadyBeingFired=[],Ne.resolve(Tm(function(){return c(t.vip)})).then(f)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(f){e.dbOpenError=f;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),_n(f)}).finally(function(){e.openComplete=!0,s()})}function Cm(t){var e=function(o){return t.next(o)},n=function(o){return t.throw(o)},r=s(e),i=s(n);function s(o){return function(u){var f=o(u),c=f.value;return f.done?c:!c||typeof c.then!="function"?$n(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return s(e)()}function HF(t,e,n){var r=arguments.length;if(r<2)throw new He.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var s=yC(i);return[t,s,n]}function WC(t,e,n,r,i){return Ne.resolve().then(function(){var s=Fe.transless||Fe,o=t._createTransaction(e,n,t._dbSchema,r),u={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(p){return p.name===p0.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return WC(t,e,n,null,i)})):_n(p)}var f=h0(i);f&&Cu();var c,d=Ne.follow(function(){if(c=i.call(o,o),c)if(f){var p=gs.bind(null,null);c.then(p,p)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=Cm(c))},u);return(c&&typeof c.then=="function"?Ne.resolve(c).then(function(p){return o.active?p:_n(new He.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):d.then(function(){return c})).then(function(p){return r&&o._resolve(),o._completion.then(function(){return p})}).catch(function(p){return o._reject(p),_n(p)})})}function nh(t,e,n){for(var r=$n(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function VF(t){return ct(ct({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},s=[];function o(T,g,v){var y=Bl(T),x=i[y]=i[y]||[],C=T==null?0:typeof T=="string"?1:T.length,S=g>0,A=ct(ct({},v),{isVirtual:S,keyTail:g,keyLength:C,extractKey:Em(T),unique:!S&&v.unique});if(x.push(A),A.isPrimaryKey||s.push(A),C>1){var N=C===2?T[0]:T.slice(0,C-1);o(N,g+1,v)}return x.sort(function(z,F){return z.keyTail-F.keyTail}),A}var u=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];for(var f=0,c=r.indexes;f<c.length;f++){var d=c[f];o(d.keyPath,0,d)}function p(T){var g=i[Bl(T)];return g&&g[0]}function m(T,g){return{type:T.type===1?2:T.type,lower:nh(T.lower,T.lowerOpen?t.MAX_KEY:t.MIN_KEY,g),lowerOpen:!0,upper:nh(T.upper,T.upperOpen?t.MIN_KEY:t.MAX_KEY,g),upperOpen:!0}}function E(T){var g=T.query.index;return g.isVirtual?ct(ct({},T),{query:{index:g,range:m(T.query.range,g.keyTail)}}):T}var b=ct(ct({},n),{schema:ct(ct({},r),{primaryKey:u,indexes:s,getIndexByKeyPath:p}),count:function(T){return n.count(E(T))},query:function(T){return n.query(E(T))},openCursor:function(T){var g=T.query.index,v=g.keyTail,y=g.isVirtual,x=g.keyLength;if(!y)return n.openCursor(T);function C(S){function A(z){z!=null?S.continue(nh(z,T.reverse?t.MAX_KEY:t.MIN_KEY,v)):T.unique?S.continue(S.key.slice(0,x).concat(T.reverse?t.MIN_KEY:t.MAX_KEY,v)):S.continue()}var N=Object.create(S,{continue:{value:A},continuePrimaryKey:{value:function(z,F){S.continuePrimaryKey(nh(z,t.MAX_KEY,v),F)}},primaryKey:{get:function(){return S.primaryKey}},key:{get:function(){var z=S.key;return x===1?z[0]:z.slice(0,x)}},value:{get:function(){return S.value}}});return N}return n.openCursor(E(T)).then(function(S){return S&&C(S)})}});return b}})}var qF={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:VF};function T0(t,e,n,r){return n=n||{},r=r||"",pn(t).forEach(function(i){if(!ii(e,i))n[r+i]=void 0;else{var s=t[i],o=e[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){var u=om(s),f=om(o);u!==f?n[r+i]=e[i]:u==="Object"?T0(s,o,n,r+i+"."):s!==o&&(n[r+i]=e[i])}else s!==o&&(n[r+i]=e[i])}}),pn(e).forEach(function(i){ii(t,i)||(n[r+i]=e[i])}),n}function YF(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var GF={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return ct(ct({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=ct(ct({},n),{mutate:function(s){var o=Fe.trans,u=o.table(e).hook,f=u.deleting,c=u.creating,d=u.updating;switch(s.type){case"add":if(c.fire===Rt)break;return o._promise("readwrite",function(){return p(s)},!0);case"put":if(c.fire===Rt&&d.fire===Rt)break;return o._promise("readwrite",function(){return p(s)},!0);case"delete":if(f.fire===Rt)break;return o._promise("readwrite",function(){return p(s)},!0);case"deleteRange":if(f.fire===Rt)break;return o._promise("readwrite",function(){return m(s)},!0)}return n.mutate(s);function p(b){var T=Fe.trans,g=b.keys||YF(r,b);if(!g)throw new Error("Keys missing");return b=b.type==="add"||b.type==="put"?ct(ct({},b),{keys:g}):ct({},b),b.type!=="delete"&&(b.values=sm([],b.values,!0)),b.keys&&(b.keys=sm([],b.keys,!0)),ZF(n,b,g).then(function(v){var y=g.map(function(x,C){var S=v[C],A={onerror:null,onsuccess:null};if(b.type==="delete")f.fire.call(A,x,S,T);else if(b.type==="add"||S===void 0){var N=c.fire.call(A,x,b.values[C],T);x==null&&N!=null&&(x=N,b.keys[C]=x,r.outbound||_i(b.values[C],r.keyPath,x))}else{var z=T0(S,b.values[C]),F=d.fire.call(A,z,x,S,T);if(F){var H=b.values[C];Object.keys(F).forEach(function(ee){ii(H,ee)?H[ee]=F[ee]:_i(H,ee,F[ee])})}}return A});return n.mutate(b).then(function(x){for(var C=x.failures,S=x.results,A=x.numFailures,N=x.lastResult,z=0;z<g.length;++z){var F=S?S[z]:g[z],H=y[z];F==null?H.onerror&&H.onerror(C[z]):H.onsuccess&&H.onsuccess(b.type==="put"&&v[z]?b.values[z]:F)}return{failures:C,results:S,numFailures:A,lastResult:N}}).catch(function(x){return y.forEach(function(C){return C.onerror&&C.onerror(x)}),Promise.reject(x)})})}function m(b){return E(b.trans,b.range,1e4)}function E(b,T,g){return n.query({trans:b,values:!1,query:{index:r,range:T},limit:g}).then(function(v){var y=v.result;return p({type:"delete",keys:y,trans:b}).then(function(x){return x.numFailures>0?Promise.reject(x.failures[0]):y.length<g?{failures:[],numFailures:0,lastResult:void 0}:E(b,ct(ct({},T),{lower:y[y.length-1],lowerOpen:!0}),g)})})}}});return i}})}};function ZF(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function jC(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,s=0;i<e.keys.length&&s<t.length;++i)nr(e.keys[i],t[s])===0&&(r.push(n?Df(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}var XF={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return ct(ct({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=jC(r.keys,r.trans._cache,r.cache==="clone");return i?Ne.resolve(i):n.getMany(r).then(function(s){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?Df(s):s},s})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},Yv;function C0(t){return!("from"in t)}var Oi=function(t,e){if(this)ar(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new Oi;return t&&"d"in t&&ar(n,t),n}};uu(Oi.prototype,(Yv={add:function(t){return mf(this,t),this},addKey:function(t){return gf(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return gf(e,n,n)}),this}},Yv[um]=function(){return km(this)},Yv));function gf(t,e,n){var r=nr(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(C0(t))return ar(t,{from:e,to:n,d:1});var i=t.l,s=t.r;if(nr(n,t.from)<0)return i?gf(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},hx(t);if(nr(e,t.to)>0)return s?gf(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},hx(t);nr(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),nr(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var o=!t.r;i&&!t.l&&mf(t,i),s&&o&&mf(t,s)}}function mf(t,e){function n(r,i){var s=i.from,o=i.to,u=i.l,f=i.r;gf(r,s,o),u&&n(r,u),f&&n(r,f)}C0(e)||n(t,e)}function $C(t,e){var n=km(e),r=n.next();if(r.done)return!1;for(var i=r.value,s=km(t),o=s.next(i.from),u=o.value;!r.done&&!o.done;){if(nr(u.from,i.to)<=0&&nr(u.to,i.from)>=0)return!0;nr(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(o=s.next(i.from)).value}return!1}function km(t){var e=C0(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&nr(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||nr(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function hx(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var s=i==="r"?"l":"r",o=ct({},t),u=t[i];t.from=u.from,t.to=u.to,t[i]=u[i],o[i]=u[s],t[s]=o,o.d=dx(o)}t.d=dx(t)}function dx(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var QF={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Oi(t.MIN_KEY,t.MAX_KEY);return ct(ct({},t),{table:function(r){var i=t.table(r),s=i.schema,o=s.primaryKey,u=o.extractKey,f=o.outbound,c=ct(ct({},i),{mutate:function(m){var E=m.trans,b=E.mutatedParts||(E.mutatedParts={}),T=function(N){var z="idb://"+e+"/"+r+"/"+N;return b[z]||(b[z]=new Oi)},g=T(""),v=T(":dels"),y=m.type,x=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[[],m.values]:[],C=x[0],S=x[1],A=m.trans._cache;return i.mutate(m).then(function(N){if($n(C)){y!=="delete"&&(C=N.results),g.addKeys(C);var z=jC(C,A);!z&&y!=="add"&&v.addKeys(C),(z||S)&&JF(T,s,z,S)}else if(C){var F={from:C.lower,to:C.upper};v.add(F),g.add(F)}else g.add(n),v.add(n),s.indexes.forEach(function(H){return T(H.name).add(n)});return N})}}),d=function(m){var E,b,T=m.query,g=T.index,v=T.range;return[g,new Oi((E=v.lower)!==null&&E!==void 0?E:t.MIN_KEY,(b=v.upper)!==null&&b!==void 0?b:t.MAX_KEY)]},p={get:function(m){return[o,new Oi(m.key)]},getMany:function(m){return[o,new Oi().addKeys(m.keys)]},count:d,query:d,openCursor:d};return pn(p).forEach(function(m){c[m]=function(E){var b=Fe.subscr;if(b){var T=function(A){var N="idb://"+e+"/"+r+"/"+A;return b[N]||(b[N]=new Oi)},g=T(""),v=T(":dels"),y=p[m](E),x=y[0],C=y[1];if(T(x.name||"").add(C),!x.isPrimaryKey)if(m==="count")v.add(n);else{var S=m==="query"&&f&&E.values&&i.query(ct(ct({},E),{values:!1}));return i[m].apply(this,arguments).then(function(A){if(m==="query"){if(f&&E.values)return S.then(function(H){var ee=H.result;return g.addKeys(ee),A});var N=E.values?A.result.map(u):A.result;E.values?g.addKeys(N):v.addKeys(N)}else if(m==="openCursor"){var z=A,F=E.values;return z&&Object.create(z,{key:{get:function(){return v.addKey(z.primaryKey),z.key}},primaryKey:{get:function(){var H=z.primaryKey;return v.addKey(H),H}},value:{get:function(){return F&&g.addKey(z.primaryKey),z.value}}})}return A})}}return i[m].apply(this,arguments)}}),c}})}};function JF(t,e,n,r){function i(s){var o=t(s.name||"");function u(c){return c!=null?s.extractKey(c):null}var f=function(c){return s.multiEntry&&$n(c)?c.forEach(function(d){return o.addKey(d)}):o.addKey(c)};(n||r).forEach(function(c,d){var p=n&&u(n[d]),m=r&&u(r[d]);nr(p,m)!==0&&(p!=null&&f(p),m!=null&&f(m))})}e.indexes.forEach(i)}var cd=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=ct({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var s=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Rt,dbReadyPromise:null,cancelOpen:Rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new Ne(function(u){o.dbReadyResolve=u}),o.openCanceller=new Ne(function(u,f){o.cancelOpen=f}),this._state=o,this.name=e,this.on=Ff(this,"populate","blocked","versionchange","close",{ready:[v0,Rt]}),this.on.ready.subscribe=pC(this.on.ready.subscribe,function(u){return function(f,c){t.vip(function(){var d=r._state;if(d.openComplete)d.dbOpenError||Ne.resolve().then(f),c&&u(f);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(f),c&&u(f);else{u(f);var p=r;c||u(function m(){p.on.ready.unsubscribe(f),p.on.ready.unsubscribe(m)})}})}}),this.Collection=vF(this),this.Table=fF(this),this.Transaction=SF(this),this.Version=FF(this),this.WhereClause=EF(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=vf(n.IDBKeyRange),this._createTransaction=function(u,f,c,d){return new r.Transaction(u,f,c,r._options.chromeTransactionDurability,d)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),Ml.filter(function(f){return f.name===r.name&&f!==r&&!f._state.vcFired}).map(function(f){return f.on("versionchange").fire(u)})},this.use(qF),this.use(GF),this.use(QF),this.use(XF),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(function(u){return u(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new He.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new He.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(OF),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||Fe.letThrough||this._vip)?e():new Ne(function(r,i){if(n._state.openComplete)return i(new He.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new He.DatabaseClosed);return}n.open().catch(Rt)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,s=e.name;s&&this.unuse({stack:n,name:s});var o=this._middlewares[n]||(this._middlewares[n]=[]);return o.push({stack:n,create:r,level:i==null?10:i,name:s}),o.sort(function(u,f){return u.level-f.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(s){return i?s.create!==i:r?s.name!==r:!1})),this},t.prototype.open=function(){return KF(this)},t.prototype._close=function(){var e=this._state,n=Ml.indexOf(this);if(n>=0&&Ml.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new Ne(function(r){e.dbReadyResolve=r}),e.openCanceller=new Ne(function(r,i){e.cancelOpen=i})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new He.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new Ne(function(i,s){var o=function(){e.close();var u=e._deps.indexedDB.deleteDatabase(e.name);u.onsuccess=qt(function(){jF(e._deps,e.name),i()}),u.onerror=Ii(s),u.onblocked=e._fireOnBlocked};if(n)throw new He.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return pn(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=HF.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,s=Fe.trans;(!s||s.db!==this||e.indexOf("!")!==-1)&&(s=null);var o=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var u,f;try{if(f=n.map(function(d){var p=d instanceof i.Table?d.name:d;if(typeof p!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return p}),e=="r"||e===$v)u=$v;else if(e=="rw"||e==Kv)u=Kv;else throw new He.InvalidArgument("Invalid transaction mode: "+e);if(s){if(s.mode===$v&&u===Kv)if(o)s=null;else throw new He.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s&&f.forEach(function(d){if(s&&s.storeNames.indexOf(d)===-1)if(o)s=null;else throw new He.SubTransaction("Table "+d+" not included in parent transaction.")}),o&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,function(p,m){m(d)}):_n(d)}var c=WC.bind(null,this,u,f,s,r);return s?s._promise(u,c,"lock"):Fe.trans?ku(Fe.transless,function(){return i._whenReady(c)}):this._whenReady(c)},t.prototype.table=function(e){if(!ii(this._allTables,e))throw new He.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),e4=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",t4=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[e4]=function(){return this},t}();function KC(t,e){return pn(e).forEach(function(n){var r=t[n]||(t[n]=new Oi);mf(r,e[n])}),t}function HC(t){return new t4(function(e){var n=h0(t);function r(E){n&&Cu();var b=function(){return oa(t,{subscr:E,trans:null})},T=Fe.trans?ku(Fe.transless,b):b();return n&&T.then(gs,gs),T}var i=!1,s={},o={},u={get closed(){return i},unsubscribe:function(){i=!0,la.storagemutated.unsubscribe(p)}};e.start&&e.start(u);var f=!1,c=!1;function d(){return pn(o).some(function(E){return s[E]&&$C(s[E],o[E])})}var p=function(E){KC(s,E),d()&&m()},m=function(){if(!(f||i)){s={};var E={},b=r(E);c||(la(pf,p),c=!0),f=!0,Promise.resolve(b).then(function(T){f=!1,!i&&(d()?m():(s={},o=E,e.next&&e.next(T)))},function(T){f=!1,e.error&&e.error(T),u.unsubscribe()})}};return m(),u})}var Am;try{Am={indexedDB:Ut.indexedDB||Ut.mozIndexedDB||Ut.webkitIndexedDB||Ut.msIndexedDB,IDBKeyRange:Ut.IDBKeyRange||Ut.webkitIDBKeyRange}}catch{Am={indexedDB:null,IDBKeyRange:null}}var Ca=cd;uu(Ca,ct(ct({},Kd),{delete:function(t){var e=new Ca(t,{addons:[]});return e.delete()},exists:function(t){return new Ca(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return UF(Ca.dependencies).then(t)}catch{return _n(new He.MissingAPI)}},defineClass:function(){function t(e){ar(this,e)}return t},ignoreTransaction:function(t){return Fe.trans?ku(Fe.transless,t):t()},vip:Tm,async:function(t){return function(){try{var e=Cm(t.apply(this,arguments));return!e||typeof e.then!="function"?Ne.resolve(e):e}catch(n){return _n(n)}}},spawn:function(t,e,n){try{var r=Cm(t.apply(n,e||[]));return!r||typeof r.then!="function"?Ne.resolve(r):r}catch(i){return _n(i)}},currentTransaction:{get:function(){return Fe.trans||null}},waitFor:function(t,e){var n=Ne.resolve(typeof t=="function"?Ca.ignoreTransaction(t):t).timeout(e||6e4);return Fe.trans?Fe.trans.waitFor(n):n},Promise:Ne,debug:{get:function(){return Wi},set:function(t){wC(t,t==="dexie"?function(){return!0}:PC)}},derive:bu,extend:ar,props:uu,override:pC,Events:Ff,on:la,liveQuery:HC,extendObservabilitySet:KC,getByKeyPath:ls,setByKeyPath:_i,delByKeyPath:DB,shallowClone:mC,deepClone:Df,getObjectDiff:T0,cmp:nr,asap:vC,minKey:_m,addons:[],connections:Ml,errnames:p0,dependencies:Am,semVer:ax,version:ax.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));Ca.maxKey=vf(Ca.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(la(pf,function(t){if(!ss){var e;Hd?(e=document.createEvent("CustomEvent"),e.initCustomEvent(js,!0,!0,t)):e=new CustomEvent(js,{detail:t}),ss=!0,dispatchEvent(e),ss=!1}}),addEventListener(js,function(t){var e=t.detail;ss||hd(e)}));function hd(t){var e=ss;try{ss=!0,la.storagemutated.fire(t)}finally{ss=e}}var ss=!1;if(typeof BroadcastChannel!="undefined"){var px=new BroadcastChannel(js);la(pf,function(t){ss||px.postMessage(t)}),px.onmessage=function(t){t.data&&hd(t.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){la(pf,function(t){try{ss||(typeof localStorage!="undefined"&&localStorage.setItem(js,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&sm([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:js,changedParts:t})}))}catch{}}),addEventListener("storage",function(t){if(t.key===js){var e=JSON.parse(t.newValue);e&&hd(e.changedParts)}});var vx=self.document&&navigator.serviceWorker;vx&&vx.addEventListener("message",n4)}function n4(t){var e=t.data;e&&e.type===js&&hd(e.changedParts)}Ne.rejectionMapper=KB;wC(Wi,PC);var r4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Dexie:cd,RangeSet:Oi,default:cd,liveQuery:HC,mergeRanges:mf,rangesOverlap:$C}),gx={exports:{}},i4=$N(r4);(function(t,e){(function(n,r){r(e,i4,Xe.exports)})(Un,function(n,r,i){function s(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var o=s(i);function u(d,p,m){var E,b;typeof d=="function"?(E=p||[],b=m):(E=[],b=p);var T=o.default.useRef({hasResult:!1,result:b,error:null}),g=o.default.useReducer(function(x){return x+1},0);g[0];var v=g[1],y=o.default.useMemo(function(){var x=typeof d=="function"?d():d;if(!x||typeof x.subscribe!="function")throw d===x?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!T.current.hasResult)if(typeof x.getValue=="function")T.current.result=x.getValue(),T.current.hasResult=!0;else{var C=x.subscribe(function(S){T.current.result=S,T.current.hasResult=!0});typeof C=="function"?C():C.unsubscribe()}return x},E);if(o.default.useDebugValue(T.current.result),o.default.useEffect(function(){var x=y.subscribe(function(C){var S=T.current;(S.error!==null||S.result!==C)&&(S.error=null,S.result=C,S.hasResult=!0,v())},function(C){var S=T.current;S.error!==C&&(S.error=C,v())});return typeof x=="function"?x:x.unsubscribe.bind(x)},E),T.current.error)throw T.current.error;return T.current.result}function f(d,p,m){return u(function(){return r.liveQuery(d)},p||[],m)}function c(d,p,m){if(!d)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var E;if(arguments.length>=3){if(!("transaction"in d))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof p!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!m||typeof m!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");E=d}else{if(d instanceof r.Dexie)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof d.table=="function"&&typeof d.db=="object")E=d.db,m=d,p=d.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in E))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in E.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return u(function(){return E.cloud.permissions(m,p)},[m.realmId,m.owner,p])}n.useLiveQuery=f,n.useObservable=u,n.usePermissions=c,Object.defineProperty(n,"__esModule",{value:!0})})})(gx,gx.exports);var s4={exports:{}},Wf={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4=Xe.exports,VC=60103;Wf.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var mx=Symbol.for;VC=mx("react.element"),Wf.Fragment=mx("react.fragment")}var o4=a4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u4=Object.prototype.hasOwnProperty,l4={key:!0,ref:!0,__self:!0,__source:!0};function qC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)u4.call(e,r)&&!l4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VC,type:t,key:s,ref:o,props:i,_owner:o4.current}}Wf.jsx=qC;Wf.jsxs=qC;s4.exports=Wf;var yx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",p=1,m=2,E=4,b=1,T=2,g=1,v=2,y=4,x=8,C=16,S=32,A=64,N=128,z=256,F=512,H=30,ee="...",Z=800,ae=16,ke=1,ce=2,xe=3,we=1/0,ye=9007199254740991,Me=17976931348623157e292,Ve=0/0,ie=4294967295,le=ie-1,Se=ie>>>1,Oe=[["ary",N],["bind",g],["bindKey",v],["curry",x],["curryRight",C],["flip",F],["partial",S],["partialRight",A],["rearg",z]],Ke="[object Arguments]",ot="[object Array]",vt="[object AsyncFunction]",$e="[object Boolean]",_t="[object Date]",$t="[object DOMException]",ut="[object Error]",Tt="[object Function]",lt="[object GeneratorFunction]",St="[object Map]",It="[object Number]",Pn="[object Null]",Qe="[object Object]",en="[object Promise]",Sr="[object Proxy]",tn="[object RegExp]",Ct="[object Set]",wt="[object String]",Ye="[object Symbol]",kn="[object Undefined]",Gn="[object WeakMap]",br="[object WeakSet]",an="[object ArrayBuffer]",Dn="[object DataView]",Zn="[object Float32Array]",wn="[object Float64Array]",Tr="[object Int8Array]",Xn="[object Int16Array]",Zt="[object Int32Array]",En="[object Uint8Array]",Ur="[object Uint8ClampedArray]",D="[object Uint16Array]",fe="[object Uint32Array]",ve=/\b__p \+= '';/g,Ie=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ne=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,he=RegExp(ne.source),Be=RegExp(I.source),_=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,be=RegExp(Pe.source),Ae=/^\s+/,nt=/\s/,Cr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,it=/,? & /,Xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dn=/[()=,{}\[\]\/\s]/,xn=/\\(\\)?/g,_s=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ji=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,zn=/^0b[01]+$/i,on=/^\[object .+?Constructor\]$/,kr=/^0o[0-7]+$/i,ur=/^(?:0|[1-9]\d*)$/,to=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,no=/($^)/,jf=/['\n\r\u2028\u2029\\]/g,bi="\\ud800-\\udfff",$f="\\u0300-\\u036f",ws="\\ufe20-\\ufe2f",qd="\\u20d0-\\u20ff",pa=$f+ws+qd,ro="\\u2700-\\u27bf",Kf="a-z\\xdf-\\xf6\\xf8-\\xff",Yd="\\xac\\xb1\\xd7\\xf7",Au="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gd="\\u2000-\\u206f",Zd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",L="A-Z\\xc0-\\xd6\\xd8-\\xde",U="\\ufe0e\\ufe0f",M=Yd+Au+Gd+Zd,V="['\u2019]",G="["+bi+"]",K="["+M+"]",se="["+pa+"]",pe="\\d+",ge="["+ro+"]",me="["+Kf+"]",Ee="[^"+bi+M+pe+ro+Kf+L+"]",De="\\ud83c[\\udffb-\\udfff]",et="(?:"+se+"|"+De+")",gt="[^"+bi+"]",mt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",At="["+L+"]",Qn="\\u200d",Es="(?:"+me+"|"+Ee+")",Iu="(?:"+At+"|"+Ee+")",Hf="(?:"+V+"(?:d|ll|m|re|s|t|ve))?",io="(?:"+V+"(?:D|LL|M|RE|S|T|VE))?",Xd=et+"?",Vf="["+U+"]?",Qd="(?:"+Qn+"(?:"+[gt,mt,Ht].join("|")+")"+Vf+Xd+")*",qf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",k0=Vf+Xd+Qd,GC="(?:"+[ge,mt,Ht].join("|")+")"+k0,ZC="(?:"+[gt+se+"?",se,mt,Ht,G].join("|")+")",XC=RegExp(V,"g"),QC=RegExp(se,"g"),Jd=RegExp(De+"(?="+De+")|"+ZC+k0,"g"),JC=RegExp([At+"?"+me+"+"+Hf+"(?="+[K,At,"$"].join("|")+")",Iu+"+"+io+"(?="+[K,At+Es,"$"].join("|")+")",At+"?"+Es+"+"+Hf,At+"+"+io,YC,qf,pe,GC].join("|"),"g"),ek=RegExp("["+Qn+bi+pa+U+"]"),tk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nk=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rk=-1,Mt={};Mt[Zn]=Mt[wn]=Mt[Tr]=Mt[Xn]=Mt[Zt]=Mt[En]=Mt[Ur]=Mt[D]=Mt[fe]=!0,Mt[Ke]=Mt[ot]=Mt[an]=Mt[$e]=Mt[Dn]=Mt[_t]=Mt[ut]=Mt[Tt]=Mt[St]=Mt[It]=Mt[Qe]=Mt[tn]=Mt[Ct]=Mt[wt]=Mt[Gn]=!1;var Lt={};Lt[Ke]=Lt[ot]=Lt[an]=Lt[Dn]=Lt[$e]=Lt[_t]=Lt[Zn]=Lt[wn]=Lt[Tr]=Lt[Xn]=Lt[Zt]=Lt[St]=Lt[It]=Lt[Qe]=Lt[tn]=Lt[Ct]=Lt[wt]=Lt[Ye]=Lt[En]=Lt[Ur]=Lt[D]=Lt[fe]=!0,Lt[ut]=Lt[Tt]=Lt[Gn]=!1;var ik={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},sk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ak={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ok={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uk=parseFloat,lk=parseInt,A0=typeof Un=="object"&&Un&&Un.Object===Object&&Un,fk=typeof self=="object"&&self&&self.Object===Object&&self,An=A0||fk||Function("return this")(),ep=e&&!e.nodeType&&e,va=ep&&!0&&t&&!t.nodeType&&t,I0=va&&va.exports===ep,tp=I0&&A0.process,Wr=function(){try{var q=va&&va.require&&va.require("util").types;return q||tp&&tp.binding&&tp.binding("util")}catch{}}(),O0=Wr&&Wr.isArrayBuffer,R0=Wr&&Wr.isDate,N0=Wr&&Wr.isMap,L0=Wr&&Wr.isRegExp,P0=Wr&&Wr.isSet,D0=Wr&&Wr.isTypedArray;function Ar(q,re,J){switch(J.length){case 0:return q.call(re);case 1:return q.call(re,J[0]);case 2:return q.call(re,J[0],J[1]);case 3:return q.call(re,J[0],J[1],J[2])}return q.apply(re,J)}function ck(q,re,J,Re){for(var Ge=-1,Et=q==null?0:q.length;++Ge<Et;){var gn=q[Ge];re(Re,gn,J(gn),q)}return Re}function jr(q,re){for(var J=-1,Re=q==null?0:q.length;++J<Re&&re(q[J],J,q)!==!1;);return q}function hk(q,re){for(var J=q==null?0:q.length;J--&&re(q[J],J,q)!==!1;);return q}function z0(q,re){for(var J=-1,Re=q==null?0:q.length;++J<Re;)if(!re(q[J],J,q))return!1;return!0}function xs(q,re){for(var J=-1,Re=q==null?0:q.length,Ge=0,Et=[];++J<Re;){var gn=q[J];re(gn,J,q)&&(Et[Ge++]=gn)}return Et}function Yf(q,re){var J=q==null?0:q.length;return!!J&&so(q,re,0)>-1}function np(q,re,J){for(var Re=-1,Ge=q==null?0:q.length;++Re<Ge;)if(J(re,q[Re]))return!0;return!1}function Vt(q,re){for(var J=-1,Re=q==null?0:q.length,Ge=Array(Re);++J<Re;)Ge[J]=re(q[J],J,q);return Ge}function Ss(q,re){for(var J=-1,Re=re.length,Ge=q.length;++J<Re;)q[Ge+J]=re[J];return q}function rp(q,re,J,Re){var Ge=-1,Et=q==null?0:q.length;for(Re&&Et&&(J=q[++Ge]);++Ge<Et;)J=re(J,q[Ge],Ge,q);return J}function dk(q,re,J,Re){var Ge=q==null?0:q.length;for(Re&&Ge&&(J=q[--Ge]);Ge--;)J=re(J,q[Ge],Ge,q);return J}function ip(q,re){for(var J=-1,Re=q==null?0:q.length;++J<Re;)if(re(q[J],J,q))return!0;return!1}var pk=sp("length");function vk(q){return q.split("")}function gk(q){return q.match(Xt)||[]}function M0(q,re,J){var Re;return J(q,function(Ge,Et,gn){if(re(Ge,Et,gn))return Re=Et,!1}),Re}function Gf(q,re,J,Re){for(var Ge=q.length,Et=J+(Re?1:-1);Re?Et--:++Et<Ge;)if(re(q[Et],Et,q))return Et;return-1}function so(q,re,J){return re===re?Ak(q,re,J):Gf(q,B0,J)}function mk(q,re,J,Re){for(var Ge=J-1,Et=q.length;++Ge<Et;)if(Re(q[Ge],re))return Ge;return-1}function B0(q){return q!==q}function F0(q,re){var J=q==null?0:q.length;return J?op(q,re)/J:Ve}function sp(q){return function(re){return re==null?n:re[q]}}function ap(q){return function(re){return q==null?n:q[re]}}function U0(q,re,J,Re,Ge){return Ge(q,function(Et,gn,Ot){J=Re?(Re=!1,Et):re(J,Et,gn,Ot)}),J}function yk(q,re){var J=q.length;for(q.sort(re);J--;)q[J]=q[J].value;return q}function op(q,re){for(var J,Re=-1,Ge=q.length;++Re<Ge;){var Et=re(q[Re]);Et!==n&&(J=J===n?Et:J+Et)}return J}function up(q,re){for(var J=-1,Re=Array(q);++J<q;)Re[J]=re(J);return Re}function _k(q,re){return Vt(re,function(J){return[J,q[J]]})}function W0(q){return q&&q.slice(0,H0(q)+1).replace(Ae,"")}function Ir(q){return function(re){return q(re)}}function lp(q,re){return Vt(re,function(J){return q[J]})}function Ou(q,re){return q.has(re)}function j0(q,re){for(var J=-1,Re=q.length;++J<Re&&so(re,q[J],0)>-1;);return J}function $0(q,re){for(var J=q.length;J--&&so(re,q[J],0)>-1;);return J}function wk(q,re){for(var J=q.length,Re=0;J--;)q[J]===re&&++Re;return Re}var Ek=ap(ik),xk=ap(sk);function Sk(q){return"\\"+ok[q]}function bk(q,re){return q==null?n:q[re]}function ao(q){return ek.test(q)}function Tk(q){return tk.test(q)}function Ck(q){for(var re,J=[];!(re=q.next()).done;)J.push(re.value);return J}function fp(q){var re=-1,J=Array(q.size);return q.forEach(function(Re,Ge){J[++re]=[Ge,Re]}),J}function K0(q,re){return function(J){return q(re(J))}}function bs(q,re){for(var J=-1,Re=q.length,Ge=0,Et=[];++J<Re;){var gn=q[J];(gn===re||gn===d)&&(q[J]=d,Et[Ge++]=J)}return Et}function Zf(q){var re=-1,J=Array(q.size);return q.forEach(function(Re){J[++re]=Re}),J}function kk(q){var re=-1,J=Array(q.size);return q.forEach(function(Re){J[++re]=[Re,Re]}),J}function Ak(q,re,J){for(var Re=J-1,Ge=q.length;++Re<Ge;)if(q[Re]===re)return Re;return-1}function Ik(q,re,J){for(var Re=J+1;Re--;)if(q[Re]===re)return Re;return Re}function oo(q){return ao(q)?Rk(q):pk(q)}function ai(q){return ao(q)?Nk(q):vk(q)}function H0(q){for(var re=q.length;re--&&nt.test(q.charAt(re)););return re}var Ok=ap(ak);function Rk(q){for(var re=Jd.lastIndex=0;Jd.test(q);)++re;return re}function Nk(q){return q.match(Jd)||[]}function Lk(q){return q.match(JC)||[]}var Pk=function q(re){re=re==null?An:uo.defaults(An.Object(),re,uo.pick(An,nk));var J=re.Array,Re=re.Date,Ge=re.Error,Et=re.Function,gn=re.Math,Ot=re.Object,cp=re.RegExp,Dk=re.String,$r=re.TypeError,Xf=J.prototype,zk=Et.prototype,lo=Ot.prototype,Qf=re["__core-js_shared__"],Jf=zk.toString,kt=lo.hasOwnProperty,Mk=0,V0=function(){var a=/[^.]+$/.exec(Qf&&Qf.keys&&Qf.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ec=lo.toString,Bk=Jf.call(Ot),Fk=An._,Uk=cp("^"+Jf.call(kt).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tc=I0?re.Buffer:n,Ts=re.Symbol,nc=re.Uint8Array,q0=tc?tc.allocUnsafe:n,rc=K0(Ot.getPrototypeOf,Ot),Y0=Ot.create,G0=lo.propertyIsEnumerable,ic=Xf.splice,Z0=Ts?Ts.isConcatSpreadable:n,Ru=Ts?Ts.iterator:n,ga=Ts?Ts.toStringTag:n,sc=function(){try{var a=Ea(Ot,"defineProperty");return a({},"",{}),a}catch{}}(),Wk=re.clearTimeout!==An.clearTimeout&&re.clearTimeout,jk=Re&&Re.now!==An.Date.now&&Re.now,$k=re.setTimeout!==An.setTimeout&&re.setTimeout,ac=gn.ceil,oc=gn.floor,hp=Ot.getOwnPropertySymbols,Kk=tc?tc.isBuffer:n,X0=re.isFinite,Hk=Xf.join,Vk=K0(Ot.keys,Ot),mn=gn.max,Mn=gn.min,qk=Re.now,Yk=re.parseInt,Q0=gn.random,Gk=Xf.reverse,dp=Ea(re,"DataView"),Nu=Ea(re,"Map"),pp=Ea(re,"Promise"),fo=Ea(re,"Set"),Lu=Ea(re,"WeakMap"),Pu=Ea(Ot,"create"),uc=Lu&&new Lu,co={},Zk=xa(dp),Xk=xa(Nu),Qk=xa(pp),Jk=xa(fo),eA=xa(Lu),lc=Ts?Ts.prototype:n,Du=lc?lc.valueOf:n,J0=lc?lc.toString:n;function R(a){if(nn(a)&&!Ze(a)&&!(a instanceof at)){if(a instanceof Kr)return a;if(kt.call(a,"__wrapped__"))return ew(a)}return new Kr(a)}var ho=function(){function a(){}return function(l){if(!Qt(l))return{};if(Y0)return Y0(l);a.prototype=l;var h=new a;return a.prototype=n,h}}();function fc(){}function Kr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}R.templateSettings={escape:_,evaluate:Q,interpolate:te,variable:"",imports:{_:R}},R.prototype=fc.prototype,R.prototype.constructor=R,Kr.prototype=ho(fc.prototype),Kr.prototype.constructor=Kr;function at(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function tA(){var a=new at(this.__wrapped__);return a.__actions__=lr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=lr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=lr(this.__views__),a}function nA(){if(this.__filtered__){var a=new at(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function rA(){var a=this.__wrapped__.value(),l=this.__dir__,h=Ze(a),w=l<0,k=h?a.length:0,P=vI(0,k,this.__views__),B=P.start,j=P.end,Y=j-B,oe=w?j:B-1,ue=this.__iteratees__,de=ue.length,Te=0,ze=Mn(Y,this.__takeCount__);if(!h||!w&&k==Y&&ze==Y)return S_(a,this.__actions__);var We=[];e:for(;Y--&&Te<ze;){oe+=l;for(var tt=-1,je=a[oe];++tt<de;){var st=ue[tt],ft=st.iteratee,Nr=st.type,tr=ft(je);if(Nr==ce)je=tr;else if(!tr){if(Nr==ke)continue e;break e}}We[Te++]=je}return We}at.prototype=ho(fc.prototype),at.prototype.constructor=at;function ma(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var w=a[l];this.set(w[0],w[1])}}function iA(){this.__data__=Pu?Pu(null):{},this.size=0}function sA(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function aA(a){var l=this.__data__;if(Pu){var h=l[a];return h===f?n:h}return kt.call(l,a)?l[a]:n}function oA(a){var l=this.__data__;return Pu?l[a]!==n:kt.call(l,a)}function uA(a,l){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=Pu&&l===n?f:l,this}ma.prototype.clear=iA,ma.prototype.delete=sA,ma.prototype.get=aA,ma.prototype.has=oA,ma.prototype.set=uA;function $i(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var w=a[l];this.set(w[0],w[1])}}function lA(){this.__data__=[],this.size=0}function fA(a){var l=this.__data__,h=cc(l,a);if(h<0)return!1;var w=l.length-1;return h==w?l.pop():ic.call(l,h,1),--this.size,!0}function cA(a){var l=this.__data__,h=cc(l,a);return h<0?n:l[h][1]}function hA(a){return cc(this.__data__,a)>-1}function dA(a,l){var h=this.__data__,w=cc(h,a);return w<0?(++this.size,h.push([a,l])):h[w][1]=l,this}$i.prototype.clear=lA,$i.prototype.delete=fA,$i.prototype.get=cA,$i.prototype.has=hA,$i.prototype.set=dA;function Ki(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var w=a[l];this.set(w[0],w[1])}}function pA(){this.size=0,this.__data__={hash:new ma,map:new(Nu||$i),string:new ma}}function vA(a){var l=Sc(this,a).delete(a);return this.size-=l?1:0,l}function gA(a){return Sc(this,a).get(a)}function mA(a){return Sc(this,a).has(a)}function yA(a,l){var h=Sc(this,a),w=h.size;return h.set(a,l),this.size+=h.size==w?0:1,this}Ki.prototype.clear=pA,Ki.prototype.delete=vA,Ki.prototype.get=gA,Ki.prototype.has=mA,Ki.prototype.set=yA;function ya(a){var l=-1,h=a==null?0:a.length;for(this.__data__=new Ki;++l<h;)this.add(a[l])}function _A(a){return this.__data__.set(a,f),this}function wA(a){return this.__data__.has(a)}ya.prototype.add=ya.prototype.push=_A,ya.prototype.has=wA;function oi(a){var l=this.__data__=new $i(a);this.size=l.size}function EA(){this.__data__=new $i,this.size=0}function xA(a){var l=this.__data__,h=l.delete(a);return this.size=l.size,h}function SA(a){return this.__data__.get(a)}function bA(a){return this.__data__.has(a)}function TA(a,l){var h=this.__data__;if(h instanceof $i){var w=h.__data__;if(!Nu||w.length<i-1)return w.push([a,l]),this.size=++h.size,this;h=this.__data__=new Ki(w)}return h.set(a,l),this.size=h.size,this}oi.prototype.clear=EA,oi.prototype.delete=xA,oi.prototype.get=SA,oi.prototype.has=bA,oi.prototype.set=TA;function e_(a,l){var h=Ze(a),w=!h&&Sa(a),k=!h&&!w&&Os(a),P=!h&&!w&&!k&&mo(a),B=h||w||k||P,j=B?up(a.length,Dk):[],Y=j.length;for(var oe in a)(l||kt.call(a,oe))&&!(B&&(oe=="length"||k&&(oe=="offset"||oe=="parent")||P&&(oe=="buffer"||oe=="byteLength"||oe=="byteOffset")||Yi(oe,Y)))&&j.push(oe);return j}function t_(a){var l=a.length;return l?a[Tp(0,l-1)]:n}function CA(a,l){return bc(lr(a),_a(l,0,a.length))}function kA(a){return bc(lr(a))}function vp(a,l,h){(h!==n&&!ui(a[l],h)||h===n&&!(l in a))&&Hi(a,l,h)}function zu(a,l,h){var w=a[l];(!(kt.call(a,l)&&ui(w,h))||h===n&&!(l in a))&&Hi(a,l,h)}function cc(a,l){for(var h=a.length;h--;)if(ui(a[h][0],l))return h;return-1}function AA(a,l,h,w){return Cs(a,function(k,P,B){l(w,k,h(k),B)}),w}function n_(a,l){return a&&Ci(l,Sn(l),a)}function IA(a,l){return a&&Ci(l,cr(l),a)}function Hi(a,l,h){l=="__proto__"&&sc?sc(a,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[l]=h}function gp(a,l){for(var h=-1,w=l.length,k=J(w),P=a==null;++h<w;)k[h]=P?n:Zp(a,l[h]);return k}function _a(a,l,h){return a===a&&(h!==n&&(a=a<=h?a:h),l!==n&&(a=a>=l?a:l)),a}function Hr(a,l,h,w,k,P){var B,j=l&p,Y=l&m,oe=l&E;if(h&&(B=k?h(a,w,k,P):h(a)),B!==n)return B;if(!Qt(a))return a;var ue=Ze(a);if(ue){if(B=mI(a),!j)return lr(a,B)}else{var de=Bn(a),Te=de==Tt||de==lt;if(Os(a))return C_(a,j);if(de==Qe||de==Ke||Te&&!k){if(B=Y||Te?{}:H_(a),!j)return Y?aI(a,IA(B,a)):sI(a,n_(B,a))}else{if(!Lt[de])return k?a:{};B=yI(a,de,j)}}P||(P=new oi);var ze=P.get(a);if(ze)return ze;P.set(a,B),ww(a)?a.forEach(function(je){B.add(Hr(je,l,h,je,a,P))}):yw(a)&&a.forEach(function(je,st){B.set(st,Hr(je,l,h,st,a,P))});var We=oe?Y?zp:Dp:Y?cr:Sn,tt=ue?n:We(a);return jr(tt||a,function(je,st){tt&&(st=je,je=a[st]),zu(B,st,Hr(je,l,h,st,a,P))}),B}function OA(a){var l=Sn(a);return function(h){return r_(h,a,l)}}function r_(a,l,h){var w=h.length;if(a==null)return!w;for(a=Ot(a);w--;){var k=h[w],P=l[k],B=a[k];if(B===n&&!(k in a)||!P(B))return!1}return!0}function i_(a,l,h){if(typeof a!="function")throw new $r(o);return $u(function(){a.apply(n,h)},l)}function Mu(a,l,h,w){var k=-1,P=Yf,B=!0,j=a.length,Y=[],oe=l.length;if(!j)return Y;h&&(l=Vt(l,Ir(h))),w?(P=np,B=!1):l.length>=i&&(P=Ou,B=!1,l=new ya(l));e:for(;++k<j;){var ue=a[k],de=h==null?ue:h(ue);if(ue=w||ue!==0?ue:0,B&&de===de){for(var Te=oe;Te--;)if(l[Te]===de)continue e;Y.push(ue)}else P(l,de,w)||Y.push(ue)}return Y}var Cs=R_(Ti),s_=R_(yp,!0);function RA(a,l){var h=!0;return Cs(a,function(w,k,P){return h=!!l(w,k,P),h}),h}function hc(a,l,h){for(var w=-1,k=a.length;++w<k;){var P=a[w],B=l(P);if(B!=null&&(j===n?B===B&&!Rr(B):h(B,j)))var j=B,Y=P}return Y}function NA(a,l,h,w){var k=a.length;for(h=Je(h),h<0&&(h=-h>k?0:k+h),w=w===n||w>k?k:Je(w),w<0&&(w+=k),w=h>w?0:xw(w);h<w;)a[h++]=l;return a}function a_(a,l){var h=[];return Cs(a,function(w,k,P){l(w,k,P)&&h.push(w)}),h}function In(a,l,h,w,k){var P=-1,B=a.length;for(h||(h=wI),k||(k=[]);++P<B;){var j=a[P];l>0&&h(j)?l>1?In(j,l-1,h,w,k):Ss(k,j):w||(k[k.length]=j)}return k}var mp=N_(),o_=N_(!0);function Ti(a,l){return a&&mp(a,l,Sn)}function yp(a,l){return a&&o_(a,l,Sn)}function dc(a,l){return xs(l,function(h){return Gi(a[h])})}function wa(a,l){l=As(l,a);for(var h=0,w=l.length;a!=null&&h<w;)a=a[ki(l[h++])];return h&&h==w?a:n}function u_(a,l,h){var w=l(a);return Ze(a)?w:Ss(w,h(a))}function Jn(a){return a==null?a===n?kn:Pn:ga&&ga in Ot(a)?pI(a):kI(a)}function _p(a,l){return a>l}function LA(a,l){return a!=null&&kt.call(a,l)}function PA(a,l){return a!=null&&l in Ot(a)}function DA(a,l,h){return a>=Mn(l,h)&&a<mn(l,h)}function wp(a,l,h){for(var w=h?np:Yf,k=a[0].length,P=a.length,B=P,j=J(P),Y=1/0,oe=[];B--;){var ue=a[B];B&&l&&(ue=Vt(ue,Ir(l))),Y=Mn(ue.length,Y),j[B]=!h&&(l||k>=120&&ue.length>=120)?new ya(B&&ue):n}ue=a[0];var de=-1,Te=j[0];e:for(;++de<k&&oe.length<Y;){var ze=ue[de],We=l?l(ze):ze;if(ze=h||ze!==0?ze:0,!(Te?Ou(Te,We):w(oe,We,h))){for(B=P;--B;){var tt=j[B];if(!(tt?Ou(tt,We):w(a[B],We,h)))continue e}Te&&Te.push(We),oe.push(ze)}}return oe}function zA(a,l,h,w){return Ti(a,function(k,P,B){l(w,h(k),P,B)}),w}function Bu(a,l,h){l=As(l,a),a=G_(a,l);var w=a==null?a:a[ki(qr(l))];return w==null?n:Ar(w,a,h)}function l_(a){return nn(a)&&Jn(a)==Ke}function MA(a){return nn(a)&&Jn(a)==an}function BA(a){return nn(a)&&Jn(a)==_t}function Fu(a,l,h,w,k){return a===l?!0:a==null||l==null||!nn(a)&&!nn(l)?a!==a&&l!==l:FA(a,l,h,w,Fu,k)}function FA(a,l,h,w,k,P){var B=Ze(a),j=Ze(l),Y=B?ot:Bn(a),oe=j?ot:Bn(l);Y=Y==Ke?Qe:Y,oe=oe==Ke?Qe:oe;var ue=Y==Qe,de=oe==Qe,Te=Y==oe;if(Te&&Os(a)){if(!Os(l))return!1;B=!0,ue=!1}if(Te&&!ue)return P||(P=new oi),B||mo(a)?j_(a,l,h,w,k,P):hI(a,l,Y,h,w,k,P);if(!(h&b)){var ze=ue&&kt.call(a,"__wrapped__"),We=de&&kt.call(l,"__wrapped__");if(ze||We){var tt=ze?a.value():a,je=We?l.value():l;return P||(P=new oi),k(tt,je,h,w,P)}}return Te?(P||(P=new oi),dI(a,l,h,w,k,P)):!1}function UA(a){return nn(a)&&Bn(a)==St}function Ep(a,l,h,w){var k=h.length,P=k,B=!w;if(a==null)return!P;for(a=Ot(a);k--;){var j=h[k];if(B&&j[2]?j[1]!==a[j[0]]:!(j[0]in a))return!1}for(;++k<P;){j=h[k];var Y=j[0],oe=a[Y],ue=j[1];if(B&&j[2]){if(oe===n&&!(Y in a))return!1}else{var de=new oi;if(w)var Te=w(oe,ue,Y,a,l,de);if(!(Te===n?Fu(ue,oe,b|T,w,de):Te))return!1}}return!0}function f_(a){if(!Qt(a)||xI(a))return!1;var l=Gi(a)?Uk:on;return l.test(xa(a))}function WA(a){return nn(a)&&Jn(a)==tn}function jA(a){return nn(a)&&Bn(a)==Ct}function $A(a){return nn(a)&&Oc(a.length)&&!!Mt[Jn(a)]}function c_(a){return typeof a=="function"?a:a==null?hr:typeof a=="object"?Ze(a)?p_(a[0],a[1]):d_(a):Lw(a)}function xp(a){if(!ju(a))return Vk(a);var l=[];for(var h in Ot(a))kt.call(a,h)&&h!="constructor"&&l.push(h);return l}function KA(a){if(!Qt(a))return CI(a);var l=ju(a),h=[];for(var w in a)w=="constructor"&&(l||!kt.call(a,w))||h.push(w);return h}function Sp(a,l){return a<l}function h_(a,l){var h=-1,w=fr(a)?J(a.length):[];return Cs(a,function(k,P,B){w[++h]=l(k,P,B)}),w}function d_(a){var l=Bp(a);return l.length==1&&l[0][2]?q_(l[0][0],l[0][1]):function(h){return h===a||Ep(h,a,l)}}function p_(a,l){return Up(a)&&V_(l)?q_(ki(a),l):function(h){var w=Zp(h,a);return w===n&&w===l?Xp(h,a):Fu(l,w,b|T)}}function pc(a,l,h,w,k){a!==l&&mp(l,function(P,B){if(k||(k=new oi),Qt(P))HA(a,l,B,h,pc,w,k);else{var j=w?w(jp(a,B),P,B+"",a,l,k):n;j===n&&(j=P),vp(a,B,j)}},cr)}function HA(a,l,h,w,k,P,B){var j=jp(a,h),Y=jp(l,h),oe=B.get(Y);if(oe){vp(a,h,oe);return}var ue=P?P(j,Y,h+"",a,l,B):n,de=ue===n;if(de){var Te=Ze(Y),ze=!Te&&Os(Y),We=!Te&&!ze&&mo(Y);ue=Y,Te||ze||We?Ze(j)?ue=j:un(j)?ue=lr(j):ze?(de=!1,ue=C_(Y,!0)):We?(de=!1,ue=k_(Y,!0)):ue=[]:Ku(Y)||Sa(Y)?(ue=j,Sa(j)?ue=Sw(j):(!Qt(j)||Gi(j))&&(ue=H_(Y))):de=!1}de&&(B.set(Y,ue),k(ue,Y,w,P,B),B.delete(Y)),vp(a,h,ue)}function v_(a,l){var h=a.length;if(!!h)return l+=l<0?h:0,Yi(l,h)?a[l]:n}function g_(a,l,h){l.length?l=Vt(l,function(P){return Ze(P)?function(B){return wa(B,P.length===1?P[0]:P)}:P}):l=[hr];var w=-1;l=Vt(l,Ir(Ue()));var k=h_(a,function(P,B,j){var Y=Vt(l,function(oe){return oe(P)});return{criteria:Y,index:++w,value:P}});return yk(k,function(P,B){return iI(P,B,h)})}function VA(a,l){return m_(a,l,function(h,w){return Xp(a,w)})}function m_(a,l,h){for(var w=-1,k=l.length,P={};++w<k;){var B=l[w],j=wa(a,B);h(j,B)&&Uu(P,As(B,a),j)}return P}function qA(a){return function(l){return wa(l,a)}}function bp(a,l,h,w){var k=w?mk:so,P=-1,B=l.length,j=a;for(a===l&&(l=lr(l)),h&&(j=Vt(a,Ir(h)));++P<B;)for(var Y=0,oe=l[P],ue=h?h(oe):oe;(Y=k(j,ue,Y,w))>-1;)j!==a&&ic.call(j,Y,1),ic.call(a,Y,1);return a}function y_(a,l){for(var h=a?l.length:0,w=h-1;h--;){var k=l[h];if(h==w||k!==P){var P=k;Yi(k)?ic.call(a,k,1):Ap(a,k)}}return a}function Tp(a,l){return a+oc(Q0()*(l-a+1))}function YA(a,l,h,w){for(var k=-1,P=mn(ac((l-a)/(h||1)),0),B=J(P);P--;)B[w?P:++k]=a,a+=h;return B}function Cp(a,l){var h="";if(!a||l<1||l>ye)return h;do l%2&&(h+=a),l=oc(l/2),l&&(a+=a);while(l);return h}function rt(a,l){return $p(Y_(a,l,hr),a+"")}function GA(a){return t_(yo(a))}function ZA(a,l){var h=yo(a);return bc(h,_a(l,0,h.length))}function Uu(a,l,h,w){if(!Qt(a))return a;l=As(l,a);for(var k=-1,P=l.length,B=P-1,j=a;j!=null&&++k<P;){var Y=ki(l[k]),oe=h;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return a;if(k!=B){var ue=j[Y];oe=w?w(ue,Y,j):n,oe===n&&(oe=Qt(ue)?ue:Yi(l[k+1])?[]:{})}zu(j,Y,oe),j=j[Y]}return a}var __=uc?function(a,l){return uc.set(a,l),a}:hr,XA=sc?function(a,l){return sc(a,"toString",{configurable:!0,enumerable:!1,value:Jp(l),writable:!0})}:hr;function QA(a){return bc(yo(a))}function Vr(a,l,h){var w=-1,k=a.length;l<0&&(l=-l>k?0:k+l),h=h>k?k:h,h<0&&(h+=k),k=l>h?0:h-l>>>0,l>>>=0;for(var P=J(k);++w<k;)P[w]=a[w+l];return P}function JA(a,l){var h;return Cs(a,function(w,k,P){return h=l(w,k,P),!h}),!!h}function vc(a,l,h){var w=0,k=a==null?w:a.length;if(typeof l=="number"&&l===l&&k<=Se){for(;w<k;){var P=w+k>>>1,B=a[P];B!==null&&!Rr(B)&&(h?B<=l:B<l)?w=P+1:k=P}return k}return kp(a,l,hr,h)}function kp(a,l,h,w){var k=0,P=a==null?0:a.length;if(P===0)return 0;l=h(l);for(var B=l!==l,j=l===null,Y=Rr(l),oe=l===n;k<P;){var ue=oc((k+P)/2),de=h(a[ue]),Te=de!==n,ze=de===null,We=de===de,tt=Rr(de);if(B)var je=w||We;else oe?je=We&&(w||Te):j?je=We&&Te&&(w||!ze):Y?je=We&&Te&&!ze&&(w||!tt):ze||tt?je=!1:je=w?de<=l:de<l;je?k=ue+1:P=ue}return Mn(P,le)}function w_(a,l){for(var h=-1,w=a.length,k=0,P=[];++h<w;){var B=a[h],j=l?l(B):B;if(!h||!ui(j,Y)){var Y=j;P[k++]=B===0?0:B}}return P}function E_(a){return typeof a=="number"?a:Rr(a)?Ve:+a}function Or(a){if(typeof a=="string")return a;if(Ze(a))return Vt(a,Or)+"";if(Rr(a))return J0?J0.call(a):"";var l=a+"";return l=="0"&&1/a==-we?"-0":l}function ks(a,l,h){var w=-1,k=Yf,P=a.length,B=!0,j=[],Y=j;if(h)B=!1,k=np;else if(P>=i){var oe=l?null:fI(a);if(oe)return Zf(oe);B=!1,k=Ou,Y=new ya}else Y=l?[]:j;e:for(;++w<P;){var ue=a[w],de=l?l(ue):ue;if(ue=h||ue!==0?ue:0,B&&de===de){for(var Te=Y.length;Te--;)if(Y[Te]===de)continue e;l&&Y.push(de),j.push(ue)}else k(Y,de,h)||(Y!==j&&Y.push(de),j.push(ue))}return j}function Ap(a,l){return l=As(l,a),a=G_(a,l),a==null||delete a[ki(qr(l))]}function x_(a,l,h,w){return Uu(a,l,h(wa(a,l)),w)}function gc(a,l,h,w){for(var k=a.length,P=w?k:-1;(w?P--:++P<k)&&l(a[P],P,a););return h?Vr(a,w?0:P,w?P+1:k):Vr(a,w?P+1:0,w?k:P)}function S_(a,l){var h=a;return h instanceof at&&(h=h.value()),rp(l,function(w,k){return k.func.apply(k.thisArg,Ss([w],k.args))},h)}function Ip(a,l,h){var w=a.length;if(w<2)return w?ks(a[0]):[];for(var k=-1,P=J(w);++k<w;)for(var B=a[k],j=-1;++j<w;)j!=k&&(P[k]=Mu(P[k]||B,a[j],l,h));return ks(In(P,1),l,h)}function b_(a,l,h){for(var w=-1,k=a.length,P=l.length,B={};++w<k;){var j=w<P?l[w]:n;h(B,a[w],j)}return B}function Op(a){return un(a)?a:[]}function Rp(a){return typeof a=="function"?a:hr}function As(a,l){return Ze(a)?a:Up(a,l)?[a]:J_(bt(a))}var eI=rt;function Is(a,l,h){var w=a.length;return h=h===n?w:h,!l&&h>=w?a:Vr(a,l,h)}var T_=Wk||function(a){return An.clearTimeout(a)};function C_(a,l){if(l)return a.slice();var h=a.length,w=q0?q0(h):new a.constructor(h);return a.copy(w),w}function Np(a){var l=new a.constructor(a.byteLength);return new nc(l).set(new nc(a)),l}function tI(a,l){var h=l?Np(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function nI(a){var l=new a.constructor(a.source,ji.exec(a));return l.lastIndex=a.lastIndex,l}function rI(a){return Du?Ot(Du.call(a)):{}}function k_(a,l){var h=l?Np(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function A_(a,l){if(a!==l){var h=a!==n,w=a===null,k=a===a,P=Rr(a),B=l!==n,j=l===null,Y=l===l,oe=Rr(l);if(!j&&!oe&&!P&&a>l||P&&B&&Y&&!j&&!oe||w&&B&&Y||!h&&Y||!k)return 1;if(!w&&!P&&!oe&&a<l||oe&&h&&k&&!w&&!P||j&&h&&k||!B&&k||!Y)return-1}return 0}function iI(a,l,h){for(var w=-1,k=a.criteria,P=l.criteria,B=k.length,j=h.length;++w<B;){var Y=A_(k[w],P[w]);if(Y){if(w>=j)return Y;var oe=h[w];return Y*(oe=="desc"?-1:1)}}return a.index-l.index}function I_(a,l,h,w){for(var k=-1,P=a.length,B=h.length,j=-1,Y=l.length,oe=mn(P-B,0),ue=J(Y+oe),de=!w;++j<Y;)ue[j]=l[j];for(;++k<B;)(de||k<P)&&(ue[h[k]]=a[k]);for(;oe--;)ue[j++]=a[k++];return ue}function O_(a,l,h,w){for(var k=-1,P=a.length,B=-1,j=h.length,Y=-1,oe=l.length,ue=mn(P-j,0),de=J(ue+oe),Te=!w;++k<ue;)de[k]=a[k];for(var ze=k;++Y<oe;)de[ze+Y]=l[Y];for(;++B<j;)(Te||k<P)&&(de[ze+h[B]]=a[k++]);return de}function lr(a,l){var h=-1,w=a.length;for(l||(l=J(w));++h<w;)l[h]=a[h];return l}function Ci(a,l,h,w){var k=!h;h||(h={});for(var P=-1,B=l.length;++P<B;){var j=l[P],Y=w?w(h[j],a[j],j,h,a):n;Y===n&&(Y=a[j]),k?Hi(h,j,Y):zu(h,j,Y)}return h}function sI(a,l){return Ci(a,Fp(a),l)}function aI(a,l){return Ci(a,$_(a),l)}function mc(a,l){return function(h,w){var k=Ze(h)?ck:AA,P=l?l():{};return k(h,a,Ue(w,2),P)}}function po(a){return rt(function(l,h){var w=-1,k=h.length,P=k>1?h[k-1]:n,B=k>2?h[2]:n;for(P=a.length>3&&typeof P=="function"?(k--,P):n,B&&er(h[0],h[1],B)&&(P=k<3?n:P,k=1),l=Ot(l);++w<k;){var j=h[w];j&&a(l,j,w,P)}return l})}function R_(a,l){return function(h,w){if(h==null)return h;if(!fr(h))return a(h,w);for(var k=h.length,P=l?k:-1,B=Ot(h);(l?P--:++P<k)&&w(B[P],P,B)!==!1;);return h}}function N_(a){return function(l,h,w){for(var k=-1,P=Ot(l),B=w(l),j=B.length;j--;){var Y=B[a?j:++k];if(h(P[Y],Y,P)===!1)break}return l}}function oI(a,l,h){var w=l&g,k=Wu(a);function P(){var B=this&&this!==An&&this instanceof P?k:a;return B.apply(w?h:this,arguments)}return P}function L_(a){return function(l){l=bt(l);var h=ao(l)?ai(l):n,w=h?h[0]:l.charAt(0),k=h?Is(h,1).join(""):l.slice(1);return w[a]()+k}}function vo(a){return function(l){return rp(Rw(Ow(l).replace(XC,"")),a,"")}}function Wu(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=ho(a.prototype),w=a.apply(h,l);return Qt(w)?w:h}}function uI(a,l,h){var w=Wu(a);function k(){for(var P=arguments.length,B=J(P),j=P,Y=go(k);j--;)B[j]=arguments[j];var oe=P<3&&B[0]!==Y&&B[P-1]!==Y?[]:bs(B,Y);if(P-=oe.length,P<h)return B_(a,l,yc,k.placeholder,n,B,oe,n,n,h-P);var ue=this&&this!==An&&this instanceof k?w:a;return Ar(ue,this,B)}return k}function P_(a){return function(l,h,w){var k=Ot(l);if(!fr(l)){var P=Ue(h,3);l=Sn(l),h=function(j){return P(k[j],j,k)}}var B=a(l,h,w);return B>-1?k[P?l[B]:B]:n}}function D_(a){return qi(function(l){var h=l.length,w=h,k=Kr.prototype.thru;for(a&&l.reverse();w--;){var P=l[w];if(typeof P!="function")throw new $r(o);if(k&&!B&&xc(P)=="wrapper")var B=new Kr([],!0)}for(w=B?w:h;++w<h;){P=l[w];var j=xc(P),Y=j=="wrapper"?Mp(P):n;Y&&Wp(Y[0])&&Y[1]==(N|x|S|z)&&!Y[4].length&&Y[9]==1?B=B[xc(Y[0])].apply(B,Y[3]):B=P.length==1&&Wp(P)?B[j]():B.thru(P)}return function(){var oe=arguments,ue=oe[0];if(B&&oe.length==1&&Ze(ue))return B.plant(ue).value();for(var de=0,Te=h?l[de].apply(this,oe):ue;++de<h;)Te=l[de].call(this,Te);return Te}})}function yc(a,l,h,w,k,P,B,j,Y,oe){var ue=l&N,de=l&g,Te=l&v,ze=l&(x|C),We=l&F,tt=Te?n:Wu(a);function je(){for(var st=arguments.length,ft=J(st),Nr=st;Nr--;)ft[Nr]=arguments[Nr];if(ze)var tr=go(je),Lr=wk(ft,tr);if(w&&(ft=I_(ft,w,k,ze)),P&&(ft=O_(ft,P,B,ze)),st-=Lr,ze&&st<oe){var ln=bs(ft,tr);return B_(a,l,yc,je.placeholder,h,ft,ln,j,Y,oe-st)}var li=de?h:this,Xi=Te?li[a]:a;return st=ft.length,j?ft=AI(ft,j):We&&st>1&&ft.reverse(),ue&&Y<st&&(ft.length=Y),this&&this!==An&&this instanceof je&&(Xi=tt||Wu(Xi)),Xi.apply(li,ft)}return je}function z_(a,l){return function(h,w){return zA(h,a,l(w),{})}}function _c(a,l){return function(h,w){var k;if(h===n&&w===n)return l;if(h!==n&&(k=h),w!==n){if(k===n)return w;typeof h=="string"||typeof w=="string"?(h=Or(h),w=Or(w)):(h=E_(h),w=E_(w)),k=a(h,w)}return k}}function Lp(a){return qi(function(l){return l=Vt(l,Ir(Ue())),rt(function(h){var w=this;return a(l,function(k){return Ar(k,w,h)})})})}function wc(a,l){l=l===n?" ":Or(l);var h=l.length;if(h<2)return h?Cp(l,a):l;var w=Cp(l,ac(a/oo(l)));return ao(l)?Is(ai(w),0,a).join(""):w.slice(0,a)}function lI(a,l,h,w){var k=l&g,P=Wu(a);function B(){for(var j=-1,Y=arguments.length,oe=-1,ue=w.length,de=J(ue+Y),Te=this&&this!==An&&this instanceof B?P:a;++oe<ue;)de[oe]=w[oe];for(;Y--;)de[oe++]=arguments[++j];return Ar(Te,k?h:this,de)}return B}function M_(a){return function(l,h,w){return w&&typeof w!="number"&&er(l,h,w)&&(h=w=n),l=Zi(l),h===n?(h=l,l=0):h=Zi(h),w=w===n?l<h?1:-1:Zi(w),YA(l,h,w,a)}}function Ec(a){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=Yr(l),h=Yr(h)),a(l,h)}}function B_(a,l,h,w,k,P,B,j,Y,oe){var ue=l&x,de=ue?B:n,Te=ue?n:B,ze=ue?P:n,We=ue?n:P;l|=ue?S:A,l&=~(ue?A:S),l&y||(l&=~(g|v));var tt=[a,l,k,ze,de,We,Te,j,Y,oe],je=h.apply(n,tt);return Wp(a)&&Z_(je,tt),je.placeholder=w,X_(je,a,l)}function Pp(a){var l=gn[a];return function(h,w){if(h=Yr(h),w=w==null?0:Mn(Je(w),292),w&&X0(h)){var k=(bt(h)+"e").split("e"),P=l(k[0]+"e"+(+k[1]+w));return k=(bt(P)+"e").split("e"),+(k[0]+"e"+(+k[1]-w))}return l(h)}}var fI=fo&&1/Zf(new fo([,-0]))[1]==we?function(a){return new fo(a)}:nv;function F_(a){return function(l){var h=Bn(l);return h==St?fp(l):h==Ct?kk(l):_k(l,a(l))}}function Vi(a,l,h,w,k,P,B,j){var Y=l&v;if(!Y&&typeof a!="function")throw new $r(o);var oe=w?w.length:0;if(oe||(l&=~(S|A),w=k=n),B=B===n?B:mn(Je(B),0),j=j===n?j:Je(j),oe-=k?k.length:0,l&A){var ue=w,de=k;w=k=n}var Te=Y?n:Mp(a),ze=[a,l,h,w,k,ue,de,P,B,j];if(Te&&TI(ze,Te),a=ze[0],l=ze[1],h=ze[2],w=ze[3],k=ze[4],j=ze[9]=ze[9]===n?Y?0:a.length:mn(ze[9]-oe,0),!j&&l&(x|C)&&(l&=~(x|C)),!l||l==g)var We=oI(a,l,h);else l==x||l==C?We=uI(a,l,j):(l==S||l==(g|S))&&!k.length?We=lI(a,l,h,w):We=yc.apply(n,ze);var tt=Te?__:Z_;return X_(tt(We,ze),a,l)}function U_(a,l,h,w){return a===n||ui(a,lo[h])&&!kt.call(w,h)?l:a}function W_(a,l,h,w,k,P){return Qt(a)&&Qt(l)&&(P.set(l,a),pc(a,l,n,W_,P),P.delete(l)),a}function cI(a){return Ku(a)?n:a}function j_(a,l,h,w,k,P){var B=h&b,j=a.length,Y=l.length;if(j!=Y&&!(B&&Y>j))return!1;var oe=P.get(a),ue=P.get(l);if(oe&&ue)return oe==l&&ue==a;var de=-1,Te=!0,ze=h&T?new ya:n;for(P.set(a,l),P.set(l,a);++de<j;){var We=a[de],tt=l[de];if(w)var je=B?w(tt,We,de,l,a,P):w(We,tt,de,a,l,P);if(je!==n){if(je)continue;Te=!1;break}if(ze){if(!ip(l,function(st,ft){if(!Ou(ze,ft)&&(We===st||k(We,st,h,w,P)))return ze.push(ft)})){Te=!1;break}}else if(!(We===tt||k(We,tt,h,w,P))){Te=!1;break}}return P.delete(a),P.delete(l),Te}function hI(a,l,h,w,k,P,B){switch(h){case Dn:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case an:return!(a.byteLength!=l.byteLength||!P(new nc(a),new nc(l)));case $e:case _t:case It:return ui(+a,+l);case ut:return a.name==l.name&&a.message==l.message;case tn:case wt:return a==l+"";case St:var j=fp;case Ct:var Y=w&b;if(j||(j=Zf),a.size!=l.size&&!Y)return!1;var oe=B.get(a);if(oe)return oe==l;w|=T,B.set(a,l);var ue=j_(j(a),j(l),w,k,P,B);return B.delete(a),ue;case Ye:if(Du)return Du.call(a)==Du.call(l)}return!1}function dI(a,l,h,w,k,P){var B=h&b,j=Dp(a),Y=j.length,oe=Dp(l),ue=oe.length;if(Y!=ue&&!B)return!1;for(var de=Y;de--;){var Te=j[de];if(!(B?Te in l:kt.call(l,Te)))return!1}var ze=P.get(a),We=P.get(l);if(ze&&We)return ze==l&&We==a;var tt=!0;P.set(a,l),P.set(l,a);for(var je=B;++de<Y;){Te=j[de];var st=a[Te],ft=l[Te];if(w)var Nr=B?w(ft,st,Te,l,a,P):w(st,ft,Te,a,l,P);if(!(Nr===n?st===ft||k(st,ft,h,w,P):Nr)){tt=!1;break}je||(je=Te=="constructor")}if(tt&&!je){var tr=a.constructor,Lr=l.constructor;tr!=Lr&&"constructor"in a&&"constructor"in l&&!(typeof tr=="function"&&tr instanceof tr&&typeof Lr=="function"&&Lr instanceof Lr)&&(tt=!1)}return P.delete(a),P.delete(l),tt}function qi(a){return $p(Y_(a,n,rw),a+"")}function Dp(a){return u_(a,Sn,Fp)}function zp(a){return u_(a,cr,$_)}var Mp=uc?function(a){return uc.get(a)}:nv;function xc(a){for(var l=a.name+"",h=co[l],w=kt.call(co,l)?h.length:0;w--;){var k=h[w],P=k.func;if(P==null||P==a)return k.name}return l}function go(a){var l=kt.call(R,"placeholder")?R:a;return l.placeholder}function Ue(){var a=R.iteratee||ev;return a=a===ev?c_:a,arguments.length?a(arguments[0],arguments[1]):a}function Sc(a,l){var h=a.__data__;return EI(l)?h[typeof l=="string"?"string":"hash"]:h.map}function Bp(a){for(var l=Sn(a),h=l.length;h--;){var w=l[h],k=a[w];l[h]=[w,k,V_(k)]}return l}function Ea(a,l){var h=bk(a,l);return f_(h)?h:n}function pI(a){var l=kt.call(a,ga),h=a[ga];try{a[ga]=n;var w=!0}catch{}var k=ec.call(a);return w&&(l?a[ga]=h:delete a[ga]),k}var Fp=hp?function(a){return a==null?[]:(a=Ot(a),xs(hp(a),function(l){return G0.call(a,l)}))}:rv,$_=hp?function(a){for(var l=[];a;)Ss(l,Fp(a)),a=rc(a);return l}:rv,Bn=Jn;(dp&&Bn(new dp(new ArrayBuffer(1)))!=Dn||Nu&&Bn(new Nu)!=St||pp&&Bn(pp.resolve())!=en||fo&&Bn(new fo)!=Ct||Lu&&Bn(new Lu)!=Gn)&&(Bn=function(a){var l=Jn(a),h=l==Qe?a.constructor:n,w=h?xa(h):"";if(w)switch(w){case Zk:return Dn;case Xk:return St;case Qk:return en;case Jk:return Ct;case eA:return Gn}return l});function vI(a,l,h){for(var w=-1,k=h.length;++w<k;){var P=h[w],B=P.size;switch(P.type){case"drop":a+=B;break;case"dropRight":l-=B;break;case"take":l=Mn(l,a+B);break;case"takeRight":a=mn(a,l-B);break}}return{start:a,end:l}}function gI(a){var l=a.match(Nt);return l?l[1].split(it):[]}function K_(a,l,h){l=As(l,a);for(var w=-1,k=l.length,P=!1;++w<k;){var B=ki(l[w]);if(!(P=a!=null&&h(a,B)))break;a=a[B]}return P||++w!=k?P:(k=a==null?0:a.length,!!k&&Oc(k)&&Yi(B,k)&&(Ze(a)||Sa(a)))}function mI(a){var l=a.length,h=new a.constructor(l);return l&&typeof a[0]=="string"&&kt.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function H_(a){return typeof a.constructor=="function"&&!ju(a)?ho(rc(a)):{}}function yI(a,l,h){var w=a.constructor;switch(l){case an:return Np(a);case $e:case _t:return new w(+a);case Dn:return tI(a,h);case Zn:case wn:case Tr:case Xn:case Zt:case En:case Ur:case D:case fe:return k_(a,h);case St:return new w;case It:case wt:return new w(a);case tn:return nI(a);case Ct:return new w;case Ye:return rI(a)}}function _I(a,l){var h=l.length;if(!h)return a;var w=h-1;return l[w]=(h>1?"& ":"")+l[w],l=l.join(h>2?", ":" "),a.replace(Cr,`{
/* [wrapped with `+l+`] */
`)}function wI(a){return Ze(a)||Sa(a)||!!(Z0&&a&&a[Z0])}function Yi(a,l){var h=typeof a;return l=l==null?ye:l,!!l&&(h=="number"||h!="symbol"&&ur.test(a))&&a>-1&&a%1==0&&a<l}function er(a,l,h){if(!Qt(h))return!1;var w=typeof l;return(w=="number"?fr(h)&&Yi(l,h.length):w=="string"&&l in h)?ui(h[l],a):!1}function Up(a,l){if(Ze(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||Rr(a)?!0:W.test(a)||!O.test(a)||l!=null&&a in Ot(l)}function EI(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Wp(a){var l=xc(a),h=R[l];if(typeof h!="function"||!(l in at.prototype))return!1;if(a===h)return!0;var w=Mp(h);return!!w&&a===w[0]}function xI(a){return!!V0&&V0 in a}var SI=Qf?Gi:iv;function ju(a){var l=a&&a.constructor,h=typeof l=="function"&&l.prototype||lo;return a===h}function V_(a){return a===a&&!Qt(a)}function q_(a,l){return function(h){return h==null?!1:h[a]===l&&(l!==n||a in Ot(h))}}function bI(a){var l=Ac(a,function(w){return h.size===c&&h.clear(),w}),h=l.cache;return l}function TI(a,l){var h=a[1],w=l[1],k=h|w,P=k<(g|v|N),B=w==N&&h==x||w==N&&h==z&&a[7].length<=l[8]||w==(N|z)&&l[7].length<=l[8]&&h==x;if(!(P||B))return a;w&g&&(a[2]=l[2],k|=h&g?0:y);var j=l[3];if(j){var Y=a[3];a[3]=Y?I_(Y,j,l[4]):j,a[4]=Y?bs(a[3],d):l[4]}return j=l[5],j&&(Y=a[5],a[5]=Y?O_(Y,j,l[6]):j,a[6]=Y?bs(a[5],d):l[6]),j=l[7],j&&(a[7]=j),w&N&&(a[8]=a[8]==null?l[8]:Mn(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=k,a}function CI(a){var l=[];if(a!=null)for(var h in Ot(a))l.push(h);return l}function kI(a){return ec.call(a)}function Y_(a,l,h){return l=mn(l===n?a.length-1:l,0),function(){for(var w=arguments,k=-1,P=mn(w.length-l,0),B=J(P);++k<P;)B[k]=w[l+k];k=-1;for(var j=J(l+1);++k<l;)j[k]=w[k];return j[l]=h(B),Ar(a,this,j)}}function G_(a,l){return l.length<2?a:wa(a,Vr(l,0,-1))}function AI(a,l){for(var h=a.length,w=Mn(l.length,h),k=lr(a);w--;){var P=l[w];a[w]=Yi(P,h)?k[P]:n}return a}function jp(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var Z_=Q_(__),$u=$k||function(a,l){return An.setTimeout(a,l)},$p=Q_(XA);function X_(a,l,h){var w=l+"";return $p(a,_I(w,II(gI(w),h)))}function Q_(a){var l=0,h=0;return function(){var w=qk(),k=ae-(w-h);if(h=w,k>0){if(++l>=Z)return arguments[0]}else l=0;return a.apply(n,arguments)}}function bc(a,l){var h=-1,w=a.length,k=w-1;for(l=l===n?w:l;++h<l;){var P=Tp(h,k),B=a[P];a[P]=a[h],a[h]=B}return a.length=l,a}var J_=bI(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(X,function(h,w,k,P){l.push(k?P.replace(xn,"$1"):w||h)}),l});function ki(a){if(typeof a=="string"||Rr(a))return a;var l=a+"";return l=="0"&&1/a==-we?"-0":l}function xa(a){if(a!=null){try{return Jf.call(a)}catch{}try{return a+""}catch{}}return""}function II(a,l){return jr(Oe,function(h){var w="_."+h[0];l&h[1]&&!Yf(a,w)&&a.push(w)}),a.sort()}function ew(a){if(a instanceof at)return a.clone();var l=new Kr(a.__wrapped__,a.__chain__);return l.__actions__=lr(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function OI(a,l,h){(h?er(a,l,h):l===n)?l=1:l=mn(Je(l),0);var w=a==null?0:a.length;if(!w||l<1)return[];for(var k=0,P=0,B=J(ac(w/l));k<w;)B[P++]=Vr(a,k,k+=l);return B}function RI(a){for(var l=-1,h=a==null?0:a.length,w=0,k=[];++l<h;){var P=a[l];P&&(k[w++]=P)}return k}function NI(){var a=arguments.length;if(!a)return[];for(var l=J(a-1),h=arguments[0],w=a;w--;)l[w-1]=arguments[w];return Ss(Ze(h)?lr(h):[h],In(l,1))}var LI=rt(function(a,l){return un(a)?Mu(a,In(l,1,un,!0)):[]}),PI=rt(function(a,l){var h=qr(l);return un(h)&&(h=n),un(a)?Mu(a,In(l,1,un,!0),Ue(h,2)):[]}),DI=rt(function(a,l){var h=qr(l);return un(h)&&(h=n),un(a)?Mu(a,In(l,1,un,!0),n,h):[]});function zI(a,l,h){var w=a==null?0:a.length;return w?(l=h||l===n?1:Je(l),Vr(a,l<0?0:l,w)):[]}function MI(a,l,h){var w=a==null?0:a.length;return w?(l=h||l===n?1:Je(l),l=w-l,Vr(a,0,l<0?0:l)):[]}function BI(a,l){return a&&a.length?gc(a,Ue(l,3),!0,!0):[]}function FI(a,l){return a&&a.length?gc(a,Ue(l,3),!0):[]}function UI(a,l,h,w){var k=a==null?0:a.length;return k?(h&&typeof h!="number"&&er(a,l,h)&&(h=0,w=k),NA(a,l,h,w)):[]}function tw(a,l,h){var w=a==null?0:a.length;if(!w)return-1;var k=h==null?0:Je(h);return k<0&&(k=mn(w+k,0)),Gf(a,Ue(l,3),k)}function nw(a,l,h){var w=a==null?0:a.length;if(!w)return-1;var k=w-1;return h!==n&&(k=Je(h),k=h<0?mn(w+k,0):Mn(k,w-1)),Gf(a,Ue(l,3),k,!0)}function rw(a){var l=a==null?0:a.length;return l?In(a,1):[]}function WI(a){var l=a==null?0:a.length;return l?In(a,we):[]}function jI(a,l){var h=a==null?0:a.length;return h?(l=l===n?1:Je(l),In(a,l)):[]}function $I(a){for(var l=-1,h=a==null?0:a.length,w={};++l<h;){var k=a[l];w[k[0]]=k[1]}return w}function iw(a){return a&&a.length?a[0]:n}function KI(a,l,h){var w=a==null?0:a.length;if(!w)return-1;var k=h==null?0:Je(h);return k<0&&(k=mn(w+k,0)),so(a,l,k)}function HI(a){var l=a==null?0:a.length;return l?Vr(a,0,-1):[]}var VI=rt(function(a){var l=Vt(a,Op);return l.length&&l[0]===a[0]?wp(l):[]}),qI=rt(function(a){var l=qr(a),h=Vt(a,Op);return l===qr(h)?l=n:h.pop(),h.length&&h[0]===a[0]?wp(h,Ue(l,2)):[]}),YI=rt(function(a){var l=qr(a),h=Vt(a,Op);return l=typeof l=="function"?l:n,l&&h.pop(),h.length&&h[0]===a[0]?wp(h,n,l):[]});function GI(a,l){return a==null?"":Hk.call(a,l)}function qr(a){var l=a==null?0:a.length;return l?a[l-1]:n}function ZI(a,l,h){var w=a==null?0:a.length;if(!w)return-1;var k=w;return h!==n&&(k=Je(h),k=k<0?mn(w+k,0):Mn(k,w-1)),l===l?Ik(a,l,k):Gf(a,B0,k,!0)}function XI(a,l){return a&&a.length?v_(a,Je(l)):n}var QI=rt(sw);function sw(a,l){return a&&a.length&&l&&l.length?bp(a,l):a}function JI(a,l,h){return a&&a.length&&l&&l.length?bp(a,l,Ue(h,2)):a}function eO(a,l,h){return a&&a.length&&l&&l.length?bp(a,l,n,h):a}var tO=qi(function(a,l){var h=a==null?0:a.length,w=gp(a,l);return y_(a,Vt(l,function(k){return Yi(k,h)?+k:k}).sort(A_)),w});function nO(a,l){var h=[];if(!(a&&a.length))return h;var w=-1,k=[],P=a.length;for(l=Ue(l,3);++w<P;){var B=a[w];l(B,w,a)&&(h.push(B),k.push(w))}return y_(a,k),h}function Kp(a){return a==null?a:Gk.call(a)}function rO(a,l,h){var w=a==null?0:a.length;return w?(h&&typeof h!="number"&&er(a,l,h)?(l=0,h=w):(l=l==null?0:Je(l),h=h===n?w:Je(h)),Vr(a,l,h)):[]}function iO(a,l){return vc(a,l)}function sO(a,l,h){return kp(a,l,Ue(h,2))}function aO(a,l){var h=a==null?0:a.length;if(h){var w=vc(a,l);if(w<h&&ui(a[w],l))return w}return-1}function oO(a,l){return vc(a,l,!0)}function uO(a,l,h){return kp(a,l,Ue(h,2),!0)}function lO(a,l){var h=a==null?0:a.length;if(h){var w=vc(a,l,!0)-1;if(ui(a[w],l))return w}return-1}function fO(a){return a&&a.length?w_(a):[]}function cO(a,l){return a&&a.length?w_(a,Ue(l,2)):[]}function hO(a){var l=a==null?0:a.length;return l?Vr(a,1,l):[]}function dO(a,l,h){return a&&a.length?(l=h||l===n?1:Je(l),Vr(a,0,l<0?0:l)):[]}function pO(a,l,h){var w=a==null?0:a.length;return w?(l=h||l===n?1:Je(l),l=w-l,Vr(a,l<0?0:l,w)):[]}function vO(a,l){return a&&a.length?gc(a,Ue(l,3),!1,!0):[]}function gO(a,l){return a&&a.length?gc(a,Ue(l,3)):[]}var mO=rt(function(a){return ks(In(a,1,un,!0))}),yO=rt(function(a){var l=qr(a);return un(l)&&(l=n),ks(In(a,1,un,!0),Ue(l,2))}),_O=rt(function(a){var l=qr(a);return l=typeof l=="function"?l:n,ks(In(a,1,un,!0),n,l)});function wO(a){return a&&a.length?ks(a):[]}function EO(a,l){return a&&a.length?ks(a,Ue(l,2)):[]}function xO(a,l){return l=typeof l=="function"?l:n,a&&a.length?ks(a,n,l):[]}function Hp(a){if(!(a&&a.length))return[];var l=0;return a=xs(a,function(h){if(un(h))return l=mn(h.length,l),!0}),up(l,function(h){return Vt(a,sp(h))})}function aw(a,l){if(!(a&&a.length))return[];var h=Hp(a);return l==null?h:Vt(h,function(w){return Ar(l,n,w)})}var SO=rt(function(a,l){return un(a)?Mu(a,l):[]}),bO=rt(function(a){return Ip(xs(a,un))}),TO=rt(function(a){var l=qr(a);return un(l)&&(l=n),Ip(xs(a,un),Ue(l,2))}),CO=rt(function(a){var l=qr(a);return l=typeof l=="function"?l:n,Ip(xs(a,un),n,l)}),kO=rt(Hp);function AO(a,l){return b_(a||[],l||[],zu)}function IO(a,l){return b_(a||[],l||[],Uu)}var OO=rt(function(a){var l=a.length,h=l>1?a[l-1]:n;return h=typeof h=="function"?(a.pop(),h):n,aw(a,h)});function ow(a){var l=R(a);return l.__chain__=!0,l}function RO(a,l){return l(a),a}function Tc(a,l){return l(a)}var NO=qi(function(a){var l=a.length,h=l?a[0]:0,w=this.__wrapped__,k=function(P){return gp(P,a)};return l>1||this.__actions__.length||!(w instanceof at)||!Yi(h)?this.thru(k):(w=w.slice(h,+h+(l?1:0)),w.__actions__.push({func:Tc,args:[k],thisArg:n}),new Kr(w,this.__chain__).thru(function(P){return l&&!P.length&&P.push(n),P}))});function LO(){return ow(this)}function PO(){return new Kr(this.value(),this.__chain__)}function DO(){this.__values__===n&&(this.__values__=Ew(this.value()));var a=this.__index__>=this.__values__.length,l=a?n:this.__values__[this.__index__++];return{done:a,value:l}}function zO(){return this}function MO(a){for(var l,h=this;h instanceof fc;){var w=ew(h);w.__index__=0,w.__values__=n,l?k.__wrapped__=w:l=w;var k=w;h=h.__wrapped__}return k.__wrapped__=a,l}function BO(){var a=this.__wrapped__;if(a instanceof at){var l=a;return this.__actions__.length&&(l=new at(this)),l=l.reverse(),l.__actions__.push({func:Tc,args:[Kp],thisArg:n}),new Kr(l,this.__chain__)}return this.thru(Kp)}function FO(){return S_(this.__wrapped__,this.__actions__)}var UO=mc(function(a,l,h){kt.call(a,h)?++a[h]:Hi(a,h,1)});function WO(a,l,h){var w=Ze(a)?z0:RA;return h&&er(a,l,h)&&(l=n),w(a,Ue(l,3))}function jO(a,l){var h=Ze(a)?xs:a_;return h(a,Ue(l,3))}var $O=P_(tw),KO=P_(nw);function HO(a,l){return In(Cc(a,l),1)}function VO(a,l){return In(Cc(a,l),we)}function qO(a,l,h){return h=h===n?1:Je(h),In(Cc(a,l),h)}function uw(a,l){var h=Ze(a)?jr:Cs;return h(a,Ue(l,3))}function lw(a,l){var h=Ze(a)?hk:s_;return h(a,Ue(l,3))}var YO=mc(function(a,l,h){kt.call(a,h)?a[h].push(l):Hi(a,h,[l])});function GO(a,l,h,w){a=fr(a)?a:yo(a),h=h&&!w?Je(h):0;var k=a.length;return h<0&&(h=mn(k+h,0)),Rc(a)?h<=k&&a.indexOf(l,h)>-1:!!k&&so(a,l,h)>-1}var ZO=rt(function(a,l,h){var w=-1,k=typeof l=="function",P=fr(a)?J(a.length):[];return Cs(a,function(B){P[++w]=k?Ar(l,B,h):Bu(B,l,h)}),P}),XO=mc(function(a,l,h){Hi(a,h,l)});function Cc(a,l){var h=Ze(a)?Vt:h_;return h(a,Ue(l,3))}function QO(a,l,h,w){return a==null?[]:(Ze(l)||(l=l==null?[]:[l]),h=w?n:h,Ze(h)||(h=h==null?[]:[h]),g_(a,l,h))}var JO=mc(function(a,l,h){a[h?0:1].push(l)},function(){return[[],[]]});function eR(a,l,h){var w=Ze(a)?rp:U0,k=arguments.length<3;return w(a,Ue(l,4),h,k,Cs)}function tR(a,l,h){var w=Ze(a)?dk:U0,k=arguments.length<3;return w(a,Ue(l,4),h,k,s_)}function nR(a,l){var h=Ze(a)?xs:a_;return h(a,Ic(Ue(l,3)))}function rR(a){var l=Ze(a)?t_:GA;return l(a)}function iR(a,l,h){(h?er(a,l,h):l===n)?l=1:l=Je(l);var w=Ze(a)?CA:ZA;return w(a,l)}function sR(a){var l=Ze(a)?kA:QA;return l(a)}function aR(a){if(a==null)return 0;if(fr(a))return Rc(a)?oo(a):a.length;var l=Bn(a);return l==St||l==Ct?a.size:xp(a).length}function oR(a,l,h){var w=Ze(a)?ip:JA;return h&&er(a,l,h)&&(l=n),w(a,Ue(l,3))}var uR=rt(function(a,l){if(a==null)return[];var h=l.length;return h>1&&er(a,l[0],l[1])?l=[]:h>2&&er(l[0],l[1],l[2])&&(l=[l[0]]),g_(a,In(l,1),[])}),kc=jk||function(){return An.Date.now()};function lR(a,l){if(typeof l!="function")throw new $r(o);return a=Je(a),function(){if(--a<1)return l.apply(this,arguments)}}function fw(a,l,h){return l=h?n:l,l=a&&l==null?a.length:l,Vi(a,N,n,n,n,n,l)}function cw(a,l){var h;if(typeof l!="function")throw new $r(o);return a=Je(a),function(){return--a>0&&(h=l.apply(this,arguments)),a<=1&&(l=n),h}}var Vp=rt(function(a,l,h){var w=g;if(h.length){var k=bs(h,go(Vp));w|=S}return Vi(a,w,l,h,k)}),hw=rt(function(a,l,h){var w=g|v;if(h.length){var k=bs(h,go(hw));w|=S}return Vi(l,w,a,h,k)});function dw(a,l,h){l=h?n:l;var w=Vi(a,x,n,n,n,n,n,l);return w.placeholder=dw.placeholder,w}function pw(a,l,h){l=h?n:l;var w=Vi(a,C,n,n,n,n,n,l);return w.placeholder=pw.placeholder,w}function vw(a,l,h){var w,k,P,B,j,Y,oe=0,ue=!1,de=!1,Te=!0;if(typeof a!="function")throw new $r(o);l=Yr(l)||0,Qt(h)&&(ue=!!h.leading,de="maxWait"in h,P=de?mn(Yr(h.maxWait)||0,l):P,Te="trailing"in h?!!h.trailing:Te);function ze(ln){var li=w,Xi=k;return w=k=n,oe=ln,B=a.apply(Xi,li),B}function We(ln){return oe=ln,j=$u(st,l),ue?ze(ln):B}function tt(ln){var li=ln-Y,Xi=ln-oe,Pw=l-li;return de?Mn(Pw,P-Xi):Pw}function je(ln){var li=ln-Y,Xi=ln-oe;return Y===n||li>=l||li<0||de&&Xi>=P}function st(){var ln=kc();if(je(ln))return ft(ln);j=$u(st,tt(ln))}function ft(ln){return j=n,Te&&w?ze(ln):(w=k=n,B)}function Nr(){j!==n&&T_(j),oe=0,w=Y=k=j=n}function tr(){return j===n?B:ft(kc())}function Lr(){var ln=kc(),li=je(ln);if(w=arguments,k=this,Y=ln,li){if(j===n)return We(Y);if(de)return T_(j),j=$u(st,l),ze(Y)}return j===n&&(j=$u(st,l)),B}return Lr.cancel=Nr,Lr.flush=tr,Lr}var fR=rt(function(a,l){return i_(a,1,l)}),cR=rt(function(a,l,h){return i_(a,Yr(l)||0,h)});function hR(a){return Vi(a,F)}function Ac(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new $r(o);var h=function(){var w=arguments,k=l?l.apply(this,w):w[0],P=h.cache;if(P.has(k))return P.get(k);var B=a.apply(this,w);return h.cache=P.set(k,B)||P,B};return h.cache=new(Ac.Cache||Ki),h}Ac.Cache=Ki;function Ic(a){if(typeof a!="function")throw new $r(o);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function dR(a){return cw(2,a)}var pR=eI(function(a,l){l=l.length==1&&Ze(l[0])?Vt(l[0],Ir(Ue())):Vt(In(l,1),Ir(Ue()));var h=l.length;return rt(function(w){for(var k=-1,P=Mn(w.length,h);++k<P;)w[k]=l[k].call(this,w[k]);return Ar(a,this,w)})}),qp=rt(function(a,l){var h=bs(l,go(qp));return Vi(a,S,n,l,h)}),gw=rt(function(a,l){var h=bs(l,go(gw));return Vi(a,A,n,l,h)}),vR=qi(function(a,l){return Vi(a,z,n,n,n,l)});function gR(a,l){if(typeof a!="function")throw new $r(o);return l=l===n?l:Je(l),rt(a,l)}function mR(a,l){if(typeof a!="function")throw new $r(o);return l=l==null?0:mn(Je(l),0),rt(function(h){var w=h[l],k=Is(h,0,l);return w&&Ss(k,w),Ar(a,this,k)})}function yR(a,l,h){var w=!0,k=!0;if(typeof a!="function")throw new $r(o);return Qt(h)&&(w="leading"in h?!!h.leading:w,k="trailing"in h?!!h.trailing:k),vw(a,l,{leading:w,maxWait:l,trailing:k})}function _R(a){return fw(a,1)}function wR(a,l){return qp(Rp(l),a)}function ER(){if(!arguments.length)return[];var a=arguments[0];return Ze(a)?a:[a]}function xR(a){return Hr(a,E)}function SR(a,l){return l=typeof l=="function"?l:n,Hr(a,E,l)}function bR(a){return Hr(a,p|E)}function TR(a,l){return l=typeof l=="function"?l:n,Hr(a,p|E,l)}function CR(a,l){return l==null||r_(a,l,Sn(l))}function ui(a,l){return a===l||a!==a&&l!==l}var kR=Ec(_p),AR=Ec(function(a,l){return a>=l}),Sa=l_(function(){return arguments}())?l_:function(a){return nn(a)&&kt.call(a,"callee")&&!G0.call(a,"callee")},Ze=J.isArray,IR=O0?Ir(O0):MA;function fr(a){return a!=null&&Oc(a.length)&&!Gi(a)}function un(a){return nn(a)&&fr(a)}function OR(a){return a===!0||a===!1||nn(a)&&Jn(a)==$e}var Os=Kk||iv,RR=R0?Ir(R0):BA;function NR(a){return nn(a)&&a.nodeType===1&&!Ku(a)}function LR(a){if(a==null)return!0;if(fr(a)&&(Ze(a)||typeof a=="string"||typeof a.splice=="function"||Os(a)||mo(a)||Sa(a)))return!a.length;var l=Bn(a);if(l==St||l==Ct)return!a.size;if(ju(a))return!xp(a).length;for(var h in a)if(kt.call(a,h))return!1;return!0}function PR(a,l){return Fu(a,l)}function DR(a,l,h){h=typeof h=="function"?h:n;var w=h?h(a,l):n;return w===n?Fu(a,l,n,h):!!w}function Yp(a){if(!nn(a))return!1;var l=Jn(a);return l==ut||l==$t||typeof a.message=="string"&&typeof a.name=="string"&&!Ku(a)}function zR(a){return typeof a=="number"&&X0(a)}function Gi(a){if(!Qt(a))return!1;var l=Jn(a);return l==Tt||l==lt||l==vt||l==Sr}function mw(a){return typeof a=="number"&&a==Je(a)}function Oc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ye}function Qt(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function nn(a){return a!=null&&typeof a=="object"}var yw=N0?Ir(N0):UA;function MR(a,l){return a===l||Ep(a,l,Bp(l))}function BR(a,l,h){return h=typeof h=="function"?h:n,Ep(a,l,Bp(l),h)}function FR(a){return _w(a)&&a!=+a}function UR(a){if(SI(a))throw new Ge(s);return f_(a)}function WR(a){return a===null}function jR(a){return a==null}function _w(a){return typeof a=="number"||nn(a)&&Jn(a)==It}function Ku(a){if(!nn(a)||Jn(a)!=Qe)return!1;var l=rc(a);if(l===null)return!0;var h=kt.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Jf.call(h)==Bk}var Gp=L0?Ir(L0):WA;function $R(a){return mw(a)&&a>=-ye&&a<=ye}var ww=P0?Ir(P0):jA;function Rc(a){return typeof a=="string"||!Ze(a)&&nn(a)&&Jn(a)==wt}function Rr(a){return typeof a=="symbol"||nn(a)&&Jn(a)==Ye}var mo=D0?Ir(D0):$A;function KR(a){return a===n}function HR(a){return nn(a)&&Bn(a)==Gn}function VR(a){return nn(a)&&Jn(a)==br}var qR=Ec(Sp),YR=Ec(function(a,l){return a<=l});function Ew(a){if(!a)return[];if(fr(a))return Rc(a)?ai(a):lr(a);if(Ru&&a[Ru])return Ck(a[Ru]());var l=Bn(a),h=l==St?fp:l==Ct?Zf:yo;return h(a)}function Zi(a){if(!a)return a===0?a:0;if(a=Yr(a),a===we||a===-we){var l=a<0?-1:1;return l*Me}return a===a?a:0}function Je(a){var l=Zi(a),h=l%1;return l===l?h?l-h:l:0}function xw(a){return a?_a(Je(a),0,ie):0}function Yr(a){if(typeof a=="number")return a;if(Rr(a))return Ve;if(Qt(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Qt(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=W0(a);var h=zn.test(a);return h||kr.test(a)?lk(a.slice(2),h?2:8):Kt.test(a)?Ve:+a}function Sw(a){return Ci(a,cr(a))}function GR(a){return a?_a(Je(a),-ye,ye):a===0?a:0}function bt(a){return a==null?"":Or(a)}var ZR=po(function(a,l){if(ju(l)||fr(l)){Ci(l,Sn(l),a);return}for(var h in l)kt.call(l,h)&&zu(a,h,l[h])}),bw=po(function(a,l){Ci(l,cr(l),a)}),Nc=po(function(a,l,h,w){Ci(l,cr(l),a,w)}),XR=po(function(a,l,h,w){Ci(l,Sn(l),a,w)}),QR=qi(gp);function JR(a,l){var h=ho(a);return l==null?h:n_(h,l)}var e2=rt(function(a,l){a=Ot(a);var h=-1,w=l.length,k=w>2?l[2]:n;for(k&&er(l[0],l[1],k)&&(w=1);++h<w;)for(var P=l[h],B=cr(P),j=-1,Y=B.length;++j<Y;){var oe=B[j],ue=a[oe];(ue===n||ui(ue,lo[oe])&&!kt.call(a,oe))&&(a[oe]=P[oe])}return a}),t2=rt(function(a){return a.push(n,W_),Ar(Tw,n,a)});function n2(a,l){return M0(a,Ue(l,3),Ti)}function r2(a,l){return M0(a,Ue(l,3),yp)}function i2(a,l){return a==null?a:mp(a,Ue(l,3),cr)}function s2(a,l){return a==null?a:o_(a,Ue(l,3),cr)}function a2(a,l){return a&&Ti(a,Ue(l,3))}function o2(a,l){return a&&yp(a,Ue(l,3))}function u2(a){return a==null?[]:dc(a,Sn(a))}function l2(a){return a==null?[]:dc(a,cr(a))}function Zp(a,l,h){var w=a==null?n:wa(a,l);return w===n?h:w}function f2(a,l){return a!=null&&K_(a,l,LA)}function Xp(a,l){return a!=null&&K_(a,l,PA)}var c2=z_(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=ec.call(l)),a[l]=h},Jp(hr)),h2=z_(function(a,l,h){l!=null&&typeof l.toString!="function"&&(l=ec.call(l)),kt.call(a,l)?a[l].push(h):a[l]=[h]},Ue),d2=rt(Bu);function Sn(a){return fr(a)?e_(a):xp(a)}function cr(a){return fr(a)?e_(a,!0):KA(a)}function p2(a,l){var h={};return l=Ue(l,3),Ti(a,function(w,k,P){Hi(h,l(w,k,P),w)}),h}function v2(a,l){var h={};return l=Ue(l,3),Ti(a,function(w,k,P){Hi(h,k,l(w,k,P))}),h}var g2=po(function(a,l,h){pc(a,l,h)}),Tw=po(function(a,l,h,w){pc(a,l,h,w)}),m2=qi(function(a,l){var h={};if(a==null)return h;var w=!1;l=Vt(l,function(P){return P=As(P,a),w||(w=P.length>1),P}),Ci(a,zp(a),h),w&&(h=Hr(h,p|m|E,cI));for(var k=l.length;k--;)Ap(h,l[k]);return h});function y2(a,l){return Cw(a,Ic(Ue(l)))}var _2=qi(function(a,l){return a==null?{}:VA(a,l)});function Cw(a,l){if(a==null)return{};var h=Vt(zp(a),function(w){return[w]});return l=Ue(l),m_(a,h,function(w,k){return l(w,k[0])})}function w2(a,l,h){l=As(l,a);var w=-1,k=l.length;for(k||(k=1,a=n);++w<k;){var P=a==null?n:a[ki(l[w])];P===n&&(w=k,P=h),a=Gi(P)?P.call(a):P}return a}function E2(a,l,h){return a==null?a:Uu(a,l,h)}function x2(a,l,h,w){return w=typeof w=="function"?w:n,a==null?a:Uu(a,l,h,w)}var kw=F_(Sn),Aw=F_(cr);function S2(a,l,h){var w=Ze(a),k=w||Os(a)||mo(a);if(l=Ue(l,4),h==null){var P=a&&a.constructor;k?h=w?new P:[]:Qt(a)?h=Gi(P)?ho(rc(a)):{}:h={}}return(k?jr:Ti)(a,function(B,j,Y){return l(h,B,j,Y)}),h}function b2(a,l){return a==null?!0:Ap(a,l)}function T2(a,l,h){return a==null?a:x_(a,l,Rp(h))}function C2(a,l,h,w){return w=typeof w=="function"?w:n,a==null?a:x_(a,l,Rp(h),w)}function yo(a){return a==null?[]:lp(a,Sn(a))}function k2(a){return a==null?[]:lp(a,cr(a))}function A2(a,l,h){return h===n&&(h=l,l=n),h!==n&&(h=Yr(h),h=h===h?h:0),l!==n&&(l=Yr(l),l=l===l?l:0),_a(Yr(a),l,h)}function I2(a,l,h){return l=Zi(l),h===n?(h=l,l=0):h=Zi(h),a=Yr(a),DA(a,l,h)}function O2(a,l,h){if(h&&typeof h!="boolean"&&er(a,l,h)&&(l=h=n),h===n&&(typeof l=="boolean"?(h=l,l=n):typeof a=="boolean"&&(h=a,a=n)),a===n&&l===n?(a=0,l=1):(a=Zi(a),l===n?(l=a,a=0):l=Zi(l)),a>l){var w=a;a=l,l=w}if(h||a%1||l%1){var k=Q0();return Mn(a+k*(l-a+uk("1e-"+((k+"").length-1))),l)}return Tp(a,l)}var R2=vo(function(a,l,h){return l=l.toLowerCase(),a+(h?Iw(l):l)});function Iw(a){return Qp(bt(a).toLowerCase())}function Ow(a){return a=bt(a),a&&a.replace(to,Ek).replace(QC,"")}function N2(a,l,h){a=bt(a),l=Or(l);var w=a.length;h=h===n?w:_a(Je(h),0,w);var k=h;return h-=l.length,h>=0&&a.slice(h,k)==l}function L2(a){return a=bt(a),a&&Be.test(a)?a.replace(I,xk):a}function P2(a){return a=bt(a),a&&be.test(a)?a.replace(Pe,"\\$&"):a}var D2=vo(function(a,l,h){return a+(h?"-":"")+l.toLowerCase()}),z2=vo(function(a,l,h){return a+(h?" ":"")+l.toLowerCase()}),M2=L_("toLowerCase");function B2(a,l,h){a=bt(a),l=Je(l);var w=l?oo(a):0;if(!l||w>=l)return a;var k=(l-w)/2;return wc(oc(k),h)+a+wc(ac(k),h)}function F2(a,l,h){a=bt(a),l=Je(l);var w=l?oo(a):0;return l&&w<l?a+wc(l-w,h):a}function U2(a,l,h){a=bt(a),l=Je(l);var w=l?oo(a):0;return l&&w<l?wc(l-w,h)+a:a}function W2(a,l,h){return h||l==null?l=0:l&&(l=+l),Yk(bt(a).replace(Ae,""),l||0)}function j2(a,l,h){return(h?er(a,l,h):l===n)?l=1:l=Je(l),Cp(bt(a),l)}function $2(){var a=arguments,l=bt(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var K2=vo(function(a,l,h){return a+(h?"_":"")+l.toLowerCase()});function H2(a,l,h){return h&&typeof h!="number"&&er(a,l,h)&&(l=h=n),h=h===n?ie:h>>>0,h?(a=bt(a),a&&(typeof l=="string"||l!=null&&!Gp(l))&&(l=Or(l),!l&&ao(a))?Is(ai(a),0,h):a.split(l,h)):[]}var V2=vo(function(a,l,h){return a+(h?" ":"")+Qp(l)});function q2(a,l,h){return a=bt(a),h=h==null?0:_a(Je(h),0,a.length),l=Or(l),a.slice(h,h+l.length)==l}function Y2(a,l,h){var w=R.templateSettings;h&&er(a,l,h)&&(l=n),a=bt(a),l=Nc({},l,w,U_);var k=Nc({},l.imports,w.imports,U_),P=Sn(k),B=lp(k,P),j,Y,oe=0,ue=l.interpolate||no,de="__p += '",Te=cp((l.escape||no).source+"|"+ue.source+"|"+(ue===te?_s:no).source+"|"+(l.evaluate||no).source+"|$","g"),ze="//# sourceURL="+(kt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rk+"]")+`
`;a.replace(Te,function(je,st,ft,Nr,tr,Lr){return ft||(ft=Nr),de+=a.slice(oe,Lr).replace(jf,Sk),st&&(j=!0,de+=`' +
__e(`+st+`) +
'`),tr&&(Y=!0,de+=`';
`+tr+`;
__p += '`),ft&&(de+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),oe=Lr+je.length,je}),de+=`';
`;var We=kt.call(l,"variable")&&l.variable;if(!We)de=`with (obj) {
`+de+`
}
`;else if(dn.test(We))throw new Ge(u);de=(Y?de.replace(ve,""):de).replace(Ie,"$1").replace($,"$1;"),de="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+de+`return __p
}`;var tt=Nw(function(){return Et(P,ze+"return "+de).apply(n,B)});if(tt.source=de,Yp(tt))throw tt;return tt}function G2(a){return bt(a).toLowerCase()}function Z2(a){return bt(a).toUpperCase()}function X2(a,l,h){if(a=bt(a),a&&(h||l===n))return W0(a);if(!a||!(l=Or(l)))return a;var w=ai(a),k=ai(l),P=j0(w,k),B=$0(w,k)+1;return Is(w,P,B).join("")}function Q2(a,l,h){if(a=bt(a),a&&(h||l===n))return a.slice(0,H0(a)+1);if(!a||!(l=Or(l)))return a;var w=ai(a),k=$0(w,ai(l))+1;return Is(w,0,k).join("")}function J2(a,l,h){if(a=bt(a),a&&(h||l===n))return a.replace(Ae,"");if(!a||!(l=Or(l)))return a;var w=ai(a),k=j0(w,ai(l));return Is(w,k).join("")}function eN(a,l){var h=H,w=ee;if(Qt(l)){var k="separator"in l?l.separator:k;h="length"in l?Je(l.length):h,w="omission"in l?Or(l.omission):w}a=bt(a);var P=a.length;if(ao(a)){var B=ai(a);P=B.length}if(h>=P)return a;var j=h-oo(w);if(j<1)return w;var Y=B?Is(B,0,j).join(""):a.slice(0,j);if(k===n)return Y+w;if(B&&(j+=Y.length-j),Gp(k)){if(a.slice(j).search(k)){var oe,ue=Y;for(k.global||(k=cp(k.source,bt(ji.exec(k))+"g")),k.lastIndex=0;oe=k.exec(ue);)var de=oe.index;Y=Y.slice(0,de===n?j:de)}}else if(a.indexOf(Or(k),j)!=j){var Te=Y.lastIndexOf(k);Te>-1&&(Y=Y.slice(0,Te))}return Y+w}function tN(a){return a=bt(a),a&&he.test(a)?a.replace(ne,Ok):a}var nN=vo(function(a,l,h){return a+(h?" ":"")+l.toUpperCase()}),Qp=L_("toUpperCase");function Rw(a,l,h){return a=bt(a),l=h?n:l,l===n?Tk(a)?Lk(a):gk(a):a.match(l)||[]}var Nw=rt(function(a,l){try{return Ar(a,n,l)}catch(h){return Yp(h)?h:new Ge(h)}}),rN=qi(function(a,l){return jr(l,function(h){h=ki(h),Hi(a,h,Vp(a[h],a))}),a});function iN(a){var l=a==null?0:a.length,h=Ue();return a=l?Vt(a,function(w){if(typeof w[1]!="function")throw new $r(o);return[h(w[0]),w[1]]}):[],rt(function(w){for(var k=-1;++k<l;){var P=a[k];if(Ar(P[0],this,w))return Ar(P[1],this,w)}})}function sN(a){return OA(Hr(a,p))}function Jp(a){return function(){return a}}function aN(a,l){return a==null||a!==a?l:a}var oN=D_(),uN=D_(!0);function hr(a){return a}function ev(a){return c_(typeof a=="function"?a:Hr(a,p))}function lN(a){return d_(Hr(a,p))}function fN(a,l){return p_(a,Hr(l,p))}var cN=rt(function(a,l){return function(h){return Bu(h,a,l)}}),hN=rt(function(a,l){return function(h){return Bu(a,h,l)}});function tv(a,l,h){var w=Sn(l),k=dc(l,w);h==null&&!(Qt(l)&&(k.length||!w.length))&&(h=l,l=a,a=this,k=dc(l,Sn(l)));var P=!(Qt(h)&&"chain"in h)||!!h.chain,B=Gi(a);return jr(k,function(j){var Y=l[j];a[j]=Y,B&&(a.prototype[j]=function(){var oe=this.__chain__;if(P||oe){var ue=a(this.__wrapped__),de=ue.__actions__=lr(this.__actions__);return de.push({func:Y,args:arguments,thisArg:a}),ue.__chain__=oe,ue}return Y.apply(a,Ss([this.value()],arguments))})}),a}function dN(){return An._===this&&(An._=Fk),this}function nv(){}function pN(a){return a=Je(a),rt(function(l){return v_(l,a)})}var vN=Lp(Vt),gN=Lp(z0),mN=Lp(ip);function Lw(a){return Up(a)?sp(ki(a)):qA(a)}function yN(a){return function(l){return a==null?n:wa(a,l)}}var _N=M_(),wN=M_(!0);function rv(){return[]}function iv(){return!1}function EN(){return{}}function xN(){return""}function SN(){return!0}function bN(a,l){if(a=Je(a),a<1||a>ye)return[];var h=ie,w=Mn(a,ie);l=Ue(l),a-=ie;for(var k=up(w,l);++h<a;)l(h);return k}function TN(a){return Ze(a)?Vt(a,ki):Rr(a)?[a]:lr(J_(bt(a)))}function CN(a){var l=++Mk;return bt(a)+l}var kN=_c(function(a,l){return a+l},0),AN=Pp("ceil"),IN=_c(function(a,l){return a/l},1),ON=Pp("floor");function RN(a){return a&&a.length?hc(a,hr,_p):n}function NN(a,l){return a&&a.length?hc(a,Ue(l,2),_p):n}function LN(a){return F0(a,hr)}function PN(a,l){return F0(a,Ue(l,2))}function DN(a){return a&&a.length?hc(a,hr,Sp):n}function zN(a,l){return a&&a.length?hc(a,Ue(l,2),Sp):n}var MN=_c(function(a,l){return a*l},1),BN=Pp("round"),FN=_c(function(a,l){return a-l},0);function UN(a){return a&&a.length?op(a,hr):0}function WN(a,l){return a&&a.length?op(a,Ue(l,2)):0}return R.after=lR,R.ary=fw,R.assign=ZR,R.assignIn=bw,R.assignInWith=Nc,R.assignWith=XR,R.at=QR,R.before=cw,R.bind=Vp,R.bindAll=rN,R.bindKey=hw,R.castArray=ER,R.chain=ow,R.chunk=OI,R.compact=RI,R.concat=NI,R.cond=iN,R.conforms=sN,R.constant=Jp,R.countBy=UO,R.create=JR,R.curry=dw,R.curryRight=pw,R.debounce=vw,R.defaults=e2,R.defaultsDeep=t2,R.defer=fR,R.delay=cR,R.difference=LI,R.differenceBy=PI,R.differenceWith=DI,R.drop=zI,R.dropRight=MI,R.dropRightWhile=BI,R.dropWhile=FI,R.fill=UI,R.filter=jO,R.flatMap=HO,R.flatMapDeep=VO,R.flatMapDepth=qO,R.flatten=rw,R.flattenDeep=WI,R.flattenDepth=jI,R.flip=hR,R.flow=oN,R.flowRight=uN,R.fromPairs=$I,R.functions=u2,R.functionsIn=l2,R.groupBy=YO,R.initial=HI,R.intersection=VI,R.intersectionBy=qI,R.intersectionWith=YI,R.invert=c2,R.invertBy=h2,R.invokeMap=ZO,R.iteratee=ev,R.keyBy=XO,R.keys=Sn,R.keysIn=cr,R.map=Cc,R.mapKeys=p2,R.mapValues=v2,R.matches=lN,R.matchesProperty=fN,R.memoize=Ac,R.merge=g2,R.mergeWith=Tw,R.method=cN,R.methodOf=hN,R.mixin=tv,R.negate=Ic,R.nthArg=pN,R.omit=m2,R.omitBy=y2,R.once=dR,R.orderBy=QO,R.over=vN,R.overArgs=pR,R.overEvery=gN,R.overSome=mN,R.partial=qp,R.partialRight=gw,R.partition=JO,R.pick=_2,R.pickBy=Cw,R.property=Lw,R.propertyOf=yN,R.pull=QI,R.pullAll=sw,R.pullAllBy=JI,R.pullAllWith=eO,R.pullAt=tO,R.range=_N,R.rangeRight=wN,R.rearg=vR,R.reject=nR,R.remove=nO,R.rest=gR,R.reverse=Kp,R.sampleSize=iR,R.set=E2,R.setWith=x2,R.shuffle=sR,R.slice=rO,R.sortBy=uR,R.sortedUniq=fO,R.sortedUniqBy=cO,R.split=H2,R.spread=mR,R.tail=hO,R.take=dO,R.takeRight=pO,R.takeRightWhile=vO,R.takeWhile=gO,R.tap=RO,R.throttle=yR,R.thru=Tc,R.toArray=Ew,R.toPairs=kw,R.toPairsIn=Aw,R.toPath=TN,R.toPlainObject=Sw,R.transform=S2,R.unary=_R,R.union=mO,R.unionBy=yO,R.unionWith=_O,R.uniq=wO,R.uniqBy=EO,R.uniqWith=xO,R.unset=b2,R.unzip=Hp,R.unzipWith=aw,R.update=T2,R.updateWith=C2,R.values=yo,R.valuesIn=k2,R.without=SO,R.words=Rw,R.wrap=wR,R.xor=bO,R.xorBy=TO,R.xorWith=CO,R.zip=kO,R.zipObject=AO,R.zipObjectDeep=IO,R.zipWith=OO,R.entries=kw,R.entriesIn=Aw,R.extend=bw,R.extendWith=Nc,tv(R,R),R.add=kN,R.attempt=Nw,R.camelCase=R2,R.capitalize=Iw,R.ceil=AN,R.clamp=A2,R.clone=xR,R.cloneDeep=bR,R.cloneDeepWith=TR,R.cloneWith=SR,R.conformsTo=CR,R.deburr=Ow,R.defaultTo=aN,R.divide=IN,R.endsWith=N2,R.eq=ui,R.escape=L2,R.escapeRegExp=P2,R.every=WO,R.find=$O,R.findIndex=tw,R.findKey=n2,R.findLast=KO,R.findLastIndex=nw,R.findLastKey=r2,R.floor=ON,R.forEach=uw,R.forEachRight=lw,R.forIn=i2,R.forInRight=s2,R.forOwn=a2,R.forOwnRight=o2,R.get=Zp,R.gt=kR,R.gte=AR,R.has=f2,R.hasIn=Xp,R.head=iw,R.identity=hr,R.includes=GO,R.indexOf=KI,R.inRange=I2,R.invoke=d2,R.isArguments=Sa,R.isArray=Ze,R.isArrayBuffer=IR,R.isArrayLike=fr,R.isArrayLikeObject=un,R.isBoolean=OR,R.isBuffer=Os,R.isDate=RR,R.isElement=NR,R.isEmpty=LR,R.isEqual=PR,R.isEqualWith=DR,R.isError=Yp,R.isFinite=zR,R.isFunction=Gi,R.isInteger=mw,R.isLength=Oc,R.isMap=yw,R.isMatch=MR,R.isMatchWith=BR,R.isNaN=FR,R.isNative=UR,R.isNil=jR,R.isNull=WR,R.isNumber=_w,R.isObject=Qt,R.isObjectLike=nn,R.isPlainObject=Ku,R.isRegExp=Gp,R.isSafeInteger=$R,R.isSet=ww,R.isString=Rc,R.isSymbol=Rr,R.isTypedArray=mo,R.isUndefined=KR,R.isWeakMap=HR,R.isWeakSet=VR,R.join=GI,R.kebabCase=D2,R.last=qr,R.lastIndexOf=ZI,R.lowerCase=z2,R.lowerFirst=M2,R.lt=qR,R.lte=YR,R.max=RN,R.maxBy=NN,R.mean=LN,R.meanBy=PN,R.min=DN,R.minBy=zN,R.stubArray=rv,R.stubFalse=iv,R.stubObject=EN,R.stubString=xN,R.stubTrue=SN,R.multiply=MN,R.nth=XI,R.noConflict=dN,R.noop=nv,R.now=kc,R.pad=B2,R.padEnd=F2,R.padStart=U2,R.parseInt=W2,R.random=O2,R.reduce=eR,R.reduceRight=tR,R.repeat=j2,R.replace=$2,R.result=w2,R.round=BN,R.runInContext=q,R.sample=rR,R.size=aR,R.snakeCase=K2,R.some=oR,R.sortedIndex=iO,R.sortedIndexBy=sO,R.sortedIndexOf=aO,R.sortedLastIndex=oO,R.sortedLastIndexBy=uO,R.sortedLastIndexOf=lO,R.startCase=V2,R.startsWith=q2,R.subtract=FN,R.sum=UN,R.sumBy=WN,R.template=Y2,R.times=bN,R.toFinite=Zi,R.toInteger=Je,R.toLength=xw,R.toLower=G2,R.toNumber=Yr,R.toSafeInteger=GR,R.toString=bt,R.toUpper=Z2,R.trim=X2,R.trimEnd=Q2,R.trimStart=J2,R.truncate=eN,R.unescape=tN,R.uniqueId=CN,R.upperCase=nN,R.upperFirst=Qp,R.each=uw,R.eachRight=lw,R.first=iw,tv(R,function(){var a={};return Ti(R,function(l,h){kt.call(R.prototype,h)||(a[h]=l)}),a}(),{chain:!1}),R.VERSION=r,jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),jr(["drop","take"],function(a,l){at.prototype[a]=function(h){h=h===n?1:mn(Je(h),0);var w=this.__filtered__&&!l?new at(this):this.clone();return w.__filtered__?w.__takeCount__=Mn(h,w.__takeCount__):w.__views__.push({size:Mn(h,ie),type:a+(w.__dir__<0?"Right":"")}),w},at.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),jr(["filter","map","takeWhile"],function(a,l){var h=l+1,w=h==ke||h==xe;at.prototype[a]=function(k){var P=this.clone();return P.__iteratees__.push({iteratee:Ue(k,3),type:h}),P.__filtered__=P.__filtered__||w,P}}),jr(["head","last"],function(a,l){var h="take"+(l?"Right":"");at.prototype[a]=function(){return this[h](1).value()[0]}}),jr(["initial","tail"],function(a,l){var h="drop"+(l?"":"Right");at.prototype[a]=function(){return this.__filtered__?new at(this):this[h](1)}}),at.prototype.compact=function(){return this.filter(hr)},at.prototype.find=function(a){return this.filter(a).head()},at.prototype.findLast=function(a){return this.reverse().find(a)},at.prototype.invokeMap=rt(function(a,l){return typeof a=="function"?new at(this):this.map(function(h){return Bu(h,a,l)})}),at.prototype.reject=function(a){return this.filter(Ic(Ue(a)))},at.prototype.slice=function(a,l){a=Je(a);var h=this;return h.__filtered__&&(a>0||l<0)?new at(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),l!==n&&(l=Je(l),h=l<0?h.dropRight(-l):h.take(l-a)),h)},at.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},at.prototype.toArray=function(){return this.take(ie)},Ti(at.prototype,function(a,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),w=/^(?:head|last)$/.test(l),k=R[w?"take"+(l=="last"?"Right":""):l],P=w||/^find/.test(l);!k||(R.prototype[l]=function(){var B=this.__wrapped__,j=w?[1]:arguments,Y=B instanceof at,oe=j[0],ue=Y||Ze(B),de=function(st){var ft=k.apply(R,Ss([st],j));return w&&Te?ft[0]:ft};ue&&h&&typeof oe=="function"&&oe.length!=1&&(Y=ue=!1);var Te=this.__chain__,ze=!!this.__actions__.length,We=P&&!Te,tt=Y&&!ze;if(!P&&ue){B=tt?B:new at(this);var je=a.apply(B,j);return je.__actions__.push({func:Tc,args:[de],thisArg:n}),new Kr(je,Te)}return We&&tt?a.apply(this,j):(je=this.thru(de),We?w?je.value()[0]:je.value():je)})}),jr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Xf[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",w=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var k=arguments;if(w&&!this.__chain__){var P=this.value();return l.apply(Ze(P)?P:[],k)}return this[h](function(B){return l.apply(Ze(B)?B:[],k)})}}),Ti(at.prototype,function(a,l){var h=R[l];if(h){var w=h.name+"";kt.call(co,w)||(co[w]=[]),co[w].push({name:l,func:h})}}),co[yc(n,v).name]=[{name:"wrapper",func:n}],at.prototype.clone=tA,at.prototype.reverse=nA,at.prototype.value=rA,R.prototype.at=NO,R.prototype.chain=LO,R.prototype.commit=PO,R.prototype.next=DO,R.prototype.plant=MO,R.prototype.reverse=BO,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=FO,R.prototype.first=R.prototype.head,Ru&&(R.prototype[Ru]=zO),R},uo=Pk();va?((va.exports=uo)._=uo,ep._=uo):An._=uo}).call(Un)})(yx,yx.exports);export{L3 as B,cd as D,o0 as L,xu as M,f4 as R,p4 as a,v4 as b,JN as c,gx as d,eL as e,d4 as f,c4 as g,QP as h,s4 as j,yx as l,Xe as r,h4 as u};
