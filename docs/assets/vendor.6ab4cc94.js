function S1(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var Vn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function k1(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}function Vr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Se={exports:{}},Le={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rv=Object.getOwnPropertySymbols,T1=Object.prototype.hasOwnProperty,C1=Object.prototype.propertyIsEnumerable;function O1(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function I1(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ug=I1()?Object.assign:function(t,e){for(var n,r=O1(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)T1.call(n,a)&&(r[a]=n[a]);if(rv){i=rv(n);for(var o=0;o<i.length;o++)C1.call(n,i[o])&&(r[i[o]]=n[i[o]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=Ug,qs=60103,jg=60106;Le.Fragment=60107;Le.StrictMode=60108;Le.Profiler=60114;var Wg=60109,$g=60110,Kg=60112;Le.Suspense=60113;var Hg=60115,Vg=60116;if(typeof Symbol=="function"&&Symbol.for){var Un=Symbol.for;qs=Un("react.element"),jg=Un("react.portal"),Le.Fragment=Un("react.fragment"),Le.StrictMode=Un("react.strict_mode"),Le.Profiler=Un("react.profiler"),Wg=Un("react.provider"),$g=Un("react.context"),Kg=Un("react.forward_ref"),Le.Suspense=Un("react.suspense"),Hg=Un("react.memo"),Vg=Un("react.lazy")}var iv=typeof Symbol=="function"&&Symbol.iterator;function R1(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}function jo(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yg={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=Yg,this.updater=n||qg}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(jo(85));this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zg(){}Zg.prototype=Ys.prototype;function rd(t,e,n){this.props=t,this.context=e,this.refs=Yg,this.updater=n||qg}var id=rd.prototype=new Zg;id.constructor=rd;nd(id,Ys.prototype);id.isPureReactComponent=!0;var sd={current:null},Xg=Object.prototype.hasOwnProperty,Gg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Xg.call(e,r)&&!Gg.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:qs,type:t,key:s,ref:a,props:i,_owner:sd.current}}function A1(t,e){return{$$typeof:qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ad(t){return typeof t=="object"&&t!==null&&t.$$typeof===qs}function N1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sv=/\/+/g;function Nf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N1(""+t.key):e.toString(36)}function Mu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qs:case jg:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Nf(a,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(sv,"$&/")+"/"),Mu(i,e,n,"",function(l){return l})):i!=null&&(ad(i)&&(i=A1(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(sv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(t))for(var o=0;o<t.length;o++){s=t[o];var u=r+Nf(s,o);a+=Mu(s,e,n,u,i)}else if(u=R1(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=r+Nf(s,o++),a+=Mu(s,e,n,u,i);else if(s==="object")throw e=""+t,Error(jo(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function du(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function D1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Jg={current:null};function Mr(){var t=Jg.current;if(t===null)throw Error(jo(321));return t}var P1={ReactCurrentDispatcher:Jg,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:sd,IsSomeRendererActing:{current:!1},assign:nd};Le.Children={map:du,forEach:function(t,e,n){du(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return du(t,function(){e++}),e},toArray:function(t){return du(t,function(e){return e})||[]},only:function(t){if(!ad(t))throw Error(jo(143));return t}};Le.Component=Ys;Le.PureComponent=rd;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;Le.cloneElement=function(t,e,n){if(t==null)throw Error(jo(267,t));var r=nd({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)Xg.call(e,u)&&!Gg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];r.children=o}return{$$typeof:qs,type:t.type,key:i,ref:s,props:r,_owner:a}};Le.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:$g,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Wg,_context:t},t.Consumer=t};Le.createElement=Qg;Le.createFactory=function(t){var e=Qg.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:Kg,render:t}};Le.isValidElement=ad;Le.lazy=function(t){return{$$typeof:Vg,_payload:{_status:-1,_result:t},_init:D1}};Le.memo=function(t,e){return{$$typeof:Hg,type:t,compare:e===void 0?null:e}};Le.useCallback=function(t,e){return Mr().useCallback(t,e)};Le.useContext=function(t,e){return Mr().useContext(t,e)};Le.useDebugValue=function(){};Le.useEffect=function(t,e){return Mr().useEffect(t,e)};Le.useImperativeHandle=function(t,e,n){return Mr().useImperativeHandle(t,e,n)};Le.useLayoutEffect=function(t,e){return Mr().useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Mr().useMemo(t,e)};Le.useReducer=function(t,e,n){return Mr().useReducer(t,e,n)};Le.useRef=function(t){return Mr().useRef(t)};Le.useState=function(t){return Mr().useState(t)};Le.version="17.0.2";Se.exports=Le;var L1=Se.exports,qO=Object.freeze(S1({__proto__:null,[Symbol.toStringTag]:"Module",default:L1},[Se.exports])),z1={exports:{}},Dn={},ey={exports:{}},ty={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var u=null,l=null,f=function(){if(u!==null)try{var q=t.unstable_now();u(!0,q),u=null}catch(Y){throw setTimeout(f,0),Y}};e=function(q){u!==null?setTimeout(e,0,q):(u=q,setTimeout(f,0))},n=function(q,Y){l=setTimeout(q,Y)},r=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,p=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,E=null,d=-1,h=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},i=function(){},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h=0<q?Math.floor(1e3/q):5};var y=new MessageChannel,b=y.port2;y.port1.onmessage=function(){if(E!==null){var q=t.unstable_now();v=q+h;try{E(!0,q)?b.postMessage(null):(w=!1,E=null)}catch(Y){throw b.postMessage(null),Y}}else w=!1},e=function(q){E=q,w||(w=!0,b.postMessage(null))},n=function(q,Y){d=c(function(){q(t.unstable_now())},Y)},r=function(){p(d),d=-1}}function _(q,Y){var ue=q.length;q.push(Y);e:for(;;){var de=ue-1>>>1,Te=q[de];if(Te!==void 0&&0<I(Te,Y))q[de]=Y,q[ue]=Te,ue=de;else break e}}function x(q){return q=q[0],q===void 0?null:q}function T(q){var Y=q[0];if(Y!==void 0){var ue=q.pop();if(ue!==Y){q[0]=ue;e:for(var de=0,Te=q.length;de<Te;){var Ue=2*(de+1)-1,Me=q[Ue],xe=Ue+1,He=q[xe];if(Me!==void 0&&0>I(Me,ue))He!==void 0&&0>I(He,Me)?(q[de]=He,q[xe]=ue,de=xe):(q[de]=Me,q[Ue]=ue,de=Ue);else if(He!==void 0&&0>I(He,ue))q[de]=He,q[xe]=ue,de=xe;else break e}}return Y}return null}function I(q,Y){var ue=q.sortIndex-Y.sortIndex;return ue!==0?ue:q.id-Y.id}var A=[],z=[],W=1,F=null,H=3,fe=!1,X=!1,ie=!1;function se(q){for(var Y=x(z);Y!==null;){if(Y.callback===null)T(z);else if(Y.startTime<=q)T(z),Y.sortIndex=Y.expirationTime,_(A,Y);else break;Y=x(z)}}function ae(q){if(ie=!1,se(q),!X)if(x(A)!==null)X=!0,e(_e);else{var Y=x(z);Y!==null&&n(ae,Y.startTime-q)}}function _e(q,Y){X=!1,ie&&(ie=!1,r()),fe=!0;var ue=H;try{for(se(Y),F=x(A);F!==null&&(!(F.expirationTime>Y)||q&&!t.unstable_shouldYield());){var de=F.callback;if(typeof de=="function"){F.callback=null,H=F.priorityLevel;var Te=de(F.expirationTime<=Y);Y=t.unstable_now(),typeof Te=="function"?F.callback=Te:F===x(A)&&T(A),se(Y)}else T(A);F=x(A)}if(F!==null)var Ue=!0;else{var Me=x(z);Me!==null&&n(ae,Me.startTime-Y),Ue=!1}return Ue}finally{F=null,H=ue,fe=!1}}var ke=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){X||fe||(X=!0,e(_e))},t.unstable_getCurrentPriorityLevel=function(){return H},t.unstable_getFirstCallbackNode=function(){return x(A)},t.unstable_next=function(q){switch(H){case 1:case 2:case 3:var Y=3;break;default:Y=H}var ue=H;H=Y;try{return q()}finally{H=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ke,t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=H;H=q;try{return Y()}finally{H=ue}},t.unstable_scheduleCallback=function(q,Y,ue){var de=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?de+ue:de):ue=de,q){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ue+Te,q={id:W++,callback:Y,priorityLevel:q,startTime:ue,expirationTime:Te,sortIndex:-1},ue>de?(q.sortIndex=ue,_(z,q),x(A)===null&&q===x(z)&&(ie?r():ie=!0,n(ae,ue-de))):(q.sortIndex=Te,_(A,q),X||fe||(X=!0,e(_e))),q},t.unstable_wrapCallback=function(q){var Y=H;return function(){var ue=H;H=Y;try{return q.apply(this,arguments)}finally{H=ue}}}})(ty);ey.exports=ty;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Se.exports,st=Ug,Ot=ey.exports;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ql)throw Error(ne(227));var ny=new Set,uo={};function Ki(t,e){Ds(t,e),Ds(t+"Capture",e)}function Ds(t,e){for(uo[t]=e,t=0;t<e.length;t++)ny.add(e[t])}var Rr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),M1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,av=Object.prototype.hasOwnProperty,ov={},uv={};function B1(t){return av.call(uv,t)?!0:av.call(ov,t)?!1:M1.test(t)?uv[t]=!0:(ov[t]=!0,!1)}function F1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U1(t,e,n,r){if(e===null||typeof e=="undefined"||F1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ud(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(od,ud);Pt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(od,ud);Pt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(od,ud);Pt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ld(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(U1(e,n,i,r)&&(n=null),r||i===null?B1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hi=ql.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,La=60103,Ti=60106,Hr=60107,fd=60108,Ha=60114,cd=60109,hd=60110,Yl=60112,Va=60113,il=60120,Zl=60115,dd=60116,pd=60121,vd=60128,ry=60129,md=60130,bc=60131;if(typeof Symbol=="function"&&Symbol.for){var Ct=Symbol.for;La=Ct("react.element"),Ti=Ct("react.portal"),Hr=Ct("react.fragment"),fd=Ct("react.strict_mode"),Ha=Ct("react.profiler"),cd=Ct("react.provider"),hd=Ct("react.context"),Yl=Ct("react.forward_ref"),Va=Ct("react.suspense"),il=Ct("react.suspense_list"),Zl=Ct("react.memo"),dd=Ct("react.lazy"),pd=Ct("react.block"),Ct("react.scope"),vd=Ct("react.opaque.id"),ry=Ct("react.debug_trace_mode"),md=Ct("react.offscreen"),bc=Ct("react.legacy_hidden")}var lv=typeof Symbol=="function"&&Symbol.iterator;function pa(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var Df;function za(t){if(Df===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Df=e&&e[1]||""}return`
`+Df+t}var Pf=!1;function pu(t,e){if(!t||Pf)return"";Pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=o);break}}}finally{Pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function j1(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=pu(t.type,!1),t;case 11:return t=pu(t.type.render,!1),t;case 22:return t=pu(t.type._render,!1),t;case 1:return t=pu(t.type,!0),t;default:return""}}function Es(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hr:return"Fragment";case Ti:return"Portal";case Ha:return"Profiler";case fd:return"StrictMode";case Va:return"Suspense";case il:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hd:return(t.displayName||"Context")+".Consumer";case cd:return(t._context.displayName||"Context")+".Provider";case Yl:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Zl:return Es(t.type);case pd:return Es(t._render);case dd:e=t._payload,t=t._init;try{return Es(t(e))}catch{}}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function iy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W1(t){var e=iy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=W1(t))}function sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function xc(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ay(t,e){e=e.checked,e!=null&&ld(t,"checked",e,!1)}function Sc(t,e){ay(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kc(t,e.type,n):e.hasOwnProperty("defaultValue")&&kc(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kc(t,e,n){(e!=="number"||sl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function $1(t){var e="";return ql.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Tc(t,e){return t=st({children:void 0},e),(e=$1(e.children))&&(t.children=e),t}function bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function oy(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Oc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function uy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ic(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mu,ly=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Oc.svg||"innerHTML"in t)t.innerHTML=e;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K1=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){K1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function fy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var H1=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rc(t,e){if(e){if(H1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Ac(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function gd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nc=null,xs=null,Ss=null;function pv(t){if(t=$o(t)){if(typeof Nc!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=tf(e),Nc(t.stateNode,t.type,e))}}function hy(t){xs?Ss?Ss.push(t):Ss=[t]:xs=t}function dy(){if(xs){var t=xs,e=Ss;if(Ss=xs=null,pv(t),e)for(t=0;t<e.length;t++)pv(e[t])}}function yd(t,e){return t(e)}function py(t,e,n,r,i){return t(e,n,r,i)}function _d(){}var vy=yd,Ci=!1,Lf=!1;function wd(){(xs!==null||Ss!==null)&&(_d(),dy())}function V1(t,e,n){if(Lf)return t(e,n);Lf=!0;try{return vy(t,e,n)}finally{Lf=!1,wd()}}function fo(t,e){var n=t.stateNode;if(n===null)return null;var r=tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Dc=!1;if(Rr)try{var va={};Object.defineProperty(va,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Dc=!1}function q1(t,e,n,r,i,s,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(f){this.onError(f)}}var Ya=!1,al=null,ol=!1,Pc=null,Y1={onError:function(t){Ya=!0,al=t}};function Z1(t,e,n,r,i,s,a,o,u){Ya=!1,al=null,q1.apply(Y1,arguments)}function X1(t,e,n,r,i,s,a,o,u){if(Z1.apply(this,arguments),Ya){if(Ya){var l=al;Ya=!1,al=null}else throw Error(ne(198));ol||(ol=!0,Pc=l)}}function Vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function my(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vv(t){if(Vi(t)!==t)throw Error(ne(188))}function G1(t){var e=t.alternate;if(!e){if(e=Vi(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vv(i),t;if(s===r)return vv(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function gy(t){if(t=G1(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function mv(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var yy,Ed,_y,wy,Lc=!1,sr=[],Qr=null,Jr=null,ei=null,co=new Map,ho=new Map,ma=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function yv(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":co.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(e.pointerId)}}function ga(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=zc(e,n,r,i,s),e!==null&&(e=$o(e),e!==null&&Ed(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q1(t,e,n,r,i){switch(e){case"focusin":return Qr=ga(Qr,t,e,n,r,i),!0;case"dragenter":return Jr=ga(Jr,t,e,n,r,i),!0;case"mouseover":return ei=ga(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return co.set(s,ga(co.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ho.set(s,ga(ho.get(s)||null,t,e,n,r,i)),!0}return!1}function J1(t){var e=Oi(t.target);if(e!==null){var n=Vi(e);if(n!==null){if(e=n.tag,e===13){if(e=my(n),e!==null){t.blockedOn=e,wy(t.lanePriority,function(){Ot.unstable_runWithPriority(t.priority,function(){_y(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=$o(n),e!==null&&Ed(e),t.blockedOn=n,!1;e.shift()}return!0}function _v(t,e,n){Bu(t)&&n.delete(e)}function eE(){for(Lc=!1;0<sr.length;){var t=sr[0];if(t.blockedOn!==null){t=$o(t.blockedOn),t!==null&&yy(t);break}for(var e=t.targetContainers;0<e.length;){var n=kd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&sr.shift()}Qr!==null&&Bu(Qr)&&(Qr=null),Jr!==null&&Bu(Jr)&&(Jr=null),ei!==null&&Bu(ei)&&(ei=null),co.forEach(_v),ho.forEach(_v)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,Lc||(Lc=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,eE)))}function Ey(t){function e(i){return ya(i,t)}if(0<sr.length){ya(sr[0],t);for(var n=1;n<sr.length;n++){var r=sr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&ya(Qr,t),Jr!==null&&ya(Jr,t),ei!==null&&ya(ei,t),co.forEach(e),ho.forEach(e),n=0;n<ma.length;n++)r=ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)J1(n),n.blockedOn===null&&ma.shift()}function gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ps={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},zf={},by={};Rr&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Xl(t){if(zf[t])return zf[t];if(!ps[t])return t;var e=ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in by)return zf[t]=e[n];return t}var xy=Xl("animationend"),Sy=Xl("animationiteration"),ky=Xl("animationstart"),Ty=Xl("transitionend"),Cy=new Map,bd=new Map,tE=["abort","abort",xy,"animationEnd",Sy,"animationIteration",ky,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ty,"transitionEnd","waiting","waiting"];function xd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bd.set(r,e),Cy.set(r,i),Ki(i,[r])}}var nE=Ot.unstable_now;nE();var qe=8;function cs(t){if((1&t)!==0)return qe=15,1;if((2&t)!==0)return qe=14,2;if((4&t)!==0)return qe=13,4;var e=24&t;return e!==0?(qe=12,e):(t&32)!==0?(qe=11,32):(e=192&t,e!==0?(qe=10,e):(t&256)!==0?(qe=9,256):(e=3584&t,e!==0?(qe=8,e):(t&4096)!==0?(qe=7,4096):(e=4186112&t,e!==0?(qe=6,e):(e=62914560&t,e!==0?(qe=5,e):t&67108864?(qe=4,67108864):(t&134217728)!==0?(qe=3,134217728):(e=805306368&t,e!==0?(qe=2,e):(1073741824&t)!==0?(qe=1,1073741824):(qe=8,t))))))}function rE(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function iE(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ne(358,t))}}function po(t,e){var n=t.pendingLanes;if(n===0)return qe=0;var r=0,i=0,s=t.expiredLanes,a=t.suspendedLanes,o=t.pingedLanes;if(s!==0)r=s,i=qe=15;else if(s=n&134217727,s!==0){var u=s&~a;u!==0?(r=cs(u),i=qe):(o&=s,o!==0&&(r=cs(o),i=qe))}else s=n&~a,s!==0?(r=cs(s),i=qe):o!==0&&(r=cs(o),i=qe);if(r===0)return 0;if(r=31-li(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&a)===0){if(cs(e),i<=qe)return e;qe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function Oy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ul(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=hs(24&~e),t===0?ul(10,e):t;case 10:return t=hs(192&~e),t===0?ul(8,e):t;case 8:return t=hs(3584&~e),t===0&&(t=hs(4186112&~e),t===0&&(t=512)),t;case 2:return e=hs(805306368&~e),e===0&&(e=268435456),e}throw Error(ne(358,t))}function hs(t){return t&-t}function Mf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-li(e),t[e]=n}var li=Math.clz32?Math.clz32:oE,sE=Math.log,aE=Math.LN2;function oE(t){return t===0?32:31-(sE(t)/aE|0)|0}var uE=Ot.unstable_UserBlockingPriority,lE=Ot.unstable_runWithPriority,Fu=!0;function fE(t,e,n,r){Ci||_d();var i=Sd,s=Ci;Ci=!0;try{py(i,t,e,n,r)}finally{(Ci=s)||wd()}}function cE(t,e,n,r){lE(uE,Sd.bind(null,t,e,n,r))}function Sd(t,e,n,r){if(Fu){var i;if((i=(e&4)===0)&&0<sr.length&&-1<gv.indexOf(t))t=zc(null,t,e,n,r),sr.push(t);else{var s=kd(t,e,n,r);if(s===null)i&&yv(t,r);else{if(i){if(-1<gv.indexOf(t)){t=zc(s,t,e,n,r),sr.push(t);return}if(Q1(s,t,e,n,r))return;yv(t,r)}jy(t,e,r,null,n)}}}}function kd(t,e,n,r){var i=gd(r);if(i=Oi(i),i!==null){var s=Vi(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=my(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return jy(t,e,r,i,n),null}var qr=null,Td=null,Uu=null;function Iy(){if(Uu)return Uu;var t,e=Td,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Uu=i.slice(t,1<r?1-r:void 0)}function ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yu(){return!0}function wv(){return!1}function wn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yu:wv,this.isPropagationStopped=wv,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),e}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cd=wn(Zs),Wo=st({},Zs,{view:0,detail:0}),hE=wn(Wo),Bf,Ff,_a,Ql=st({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Bf=t.screenX-_a.screenX,Ff=t.screenY-_a.screenY):Ff=Bf=0,_a=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:Ff}}),Ev=wn(Ql),dE=st({},Ql,{dataTransfer:0}),pE=wn(dE),vE=st({},Wo,{relatedTarget:0}),Uf=wn(vE),mE=st({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),gE=wn(mE),yE=st({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_E=wn(yE),wE=st({},Zs,{data:0}),bv=wn(wE),EE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xE[t])?!!e[t]:!1}function Od(){return SE}var kE=st({},Wo,{key:function(t){if(t.key){var e=EE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(t){return t.type==="keypress"?ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TE=wn(kE),CE=st({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xv=wn(CE),OE=st({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),IE=wn(OE),RE=st({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),AE=wn(RE),NE=st({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DE=wn(NE),PE=[9,13,27,32],Id=Rr&&"CompositionEvent"in window,Za=null;Rr&&"documentMode"in document&&(Za=document.documentMode);var LE=Rr&&"TextEvent"in window&&!Za,Ry=Rr&&(!Id||Za&&8<Za&&11>=Za),Sv=String.fromCharCode(32),kv=!1;function Ay(t,e){switch(t){case"keyup":return PE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function zE(t,e){switch(t){case"compositionend":return Ny(e);case"keypress":return e.which!==32?null:(kv=!0,Sv);case"textInput":return t=e.data,t===Sv&&kv?null:t;default:return null}}function ME(t,e){if(vs)return t==="compositionend"||!Id&&Ay(t,e)?(t=Iy(),Uu=Td=qr=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ry&&e.locale!=="ko"?null:e.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BE[t.type]:e==="textarea"}function Dy(t,e,n,r){hy(r),e=ll(e,"onChange"),0<e.length&&(n=new Cd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,vo=null;function FE(t){By(t,0)}function Jl(t){var e=gs(t);if(sy(e))return t}function UE(t,e){if(t==="change")return e}var Py=!1;if(Rr){var jf;if(Rr){var Wf="oninput"in document;if(!Wf){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),Wf=typeof Cv.oninput=="function"}jf=Wf}else jf=!1;Py=jf&&(!document.documentMode||9<document.documentMode)}function Ov(){Xa&&(Xa.detachEvent("onpropertychange",Ly),vo=Xa=null)}function Ly(t){if(t.propertyName==="value"&&Jl(vo)){var e=[];if(Dy(e,vo,t,gd(t)),t=FE,Ci)t(e);else{Ci=!0;try{yd(t,e)}finally{Ci=!1,wd()}}}}function jE(t,e,n){t==="focusin"?(Ov(),Xa=e,vo=n,Xa.attachEvent("onpropertychange",Ly)):t==="focusout"&&Ov()}function WE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(vo)}function $E(t,e){if(t==="click")return Jl(e)}function KE(t,e){if(t==="input"||t==="change")return Jl(e)}function HE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:HE,VE=Object.prototype.hasOwnProperty;function mo(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!VE.call(e,n[r])||!Sn(t[n[r]],e[n[r]]))return!1;return!0}function Iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rv(t,e){var n=Iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iv(n)}}function zy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Av(){for(var t=window,e=sl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sl(t.document)}return e}function Mc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qE=Rr&&"documentMode"in document&&11>=document.documentMode,ms=null,Bc=null,Ga=null,Fc=!1;function Nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fc||ms==null||ms!==sl(r)||(r=ms,"selectionStart"in r&&Mc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&mo(Ga,r)||(Ga=r,r=ll(Bc,"onSelect"),0<r.length&&(e=new Cd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}xd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);xd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);xd(tE,2);for(var Dv="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$f=0;$f<Dv.length;$f++)bd.set(Dv[$f],0);Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Pv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X1(r,e,void 0,t),t.currentTarget=null}function By(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;Pv(i,o,l),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,l=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;Pv(i,o,l),s=u}}}if(ol)throw t=Pc,ol=!1,Pc=null,t}function Xe(t,e){var n=$y(e),r=t+"__bubble";n.has(r)||(Uy(e,t,2,!1),n.add(r))}var Lv="_reactListening"+Math.random().toString(36).slice(2);function Fy(t){t[Lv]||(t[Lv]=!0,ny.forEach(function(e){My.has(e)||zv(e,!1,t,null),zv(e,!0,t,null)}))}function zv(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&My.has(t)){if(t!=="scroll")return;i|=2,s=r}var a=$y(s),o=t+"__"+(e?"capture":"bubble");a.has(o)||(e&&(i|=4),Uy(s,t,i,e),a.add(o))}function Uy(t,e,n,r){var i=bd.get(e);switch(i===void 0?2:i){case 0:i=fE;break;case 1:i=cE;break;default:i=Sd}n=i.bind(null,e,n,t),i=void 0,!Dc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jy(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Oi(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}V1(function(){var l=s,f=gd(n),c=[];e:{var p=Cy.get(t);if(p!==void 0){var g=Cd,w=t;switch(t){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":g=TE;break;case"focusin":w="focus",g=Uf;break;case"focusout":w="blur",g=Uf;break;case"beforeblur":case"afterblur":g=Uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=pE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=IE;break;case xy:case Sy:case ky:g=gE;break;case Ty:g=AE;break;case"scroll":g=hE;break;case"wheel":g=DE;break;case"copy":case"cut":case"paste":g=_E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xv}var E=(e&4)!==0,d=!E&&t==="scroll",h=E?p!==null?p+"Capture":null:p;E=[];for(var v=l,y;v!==null;){y=v;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,h!==null&&(b=fo(v,h),b!=null&&E.push(go(v,b,y)))),d)break;v=v.return}0<E.length&&(p=new g(p,w,null,n,f),c.push({event:p,listeners:E}))}}if((e&7)===0){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&(e&16)===0&&(w=n.relatedTarget||n.fromElement)&&(Oi(w)||w[Xs]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=l,w=w?Oi(w):null,w!==null&&(d=Vi(w),w!==d||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=l),g!==w)){if(E=Ev,b="onMouseLeave",h="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=xv,b="onPointerLeave",h="onPointerEnter",v="pointer"),d=g==null?p:gs(g),y=w==null?p:gs(w),p=new E(b,v+"leave",g,n,f),p.target=d,p.relatedTarget=y,b=null,Oi(f)===l&&(E=new E(h,v+"enter",w,n,f),E.target=y,E.relatedTarget=d,b=E),d=b,g&&w)t:{for(E=g,h=w,v=0,y=E;y;y=rs(y))v++;for(y=0,b=h;b;b=rs(b))y++;for(;0<v-y;)E=rs(E),v--;for(;0<y-v;)h=rs(h),y--;for(;v--;){if(E===h||h!==null&&E===h.alternate)break t;E=rs(E),h=rs(h)}E=null}else E=null;g!==null&&Mv(c,p,g,E,!1),w!==null&&d!==null&&Mv(c,d,w,E,!0)}}e:{if(p=l?gs(l):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var _=UE;else if(Tv(p))if(Py)_=KE;else{_=WE;var x=jE}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=$E);if(_&&(_=_(t,l))){Dy(c,_,n,f);break e}x&&x(t,p,l),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&kc(p,"number",p.value)}switch(x=l?gs(l):window,t){case"focusin":(Tv(x)||x.contentEditable==="true")&&(ms=x,Bc=l,Ga=null);break;case"focusout":Ga=Bc=ms=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Nv(c,n,f);break;case"selectionchange":if(qE)break;case"keydown":case"keyup":Nv(c,n,f)}var T;if(Id)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vs?Ay(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Ry&&n.locale!=="ko"&&(vs||I!=="onCompositionStart"?I==="onCompositionEnd"&&vs&&(T=Iy()):(qr=f,Td="value"in qr?qr.value:qr.textContent,vs=!0)),x=ll(l,I),0<x.length&&(I=new bv(I,t,null,n,f),c.push({event:I,listeners:x}),T?I.data=T:(T=Ny(n),T!==null&&(I.data=T)))),(T=LE?zE(t,n):ME(t,n))&&(l=ll(l,"onBeforeInput"),0<l.length&&(f=new bv("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:l}),f.data=T))}By(c,e)})}function go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ll(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fo(t,n),s!=null&&r.unshift(go(t,s,i)),s=fo(t,e),s!=null&&r.push(go(t,s,i))),t=t.return}return r}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mv(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&l!==null&&(o=l,i?(u=fo(n,s),u!=null&&a.unshift(go(n,u,o))):i||(u=fo(n,s),u!=null&&a.push(go(n,u,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function fl(){}var Kf=null,Hf=null;function Wy(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Uc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bv=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0;function Rd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Fv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vf=0;function ZE(t){return{$$typeof:vd,toString:t,valueOf:t}}var ef=Math.random().toString(36).slice(2),Yr="__reactFiber$"+ef,cl="__reactProps$"+ef,Xs="__reactContainer$"+ef,Uv="__reactEvents$"+ef;function Oi(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xs]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fv(t);t!==null;){if(n=t[Yr])return n;t=Fv(t)}return e}t=n,n=t.parentNode}return null}function $o(t){return t=t[Yr]||t[Xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function tf(t){return t[cl]||null}function $y(t){var e=t[Uv];return e===void 0&&(e=t[Uv]=new Set),e}var jc=[],ys=-1;function _i(t){return{current:t}}function Je(t){0>ys||(t.current=jc[ys],jc[ys]=null,ys--)}function ft(t,e){ys++,jc[ys]=t.current,t.current=e}var fi={},$t=_i(fi),on=_i(!1),zi=fi;function Ps(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function hl(){Je(on),Je($t)}function jv(t,e,n){if($t.current!==fi)throw Error(ne(168));ft($t,e),ft(on,n)}function Ky(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,Es(e)||"Unknown",i));return st({},n,r)}function Wu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,zi=$t.current,ft($t,t),ft(on,on.current),!0}function Wv(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=Ky(t,e,zi),r.__reactInternalMemoizedMergedChildContext=t,Je(on),Je($t),ft($t,t)):Je(on),ft(on,n)}var Ad=null,Di=null,XE=Ot.unstable_runWithPriority,Nd=Ot.unstable_scheduleCallback,Wc=Ot.unstable_cancelCallback,GE=Ot.unstable_shouldYield,$v=Ot.unstable_requestPaint,$c=Ot.unstable_now,QE=Ot.unstable_getCurrentPriorityLevel,nf=Ot.unstable_ImmediatePriority,Hy=Ot.unstable_UserBlockingPriority,Vy=Ot.unstable_NormalPriority,qy=Ot.unstable_LowPriority,Yy=Ot.unstable_IdlePriority,qf={},JE=$v!==void 0?$v:function(){},_r=null,$u=null,Yf=!1,Kv=$c(),Ft=1e4>Kv?$c:function(){return $c()-Kv};function Ls(){switch(QE()){case nf:return 99;case Hy:return 98;case Vy:return 97;case qy:return 96;case Yy:return 95;default:throw Error(ne(332))}}function Zy(t){switch(t){case 99:return nf;case 98:return Hy;case 97:return Vy;case 96:return qy;case 95:return Yy;default:throw Error(ne(332))}}function Mi(t,e){return t=Zy(t),XE(t,e)}function yo(t,e,n){return t=Zy(t),Nd(t,e,n)}function cr(){if($u!==null){var t=$u;$u=null,Wc(t)}Xy()}function Xy(){if(!Yf&&_r!==null){Yf=!0;var t=0;try{var e=_r;Mi(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),_r=null}catch(n){throw _r!==null&&(_r=_r.slice(t+1)),Nd(nf,cr),n}finally{Yf=!1}}}var eb=Hi.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var dl=_i(null),pl=null,_s=null,vl=null;function Dd(){vl=_s=pl=null}function Pd(t){var e=dl.current;Je(dl),t.type._context._currentValue=e}function Gy(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Ts(t,e){pl=t,vl=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(qn=!0),t.firstContext=null)}function Rn(t,e){if(vl!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(vl=t,e=1073741823),e={context:t,observedBits:e,next:null},_s===null){if(pl===null)throw Error(ne(308));_s=e,pl.dependencies={lanes:0,firstContext:e,responders:null}}else _s=_s.next=e;return t._currentValue}var Wr=!1;function Ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Qy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Hv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _o(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,l=u.next;u.next=null,a===null?s=l:a.next=l,a=u;var f=t.alternate;if(f!==null){f=f.updateQueue;var c=f.lastBaseUpdate;c!==a&&(c===null?f.firstBaseUpdate=l:c.next=l,f.lastBaseUpdate=u)}}if(s!==null){c=i.baseState,a=0,f=l=u=null;do{o=s.lane;var p=s.eventTime;if((r&o)===o){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,w=s;switch(o=e,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(p,c,o);break e}c=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=w.payload,o=typeof g=="function"?g.call(p,c,o):g,o==null)break e;c=st({},c,o);break e;case 2:Wr=!0}}s.callback!==null&&(t.flags|=32,o=i.effects,o===null?i.effects=[s]:o.push(s))}else p={eventTime:p,lane:o,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(l=f=p,u=c):f=f.next=p,a|=o;if(s=s.next,s===null){if(o=i.shared.pending,o===null)break;s=o.next,o.next=null,i.lastBaseUpdate=o,i.shared.pending=null}}while(1);f===null&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Ho|=a,t.lanes=a,t.memoizedState=c}}function Vv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Jy=new ql.Component().refs;function ml(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rf={isMounted:function(t){return(t=t._reactInternals)?Vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=ri(t),s=ti(r,i);s.payload=e,n!=null&&(s.callback=n),ni(t,s),ii(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=ri(t),s=ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),ni(t,s),ii(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=ri(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),ni(t,i),ii(t,r,n)}};function qv(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!mo(n,r)||!mo(i,s):!0}function e0(t,e,n){var r=!1,i=fi,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=un(e)?zi:$t.current,r=e.contextTypes,s=(r=r!=null)?Ps(t,i):fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Yv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rf.enqueueReplaceState(e,e.state,null)}function Kc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Jy,Ld(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=un(e)?zi:$t.current,i.context=Ps(t,s)),_o(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ml(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rf.enqueueReplaceState(i,i.state,null),_o(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var _u=Array.isArray;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=r.refs;a===Jy&&(a=r.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function wu(t,e){if(t.type!=="textarea")throw Error(ne(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function t0(t){function e(d,h){if(t){var v=d.lastEffect;v!==null?(v.nextEffect=h,d.lastEffect=h):d.firstEffect=d.lastEffect=h,h.nextEffect=null,h.flags=8}}function n(d,h){if(!t)return null;for(;h!==null;)e(d,h),h=h.sibling;return null}function r(d,h){for(d=new Map;h!==null;)h.key!==null?d.set(h.key,h):d.set(h.index,h),h=h.sibling;return d}function i(d,h){return d=hi(d,h),d.index=0,d.sibling=null,d}function s(d,h,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<h?(d.flags=2,h):v):(d.flags=2,h)):h}function a(d){return t&&d.alternate===null&&(d.flags=2),d}function o(d,h,v,y){return h===null||h.tag!==6?(h=Jf(v,d.mode,y),h.return=d,h):(h=i(h,v),h.return=d,h)}function u(d,h,v,y){return h!==null&&h.elementType===v.type?(y=i(h,v.props),y.ref=wa(d,h,v),y.return=d,y):(y=qu(v.type,v.key,v.props,null,d.mode,y),y.ref=wa(d,h,v),y.return=d,y)}function l(d,h,v,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=ec(v,d.mode,y),h.return=d,h):(h=i(h,v.children||[]),h.return=d,h)}function f(d,h,v,y,b){return h===null||h.tag!==7?(h=Rs(v,d.mode,y,b),h.return=d,h):(h=i(h,v),h.return=d,h)}function c(d,h,v){if(typeof h=="string"||typeof h=="number")return h=Jf(""+h,d.mode,v),h.return=d,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case La:return v=qu(h.type,h.key,h.props,null,d.mode,v),v.ref=wa(d,null,h),v.return=d,v;case Ti:return h=ec(h,d.mode,v),h.return=d,h}if(_u(h)||pa(h))return h=Rs(h,d.mode,v,null),h.return=d,h;wu(d,h)}return null}function p(d,h,v,y){var b=h!==null?h.key:null;if(typeof v=="string"||typeof v=="number")return b!==null?null:o(d,h,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case La:return v.key===b?v.type===Hr?f(d,h,v.props.children,y,b):u(d,h,v,y):null;case Ti:return v.key===b?l(d,h,v,y):null}if(_u(v)||pa(v))return b!==null?null:f(d,h,v,y,null);wu(d,v)}return null}function g(d,h,v,y,b){if(typeof y=="string"||typeof y=="number")return d=d.get(v)||null,o(h,d,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case La:return d=d.get(y.key===null?v:y.key)||null,y.type===Hr?f(h,d,y.props.children,b,y.key):u(h,d,y,b);case Ti:return d=d.get(y.key===null?v:y.key)||null,l(h,d,y,b)}if(_u(y)||pa(y))return d=d.get(v)||null,f(h,d,y,b,null);wu(h,y)}return null}function w(d,h,v,y){for(var b=null,_=null,x=h,T=h=0,I=null;x!==null&&T<v.length;T++){x.index>T?(I=x,x=null):I=x.sibling;var A=p(d,x,v[T],y);if(A===null){x===null&&(x=I);break}t&&x&&A.alternate===null&&e(d,x),h=s(A,h,T),_===null?b=A:_.sibling=A,_=A,x=I}if(T===v.length)return n(d,x),b;if(x===null){for(;T<v.length;T++)x=c(d,v[T],y),x!==null&&(h=s(x,h,T),_===null?b=x:_.sibling=x,_=x);return b}for(x=r(d,x);T<v.length;T++)I=g(x,d,T,v[T],y),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?T:I.key),h=s(I,h,T),_===null?b=I:_.sibling=I,_=I);return t&&x.forEach(function(z){return e(d,z)}),b}function E(d,h,v,y){var b=pa(v);if(typeof b!="function")throw Error(ne(150));if(v=b.call(v),v==null)throw Error(ne(151));for(var _=b=null,x=h,T=h=0,I=null,A=v.next();x!==null&&!A.done;T++,A=v.next()){x.index>T?(I=x,x=null):I=x.sibling;var z=p(d,x,A.value,y);if(z===null){x===null&&(x=I);break}t&&x&&z.alternate===null&&e(d,x),h=s(z,h,T),_===null?b=z:_.sibling=z,_=z,x=I}if(A.done)return n(d,x),b;if(x===null){for(;!A.done;T++,A=v.next())A=c(d,A.value,y),A!==null&&(h=s(A,h,T),_===null?b=A:_.sibling=A,_=A);return b}for(x=r(d,x);!A.done;T++,A=v.next())A=g(x,d,T,A.value,y),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?T:A.key),h=s(A,h,T),_===null?b=A:_.sibling=A,_=A);return t&&x.forEach(function(W){return e(d,W)}),b}return function(d,h,v,y){var b=typeof v=="object"&&v!==null&&v.type===Hr&&v.key===null;b&&(v=v.props.children);var _=typeof v=="object"&&v!==null;if(_)switch(v.$$typeof){case La:e:{for(_=v.key,b=h;b!==null;){if(b.key===_){switch(b.tag){case 7:if(v.type===Hr){n(d,b.sibling),h=i(b,v.props.children),h.return=d,d=h;break e}break;default:if(b.elementType===v.type){n(d,b.sibling),h=i(b,v.props),h.ref=wa(d,b,v),h.return=d,d=h;break e}}n(d,b);break}else e(d,b);b=b.sibling}v.type===Hr?(h=Rs(v.props.children,d.mode,y,v.key),h.return=d,d=h):(y=qu(v.type,v.key,v.props,null,d.mode,y),y.ref=wa(d,h,v),y.return=d,d=y)}return a(d);case Ti:e:{for(b=v.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(d,h.sibling),h=i(h,v.children||[]),h.return=d,d=h;break e}else{n(d,h);break}else e(d,h);h=h.sibling}h=ec(v,d.mode,y),h.return=d,d=h}return a(d)}if(typeof v=="string"||typeof v=="number")return v=""+v,h!==null&&h.tag===6?(n(d,h.sibling),h=i(h,v),h.return=d,d=h):(n(d,h),h=Jf(v,d.mode,y),h.return=d,d=h),a(d);if(_u(v))return w(d,h,v,y);if(pa(v))return E(d,h,v,y);if(_&&wu(d,v),typeof v=="undefined"&&!b)switch(d.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ne(152,Es(d.type)||"Component"))}return n(d,h)}}var gl=t0(!0),n0=t0(!1),Ko={},ur=_i(Ko),wo=_i(Ko),Eo=_i(Ko);function Ii(t){if(t===Ko)throw Error(ne(174));return t}function Hc(t,e){switch(ft(Eo,e),ft(wo,t),ft(ur,Ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ic(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ic(e,t)}Je(ur),ft(ur,e)}function zs(){Je(ur),Je(wo),Je(Eo)}function Zv(t){Ii(Eo.current);var e=Ii(ur.current),n=Ic(e,t.type);e!==n&&(ft(wo,t),ft(ur,n))}function zd(t){wo.current===t&&(Je(ur),Je(wo))}var lt=_i(0);function yl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var br=null,Zr=null,lr=!1;function r0(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Vc(t){if(lr){var e=Zr;if(e){var n=e;if(!Xv(t,e)){if(e=ks(n.nextSibling),!e||!Xv(t,e)){t.flags=t.flags&-1025|2,lr=!1,br=t;return}r0(br,n)}br=t,Zr=ks(e.firstChild)}else t.flags=t.flags&-1025|2,lr=!1,br=t}}function Gv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function Eu(t){if(t!==br)return!1;if(!lr)return Gv(t),lr=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Uc(e,t.memoizedProps))for(e=Zr;e;)r0(t,e),e=ks(e.nextSibling);if(Gv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zr=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zr=null}}else Zr=br?ks(t.stateNode.nextSibling):null;return!0}function Zf(){Zr=br=null,lr=!1}var Cs=[];function Md(){for(var t=0;t<Cs.length;t++)Cs[t]._workInProgressVersionPrimary=null;Cs.length=0}var Qa=Hi.ReactCurrentDispatcher,In=Hi.ReactCurrentBatchConfig,bo=0,vt=null,Mt=null,At=null,_l=!1,Ja=!1;function sn(){throw Error(ne(321))}function Bd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function Fd(t,e,n,r,i,s){if(bo=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qa.current=t===null||t.memoizedState===null?nb:rb,t=n(r,i),Ja){s=0;do{if(Ja=!1,!(25>s))throw Error(ne(301));s+=1,At=Mt=null,e.updateQueue=null,Qa.current=ib,t=n(r,i)}while(Ja)}if(Qa.current=xl,e=Mt!==null&&Mt.next!==null,bo=0,At=Mt=vt=null,_l=!1,e)throw Error(ne(300));return t}function Ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?vt.memoizedState=At=t:At=At.next=t,At}function qi(){if(Mt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=At===null?vt.memoizedState:At.next;if(e!==null)At=e,Mt=t;else{if(t===null)throw Error(ne(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},At===null?vt.memoizedState=At=t:At=At.next=t}return At}function ar(t,e){return typeof e=="function"?e(t):e}function Ea(t){var e=qi(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var o=a=s=null,u=i;do{var l=u.lane;if((bo&l)===l)o!==null&&(o=o.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var f={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};o===null?(a=o=f,s=r):o=o.next=f,vt.lanes|=l,Ho|=l}u=u.next}while(u!==null&&u!==i);o===null?s=r:o.next=a,Sn(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=o,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ba(t){var e=qi(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Sn(s,e.memoizedState)||(qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Qv(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(bo&t)===t)&&(e._workInProgressVersionPrimary=r,Cs.push(e))),t)return n(e._source);throw Cs.push(e),Error(ne(350))}function i0(t,e,n,r){var i=Xt;if(i===null)throw Error(ne(349));var s=e._getVersion,a=s(e._source),o=Qa.current,u=o.useState(function(){return Qv(i,e,n)}),l=u[1],f=u[0];u=At;var c=t.memoizedState,p=c.refs,g=p.getSnapshot,w=c.source;c=c.subscribe;var E=vt;return t.memoizedState={refs:p,source:e,subscribe:r},o.useEffect(function(){p.getSnapshot=n,p.setSnapshot=l;var d=s(e._source);if(!Sn(a,d)){d=n(e._source),Sn(f,d)||(l(d),d=ri(E),i.mutableReadLanes|=d&i.pendingLanes),d=i.mutableReadLanes,i.entangledLanes|=d;for(var h=i.entanglements,v=d;0<v;){var y=31-li(v),b=1<<y;h[y]|=d,v&=~b}}},[n,e,r]),o.useEffect(function(){return r(e._source,function(){var d=p.getSnapshot,h=p.setSnapshot;try{h(d(e._source));var v=ri(E);i.mutableReadLanes|=v&i.pendingLanes}catch(y){h(function(){throw y})}})},[e,r]),Sn(g,n)&&Sn(w,e)&&Sn(c,r)||(t={pending:null,dispatch:null,lastRenderedReducer:ar,lastRenderedState:f},t.dispatch=l=Wd.bind(null,vt,t),u.queue=t,u.baseQueue=null,f=Qv(i,e,n),u.memoizedState=u.baseState=f),f}function s0(t,e,n){var r=qi();return i0(r,t,e,n)}function xa(t){var e=Ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},t=t.dispatch=Wd.bind(null,vt,t),[e.memoizedState,t]}function wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jv(t){var e=Ri();return t={current:t},e.memoizedState=t}function El(){return qi().memoizedState}function qc(t,e,n,r){var i=Ri();vt.flags|=t,i.memoizedState=wl(1|e,n,void 0,r===void 0?null:r)}function Ud(t,e,n,r){var i=qi();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var a=Mt.memoizedState;if(s=a.destroy,r!==null&&Bd(r,a.deps)){wl(e,n,s,r);return}}vt.flags|=t,i.memoizedState=wl(1|e,n,s,r)}function em(t,e){return qc(516,4,t,e)}function bl(t,e){return Ud(516,4,t,e)}function a0(t,e){return Ud(4,2,t,e)}function o0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u0(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4,2,o0.bind(null,e,t),n)}function jd(){}function l0(t,e){var n=qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f0(t,e){var n=qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tb(t,e){var n=Ls();Mi(98>n?98:n,function(){t(!0)}),Mi(97<n?97:n,function(){var r=In.transition;In.transition=1;try{t(!1),e()}finally{In.transition=r}})}function Wd(t,e,n){var r=yn(),i=ri(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===vt||a!==null&&a===vt)Ja=_l=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,u=a(o,n);if(s.eagerReducer=a,s.eagerState=u,Sn(u,o))return}catch{}finally{}ii(t,i,r)}}var xl={readContext:Rn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useOpaqueIdentifier:sn,unstable_isNewReconciler:!1},nb={readContext:Rn,useCallback:function(t,e){return Ri().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:em,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qc(4,2,o0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qc(4,2,t,e)},useMemo:function(t,e){var n=Ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Wd.bind(null,vt,t),[r.memoizedState,t]},useRef:Jv,useState:xa,useDebugValue:jd,useDeferredValue:function(t){var e=xa(t),n=e[0],r=e[1];return em(function(){var i=In.transition;In.transition=1;try{r(t)}finally{In.transition=i}},[t]),n},useTransition:function(){var t=xa(!1),e=t[0];return t=tb.bind(null,t[1]),Jv(t),[t,e]},useMutableSource:function(t,e,n){var r=Ri();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},i0(r,t,e,n)},useOpaqueIdentifier:function(){if(lr){var t=!1,e=ZE(function(){throw t||(t=!0,n("r:"+(Vf++).toString(36))),Error(ne(355))}),n=xa(e)[1];return(vt.mode&2)===0&&(vt.flags|=516,wl(5,function(){n("r:"+(Vf++).toString(36))},void 0,null)),e}return e="r:"+(Vf++).toString(36),xa(e),e},unstable_isNewReconciler:!1},rb={readContext:Rn,useCallback:l0,useContext:Rn,useEffect:bl,useImperativeHandle:u0,useLayoutEffect:a0,useMemo:f0,useReducer:Ea,useRef:El,useState:function(){return Ea(ar)},useDebugValue:jd,useDeferredValue:function(t){var e=Ea(ar),n=e[0],r=e[1];return bl(function(){var i=In.transition;In.transition=1;try{r(t)}finally{In.transition=i}},[t]),n},useTransition:function(){var t=Ea(ar)[0];return[El().current,t]},useMutableSource:s0,useOpaqueIdentifier:function(){return Ea(ar)[0]},unstable_isNewReconciler:!1},ib={readContext:Rn,useCallback:l0,useContext:Rn,useEffect:bl,useImperativeHandle:u0,useLayoutEffect:a0,useMemo:f0,useReducer:ba,useRef:El,useState:function(){return ba(ar)},useDebugValue:jd,useDeferredValue:function(t){var e=ba(ar),n=e[0],r=e[1];return bl(function(){var i=In.transition;In.transition=1;try{r(t)}finally{In.transition=i}},[t]),n},useTransition:function(){var t=ba(ar)[0];return[El().current,t]},useMutableSource:s0,useOpaqueIdentifier:function(){return ba(ar)[0]},unstable_isNewReconciler:!1},sb=Hi.ReactCurrentOwner,qn=!1;function an(t,e,n,r){e.child=t===null?n0(e,null,n,r):gl(e,t.child,n,r)}function tm(t,e,n,r,i){n=n.render;var s=e.ref;return Ts(e,i),r=Fd(t,e,n,r,s,i),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,xr(t,e,i)):(e.flags|=1,an(t,e,r,i),e.child)}function nm(t,e,n,r,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Yd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,c0(t,e,a,r,i,s)):(t=qu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,(i&s)===0&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:mo,n(i,r)&&t.ref===e.ref)?xr(t,e,s):(e.flags|=1,t=hi(a,r),t.ref=e.ref,t.return=e,e.child=t)}function c0(t,e,n,r,i,s){if(t!==null&&mo(t.memoizedProps,r)&&t.ref===e.ref)if(qn=!1,(s&i)!==0)(t.flags&16384)!==0&&(qn=!0);else return e.lanes=t.lanes,xr(t,e,s);return Yc(t,e,n,r,s)}function Xf(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},xu(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},xu(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},xu(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xu(e,r);return an(t,e,i,n),e.child}function h0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Yc(t,e,n,r,i){var s=un(n)?zi:$t.current;return s=Ps(e,s),Ts(e,i),n=Fd(t,e,n,r,s,i),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,xr(t,e,i)):(e.flags|=1,an(t,e,n,i),e.child)}function rm(t,e,n,r,i){if(un(n)){var s=!0;Wu(e)}else s=!1;if(Ts(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e0(e,n,r),Kc(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Rn(l):(l=un(n)?zi:$t.current,l=Ps(e,l));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==l)&&Yv(e,a,r,l),Wr=!1;var p=e.memoizedState;a.state=p,_o(e,r,a,i),u=e.memoizedState,o!==r||p!==u||on.current||Wr?(typeof f=="function"&&(ml(e,n,f,r),u=e.memoizedState),(o=Wr||qv(e,n,o,r,p,u,l))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{a=e.stateNode,Qy(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Wn(e.type,o),a.props=l,c=e.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Rn(u):(u=un(n)?zi:$t.current,u=Ps(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==c||p!==u)&&Yv(e,a,r,u),Wr=!1,p=e.memoizedState,a.state=p,_o(e,r,a,i);var w=e.memoizedState;o!==c||p!==w||on.current||Wr?(typeof g=="function"&&(ml(e,n,g,r),w=e.memoizedState),(l=Wr||qv(e,n,l,r,p,w,u))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),r=!1)}return Zc(t,e,n,r,s,i)}function Zc(t,e,n,r,i,s){h0(t,e);var a=(e.flags&64)!==0;if(!r&&!a)return i&&Wv(e,n,!1),xr(t,e,s);r=e.stateNode,sb.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=gl(e,t.child,null,s),e.child=gl(e,null,o,s)):an(t,e,o,s),e.memoizedState=r.state,i&&Wv(e,n,!0),e.child}function im(t){var e=t.stateNode;e.pendingContext?jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jv(t,e.context,!1),Hc(t,e.containerInfo)}var bu={dehydrated:null,retryLane:0};function sm(t,e,n){var r=e.pendingProps,i=lt.current,s=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ft(lt,i&1),t===null?(r.fallback!==void 0&&Vc(e),t=r.children,i=r.fallback,s?(t=am(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=bu,t):typeof r.unstable_expectedLoadTime=="number"?(t=am(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=bu,e.lanes=33554432,t):(n=Zd({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=um(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=bu,r):(n=om(t,e,r.children,n),e.memoizedState=null,n):s?(r=um(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=bu,r):(n=om(t,e,r.children,n),e.memoizedState=null,n)}function am(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Zd(e,i,0,null),n=Rs(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function om(t,e,n,r){var i=t.child;return t=i.sibling,n=hi(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function um(t,e,n,r,i){var s=e.mode,a=t.child;t=a.sibling;var o={mode:"hidden",children:n};return(s&2)===0&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=o,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=hi(a,o),t!==null?r=hi(t,r):(r=Rs(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function lm(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gy(t.return,e)}function Gf(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function fm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=lt.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lm(t,n);else if(t.tag===19)lm(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(lt,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gf(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gf(e,!0,n,null,s,e.lastEffect);break;case"together":Gf(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ho|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var d0,Xc,p0,v0;d0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xc=function(){};p0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ii(ur.current);var s=null;switch(n){case"input":i=xc(t,i),r=xc(t,r),s=[];break;case"option":i=Tc(t,i),r=Tc(t,r),s=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),s=[];break;case"textarea":i=Cc(t,i),r=Cc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fl)}Rc(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(uo.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(o=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(uo.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Xe("scroll",t),s||o===u||(s=[])):typeof u=="object"&&u!==null&&u.$$typeof===vd?u.toString():(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};v0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sa(t,e){if(!lr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ab(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return un(e.type)&&hl(),null;case 3:return zs(),Je(on),Je($t),Md(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eu(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Xc(e),null;case 5:zd(e);var i=Ii(Eo.current);if(n=e.type,t!==null&&e.stateNode!=null)p0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return null}if(t=Ii(ur.current),Eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[cl]=s,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(t=0;t<Ma.length;t++)Xe(Ma[t],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":fv(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":hv(r,s),Xe("invalid",r)}Rc(n,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):uo.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Xe("scroll",r));switch(n){case"input":vu(r),cv(r,s,!0);break;case"textarea":vu(r),dv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fl)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===Oc.html&&(t=uy(n)),t===Oc.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Yr]=e,t[cl]=r,d0(t,e,!1,!1),e.stateNode=t,a=Ac(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ma.length;i++)Xe(Ma[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":fv(t,r),i=xc(t,r),Xe("invalid",t);break;case"option":i=Tc(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":hv(t,r),i=Cc(t,r),Xe("invalid",t);break;default:i=r}Rc(n,i);var o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?cy(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ly(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&lo(t,u):typeof u=="number"&&lo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Xe("scroll",t):u!=null&&ld(t,s,u,a))}switch(n){case"input":vu(t),cv(t,r,!1);break;case"textarea":vu(t),dv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fl)}Wy(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)v0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));n=Ii(Eo.current),Ii(ur.current),Eu(e)?(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r)}return null;case 13:return Je(lt),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Eu(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(lt.current&1)!==0?Nt===0&&(Nt=3):((Nt===0||Nt===3)&&(Nt=4),Xt===null||(Ho&134217727)===0&&(Qs&134217727)===0||Os(Xt,jt))),(r||n)&&(e.flags|=4),null);case 4:return zs(),Xc(e),t===null&&Fy(e.stateNode.containerInfo),null;case 10:return Pd(e),null;case 17:return un(e.type)&&hl(),null;case 19:if(Je(lt),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,a=r.rendering,a===null)if(s)Sa(r,!1);else{if(Nt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(a=yl(t),a!==null){for(e.flags|=64,Sa(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(lt,lt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ft()>nh&&(e.flags|=64,s=!0,Sa(r,!1),e.lanes=33554432)}else{if(!s)if(t=yl(a),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!lr)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ft()-r.renderingStartTime>nh&&n!==1073741824&&(e.flags|=64,s=!0,Sa(r,!1),e.lanes=33554432);r.isBackwards?(a.sibling=e.child,e.child=a):(n=r.last,n!==null?n.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ft(),n.sibling=null,e=lt.current,ft(lt,s?e&1|2:e&1),n):null;case 23:case 24:return qd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ne(156,e.tag))}function ob(t){switch(t.tag){case 1:un(t.type)&&hl();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(zs(),Je(on),Je($t),Md(),e=t.flags,(e&64)!==0)throw Error(ne(285));return t.flags=e&-4097|64,t;case 5:return zd(t),null;case 13:return Je(lt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Je(lt),null;case 4:return zs(),null;case 10:return Pd(t),null;case 23:case 24:return qd(),null;default:return null}}function $d(t,e){try{var n="",r=e;do n+=j1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Gc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ub=typeof WeakMap=="function"?WeakMap:Map;function m0(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kl||(kl=!0,rh=r),Gc(t,e)},n}function g0(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return Gc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(or===null?or=new Set([this]):or.add(this),Gc(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var lb=typeof WeakSet=="function"?WeakSet:Set;function cm(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){si(t,n)}else e.current=null}function fb(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Wn(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Rd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ne(163))}function cb(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(T0(n,t),_b(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Wn(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Vv(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Vv(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Wy(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Ey(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ne(163))}function hm(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=fy("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function dm(t,e){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Ad,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)T0(e,n);else{r=e;try{i()}catch(s){si(r,s)}}n=n.next}while(n!==t)}break;case 1:if(cm(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){si(e,s)}break;case 5:cm(e);break;case 4:y0(t,e)}}function pm(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function vm(t){return t.tag===5||t.tag===3||t.tag===4}function mm(t){e:{for(var e=t.return;e!==null;){if(vm(e))break e;e=e.return}throw Error(ne(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(ne(161))}n.flags&16&&(lo(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||vm(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Qc(t,n,e):Jc(t,n,e)}function Qc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fl));else if(r!==4&&(t=t.child,t!==null))for(Qc(t,e,n),t=t.sibling;t!==null;)Qc(t,e,n),t=t.sibling}function Jc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jc(t,e,n),t=t.sibling;t!==null;)Jc(t,e,n),t=t.sibling}function y0(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(ne(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=t,o=n,u=o;;)if(dm(a,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(a=i,o=n.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(dm(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Qf(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[cl]=r,t==="input"&&r.type==="radio"&&r.name!=null&&ay(n,r),Ac(t,i),e=Ac(t,r),i=0;i<s.length;i+=2){var a=s[i],o=s[i+1];a==="style"?cy(n,o):a==="dangerouslySetInnerHTML"?ly(n,o):a==="children"?lo(n,o):ld(n,a,o,e)}switch(t){case"input":Sc(n,r);break;case"textarea":oy(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?bs(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?bs(n,!!r.multiple,r.defaultValue,!0):bs(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ne(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Ey(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Vd=Ft(),hm(e.child,!0)),gm(e);return;case 19:gm(e);return;case 17:return;case 23:case 24:hm(e,e.memoizedState!==null);return}throw Error(ne(163))}function gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lb),e.forEach(function(r){var i=bb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hb(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var db=Math.ceil,Sl=Hi.ReactCurrentDispatcher,Kd=Hi.ReactCurrentOwner,be=0,Xt=null,xt=null,jt=0,Bi=0,eh=_i(0),Nt=0,sf=null,Gs=0,Ho=0,Qs=0,Hd=0,th=null,Vd=0,nh=1/0;function Js(){nh=Ft()+500}var ve=null,kl=!1,rh=null,or=null,ci=!1,eo=null,Ba=90,ih=[],sh=[],Tr=null,to=0,ah=null,Ku=-1,wr=0,Hu=0,no=null,Vu=!1;function yn(){return(be&48)!==0?Ft():Ku!==-1?Ku:Ku=Ft()}function ri(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Ls()===99?1:2;if(wr===0&&(wr=Gs),eb.transition!==0){Hu!==0&&(Hu=th!==null?th.pendingLanes:0),t=wr;var e=4186112&~Hu;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ls(),(be&4)!==0&&t===98?t=ul(12,wr):(t=rE(t),t=ul(t,wr)),t}function ii(t,e,n){if(50<to)throw to=0,ah=null,Error(ne(185));if(t=af(t,e),t===null)return null;Gl(t,e,n),t===Xt&&(Qs|=e,Nt===4&&Os(t,jt));var r=Ls();e===1?(be&8)!==0&&(be&48)===0?oh(t):(An(t,n),be===0&&(Js(),cr())):((be&4)===0||r!==98&&r!==99||(Tr===null?Tr=new Set([t]):Tr.add(t)),An(t,n)),th=t}function af(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function An(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-li(a),u=1<<o,l=s[o];if(l===-1){if((u&r)===0||(u&i)!==0){l=e,cs(u);var f=qe;s[o]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=e&&(t.expiredLanes|=u);a&=~u}if(r=po(t,t===Xt?jt:0),e=qe,r===0)n!==null&&(n!==qf&&Wc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==qf&&Wc(n)}e===15?(n=oh.bind(null,t),_r===null?(_r=[n],$u=Nd(nf,Xy)):_r.push(n),n=qf):e===14?n=yo(99,oh.bind(null,t)):(n=iE(e),n=yo(n,_0.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function _0(t){if(Ku=-1,Hu=wr=0,(be&48)!==0)throw Error(ne(327));var e=t.callbackNode;if(wi()&&t.callbackNode!==e)return null;var n=po(t,t===Xt?jt:0);if(n===0)return null;var r=n,i=be;be|=16;var s=x0();(Xt!==t||jt!==r)&&(Js(),Is(t,r));do try{mb();break}catch(o){b0(t,o)}while(1);if(Dd(),Sl.current=s,be=i,xt!==null?r=0:(Xt=null,jt=0,r=Nt),(Gs&Qs)!==0)Is(t,0);else if(r!==0){if(r===2&&(be|=64,t.hydrate&&(t.hydrate=!1,Rd(t.containerInfo)),n=Oy(t),n!==0&&(r=Fa(t,n))),r===1)throw e=sf,Is(t,0),Os(t,n),An(t,Ft()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(ne(345));case 2:xi(t);break;case 3:if(Os(t,n),(n&62914560)===n&&(r=Vd+500-Ft(),10<r)){if(po(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bv(xi.bind(null,t),r);break}xi(t);break;case 4:if(Os(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-li(n);s=1<<a,a=r[a],a>i&&(i=a),n&=~s}if(n=i,n=Ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*db(n/1960))-n,10<n){t.timeoutHandle=Bv(xi.bind(null,t),n);break}xi(t);break;case 5:xi(t);break;default:throw Error(ne(329))}}return An(t,Ft()),t.callbackNode===e?_0.bind(null,t):null}function Os(t,e){for(e&=~Hd,e&=~Qs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function oh(t){if((be&48)!==0)throw Error(ne(327));if(wi(),t===Xt&&(t.expiredLanes&jt)!==0){var e=jt,n=Fa(t,e);(Gs&Qs)!==0&&(e=po(t,e),n=Fa(t,e))}else e=po(t,0),n=Fa(t,e);if(t.tag!==0&&n===2&&(be|=64,t.hydrate&&(t.hydrate=!1,Rd(t.containerInfo)),e=Oy(t),e!==0&&(n=Fa(t,e))),n===1)throw n=sf,Is(t,0),Os(t,e),An(t,Ft()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t),An(t,Ft()),null}function pb(){if(Tr!==null){var t=Tr;Tr=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,An(e,Ft())})}cr()}function w0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Js(),cr())}}function E0(t,e){var n=be;be&=-2,be|=8;try{return t(e)}finally{be=n,be===0&&(Js(),cr())}}function xu(t,e){ft(eh,Bi),Bi|=e,Gs|=e}function qd(){Bi=eh.current,Je(eh)}function Is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YE(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&hl();break;case 3:zs(),Je(on),Je($t),Md();break;case 5:zd(r);break;case 4:zs();break;case 13:Je(lt);break;case 19:Je(lt);break;case 10:Pd(r);break;case 23:case 24:qd()}n=n.return}Xt=t,xt=hi(t.current,null),jt=Bi=Gs=e,Nt=0,sf=null,Hd=Qs=Ho=0}function b0(t,e){do{var n=xt;try{if(Dd(),Qa.current=xl,_l){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_l=!1}if(bo=0,At=Mt=vt=null,Ja=!1,Kd.current=null,n===null||n.return===null){Nt=1,sf=e,xt=null;break}e:{var s=t,a=n.return,o=n,u=e;if(e=jt,o.flags|=2048,o.firstEffect=o.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if((o.mode&2)===0){var f=o.alternate;f?(o.updateQueue=f.updateQueue,o.memoizedState=f.memoizedState,o.lanes=f.lanes):(o.updateQueue=null,o.memoizedState=null)}var c=(lt.current&1)!==0,p=a;do{var g;if(g=p.tag===13){var w=p.memoizedState;if(w!==null)g=w.dehydrated!==null;else{var E=p.memoizedProps;g=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!c}}if(g){var d=p.updateQueue;if(d===null){var h=new Set;h.add(l),p.updateQueue=h}else d.add(l);if((p.mode&2)===0){if(p.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var v=ti(-1,1);v.tag=2,ni(o,v)}o.lanes|=1;break e}u=void 0,o=e;var y=s.pingCache;if(y===null?(y=s.pingCache=new ub,u=new Set,y.set(l,u)):(u=y.get(l),u===void 0&&(u=new Set,y.set(l,u))),!u.has(o)){u.add(o);var b=Eb.bind(null,s,l,o);l.then(b,b)}p.flags|=4096,p.lanes=e;break e}p=p.return}while(p!==null);u=Error((Es(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Nt!==5&&(Nt=2),u=$d(u,o),p=a;do{switch(p.tag){case 3:s=u,p.flags|=4096,e&=-e,p.lanes|=e;var _=m0(p,s,e);Hv(p,_);break e;case 1:s=u;var x=p.type,T=p.stateNode;if((p.flags&64)===0&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(or===null||!or.has(T)))){p.flags|=4096,e&=-e,p.lanes|=e;var I=g0(p,s,e);Hv(p,I);break e}}p=p.return}while(p!==null)}k0(n)}catch(A){e=A,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(1)}function x0(){var t=Sl.current;return Sl.current=xl,t===null?xl:t}function Fa(t,e){var n=be;be|=16;var r=x0();Xt===t&&jt===e||Is(t,e);do try{vb();break}catch(i){b0(t,i)}while(1);if(Dd(),be=n,Sl.current=r,xt!==null)throw Error(ne(261));return Xt=null,jt=0,Nt}function vb(){for(;xt!==null;)S0(xt)}function mb(){for(;xt!==null&&!GE();)S0(xt)}function S0(t){var e=C0(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?k0(t):xt=e,Kd.current=null}function k0(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=ab(n,e,Bi),n!==null){xt=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Bi&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=ob(e),n!==null){n.flags&=2047,xt=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Nt===0&&(Nt=5)}function xi(t){var e=Ls();return Mi(99,gb.bind(null,t,e)),null}function gb(t,e){do wi();while(eo!==null);if((be&48)!==0)throw Error(ne(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,o=t.expirationTimes;0<s;){var u=31-li(s),l=1<<u;i[u]=0,a[u]=-1,o[u]=-1,s&=~l}if(Tr!==null&&(r&24)===0&&Tr.has(t)&&Tr.delete(t),t===Xt&&(xt=Xt=null,jt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=be,be|=32,Kd.current=null,Kf=Fu,a=Av(),Mc(a)){if("selectionStart"in a)o={start:a.selectionStart,end:a.selectionEnd};else e:if(o=(o=a.ownerDocument)&&o.defaultView||window,(l=o.getSelection&&o.getSelection())&&l.rangeCount!==0){o=l.anchorNode,s=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{o.nodeType,u.nodeType}catch{o=null;break e}var f=0,c=-1,p=-1,g=0,w=0,E=a,d=null;t:for(;;){for(var h;E!==o||s!==0&&E.nodeType!==3||(c=f+s),E!==u||l!==0&&E.nodeType!==3||(p=f+l),E.nodeType===3&&(f+=E.nodeValue.length),(h=E.firstChild)!==null;)d=E,E=h;for(;;){if(E===a)break t;if(d===o&&++g===s&&(c=f),d===u&&++w===l&&(p=f),(h=E.nextSibling)!==null)break;E=d,d=E.parentNode}E=h}o=c===-1||p===-1?null:{start:c,end:p}}else o=null;o=o||{start:0,end:0}}else o=null;Hf={focusedElem:a,selectionRange:o},Fu=!1,no=null,Vu=!1,ve=r;do try{yb()}catch(A){if(ve===null)throw Error(ne(330));si(ve,A),ve=ve.nextEffect}while(ve!==null);no=null,ve=r;do try{for(a=t;ve!==null;){var v=ve.flags;if(v&16&&lo(ve.stateNode,""),v&128){var y=ve.alternate;if(y!==null){var b=y.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(v&1038){case 2:mm(ve),ve.flags&=-3;break;case 6:mm(ve),ve.flags&=-3,Qf(ve.alternate,ve);break;case 1024:ve.flags&=-1025;break;case 1028:ve.flags&=-1025,Qf(ve.alternate,ve);break;case 4:Qf(ve.alternate,ve);break;case 8:o=ve,y0(a,o);var _=o.alternate;pm(o),_!==null&&pm(_)}ve=ve.nextEffect}}catch(A){if(ve===null)throw Error(ne(330));si(ve,A),ve=ve.nextEffect}while(ve!==null);if(b=Hf,y=Av(),v=b.focusedElem,a=b.selectionRange,y!==v&&v&&v.ownerDocument&&zy(v.ownerDocument.documentElement,v)){for(a!==null&&Mc(v)&&(y=a.start,b=a.end,b===void 0&&(b=y),"selectionStart"in v?(v.selectionStart=y,v.selectionEnd=Math.min(b,v.value.length)):(b=(y=v.ownerDocument||document)&&y.defaultView||window,b.getSelection&&(b=b.getSelection(),o=v.textContent.length,_=Math.min(a.start,o),a=a.end===void 0?_:Math.min(a.end,o),!b.extend&&_>a&&(o=a,a=_,_=o),o=Rv(v,_),s=Rv(v,a),o&&s&&(b.rangeCount!==1||b.anchorNode!==o.node||b.anchorOffset!==o.offset||b.focusNode!==s.node||b.focusOffset!==s.offset)&&(y=y.createRange(),y.setStart(o.node,o.offset),b.removeAllRanges(),_>a?(b.addRange(y),b.extend(s.node,s.offset)):(y.setEnd(s.node,s.offset),b.addRange(y)))))),y=[],b=v;b=b.parentNode;)b.nodeType===1&&y.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<y.length;v++)b=y[v],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}Fu=!!Kf,Hf=Kf=null,t.current=n,ve=r;do try{for(v=t;ve!==null;){var x=ve.flags;if(x&36&&cb(v,ve.alternate,ve),x&128){y=void 0;var T=ve.ref;if(T!==null){var I=ve.stateNode;switch(ve.tag){case 5:y=I;break;default:y=I}typeof T=="function"?T(y):T.current=y}}ve=ve.nextEffect}}catch(A){if(ve===null)throw Error(ne(330));si(ve,A),ve=ve.nextEffect}while(ve!==null);ve=null,JE(),be=i}else t.current=n;if(ci)ci=!1,eo=t,Ba=e;else for(ve=r;ve!==null;)e=ve.nextEffect,ve.nextEffect=null,ve.flags&8&&(x=ve,x.sibling=null,x.stateNode=null),ve=e;if(r=t.pendingLanes,r===0&&(or=null),r===1?t===ah?to++:(to=0,ah=t):to=0,n=n.stateNode,Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Ad,n,void 0,(n.current.flags&64)===64)}catch{}if(An(t,Ft()),kl)throw kl=!1,t=rh,rh=null,t;return(be&8)!==0||cr(),null}function yb(){for(;ve!==null;){var t=ve.alternate;Vu||no===null||((ve.flags&8)!==0?mv(ve,no)&&(Vu=!0):ve.tag===13&&hb(t,ve)&&mv(ve,no)&&(Vu=!0));var e=ve.flags;(e&256)!==0&&fb(t,ve),(e&512)===0||ci||(ci=!0,yo(97,function(){return wi(),null})),ve=ve.nextEffect}}function wi(){if(Ba!==90){var t=97<Ba?97:Ba;return Ba=90,Mi(t,wb)}return!1}function _b(t,e){ih.push(e,t),ci||(ci=!0,yo(97,function(){return wi(),null}))}function T0(t,e){sh.push(e,t),ci||(ci=!0,yo(97,function(){return wi(),null}))}function wb(){if(eo===null)return!1;var t=eo;if(eo=null,(be&48)!==0)throw Error(ne(331));var e=be;be|=32;var n=sh;sh=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(u){if(s===null)throw Error(ne(330));si(s,u)}}for(n=ih,ih=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var o=i.create;i.destroy=o()}catch(u){if(s===null)throw Error(ne(330));si(s,u)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return be=e,cr(),!0}function ym(t,e,n){e=$d(n,e),e=m0(t,e,1),ni(t,e),e=yn(),t=af(t,1),t!==null&&(Gl(t,1,e),An(t,e))}function si(t,e){if(t.tag===3)ym(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){ym(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(or===null||!or.has(r))){t=$d(e,t);var i=g0(n,t,1);if(ni(n,i),i=yn(),n=af(n,1),n!==null)Gl(n,1,i),An(n,i);else if(typeof r.componentDidCatch=="function"&&(or===null||!or.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Eb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(jt&n)===n&&(Nt===4||Nt===3&&(jt&62914560)===jt&&500>Ft()-Vd?Is(t,0):Hd|=n),An(t,e)}function bb(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Ls()===99?1:2:(wr===0&&(wr=Gs),e=hs(62914560&~wr),e===0&&(e=4194304))),n=yn(),t=af(t,e),t!==null&&(Gl(t,e,n),An(t,n))}var C0;C0=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)qn=!0;else if((n&r)!==0)qn=(t.flags&16384)!==0;else{switch(qn=!1,e.tag){case 3:im(e),Zf();break;case 5:Zv(e);break;case 1:un(e.type)&&Wu(e);break;case 4:Hc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ft(dl,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?sm(t,e,n):(ft(lt,lt.current&1),e=xr(t,e,n),e!==null?e.sibling:null);ft(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return fm(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(lt,lt.current),r)break;return null;case 23:case 24:return e.lanes=0,Xf(t,e,n)}return xr(t,e,n)}else qn=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Ps(e,$t.current),Ts(e,n),i=Fd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)){var s=!0;Wu(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ld(e);var a=r.getDerivedStateFromProps;typeof a=="function"&&ml(e,r,a,t),i.updater=rf,e.stateNode=i,i._reactInternals=e,Kc(e,r,t,n),e=Zc(null,e,r,!0,s,n)}else e.tag=0,an(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Sb(i),t=Wn(i,t),s){case 0:e=Yc(null,e,i,t,n);break e;case 1:e=rm(null,e,i,t,n);break e;case 11:e=tm(null,e,i,t,n);break e;case 14:e=nm(null,e,i,Wn(i.type,t),r,n);break e}throw Error(ne(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Yc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),rm(t,e,r,i,n);case 3:if(im(e),r=e.updateQueue,t===null||r===null)throw Error(ne(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Qy(t,e),_o(e,r,null,n),r=e.memoizedState.element,r===i)Zf(),e=xr(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Zr=ks(e.stateNode.containerInfo.firstChild),br=e,s=lr=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Cs.push(s);for(n=n0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else an(t,e,r,n),Zf();e=e.child}return e;case 5:return Zv(e),t===null&&Vc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Uc(r,i)?a=null:s!==null&&Uc(r,s)&&(e.flags|=16),h0(t,e),an(t,e,a,n),e.child;case 6:return t===null&&Vc(e),null;case 13:return sm(t,e,n);case 4:return Hc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gl(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),tm(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value;var o=e.type._context;if(ft(dl,o._currentValue),o._currentValue=s,a!==null)if(o=a.value,s=Sn(o,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(o,s):1073741823)|0,s===0){if(a.children===i.children&&!on.current){e=xr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var l=u.firstContext;l!==null;){if(l.context===r&&(l.observedBits&s)!==0){o.tag===1&&(l=ti(-1,n&-n),l.tag=2,ni(o,l)),o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gy(o.return,n),u.lanes|=n;break}l=l.next}}else a=o.tag===10&&o.type===e.type?null:o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Ts(e,n),i=Rn(i,s.unstable_observedBits),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return i=e.type,s=Wn(i,e.pendingProps),s=Wn(i.type,s),nm(t,e,i,s,r,n);case 15:return c0(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,un(r)?(t=!0,Wu(e)):t=!1,Ts(e,n),e0(e,r,i),Kc(e,r,i,n),Zc(null,e,r,!0,t,n);case 19:return fm(t,e,n);case 23:return Xf(t,e,n);case 24:return Xf(t,e,n)}throw Error(ne(156,e.tag))};function xb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new xb(t,e,n,r)}function Yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sb(t){if(typeof t=="function")return Yd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yl)return 11;if(t===Zl)return 14}return 2}function hi(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Yd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Hr:return Rs(n.children,i,s,e);case ry:a=8,i|=16;break;case fd:a=8,i|=1;break;case Ha:return t=kn(12,n,e,i|8),t.elementType=Ha,t.type=Ha,t.lanes=s,t;case Va:return t=kn(13,n,e,i),t.type=Va,t.elementType=Va,t.lanes=s,t;case il:return t=kn(19,n,e,i),t.elementType=il,t.lanes=s,t;case md:return Zd(n,i,s,e);case bc:return t=kn(24,n,e,i),t.elementType=bc,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cd:a=10;break e;case hd:a=9;break e;case Yl:a=11;break e;case Zl:a=14;break e;case dd:a=16,r=null;break e;case pd:a=22;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=kn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Rs(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Zd(t,e,n,r){return t=kn(23,t,r,e),t.elementType=md,t.lanes=n,t}function Jf(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function ec(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kb(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.mutableSourceEagerHydrationData=null}function Tb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tl(t,e,n,r){var i=e.current,s=yn(),a=ri(i);e:if(n){n=n._reactInternals;t:{if(Vi(n)!==n||n.tag!==1)throw Error(ne(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(ne(171))}if(n.tag===1){var u=n.type;if(un(u)){n=Ky(n,u,o);break e}}n=o}else n=fi;return e.context===null?e.context=n:e.pendingContext=n,e=ti(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),ni(i,e),ii(i,a,s),a}function tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _m(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xd(t,e){_m(t,e),(t=t.alternate)&&_m(t,e)}function Cb(){return null}function Gd(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new kb(t,e,n!=null&&n.hydrate===!0),e=kn(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Ld(e),t[Xs]=n.current,Fy(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Gd.prototype.render=function(t){Tl(t,this._internalRoot,null,null)};Gd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Tl(null,t,null,function(){e[Xs]=null})};function Vo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ob(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Gd(t,0,e?{hydrate:!0}:void 0)}function of(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var o=i;i=function(){var l=tc(a);o.call(l)}}Tl(e,a,t,i)}else{if(s=n._reactRootContainer=Ob(n,r),a=s._internalRoot,typeof i=="function"){var u=i;i=function(){var l=tc(a);u.call(l)}}E0(function(){Tl(e,a,t,i)})}return tc(a)}yy=function(t){if(t.tag===13){var e=yn();ii(t,4,e),Xd(t,4)}};Ed=function(t){if(t.tag===13){var e=yn();ii(t,67108864,e),Xd(t,67108864)}};_y=function(t){if(t.tag===13){var e=yn(),n=ri(t);ii(t,n,e),Xd(t,n)}};wy=function(t,e){return e()};Nc=function(t,e,n){switch(e){case"input":if(Sc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tf(r);if(!i)throw Error(ne(90));sy(r),Sc(r,i)}}}break;case"textarea":oy(t,n);break;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}};yd=w0;py=function(t,e,n,r,i){var s=be;be|=4;try{return Mi(98,t.bind(null,e,n,r,i))}finally{be=s,be===0&&(Js(),cr())}};_d=function(){(be&49)===0&&(pb(),wi())};vy=function(t,e){var n=be;be|=2;try{return t(e)}finally{be=n,be===0&&(Js(),cr())}};function O0(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(e))throw Error(ne(200));return Tb(t,e,null,n)}var Ib={Events:[$o,gs,tf,hy,dy,wi,{current:!1}]},ka={findFiberByHostInstance:Oi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Rb={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gy(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||Cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Ad=Su.inject(Rb),Di=Su}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ib;Dn.createPortal=O0;Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):Error(ne(268,Object.keys(t)));return t=gy(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t,e){var n=be;if((n&48)!==0)return t(e);be|=1;try{if(t)return Mi(99,t.bind(null,e))}finally{be=n,cr()}};Dn.hydrate=function(t,e,n){if(!Vo(e))throw Error(ne(200));return of(null,t,e,!0,n)};Dn.render=function(t,e,n){if(!Vo(e))throw Error(ne(200));return of(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Vo(t))throw Error(ne(40));return t._reactRootContainer?(E0(function(){of(null,null,t,!1,function(){t._reactRootContainer=null,t[Xs]=null})}),!0):!1};Dn.unstable_batchedUpdates=w0;Dn.unstable_createPortal=function(t,e){return O0(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vo(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return of(t,e,n,!1,r)};Dn.version="17.0.2";function I0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I0)}catch(t){console.error(t)}}I0(),z1.exports=Dn;function Cl(){return Cl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var Ai,Qd=Ai||(Ai={});Qd.Pop="POP";Qd.Push="PUSH";Qd.Replace="REPLACE";var wm=function(t){return t};function Em(t){t.preventDefault(),t.returnValue=""}function bm(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(n){return n!==e})}},call:function(e){t.forEach(function(n){return n&&n(e)})}}}function Ab(){return Math.random().toString(36).substr(2,8)}function uh(t){var e=t.pathname;e=e===void 0?"/":e;var n=t.search;return n=n===void 0?"":n,t=t.hash,t=t===void 0?"":t,n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Yi(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),n=t.indexOf("?"),0<=n&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Nb(t){function e(){var d=u.location,h=l.state||{};return[h.idx,wm({pathname:d.pathname,search:d.search,hash:d.hash,state:h.usr||null,key:h.key||"default"})]}function n(d){return typeof d=="string"?d:uh(d)}function r(d,h){return h===void 0&&(h=null),wm(Cl({pathname:g.pathname,hash:"",search:""},typeof d=="string"?Yi(d):d,{state:h,key:Ab()}))}function i(d){c=d,d=e(),p=d[0],g=d[1],w.call({action:c,location:g})}function s(d,h){function v(){s(d,h)}var y=Ai.Push,b=r(d,h);if(!E.length||(E.call({action:y,location:b,retry:v}),!1)){var _=[{usr:b.state,key:b.key,idx:p+1},n(b)];b=_[0],_=_[1];try{l.pushState(b,"",_)}catch{u.location.assign(_)}i(y)}}function a(d,h){function v(){a(d,h)}var y=Ai.Replace,b=r(d,h);E.length&&(E.call({action:y,location:b,retry:v}),1)||(b=[{usr:b.state,key:b.key,idx:p},n(b)],l.replaceState(b[0],"",b[1]),i(y))}function o(d){l.go(d)}t===void 0&&(t={}),t=t.window;var u=t===void 0?document.defaultView:t,l=u.history,f=null;u.addEventListener("popstate",function(){if(f)E.call(f),f=null;else{var d=Ai.Pop,h=e(),v=h[0];if(h=h[1],E.length){if(v!=null){var y=p-v;y&&(f={action:d,location:h,retry:function(){o(-1*y)}},o(y))}}else i(d)}});var c=Ai.Pop;t=e();var p=t[0],g=t[1],w=bm(),E=bm();return p==null&&(p=0,l.replaceState(Cl({},l.state,{idx:p}),"")),{get action(){return c},get location(){return g},createHref:n,push:s,replace:a,go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(d){return w.push(d)},block:function(d){var h=E.push(d);return E.length===1&&u.addEventListener("beforeunload",Em),function(){h(),E.length||u.removeEventListener("beforeunload",Em)}}}}/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fr(t,e){if(!t)throw new Error(e)}const Jd=Se.exports.createContext(null),ep=Se.exports.createContext(null),ea=Se.exports.createContext({outlet:null,matches:[]});function Db(t){return Bb(t.context)}function Pb(t){fr(!1)}function Lb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ai.Pop,navigator:s,static:a=!1}=t;qo()&&fr(!1);let o=ix(e),u=Se.exports.useMemo(()=>({basename:o,navigator:s,static:a}),[o,s,a]);typeof r=="string"&&(r=Yi(r));let{pathname:l="/",search:f="",hash:c="",state:p=null,key:g="default"}=r,w=Se.exports.useMemo(()=>{let E=P0(l,o);return E==null?null:{pathname:E,search:f,hash:c,state:p,key:g}},[o,l,f,c,p,g]);return w==null?null:Se.exports.createElement(Jd.Provider,{value:u},Se.exports.createElement(ep.Provider,{children:n,value:{location:w,navigationType:i}}))}function YO(t){let{children:e,location:n}=t;return Fb(lh(e),n)}function zb(t){qo()||fr(!1);let{basename:e,navigator:n}=Se.exports.useContext(Jd),{hash:r,pathname:i,search:s}=A0(t),a=i;if(e!=="/"){let o=rx(t),u=o!=null&&o.endsWith("/");a=i==="/"?e+(u?"/":""):ai([e,i])}return n.createHref({pathname:a,search:s,hash:r})}function qo(){return Se.exports.useContext(ep)!=null}function Yo(){return qo()||fr(!1),Se.exports.useContext(ep).location}function R0(){qo()||fr(!1);let{basename:t,navigator:e}=Se.exports.useContext(Jd),{matches:n}=Se.exports.useContext(ea),{pathname:r}=Yo(),i=JSON.stringify(n.map(o=>o.pathnameBase)),s=Se.exports.useRef(!1);return Se.exports.useEffect(()=>{s.current=!0}),Se.exports.useCallback(function(o,u){if(u===void 0&&(u={}),!s.current)return;if(typeof o=="number"){e.go(o);return}let l=D0(o,JSON.parse(i),r);t!=="/"&&(l.pathname=ai([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state)},[t,e,i,r])}const Mb=Se.exports.createContext(null);function Bb(t){let e=Se.exports.useContext(ea).outlet;return e&&Se.exports.createElement(Mb.Provider,{value:t},e)}function ZO(){let{matches:t}=Se.exports.useContext(ea),e=t[t.length-1];return e?e.params:{}}function A0(t){let{matches:e}=Se.exports.useContext(ea),{pathname:n}=Yo(),r=JSON.stringify(e.map(i=>i.pathnameBase));return Se.exports.useMemo(()=>D0(t,JSON.parse(r),n),[t,r,n])}function Fb(t,e){qo()||fr(!1);let{matches:n}=Se.exports.useContext(ea),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let a=Yo(),o;if(e){var u;let p=typeof e=="string"?Yi(e):e;s==="/"||((u=p.pathname)==null?void 0:u.startsWith(s))||fr(!1),o=p}else o=a;let l=o.pathname||"/",f=s==="/"?l:l.slice(s.length)||"/",c=Ub(t,{pathname:f});return Gb(c&&c.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:ai([s,p.pathname]),pathnameBase:p.pathnameBase==="/"?s:ai([s,p.pathnameBase])})),n)}function lh(t){let e=[];return Se.exports.Children.forEach(t,n=>{if(!Se.exports.isValidElement(n))return;if(n.type===Se.exports.Fragment){e.push.apply(e,lh(n.props.children));return}n.type!==Pb&&fr(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=lh(n.props.children)),e.push(r)}),e}function Ub(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Yi(e):e,i=P0(r.pathname||"/",n);if(i==null)return null;let s=N0(t);jb(s);let a=null;for(let o=0;a==null&&o<s.length;++o)a=Xb(s[o],i);return a}function N0(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let a={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||fr(!1),a.relativePath=a.relativePath.slice(r.length));let o=ai([r,a.relativePath]),u=n.concat(a);i.children&&i.children.length>0&&(i.index===!0&&fr(!1),N0(i.children,e,u,o)),!(i.path==null&&!i.index)&&e.push({path:o,score:Yb(o,i.index),routesMeta:u})}),e}function jb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Zb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wb=/^:\w+$/,$b=3,Kb=2,Hb=1,Vb=10,qb=-2,xm=t=>t==="*";function Yb(t,e){let n=t.split("/"),r=n.length;return n.some(xm)&&(r+=qb),e&&(r+=Kb),n.filter(i=>!xm(i)).reduce((i,s)=>i+(Wb.test(s)?$b:s===""?Hb:Vb),r)}function Zb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Xb(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let o=n[a],u=a===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",f=Qb({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},l);if(!f)return null;Object.assign(r,f.params);let c=o.route;s.push({params:r,pathname:ai([i,f.pathname]),pathnameBase:ai([i,f.pathnameBase]),route:c}),f.pathnameBase!=="/"&&(i=ai([i,f.pathnameBase]))}return s}function Gb(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>Se.exports.createElement(ea.Provider,{children:r.route.element!==void 0?r.route.element:Se.exports.createElement(Db,null),value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function Qb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Jb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((l,f,c)=>{if(f==="*"){let p=o[c]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return l[f]=ex(o[c]||""),l},{}),pathname:s,pathnameBase:a,pattern:t}}function Jb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,o)=>(r.push(o),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function ex(t,e){try{return decodeURIComponent(t)}catch{return t}}function tx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yi(t):t;return{pathname:n?n.startsWith("/")?n:nx(n,e):e,search:sx(r),hash:ax(i)}}function nx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function D0(t,e,n){let r=typeof t=="string"?Yi(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let o=e.length-1;if(i.startsWith("..")){let u=i.split("/");for(;u[0]==="..";)u.shift(),o-=1;r.pathname=u.join("/")}s=o>=0?e[o]:"/"}let a=tx(r,s);return i&&i!=="/"&&i.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function rx(t){return t===""||t.pathname===""?"/":typeof t=="string"?Yi(t).pathname:t.pathname}function P0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),ix=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ax=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function ox(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const ux=["onClick","reloadDocument","replace","state","target","to"];function XO(t){let{basename:e,children:n,window:r}=t,i=Se.exports.useRef();i.current==null&&(i.current=Nb({window:r}));let s=i.current,[a,o]=Se.exports.useState({action:s.action,location:s.location});return Se.exports.useLayoutEffect(()=>s.listen(o),[s]),Se.exports.createElement(Lb,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}function lx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const GO=Se.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:a,target:o,to:u}=e,l=ox(e,ux),f=zb(u),c=fx(u,{replace:s,state:a,target:o});function p(g){r&&r(g),!g.defaultPrevented&&!i&&c(g)}return Se.exports.createElement("a",fh({},l,{href:f,onClick:p,ref:n,target:o}))});function fx(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=R0(),a=Yo(),o=A0(t);return Se.exports.useCallback(u=>{if(u.button===0&&(!n||n==="_self")&&!lx(u)){u.preventDefault();let l=!!r||uh(a)===uh(o);s(t,{replace:l,state:i})}},[a,s,o,r,i,n,t])}function QO(t){let e=Se.exports.useRef(nc(t)),n=Yo(),r=Se.exports.useMemo(()=>{let a=nc(n.search);for(let o of e.current.keys())a.has(o)||e.current.getAll(o).forEach(u=>{a.append(o,u)});return a},[n.search]),i=R0(),s=Se.exports.useCallback((a,o)=>{i("?"+nc(a),o)},[i]);return[r,s]}function nc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}var ch={exports:{}},L0={exports:{}},cx=void 0,z0=function(t){return t!==cx&&t!==null},hx=z0,dx={object:!0,function:!0,undefined:!0},px=function(t){return hx(t)?hasOwnProperty.call(dx,typeof t):!1},vx=px,mx=function(t){if(!vx(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},gx=mx,yx=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!gx(t)},_x=yx,wx=/^\s*class[\s{/}]/,Ex=Function.prototype.toString,bx=function(t){return!(!_x(t)||wx.test(Ex.call(t)))},xx=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},Sx=function(){try{return Object.keys("primitive"),!0}catch{return!1}},kx=function(){},Tx=kx(),tp=function(t){return t!==Tx&&t!==null},Cx=tp,Ox=Object.keys,Ix=function(t){return Ox(Cx(t)?Object(t):t)},Rx=Sx()?Object.keys:Ix,Ax=tp,Nx=function(t){if(!Ax(t))throw new TypeError("Cannot use null or undefined");return t},Dx=Rx,Px=Nx,Lx=Math.max,zx=function(t,e){var n,r,i=Lx(arguments.length,2),s;for(t=Object(Px(t)),s=function(a){try{t[a]=e[a]}catch(o){n||(n=o)}},r=1;r<i;++r)e=arguments[r],Dx(e).forEach(s);if(n!==void 0)throw n;return t},Mx=xx()?Object.assign:zx,Bx=tp,Fx=Array.prototype.forEach,Ux=Object.create,jx=function(t,e){var n;for(n in t)e[n]=t[n]},Wx=function(t){var e=Ux(null);return Fx.call(arguments,function(n){!Bx(n)||jx(Object(n),e)}),e},rc="razdwatrzy",$x=function(){return typeof rc.contains!="function"?!1:rc.contains("dwa")===!0&&rc.contains("foo")===!1},Kx=String.prototype.indexOf,Hx=function(t){return Kx.call(this,t,arguments[1])>-1},Vx=$x()?String.prototype.contains:Hx,Yu=z0,Sm=bx,M0=Mx,B0=Wx,ro=Vx,qx=L0.exports=function(t,e){var n,r,i,s,a;return arguments.length<2||typeof t!="string"?(s=e,e=t,t=null):s=arguments[2],Yu(t)?(n=ro.call(t,"c"),r=ro.call(t,"e"),i=ro.call(t,"w")):(n=i=!0,r=!1),a={value:e,configurable:n,enumerable:r,writable:i},s?M0(B0(s),a):a};qx.gs=function(t,e,n){var r,i,s,a;return typeof t!="string"?(s=n,n=e,e=t,t=null):s=arguments[3],Yu(e)?Sm(e)?Yu(n)?Sm(n)||(s=n,n=void 0):n=void 0:(s=e,e=n=void 0):e=void 0,Yu(t)?(r=ro.call(t,"c"),i=ro.call(t,"e")):(r=!0,i=!1),a={get:e,set:n,configurable:r,enumerable:i},s?M0(B0(s),a):a};var Yx=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,e){var n=L0.exports,r=Yx,i=Function.prototype.apply,s=Function.prototype.call,a=Object.create,o=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,f={configurable:!0,enumerable:!1,writable:!0},c,p,g,w,E,d,h;c=function(v,y){var b;return r(y),l.call(this,"__ee__")?b=this.__ee__:(b=f.value=a(null),o(this,"__ee__",f),f.value=null),b[v]?typeof b[v]=="object"?b[v].push(y):b[v]=[b[v],y]:b[v]=y,this},p=function(v,y){var b,_;return r(y),_=this,c.call(this,v,b=function(){g.call(_,v,b),i.call(y,this,arguments)}),b.__eeOnceListener__=y,this},g=function(v,y){var b,_,x,T;if(r(y),!l.call(this,"__ee__"))return this;if(b=this.__ee__,!b[v])return this;if(_=b[v],typeof _=="object")for(T=0;x=_[T];++T)(x===y||x.__eeOnceListener__===y)&&(_.length===2?b[v]=_[T?0:1]:_.splice(T,1));else(_===y||_.__eeOnceListener__===y)&&delete b[v];return this},w=function(v){var y,b,_,x,T;if(!!l.call(this,"__ee__")&&(x=this.__ee__[v],!!x))if(typeof x=="object"){for(b=arguments.length,T=new Array(b-1),y=1;y<b;++y)T[y-1]=arguments[y];for(x=x.slice(),y=0;_=x[y];++y)i.call(_,this,T)}else switch(arguments.length){case 1:s.call(x,this);break;case 2:s.call(x,this,arguments[1]);break;case 3:s.call(x,this,arguments[1],arguments[2]);break;default:for(b=arguments.length,T=new Array(b-1),y=1;y<b;++y)T[y-1]=arguments[y];i.call(x,this,T)}},E={on:c,once:p,off:g,emit:w},d={on:n(c),once:n(p),off:n(g),emit:n(w)},h=u({},d),t.exports=e=function(v){return v==null?a(h):u(Object(v),d)},e.methods=E})(ch,ch.exports);var hr=ch.exports,Ei={},Zi={};function np(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var F0=np({HTML:"text/html",isHTML:function(t){return t===F0.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),U0=np({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===U0.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Zi.freeze=np;Zi.MIME_TYPE=F0;Zi.NAMESPACE=U0;var Zx=Zi,xo=Zx.NAMESPACE;function Xx(t){return t!==""}function Gx(t){return t?t.split(/[\t\n\f\r ]+/).filter(Xx):[]}function Qx(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function km(t){if(!t)return[];var e=Gx(t);return Object.keys(e.reduce(Qx,{}))}function Jx(t){return function(e){return t&&t.indexOf(e)!==-1}}function Zo(t,e){for(var n in t)e[n]=t[n]}function dn(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,Zo(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var pn={},Yn=pn.ELEMENT_NODE=1,Ms=pn.ATTRIBUTE_NODE=2,Ol=pn.TEXT_NODE=3,j0=pn.CDATA_SECTION_NODE=4,W0=pn.ENTITY_REFERENCE_NODE=5,eS=pn.ENTITY_NODE=6,$0=pn.PROCESSING_INSTRUCTION_NODE=7,K0=pn.COMMENT_NODE=8,H0=pn.DOCUMENT_NODE=9,V0=pn.DOCUMENT_TYPE_NODE=10,Ar=pn.DOCUMENT_FRAGMENT_NODE=11,tS=pn.NOTATION_NODE=12,Kt={},It={};Kt.INDEX_SIZE_ERR=(It[1]="Index size error",1);Kt.DOMSTRING_SIZE_ERR=(It[2]="DOMString size error",2);var nS=Kt.HIERARCHY_REQUEST_ERR=(It[3]="Hierarchy request error",3);Kt.WRONG_DOCUMENT_ERR=(It[4]="Wrong document",4);Kt.INVALID_CHARACTER_ERR=(It[5]="Invalid character",5);Kt.NO_DATA_ALLOWED_ERR=(It[6]="No data allowed",6);Kt.NO_MODIFICATION_ALLOWED_ERR=(It[7]="No modification allowed",7);var rS=Kt.NOT_FOUND_ERR=(It[8]="Not found",8);Kt.NOT_SUPPORTED_ERR=(It[9]="Not supported",9);var Tm=Kt.INUSE_ATTRIBUTE_ERR=(It[10]="Attribute in use",10);Kt.INVALID_STATE_ERR=(It[11]="Invalid state",11);Kt.SYNTAX_ERR=(It[12]="Syntax error",12);Kt.INVALID_MODIFICATION_ERR=(It[13]="Invalid modification",13);Kt.NAMESPACE_ERR=(It[14]="Invalid namespace",14);Kt.INVALID_ACCESS_ERR=(It[15]="Invalid access",15);function Fi(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,It[t]),this.message=It[t],Error.captureStackTrace&&Error.captureStackTrace(this,Fi);return n.code=t,e&&(this.message=this.message+": "+e),n}Fi.prototype=Error.prototype;Zo(Kt,Fi);function Cr(){}Cr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)ws(this[r],n,t,e);return n.join("")}};function Bs(t,e){this._node=t,this._refresh=e,rp(this)}function rp(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);i_(t,"length",n.length),Zo(n,t),t._inc=e}}Bs.prototype.item=function(t){return rp(this),this[t]};dn(Bs,Cr);function Il(){}function q0(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function Cm(t,e,n,r){if(r?e[q0(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&X0(i,t,r),iS(i,t,n))}}function Om(t,e,n){var r=q0(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(X0(s,t,n),n.ownerElement=null)}}else throw Fi(rS,new Error(t.tagName+"@"+n))}Il.prototype={length:0,item:Cr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Fi(Tm);var n=this.getNamedItem(t.nodeName);return Cm(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new Fi(Tm);return n=this.getNamedItemNS(t.namespaceURI,t.localName),Cm(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return Om(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return Om(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function Y0(){}Y0.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new Xo;if(r.implementation=this,r.childNodes=new Cr,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new uf;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function Ht(){}Ht.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Q0(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return G0(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return hh(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Ol&&t.nodeType==Ol?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(n[r]==t)return r}e=e.nodeType==Ms?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Ms?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Z0(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Zo(pn,Ht);Zo(pn,Ht.prototype);function So(t,e){if(e(t))return!0;if(t=t.firstChild)do if(So(t,e))return!0;while(t=t.nextSibling)}function Xo(){}function iS(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===xo.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function X0(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===xo.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function ip(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s}}}function G0(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,ip(t.ownerDocument,t),e}function Q0(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Ar){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var a=n?n.previousSibling:t.lastChild;i.previousSibling=a,s.nextSibling=n,a?a.nextSibling=i:t.firstChild=i,n==null?t.lastChild=s:n.previousSibling=s;do i.parentNode=t;while(i!==s&&(i=i.nextSibling));return ip(t.ownerDocument||t,t),e.nodeType==Ar&&(e.firstChild=e.lastChild=null),e}function sS(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,ip(t.ownerDocument,t,e),e}Xo.prototype={nodeName:"#document",nodeType:H0,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ar){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return this.documentElement==null&&t.nodeType==Yn&&(this.documentElement=t),Q0(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),G0(this,t)},importNode:function(t,e){return r_(this,t,e)},getElementById:function(t){var e=null;return So(this.documentElement,function(n){if(n.nodeType==Yn&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=km(t);return new Bs(this,function(n){var r=[];return e.length>0&&So(n.documentElement,function(i){if(i!==n&&i.nodeType===Yn){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=km(s);a=e.every(Jx(o))}a&&r.push(i)}}}),r})},createElement:function(t){var e=new Ui;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Cr;var n=e.attributes=new Il;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new lf;return t.ownerDocument=this,t.childNodes=new Cr,t},createTextNode:function(t){var e=new sp;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new ap;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new op;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new lp;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Rl;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new up;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Ui,r=e.split(":"),i=n.attributes=new Il;return n.childNodes=new Cr,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Rl,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};dn(Xo,Ht);function Ui(){this._nsMap={}}Ui.prototype={nodeType:Yn,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ar?this.insertBefore(t,null):sS(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Bs(this,function(e){var n=[];return So(e,function(r){r!==e&&r.nodeType==Yn&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new Bs(this,function(n){var r=[];return So(n,function(i){i!==n&&i.nodeType===Yn&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};Xo.prototype.getElementsByTagName=Ui.prototype.getElementsByTagName;Xo.prototype.getElementsByTagNameNS=Ui.prototype.getElementsByTagNameNS;dn(Ui,Ht);function Rl(){}Rl.prototype.nodeType=Ms;dn(Rl,Ht);function Go(){}Go.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(It[nS])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};dn(Go,Ht);function sp(){}sp.prototype={nodeName:"#text",nodeType:Ol,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};dn(sp,Go);function ap(){}ap.prototype={nodeName:"#comment",nodeType:K0};dn(ap,Go);function op(){}op.prototype={nodeName:"#cdata-section",nodeType:j0};dn(op,Go);function uf(){}uf.prototype.nodeType=V0;dn(uf,Ht);function J0(){}J0.prototype.nodeType=tS;dn(J0,Ht);function e_(){}e_.prototype.nodeType=eS;dn(e_,Ht);function up(){}up.prototype.nodeType=W0;dn(up,Ht);function lf(){}lf.prototype.nodeName="#document-fragment";lf.prototype.nodeType=Ar;dn(lf,Ht);function lp(){}lp.prototype.nodeType=$0;dn(lp,Ht);function t_(){}t_.prototype.serializeToString=function(t,e,n){return n_.call(t,e,n)};Ht.prototype.toString=n_;function n_(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return ws(this,n,t,e,a),n.join("")}function Im(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===xo.XML||i===xo.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===r)return a.namespace!==i}return!0}function ic(t,e,n){t.push(" ",e,'="',n.replace(/[<&"]/g,Z0),'"')}function ws(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Yn:var s=t.attributes,a=s.length,h=t.firstChild,o=t.tagName;n=xo.isHTML(t.namespaceURI)||n;var u=o;if(!n&&!t.prefix&&t.namespaceURI){for(var l,f=0;f<s.length;f++)if(s.item(f).name==="xmlns"){l=s.item(f).value;break}if(!l)for(var c=i.length-1;c>=0;c--){var p=i[c];if(p.prefix===""&&p.namespace===t.namespaceURI){l=p.namespace;break}}if(l!==t.namespaceURI)for(var c=i.length-1;c>=0;c--){var p=i[c];if(p.namespace===t.namespaceURI){p.prefix&&(u=p.prefix+":"+o);break}}}e.push("<",u);for(var g=0;g<a;g++){var w=s.item(g);w.prefix=="xmlns"?i.push({prefix:w.localName,namespace:w.value}):w.nodeName=="xmlns"&&i.push({prefix:"",namespace:w.value})}for(var g=0;g<a;g++){var w=s.item(g);if(Im(w,n,i)){var E=w.prefix||"",d=w.namespaceURI;ic(e,E?"xmlns:"+E:"xmlns",d),i.push({prefix:E,namespace:d})}ws(w,e,n,r,i)}if(o===u&&Im(t,n,i)){var E=t.prefix||"",d=t.namespaceURI;ic(e,E?"xmlns:"+E:"xmlns",d),i.push({prefix:E,namespace:d})}if(h||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;h;)h.data?e.push(h.data):ws(h,e,n,r,i.slice()),h=h.nextSibling;else for(;h;)ws(h,e,n,r,i.slice()),h=h.nextSibling;e.push("</",u,">")}else e.push("/>");return;case H0:case Ar:for(var h=t.firstChild;h;)ws(h,e,n,r,i.slice()),h=h.nextSibling;return;case Ms:return ic(e,t.name,t.value);case Ol:return e.push(t.data.replace(/[<&]/g,Z0).replace(/]]>/g,"]]&gt;"));case j0:return e.push("<![CDATA[",t.data,"]]>");case K0:return e.push("<!--",t.data,"-->");case V0:var v=t.publicId,y=t.systemId;if(e.push("<!DOCTYPE ",t.name),v)e.push(" PUBLIC ",v),y&&y!="."&&e.push(" ",y),e.push(">");else if(y&&y!=".")e.push(" SYSTEM ",y,">");else{var b=t.internalSubset;b&&e.push(" [",b,"]"),e.push(">")}return;case $0:return e.push("<?",t.target," ",t.data,"?>");case W0:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function r_(t,e,n){var r;switch(e.nodeType){case Yn:r=e.cloneNode(!1),r.ownerDocument=t;case Ar:break;case Ms:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(r_(t,i,n)),i=i.nextSibling;return r}function hh(t,e,n){var r=new e.constructor;for(var i in e){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new Cr),r.ownerDocument=t,r.nodeType){case Yn:var a=e.attributes,o=r.attributes=new Il,u=a.length;o._ownerElement=r;for(var l=0;l<u;l++)r.setAttributeNode(hh(t,a.item(l),!0));break;case Ms:n=!0}if(n)for(var f=e.firstChild;f;)r.appendChild(hh(t,f,n)),f=f.nextSibling;return r}function i_(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Yn:case Ar:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(Bs.prototype,"length",{get:function(){return rp(this),this.$$length}}),Object.defineProperty(Ht.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Yn:case Ar:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),i_=function(e,n,r){e["$$"+n]=r}}}catch{}Ei.DocumentType=uf;Ei.DOMException=Fi;Ei.DOMImplementation=Y0;Ei.Element=Ui;Ei.Node=Ht;Ei.NodeList=Cr;Ei.XMLSerializer=t_;var Qo={},s_={};(function(t){var e=Zi.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(s_);var fp={},ko=Zi.NAMESPACE,dh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Rm=new RegExp("[\\-\\.0-9"+dh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Am=new RegExp("^"+dh.source+Rm.source+"*(?::"+dh.source+Rm.source+"*)?$"),Ta=0,Ur=1,is=2,Ca=3,ss=4,as=5,Oa=6,ku=7;function Fs(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Fs)}Fs.prototype=new Error;Fs.prototype.name=Fs.name;function a_(){}a_.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),o_(e,e={}),aS(t,e,n,r,this.errorHandler),r.endDocument()}};function aS(t,e,n,r,i){function s(ie){if(ie>65535){ie-=65536;var se=55296+(ie>>10),ae=56320+(ie&1023);return String.fromCharCode(se,ae)}else return String.fromCharCode(ie)}function a(ie){var se=ie.slice(1,-1);return se in n?n[se]:se.charAt(0)==="#"?s(parseInt(se.substr(1).replace("x","0x"))):(i.error("entity not found:"+ie),ie)}function o(ie){if(ie>E){var se=t.substring(E,ie).replace(/&#?\w+;/g,a);p&&u(E),r.characters(se,0,ie-E),E=ie}}function u(ie,se){for(;ie>=f&&(se=c.exec(t));)l=se.index,f=l+se[0].length,p.lineNumber++;p.columnNumber=ie-l+1}for(var l=0,f=0,c=/.*(?:\r\n?|\n)|.*$/g,p=r.locator,g=[{currentNSMap:e}],w={},E=0;;){try{var d=t.indexOf("<",E);if(d<0){if(!t.substr(E).match(/^\s*$/)){var h=r.doc,v=h.createTextNode(t.substr(E));h.appendChild(v),r.currentElement=v}return}switch(d>E&&o(d),t.charAt(d+1)){case"/":var W=t.indexOf(">",d+3),y=t.substring(d+2,W).replace(/[ \t\n\r]+$/g,""),b=g.pop();W<0?(y=t.substring(d+2).replace(/[\s<].*/,""),i.error("end tag name: "+y+" is not complete:"+b.tagName),W=d+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),i.error("end tag name: "+y+" maybe not complete"),W=d+1+y.length);var _=b.localNSMap,x=b.tagName==y,T=x||b.tagName&&b.tagName.toLowerCase()==y.toLowerCase();if(T){if(r.endElement(b.uri,b.localName,y),_)for(var I in _)r.endPrefixMapping(I);x||i.fatalError("end tag name: "+y+" is not match the current start tagName:"+b.tagName)}else g.push(b);W++;break;case"?":p&&u(d),W=cS(t,d,r);break;case"!":p&&u(d),W=fS(t,d,r,i);break;default:p&&u(d);var A=new u_,z=g[g.length-1].currentNSMap,W=oS(t,d,A,z,a,i),F=A.length;if(!A.closed&&lS(t,W,A.tagName,w)&&(A.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),p&&F){for(var H=Nm(p,{}),fe=0;fe<F;fe++){var X=A[fe];u(X.offset),X.locator=Nm(p,{})}r.locator=H,Dm(A,r,z)&&g.push(A),r.locator=p}else Dm(A,r,z)&&g.push(A);ko.isHTML(A.uri)&&!A.closed?W=uS(t,W,A.tagName,a,r):W++}}catch(ie){if(ie instanceof Fs)throw ie;i.error("element parse error: "+ie),W=-1}W>E?E=W:o(Math.max(d,E)+1)}}function Nm(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function oS(t,e,n,r,i,s){function a(p,g,w){n.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),n.addValue(p,g,w)}for(var o,u,l=++e,f=Ta;;){var c=t.charAt(l);switch(c){case"=":if(f===Ur)o=t.slice(e,l),f=Ca;else if(f===is)f=Ca;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Ca||f===Ur)if(f===Ur&&(s.warning('attribute value must after "="'),o=t.slice(e,l)),e=l+1,l=t.indexOf(c,e),l>0)u=t.slice(e,l).replace(/&#?\w+;/g,i),a(o,u,e-1),f=as;else throw new Error("attribute value no end '"+c+"' match");else if(f==ss)u=t.slice(e,l).replace(/&#?\w+;/g,i),a(o,u,e),s.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=l+1,f=as;else throw new Error('attribute value must after "="');break;case"/":switch(f){case Ta:n.setTagName(t.slice(e,l));case as:case Oa:case ku:f=ku,n.closed=!0;case ss:case Ur:case is:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==Ta&&n.setTagName(t.slice(e,l)),l;case">":switch(f){case Ta:n.setTagName(t.slice(e,l));case as:case Oa:case ku:break;case ss:case Ur:u=t.slice(e,l),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case is:f===is&&(u=o),f==ss?(s.warning('attribute "'+u+'" missed quot(")!'),a(o,u.replace(/&#?\w+;/g,i),e)):((!ko.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case Ca:throw new Error("attribute value missed!!")}return l;case"\x80":c=" ";default:if(c<=" ")switch(f){case Ta:n.setTagName(t.slice(e,l)),f=Oa;break;case Ur:o=t.slice(e,l),f=is;break;case ss:var u=t.slice(e,l).replace(/&#?\w+;/g,i);s.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,e);case as:f=Oa;break}else switch(f){case is:n.tagName,(!ko.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=l,f=Ur;break;case as:s.warning('attribute space is required"'+o+'"!!');case Oa:f=Ur,e=l;break;case Ca:f=ss,e=l;break;case ku:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function Dm(t,e,n){for(var r=t.tagName,i=null,c=t.length;c--;){var s=t[c],a=s.qName,o=s.value,p=a.indexOf(":");if(p>0)var u=s.prefix=a.slice(0,p),l=a.slice(p+1),f=u==="xmlns"&&l;else l=a,u=null,f=a==="xmlns"&&"";s.localName=l,f!==!1&&(i==null&&(i={},o_(n,n={})),n[f]=i[f]=o,s.uri=ko.XMLNS,e.startPrefixMapping(f,o))}for(var c=t.length;c--;){s=t[c];var u=s.prefix;u&&(u==="xml"&&(s.uri=ko.XML),u!=="xmlns"&&(s.uri=n[u||""]))}var p=r.indexOf(":");p>0?(u=t.prefix=r.slice(0,p),l=t.localName=r.slice(p+1)):(u=null,l=t.localName=r);var g=t.uri=n[u||""];if(e.startElement(g,l,r,t),t.closed){if(e.endElement(g,l,r),i)for(u in i)e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=i,!0}function uS(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),s)}return e+1}function lS(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function o_(t,e){for(var n in t)e[n]=t[n]}function fS(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=hS(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],l=!1,f=!1;o>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],f=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(f=a[3][0]));var c=a[o-1];return n.startDTD(u,l,f),n.endDTD(),c.index+c[0].length}}return-1}function cS(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function u_(){this.attributeNames={}}u_.prototype={setTagName:function(t){if(!Am.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!Am.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function hS(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}fp.XMLReader=a_;fp.ParseError=Fs;var dS=Zi,cp=Ei,Pm=s_,l_=fp,pS=cp.DOMImplementation,Lm=dS.NAMESPACE,vS=l_.ParseError,mS=l_.XMLReader;function f_(t){this.options=t||{locator:{}}}f_.prototype.parseFromString=function(t,e){var n=this.options,r=new mS,i=n.domBuilder||new Jo,s=n.errorHandler,a=n.locator,o=n.xmlns||{},u=/\/x?html?$/.test(e),l=u?Pm.HTML_ENTITIES:Pm.XML_ENTITIES;return a&&i.setDocumentLocator(a),r.errorHandler=gS(s,i,a),r.domBuilder=n.domBuilder||i,u&&(o[""]=Lm.HTML),o.xml=o.xml||Lm.XML,t&&typeof t=="string"?r.parse(t,o,l):r.errorHandler.error("invalid doc source"),i.doc};function gS(t,e,n){if(!t){if(e instanceof Jo)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(u){t(a,u)}:t),r[a]=o&&function(u){o("[xmldom "+a+"]	"+u+ph(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Jo(){this.cdata=!1}function os(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Jo.prototype={startDocument:function(){this.doc=new pS().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),a=r.length;Tu(this,s),this.currentElement=s,this.locator&&os(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),u=r.getValue(o),n=r.getQName(o),l=i.createAttributeNS(t,n);this.locator&&os(r.getLocator(o),l),l.value=l.nodeValue=u,s.setAttributeNode(l)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&os(this.locator,n),Tu(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=zm.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&os(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=zm.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&os(this.locator,r),Tu(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&os(this.locator,i),Tu(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,ph(this.locator))},error:function(t){console.error("[xmldom error]	"+t,ph(this.locator))},fatalError:function(t){throw new vS(t,this.locator)}};function ph(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function zm(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Jo.prototype[t]=function(){return null}});function Tu(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Qo.__DOMHandler=Jo;Qo.DOMParser=f_;Qo.DOMImplementation=cp.DOMImplementation;Qo.XMLSerializer=cp.XMLSerializer;var c_=Qo.DOMParser;const h_=typeof window!="undefined"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,yS=1,d_=typeof URL!="undefined"?URL:typeof window!="undefined"?window.URL||window.webkitURL||window.mozURL:void 0;function hp(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?r:r&7|8).toString(16)});return e}function _S(t){return!!(t&&t.nodeType==1)}function pt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function wS(t){let e=parseFloat(t);return pt(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function Ia(t){var e=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=t.toLowerCase(),i=e.length;if(typeof document=="undefined"||typeof document.body.style[r]!="undefined")return t;for(var s=0;s<i;s++)if(typeof document.body.style[n[s]+r]!="undefined")return n[s]+r;return t}function ES(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)t[i]===void 0&&(t[i]=r[i])}return t}function Wt(t){var e=[].slice.call(arguments,1);return e.forEach(function(n){!n||Object.getOwnPropertyNames(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}),t}function Al(t,e,n,r,i){var s=r||0,a=i||e.length,o=parseInt(s+(a-s)/2),u;return n||(n=function(l,f){if(l>f)return 1;if(l<f)return-1;if(l==f)return 0}),a-s<=0?o:(u=n(e[o],t),a-s===1?u>=0?o:o+1:u===0?o:u===-1?Al(t,e,n,o,a):Al(t,e,n,s,o))}function vh(t,e,n,r,i){var s=r||0,a=i||e.length,o=parseInt(s+(a-s)/2),u;return n||(n=function(l,f){if(l>f)return 1;if(l<f)return-1;if(l==f)return 0}),a-s<=0?-1:(u=n(e[o],t),a-s===1?u===0?o:-1:u===0?o:u===-1?vh(t,e,n,o,a):vh(t,e,n,s,o))}function sc(t){var e=window.getComputedStyle(t),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return n.forEach(function(a){i+=parseFloat(e[a])||0}),r.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:i}}function mh(t){var e=window.getComputedStyle(t),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return n.forEach(function(a){i+=parseFloat(e[a])||0}),r.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:i}}function Mm(t){let e,n=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(t),e=r.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function gh(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function bS(t,e){for(var n=t.parentNode,r=n.childNodes,i,s=-1,a=0;a<r.length&&(i=r[a],i.nodeType===e&&s++,i!=t);a++);return s}function xS(t){return bS(t,yS)}function Nl(t){return["xml","opf","ncx"].indexOf(t)>-1}function SS(t,e){return new Blob([t],{type:e})}function yh(t,e){var n,r=SS(t,e);return n=d_.createObjectURL(r),n}function kS(t){return d_.revokeObjectURL(t)}function Bm(t,e){var n,r;if(typeof t=="string")return n=btoa(t),r="data:"+e+";base64,"+n,r}function TS(t){return Object.prototype.toString.call(t).slice(8,-1)}function Or(t,e,n){var r,i;return typeof DOMParser=="undefined"||n?i=c_:i=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),r=new i().parseFromString(t,e),r}function Ze(t,e){var n;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector!="undefined")return t.querySelector(e);if(n=t.getElementsByTagName(e),n.length)return n[0]}function di(t,e){return typeof t.querySelector!="undefined"?t.querySelectorAll(e):t.getElementsByTagName(e)}function Ra(t,e,n){var r,i;if(typeof t.querySelector!="undefined"){e+="[";for(var s in n)e+=s+"~='"+n[s]+"'";return e+="]",t.querySelector(e)}else if(r=t.getElementsByTagName(e),i=Array.prototype.slice.call(r,0).filter(function(a){for(var o in n)if(a.getAttribute(o)===n[o])return!0;return!1}),i)return i[0]}function _h(t,e){var n=t.ownerDocument||t;typeof n.createTreeWalker!="undefined"?CS(t,e,NodeFilter.SHOW_TEXT):p_(t,function(r){r&&r.nodeType===3&&e(r)})}function CS(t,e,n){var r=document.createTreeWalker(t,n,null,!1);let i;for(;i=r.nextNode();)e(i)}function p_(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(p_(t,e))return!0;t=t.nextSibling}while(t)}function OS(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onloadend=function(){e(r.result)}})}function De(){this.resolve=null,this.reject=null,this.id=hp(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function wh(t,e,n){var r;if(typeof t.querySelector!="undefined"&&(r=t.querySelector(`${e}[*|type="${n}"]`)),!r||r.length===0){r=di(t,e);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||r[i].getAttribute("epub:type")===n)return r[i]}else return r}function Fm(t){for(var e=[],n=t.childNodes,r=0;r<n.length;r++){let i=n[r];i.nodeType===1&&e.push(i)}return e}function Um(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function Aa(t,e,n){for(var r=[],i=t.childNodes,s=0;s<i.length;s++){let a=i[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(n)return a;r.push(a)}}if(!n)return r}class IS{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,n){this.startContainer=e,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,n){this.endContainer=e,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let n=e.parentNode,r=Array.prototype.indexOf.call(n.childNodes,e);this.setStart(n,r),this.setEnd(n,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let n=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,n)}_commonAncestorContainer(e,n){var r=Um(e||this.startContainer),i=Um(n||this.endContainer);if(r[0]==i[0]){for(var s=0;s<r.length;s++)if(r[s]!=i[s])return r[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}if(!v_)var v_={cwd:function(){return"/"}};function tr(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+t)}function jm(t,e){for(var n="",r=-1,i=0,s,a=0;a<=t.length;++a){if(a<t.length)s=t.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(r===a-1||i===1))if(r!==a-1&&i===2){if(n.length<2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){for(var o=n.length-1,u=o;u>=0&&n.charCodeAt(u)!==47;--u);if(u!==o){u===-1?n="":n=n.slice(0,u),r=a,i=0;continue}}else if(n.length===2||n.length===1){n="",r=a,i=0;continue}}e&&(n.length>0?n+="/..":n="..")}else n.length>0?n+="/"+t.slice(r+1,a):n=t.slice(r+1,a);r=a,i=0}else s===46&&i!==-1?++i:i=-1}return n}function RS(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Zu={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=v_.cwd()),s=r),tr(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=jm(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(tr(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=jm(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return tr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];tr(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Zu.normalize(e)},relative:function(e,n){if(tr(e),tr(n),e===n||(e=Zu.resolve(e),n=Zu.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var o=n.length,u=o-a,l=s<u?s:u,f=-1,c=0;c<=l;++c){if(c===l){if(u>l){if(n.charCodeAt(a+c)===47)return n.slice(a+c+1);if(c===0)return n.slice(a+c)}else s>l&&(e.charCodeAt(r+c)===47?f=c:c===0&&(f=0));break}var p=e.charCodeAt(r+c),g=n.charCodeAt(a+c);if(p!==g)break;p===47&&(f=c)}var w="";for(c=r+f+1;c<=i;++c)(c===i||e.charCodeAt(c)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+n.slice(a+f):(a+=f,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(tr(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){i=a;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');tr(e);var r=0,i=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var o=n.length-1,u=-1;for(a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(l===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),o>=0&&(l===n.charCodeAt(o)?--o===-1&&(i=a):(o=-1,i=u))}return r===i?i=u:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(r,i)}},extname:function(e){tr(e);for(var n=-1,r=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){r=o+1;break}continue}i===-1&&(s=!1,i=o+1),u===46?n===-1?n=o:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||i===-1||a===0||a===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return RS("/",e)},parse:function(e){tr(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var a=-1,o=0,u=-1,l=!0,f=e.length-1,c=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!l){o=f+1;break}continue}u===-1&&(l=!1,u=f+1),r===46?a===-1?a=f:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===o+1?u!==-1&&(o===0&&i?n.base=n.name=e.slice(1,u):n.base=n.name=e.slice(o,u)):(o===0&&i?(n.name=e.slice(1,a),n.base=e.slice(1,u)):(n.name=e.slice(o,a),n.base=e.slice(o,u)),n.ext=e.slice(a,u)),o>0?n.dir=e.slice(0,o-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",posix:null},Xr=Zu;class Nr{constructor(e){var n,r;n=e.indexOf("://"),n>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Xr.parse(e)}isAbsolute(e){return Xr.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Xr.resolve(this.directory,e)}relative(e){var n=e&&e.indexOf("://")>-1;return n?e:Xr.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class $n{constructor(e,n){var r=e.indexOf("://")>-1,i=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!r&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new Nr(this.base),i=s.resolve(i))}this.Path=new Nr(i),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var n=e.indexOf("://")>-1,r;return n?e:(r=Xr.resolve(this.directory,e),this.origin+r)}relative(e){return Xr.relative(e,this.directory)}toString(){return this.href}}const us=1,xn=3,AS=9;class Pe{constructor(e,n,r){var i;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Pe))return new Pe(e,n,r);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),i=this.checkType(e),i==="string")return this.str=e,Wt(this,this.parse(e));if(i==="range")return Wt(this,this.fromRange(e,this.base,r));if(i==="node")return Wt(this,this.fromNode(e,this.base,r));if(i==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(TS(e)==="Range"||typeof e.startContainer!="undefined")?"range":e&&typeof e=="object"&&typeof e.nodeType!="undefined"?"node":e&&typeof e=="object"&&e instanceof Pe?"EpubCFI":!1}parse(e){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,i,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(n.base=this.parseComponent(r),i=this.getPathComponent(e),n.path=this.parseComponent(i),s=this.getRange(e),s&&(n.range=!0,n.start=this.parseComponent(s[0]),n.end=this.parseComponent(s[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(e){var n={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),i=r[0].split("/"),s;return r.length>1&&(s=r[1],n.terminal=this.parseTerminal(s)),i[0]===""&&i.shift(),n.steps=i.map(function(a){return this.parseStep(a)}.bind(this)),n}parseStep(e){var n,r,i,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),r=parseInt(e),!isNaN(r))return r%2===0?(n="element",i=r/2-1):(n="text",i=(r-1)/2),{type:n,index:i,id:a||null}}parseTerminal(e){var n,r,i=e.match(/\[(.*)\]/);return i&&i[1]?(n=parseInt(e.split("[")[0]),r=i[1]):n=parseInt(e),pt(n)||(n=null),{offset:n,assertion:r}}getChapterComponent(e){var n=e.split("!");return n[0]}getPathComponent(e){var n=e.split("!");if(n[1])return n[1].split(",")[0]}getRange(e){var n=e.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(e){var n=e.split(":");return n[1]||""}joinSteps(e){return e?e.map(function(n){var r="";return n.type==="element"&&(r+=(n.index+1)*2),n.type==="text"&&(r+=1+2*n.index),n.id&&(r+="["+n.id+"]"),r}).join("/"):""}segmentString(e){var n="/";return n+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(n+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(n+="["+e.terminal.assertion+"]"),n}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,n){var r,i,s,a;if(typeof e=="string"&&(e=new Pe(e)),typeof n=="string"&&(n=new Pe(n)),e.spinePos>n.spinePos)return 1;if(e.spinePos<n.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),s=e.start.terminal):(r=e.path.steps,s=e.path.terminal),n.range?(i=n.path.steps.concat(n.start.steps),a=n.start.terminal):(i=n.path.steps,a=n.path.terminal);for(var o=0;o<r.length;o++){if(!r[o])return-1;if(!i[o]||r[o].index>i[o].index)return 1;if(r[o].index<i[o].index)return-1}return r.length<i.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var n=e.nodeType===xn?"text":"element";return{id:e.id,tagName:e.tagName,type:n,index:this.position(e)}}filteredStep(e,n){var r=this.filter(e,n),i;if(!!r)return i=r.nodeType===xn?"text":"element",{id:r.id,tagName:r.tagName,type:i,index:this.filteredPosition(r,n)}}pathTo(e,n,r){for(var i={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=AS;)r?a=this.filteredStep(s,r):a=this.step(s),a&&i.steps.unshift(a),s=s.parentNode;return n!=null&&n>=0&&(i.terminal.offset=n,i.steps[i.steps.length-1].type!="text"&&i.steps.push({type:"text",index:0})),i}equalStep(e,n){return!e||!n?!1:e.index===n.index&&e.id===n.id&&e.type===n.type}fromRange(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,l=!1;if(r&&(l=s.ownerDocument.querySelector("."+r)!=null),typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),e.collapsed)l&&(o=this.patchOffset(s,o,r)),i.path=this.pathTo(s,o,r);else{i.range=!0,l&&(o=this.patchOffset(s,o,r)),i.start=this.pathTo(s,o,r),l&&(u=this.patchOffset(a,u,r)),i.end=this.pathTo(a,u,r),i.path={steps:[],terminal:null};var f=i.start.steps.length,c;for(c=0;c<f&&this.equalStep(i.start.steps[c],i.end.steps[c]);c++)c===f-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[c]),i.range=!1):i.path.steps.push(i.start.steps[c]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}fromNode(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),i.path=this.pathTo(e,null,r),i}filter(e,n){var r,i,s,a,o,u=!1;return e.nodeType===xn?(u=!0,s=e.parentNode,r=e.parentNode.classList.contains(n)):(u=!1,r=e.classList.contains(n)),r&&u?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===xn?i=a:o&&o.nodeType===xn&&(i=o),i||e):r&&!u?!1:e}patchOffset(e,n,r){if(e.nodeType!=xn)throw new Error("Anchor must be a text node");var i=e,s=n;for(e.parentNode.classList.contains(r)&&(i=e.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===us)if(i.previousSibling.classList.contains(r))s+=i.previousSibling.textContent.length;else break;else s+=i.previousSibling.textContent.length;i=i.previousSibling}return s}normalizedMap(e,n,r){var i={},s=-1,a,o=e.length,u,l;for(a=0;a<o;a++)u=e[a].nodeType,u===us&&e[a].classList.contains(r)&&(u=xn),a>0&&u===xn&&l===xn?i[a]=s:n===u&&(s=s+1,i[a]=s),l=u;return i}position(e){var n,r;return e.nodeType===us?(n=e.parentNode.children,n||(n=Fm(e.parentNode)),r=Array.prototype.indexOf.call(n,e)):(n=this.textNodes(e.parentNode),r=n.indexOf(e)),r}filteredPosition(e,n){var r,i,s;return e.nodeType===us?(r=e.parentNode.children,s=this.normalizedMap(r,us,n)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(n)&&(e=e.parentNode,r=e.parentNode.childNodes),s=this.normalizedMap(r,xn,n)),i=Array.prototype.indexOf.call(r,e),s[i]}stepsToXpath(e){var n=[".","*"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("*[position()="+i+" and @id='"+r.id+"']"):r.type==="text"?n.push("text()["+i+"]"):n.push("*["+i+"]")}),n.join("/")}stepsToQuerySelector(e){var n=["html"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("#"+r.id):r.type==="text"||n.push("*:nth-child("+i+")")}),n.join(">")}textNodes(e,n){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===xn?!0:!!(n&&r.classList.contains(n))})}walkToNode(e,n,r){var i=n||document,s=i.documentElement,a,o,u=e.length,l;for(l=0;l<u&&(o=e[l],o.type==="element"?o.id?s=i.getElementById(o.id):(a=s.children||Fm(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,r)[o.index]),!!s);l++);return s}findNode(e,n,r){var i=n||document,s,a;return!r&&typeof i.evaluate!="undefined"?(a=this.stepsToXpath(e),s=i.evaluate(a,i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?s=this.walkToNode(e,i,r):s=this.walkToNode(e,i),s}fixMiss(e,n,r,i){var s=this.findNode(e.slice(0,-1),r,i),a=s.childNodes,o=this.normalizedMap(a,xn,i),u,l,f=e[e.length-1].index;for(let c in o){if(!o.hasOwnProperty(c))return;if(o[c]===f)if(u=a[c],l=u.textContent.length,n>l)n=n-l;else{u.nodeType===us?s=u.childNodes[0]:s=u;break}}return{container:s,offset:n}}toRange(e,n){var r=e||document,i,s,a,o,u,l=this,f,c,p=n?r.querySelector("."+n)!=null:!1,g;if(typeof r.createRange!="undefined"?i=r.createRange():i=new IS,l.range?(s=l.start,f=l.path.steps.concat(s.steps),o=this.findNode(f,r,p?n:null),a=l.end,c=l.path.steps.concat(a.steps),u=this.findNode(c,r,p?n:null)):(s=l.path,f=l.path.steps,o=this.findNode(l.path.steps,r,p?n:null)),o)try{s.terminal.offset!=null?i.setStart(o,s.terminal.offset):i.setStart(o,0)}catch{g=this.fixMiss(f,s.terminal.offset,r,p?n:null),i.setStart(g.container,g.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{a.terminal.offset!=null?i.setEnd(u,a.terminal.offset):i.setEnd(u,0)}catch{g=this.fixMiss(c,l.end.terminal.offset,r,p?n:null),i.setEnd(g.container,g.offset)}return i}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,n,r){var i=parseInt(n),s=(e+1)*2,a="/"+s+"/";return a+=(i+1)*2,r&&(a+="["+r+"]"),a}collapse(e){!this.range||(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Kn{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var n=0;n<arguments[e].length;++n)this.hooks.push(arguments[e][n])}deregister(e){let n;for(let r=0;r<this.hooks.length;r++)if(n=this.hooks[r],n===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,n=this.context,r=[];return this.hooks.forEach(function(i){try{var s=i.apply(n,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&r.push(s)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function m_(t,e){var n,r,i=e.url,s=i.indexOf("://")>-1;!t||(r=Ze(t,"head"),n=Ze(r,"base"),n||(n=t.createElement("base"),r.insertBefore(n,r.firstChild)),!s&&window&&window.location&&(i=window.location.origin+i),n.setAttribute("href",i))}function NS(t,e){var n,r,i=e.canonical;!t||(n=Ze(t,"head"),r=Ze(n,"link[rel='canonical']"),r?r.setAttribute("href",i):(r=t.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",i),n.appendChild(r)))}function DS(t,e){var n,r,i=e.idref;!t||(n=Ze(t,"head"),r=Ze(n,"link[property='dc.identifier']"),r?r.setAttribute("content",i):(r=t.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",i),n.appendChild(r)))}function PS(t,e){var n=t.querySelectorAll("a[href]");if(!!n.length)for(var r=Ze(t.ownerDocument,"base"),i=r?r.getAttribute("href"):void 0,s=function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var l=u.indexOf("://")>-1;if(l)o.setAttribute("target","_blank");else{var f;try{f=new $n(u,i)}catch{}o.onclick=function(){return f&&f.hash?e(f.Path.path+f.hash):e(f?f.Path.path:u),!1}}}}.bind(this),a=0;a<n.length;a++)s(n[a])}function Wm(t,e,n){return e.forEach(function(r,i){r&&n[i]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(r,"g"),n[i]))}),t}function To(t,e,n,r){var i=typeof window!="undefined"?window.URL:!1,s=i?"blob":"arraybuffer",a=new De,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,l;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),n&&(o.withCredentials=!0),o.onreadystatechange=c,o.onerror=f,o.open("GET",t,!0);for(l in r)o.setRequestHeader(l,r[l]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new Nr(t).extension),e=="blob"&&(o.responseType=s),Nl(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function f(p){a.reject(p)}function c(){if(this.readyState===XMLHttpRequest.DONE){var p=!1;if((this.responseType===""||this.responseType==="document")&&(p=this.responseXML),this.status===200||this.status===0||p){var g;if(!this.response&&!p)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;p?g=this.responseXML:Nl(e)?g=Or(this.response,"text/xml"):e=="xhtml"?g=Or(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?g=Or(this.response,"text/html"):e=="json"?g=JSON.parse(this.response):e=="blob"?i?g=this.response:g=new Blob([this.response]):g=this.response,a.resolve(g)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class LS{constructor(e,n){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new Kn(this),this.hooks.content=new Kn(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var n=e||this.request||To,r=new De,i=r.promise;return this.contents?r.resolve(this.contents):n(this.url).then(function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){r.resolve(this.contents)}.bind(this)).catch(function(s){r.reject(s)}),i}base(){return m_(this.document,this)}render(e){var n=new De,r=n.promise;return this.output,this.load(e).then(function(i){var s=typeof navigator!="undefined"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer=="undefined"||a?o=c_:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(i),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){n.resolve(this.output)}.bind(this)).catch(function(i){n.reject(i)}),r}find(e){var n=this,r=[],i=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),u=n.document.createRange(),l,f,c=-1,p,g=150;f!=-1;)f=o.indexOf(i,c+1),f!=-1&&(u=n.document.createRange(),u.setStart(a,f),u.setEnd(a,f+i.length),l=n.cfiFromRange(u),a.textContent.length<g?p=a.textContent:(p=a.textContent.substring(f-g/2,f+g/2),p="..."+p+"..."),r.push({cfi:l,excerpt:p})),c=f};return _h(n.document,function(a){s(a)}),r}search(e,n=5){if(typeof document.createTreeWalker=="undefined")return this.find(e);let r=[];const i=150,s=this,a=e.toLowerCase(),o=function(c){const w=c.reduce((E,d)=>E+d.textContent,"").toLowerCase().indexOf(a);if(w!=-1){const d=w+a.length;let h=0,v=0;if(w<c[0].length){let y;for(;h<c.length-1&&(v+=c[h].length,!(d<=v));)h+=1;let b=c[0],_=c[h],x=s.document.createRange();x.setStart(b,w);let T=c.slice(0,h).reduce((A,z)=>A+z.textContent.length,0);x.setEnd(_,T>d?d:d-T),y=s.cfiFromRange(x);let I=c.slice(0,h+1).reduce((A,z)=>A+z.textContent,"");I.length>i&&(I=I.substring(w-i/2,w+i/2),I="..."+I+"..."),r.push({cfi:y,excerpt:I})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let l,f=[];for(;l=u.nextNode();)f.push(l),f.length==n&&(o(f.slice(0,n)),f=f.slice(1,n));return f.length>0&&o(f),r}reconcileLayoutSettings(e){var n={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var i=r.replace("rendition:",""),s=i.indexOf("-"),a,o;s!=-1&&(a=i.slice(0,s),o=i.slice(s+1),n[a]=o)}),n}cfiFromRange(e){return new Pe(e,this.cfiBase).toString()}cfiFromElement(e){return new Pe(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class zS{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Kn,this.hooks.content=new Kn,this.hooks.content.register(m_),this.hooks.content.register(NS),this.hooks.content.register(DS),this.epubcfi=new Pe,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,n,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((i,s)=>{var a=this.manifest[i.idref],o;i.index=s,i.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,i.index,i.id),i.href&&(i.url=n(i.href,!0),i.canonical=r(i.href)),a&&(i.href=a.href,i.url=n(i.href,!0),i.canonical=r(i.href),a.properties.length&&i.properties.push.apply(i.properties,a.properties)),i.linear==="yes"?(i.prev=function(){let u=i.index;for(;u>0;){let l=this.get(u-1);if(l&&l.linear)return l;u-=1}}.bind(this),i.next=function(){let u=i.index;for(;u<this.spineItems.length-1;){let l=this.get(u+1);if(l&&l.linear)return l;u+=1}}.bind(this)):(i.prev=function(){},i.next=function(){}),o=new LS(i,this.hooks),this.append(o)}),this.loaded=!0}get(e){var n=0;if(typeof e=="undefined")for(;n<this.spineItems.length;){let r=this.spineItems[n];if(r&&r.linear)break;n+=1}else this.epubcfi.isCfiString(e)?n=new Pe(e).spinePos:typeof e=="number"||isNaN(e)===!1?n=e:typeof e=="string"&&e.indexOf("#")===0?n=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],n=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[n]||null}append(e){var n=this.spineItems.length;return e.index=n,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=n,this.spineByHref[encodeURI(e.href)]=n,this.spineByHref[e.href]=n,this.spineById[e.idref]=n,n}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(n,r){n.index=r}),0}remove(e){var n=this.spineItems.indexOf(e);if(n>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let n=this.get(e);if(n&&n.linear)return n;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let n=this.get(e);if(n&&n.linear)return n;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class dp{constructor(e){this._q=[],this.context=e,this.tick=h_,this.running=!1,this.paused=!1}enqueue(){var e,n,r,i=[].shift.call(arguments),s=arguments;if(!i)throw new Error("No Task Provided");return typeof i=="function"?(e=new De,n=e.promise,r={task:i,args:s,deferred:e,promise:n}):r={promise:i},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,n,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),n=e.task,n)return r=n.apply(this.context,e.args),r&&typeof r.then=="function"?r.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new De,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new De),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const pp="0.3",Xu=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],oe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class g_{constructor(e,n,r){this.spine=e,this.request=n,this.pause=r||100,this.q=new dp(this),this.epubcfi=new Pe,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(n){var r=new De,i=this.parse(n,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(i),this.pause),r.promise}.bind(this))}parse(e,n,r){var i=[],s,a=e.ownerDocument,o=Ze(a,"body"),u=0,l,f=r||this.break,c=function(p){var g=p.length,w,E=0;if(p.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=p,s.startOffset=0),w=f-u,w>g&&(u+=g,E=g);E<g;)if(w=f-u,u===0&&(E+=1,s=this.createRange(),s.startContainer=p,s.startOffset=E),E+w>=g)u+=g-E,E=g;else{E+=w,s.endContainer=p,s.endOffset=E;let d=new Pe(s,n).toString();i.push(d),u=0}l=p};if(_h(o,c.bind(this)),s&&s.startContainer&&l){s.endContainer=l,s.endOffset=l.length;let p=new Pe(s,n).toString();i.push(p),u=0}return i}generateFromWords(e,n,r){var i=e?new Pe(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(s){s.linear&&(i?s.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),s,n,i,r):this.q.enqueue(this.processWords.bind(this),s,n,i,r))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,n,r,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then(function(s){var a=new De,o=this.parseWords(s,e,n,r),u=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=i?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}.bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,n,r,i){var s=n.cfiBase,a=[],o=e.ownerDocument,u=Ze(o,"body"),l=r,f=i?i.spinePos!==n.index:!0,c;i&&n.index===i.spinePos&&(c=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));var p=function(g){if(!f)if(g===c)f=!0;else return!1;if(g.textContent.length<10&&g.textContent.trim().length===0)return!1;var w=this.countWords(g.textContent),E,d=0;if(w===0)return!1;for(E=l-this._wordCounter,E>w&&(this._wordCounter+=w,d=w);d<w;)if(E=l-this._wordCounter,d+E>=w)this._wordCounter+=w-d,d=w;else{d+=E;let h=new Pe(g,s);a.push({cfi:h.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return _h(u,p.bind(this)),a}locationFromCfi(e){let n;return Pe.prototype.isCfiString(e)&&(e=new Pe(e)),this._locations.length===0?-1:(n=Al(e,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(e){if(this._locations.length===0)return null;var n=this.locationFromCfi(e);return this.percentageFromLocation(n)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var n=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(n=this._locations[e]),n}cfiFromPercentage(e){let n;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new Pe(this._locations[this.total]);return r.collapse(),r.toString()}return n=Math.ceil(this.total*e),this.cfiFromLocation(n)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var n;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(n=this.locationFromCfi(e),this._current=n):n=e,this.emit(oe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}hr(g_.prototype);class MS{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var n;if(!e)throw new Error("Container File Not Found");if(n=Ze(e,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=Xr.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class $m{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var n,r,i;if(!e)throw new Error("Package File Not Found");if(n=Ze(e,"metadata"),!n)throw new Error("No Metadata Found");if(r=Ze(e,"manifest"),!r)throw new Error("No Manifest Found");if(i=Ze(e,"spine"),!i)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=xS(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(n),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var n={};return n.title=this.getElementText(e,"title"),n.creator=this.getElementText(e,"creator"),n.description=this.getElementText(e,"description"),n.pubdate=this.getElementText(e,"date"),n.publisher=this.getElementText(e,"publisher"),n.identifier=this.getElementText(e,"identifier"),n.language=this.getElementText(e,"language"),n.rights=this.getElementText(e,"rights"),n.modified_date=this.getPropertyText(e,"dcterms:modified"),n.layout=this.getPropertyText(e,"rendition:layout"),n.orientation=this.getPropertyText(e,"rendition:orientation"),n.flow=this.getPropertyText(e,"rendition:flow"),n.viewport=this.getPropertyText(e,"rendition:viewport"),n.media_active_class=this.getPropertyText(e,"media:active-class"),n.spread=this.getPropertyText(e,"rendition:spread"),n}parseManifest(e){var n={},r=di(e,"item"),i=Array.prototype.slice.call(r);return i.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",l=s.getAttribute("media-overlay")||"",f=s.getAttribute("properties")||"";n[a]={href:o,type:u,overlay:l,properties:f.length?f.split(" "):[]}}),n}parseSpine(e,n){var r=[],i=di(e,"itemref"),s=Array.prototype.slice.call(i);return s.forEach(function(a,o){var u=a.getAttribute("idref"),l=a.getAttribute("properties")||"",f=l.length?l.split(" "):[],c={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:f,index:o};r.push(c)}),r}findUniqueIdentifier(e){var n=e.documentElement.getAttribute("unique-identifier");if(!n)return"";var r=e.getElementById(n);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var n=Ra(e,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(e,n){var r=Ra(e,"item",{"media-type":"application/x-dtbncx+xml"}),i;return r||(i=n.getAttribute("toc"),i&&(r=e.querySelector(`#${i}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var n=Ze(e,"package");n.getAttribute("version");var r=Ra(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var i=Ra(e,"meta",{name:"cover"});if(i){var s=i.getAttribute("content"),a=e.getElementById(s);return a?a.getAttribute("href"):""}else return!1}getElementText(e,n){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),i;return!r||r.length===0?"":(i=r[0],i.childNodes.length?i.childNodes[0].nodeValue:"")}getPropertyText(e,n){var r=Ra(e,"meta",{property:n});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let n=e.readingOrder||e.spine;return this.spine=n.map((r,i)=>(r.index=i,r.linear=r.linear||"yes",r)),e.resources.forEach((r,i)=>{this.manifest[i]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,i)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class ac{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let n=e.nodeType,r,i;n&&(r=Ze(e,"html"),i=Ze(e,"ncx")),n?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var n,r=0;r<e.length;r++)n=e[r],n.href&&(this.tocByHref[n.href]=r),n.id&&(this.tocById[n.id]=r),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(e){var n;return e?(e.indexOf("#")===0?n=this.tocById[e.substring(1)]:e in this.tocByHref&&(n=this.tocByHref[e]),this.getByIndex(e,n,this.toc)):this.toc}getByIndex(e,n,r){if(r.length===0)return;const i=r[n];if(i&&(e===i.id||e===i.href))return i;{let s;for(let a=0;a<r.length&&(s=this.getByIndex(e,n,r[a].subitems),!s);++a);return s}}landmark(e){var n;return e?(n=this.landmarksByType[e],this.landmarks[n]):this.landmarks}parseNav(e){var n=wh(e,"nav","toc"),r=[];if(!n)return r;let i=Aa(n,"ol",!0);return i&&(r=this.parseNavList(i)),r}parseNavList(e,n){const r=[];if(!e||!e.children)return r;for(let i=0;i<e.children.length;i++){const s=this.navItem(e.children[i],n);s&&r.push(s)}return r}navItem(e,n){let r=e.getAttribute("id")||void 0,i=Aa(e,"a",!0)||Aa(e,"span",!0);if(!i)return;let s=i.getAttribute("href")||"";r||(r=s);let a=i.textContent||"",o=[],u=Aa(e,"ol",!0);return u&&(o=this.parseNavList(u,r)),{id:r,href:s,label:a,subitems:o,parent:n}}parseLandmarks(e){var n=wh(e,"nav","landmarks"),r=n?di(n,"li"):[],i=r.length,s,a=[],o;if(!r||i===0)return a;for(s=0;s<i;++s)o=this.landmarkItem(r[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let n=Aa(e,"a",!0);if(!n)return;let r=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,i=n.getAttribute("href")||"",s=n.textContent||"";return{href:i,label:s,type:r}}parseNcx(e){var n=di(e,"navPoint"),r=n.length,i,s={},a=[],o,u;if(!n||r===0)return a;for(i=0;i<r;++i)o=this.ncxItem(n[i]),s[o.id]=o,o.parent?(u=s[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var n=e.getAttribute("id")||!1,r=Ze(e,"content"),i=r.getAttribute("src"),s=Ze(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],u=e.parentNode,l;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(l=u.getAttribute("id")),{id:n,href:i,label:a,subitems:o,parent:l}}load(e){return e.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(e){return this.toc.forEach(e)}}var Na={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},BS=function(){var t,e,n,r,i={};for(t in Na)if(Na.hasOwnProperty(t)){for(e in Na[t])if(Na[t].hasOwnProperty(e))if(n=Na[t][e],typeof n=="string")i[n]=t+"/"+e;else for(r=0;r<n.length;r++)i[n[r]]=t+"/"+e}return i}(),FS="text/plain";function US(t){return t&&BS[t.split(".").pop().toLowerCase()]||FS}var As={lookup:US};class jS{constructor(e,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(n){return e[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var n=new $n(e),r=As.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(i=>OS(i)).then(i=>Bm(i,r)):this.settings.request(e,"blob").then(i=>yh(i,r))}replacements(){if(this.settings.replacements==="none")return new Promise(function(n){n(this.urls)}.bind(this));var e=this.urls.map(n=>{var r=this.settings.resolver(n);return this.createUrl(r).catch(i=>(console.error(i),null))});return Promise.all(e).then(n=>(this.replacementUrls=n.filter(r=>typeof r=="string"),n))}replaceCss(e,n){var r=[];return e=e||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach(function(i){var s=this.createCssFile(i,e,n).then(function(a){var o=this.urls.indexOf(i);o>-1&&(this.replacementUrls[o]=a)}.bind(this));r.push(s)}.bind(this)),Promise.all(r)}createCssFile(e){var n;if(Xr.isAbsolute(e))return new Promise(function(a){a()});var r=this.settings.resolver(e),i;this.settings.archive?i=this.settings.archive.getText(r):i=this.settings.request(r,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),u=new Nr(r).relative(o);return u});return i?i.then(a=>(a=Wm(a,s,this.replacementUrls),this.settings.replacements==="base64"?n=Bm(a,"text/css"):n=yh(a,"text/css"),n),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,n){return n=n||this.settings.resolver,this.urls.map(function(r){var i=n(r),s=new Nr(e).relative(i);return s}.bind(this))}get(e){var n=this.urls.indexOf(e);if(n!==-1)return this.replacementUrls.length?new Promise(function(r,i){r(this.replacementUrls[n])}.bind(this)):this.createUrl(e)}substitute(e,n){var r;return n?r=this.relativeTo(n):r=this.urls,Wm(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class oc{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Pe,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var n=Ze(e,"html"),r=Ze(e,"ncx");if(n)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var n=wh(e,"nav","page-list"),r=n?di(n,"li"):[],i=r.length,s,a=[],o;if(!r||i===0)return a;for(s=0;s<i;++s)o=this.item(r[s]),a.push(o);return a}parseNcx(e){var n=[],r=0,i,s,a,o=0;if(s=Ze(e,"pageList"),!s||(a=di(s,"pageTarget"),o=a.length,!a||a.length===0))return n;for(r=0;r<o;++r)i=this.ncxItem(a[r]),n.push(i);return n}ncxItem(e){var n=Ze(e,"navLabel"),r=Ze(n,"text"),i=r.textContent,s=Ze(e,"content"),a=s.getAttribute("src"),o=parseInt(i,10);return{href:a,page:o}}item(e){var n=Ze(e,"a"),r=n.getAttribute("href")||"",i=n.textContent||"",s=parseInt(i),a=r.indexOf("epubcfi"),o,u,l;return a!=-1?(o=r.split("#"),u=o[0],l=o.length>1?o[1]:!1,{cfi:l,href:r,packageUrl:u,page:s}):{href:r,page:s}}process(e){e.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var n=-1;if(this.locations.length===0)return-1;var r=vh(e,this.locations,this.epubcfi.compare);return r!=-1?n=this.pages[r]:(r=Al(e,this.locations,this.epubcfi.compare),n=r-1>=0?this.pages[r-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(e){var n=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(n=this.locations[r]),n}pageFromPercentage(e){var n=Math.round(this.totalPages*e);return n}percentageFromPage(e){var n=(e-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(e){var n=this.pageFromCfi(e),r=this.percentageFromPage(n);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class y_{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e!="undefined"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,n){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(e,n,r){var i=1,s=r||0,a=e,o=n,u=Math.floor(a/12),l,f,c,p;this._spread&&a>=this._minSpreadWidth?i=2:i=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),i>1?(l=a/i-s,c=l+s):(l=a,c=a),this.name==="pre-paginated"&&i>1&&(a=l),f=l*i+s,p=a,this.width=a,this.height=o,this.spreadWidth=f,this.pageWidth=c,this.delta=p,this.columnWidth=l,this.gap=s,this.divisor=i,this.update({width:a,height:o,spreadWidth:f,pageWidth:c,delta:p,columnWidth:l,gap:s,divisor:i})}format(e,n,r){var i;return this.name==="pre-paginated"?i=e.fit(this.columnWidth,this.height,n):this._flow==="paginated"?i=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?i=e.size(null,this.height):i=e.size(this.width,null),i}count(e,n){let r,i;return this.name==="pre-paginated"?(r=1,i=1):this._flow==="paginated"?(n=n||this.delta,r=Math.ceil(e/n),i=r*this.divisor):(n=n||this.height,r=Math.ceil(e/n),i=r),{spreads:r,pages:i}}update(e){if(Object.keys(e).forEach(n=>{this.props[n]===e[n]&&delete e[n]}),Object.keys(e).length>0){let n=Wt(this.props,e);this.emit(oe.LAYOUT.UPDATED,n,e)}}}hr(y_.prototype);class WS{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(!!e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="string"?this.registerUrl(n,e[n]):this.registerRules(n,e[n]))}registerCss(e,n){this._themes[e]={serialized:n},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,n){var r=new $n(n);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,n){this._themes[e]={rules:n},(this._injected[e]||e=="default")&&this.update(e)}select(e){var n=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(i=>{i.removeClass(n),i.addClass(e)})}update(e){var n=this.rendition.getContents();n.forEach(r=>{this.add(e,r)})}inject(e){var n=[],r=this._themes,i;for(var s in r)r.hasOwnProperty(s)&&(s===this._current||s==="default")&&(i=r[s],(i.rules&&Object.keys(i.rules).length>0||i.url&&n.indexOf(i.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,n){var r=this._themes[e];!r||!n||(r.url?n.addStylesheet(r.url):r.serialized?(n.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(n.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,n,r){var i=this.rendition.getContents();this._overrides[e]={value:n,priority:r===!0},i.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var n=this.rendition.getContents();delete this._overrides[e],n.forEach(r=>{r.css(e)})}overrides(e){var n=this._overrides;for(var r in n)n.hasOwnProperty(r)&&e.css(r,n[r].value,n[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Dl{constructor(e,n,r,i=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=n||"ltr",this._dev=i}section(e){var n=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,n);return r}page(e,n,r,i){var s=e&&e.document?e.document.body:!1,a;if(!!s){if(a=this.rangePairToCfiPair(n,{start:this.findStart(s,r,i),end:this.findEnd(s,r,i)}),this._dev===!0){let o=e.document,u=new Pe(a.start).toRange(o),l=new Pe(a.end).toRange(o),f=o.defaultView.getSelection(),c=o.createRange();f.removeAllRanges(),c.setStart(u.startContainer,u.startOffset),c.setEnd(l.endContainer,l.endOffset),f.addRange(c)}return a}}walk(e,n){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=r.acceptNode;i.acceptNode=r.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1),a,o;(a=s.nextNode())&&(o=n(a),!o););return o}}findRanges(e){for(var n=[],r=e.contents.scrollWidth(),i=Math.ceil(r/this.layout.spreadWidth),s=i*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,l,f=0;f<s.pages;f++)u=(a+o)*f,l=a*(f+1)+o*f,n.push({start:this.findStart(e.document.body,u,l),end:this.findEnd(e.document.body,u,l)});return n}findStart(e,n,r){for(var i=[e],s,a,o=e;i.length;)if(s=i.shift(),a=this.walk(s,u=>{var l,f,c,p,g;if(g=Mm(u),this.horizontal&&this.direction==="ltr"){if(l=this.horizontal?g.left:g.top,f=this.horizontal?g.right:g.bottom,l>=n&&l<=r)return u;if(f>n)return u;o=u,i.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=g.left,f=g.right,f<=r&&f>=n)return u;if(l<r)return u;o=u,i.push(u)}else{if(c=g.top,p=g.bottom,c>=n&&c<=r)return u;if(p>n)return u;o=u,i.push(u)}}),a)return this.findTextStartRange(a,n,r);return this.findTextStartRange(o,n,r)}findEnd(e,n,r){for(var i=[e],s,a=e,o;i.length;)if(s=i.shift(),o=this.walk(s,u=>{var l,f,c,p,g;if(g=Mm(u),this.horizontal&&this.direction==="ltr"){if(l=Math.round(g.left),f=Math.round(g.right),l>r&&a)return a;if(f>r)return u;a=u,i.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=Math.round(this.horizontal?g.left:g.top),f=Math.round(this.horizontal?g.right:g.bottom),f<n&&a)return a;if(l<n)return u;a=u,i.push(u)}else{if(c=Math.round(g.top),p=Math.round(g.bottom),c>r&&a)return a;if(p>r)return u;a=u,i.push(u)}}),o)return this.findTextEndRange(o,n,r);return this.findTextEndRange(a,n,r)}findTextStartRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),s,a,o,u,l,f=0;f<i.length;f++)if(s=i[f],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=n)return s}else if(this.horizontal&&this.direction==="rtl"){if(l=a.right,l<=r)return s}else if(u=a.top,u>=n)return s;return i[0]}findTextEndRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),s,a,o,u,l,f,c,p=0;p<i.length;p++){if(a=i[p],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,l=o.right,u>r&&s)return s;if(l>r)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,l=o.right,l<n&&s)return s;if(u<n)return a}else{if(f=o.top,c=o.bottom,f>r&&s)return s;if(c>r)return a}s=a}return i[i.length-1]}splitTextNodeIntoRanges(e,n){var r=[],i=e.textContent||"",s=i.trim(),a,o=e.ownerDocument,u=n||" ",l=s.indexOf(u);if(l===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,l),r.push(a),a=!1;l!=-1;)l=s.indexOf(u,l+1),l>0&&(a&&(a.setEnd(e,l),r.push(a)),a=o.createRange(),a.setStart(e,l+1));return a&&(a.setEnd(e,s.length),r.push(a)),r}rangePairToCfiPair(e,n){var r=n.start,i=n.end;r.collapse(!0),i.collapse(!1);let s=new Pe(r,e).toString(),a=new Pe(i,e).toString();return{start:s,end:a}}rangeListToCfiList(e,n){for(var r=[],i,s=0;s<n.length;s++)i=this.rangePairToCfiPair(e,n[s]),r.push(i);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const __=typeof navigator!="undefined",$S=__&&/Chrome/.test(navigator.userAgent),Km=__&&!$S&&/AppleWebKit/.test(navigator.userAgent),KS=1;class w_{constructor(e,n,r,i){this.epubcfi=new Pe,this.document=e,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=i||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",pp),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Xu}width(e){var n=this.content;return e&&pt(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}height(e){var n=this.content;return e&&pt(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}contentWidth(e){var n=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}contentHeight(e){var n=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let e,n,r=this.document.createRange(),i=this.content||this.document.body,s=mh(i);return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.width,s&&s.width&&(n+=s.width),Math.round(n)}textHeight(){let e,n,r=this.document.createRange(),i=this.content||this.document.body;return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.bottom,Math.round(n)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,n,r){var i=this.content||this.document.body;return n?i.style.setProperty(e,n,r?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}viewport(e){var n=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},i=[],s={};if(n&&n.hasAttribute("content")){let a=n.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),u=a.match(/height\s*=\s*([^,]*)/),l=a.match(/initial-scale\s*=\s*([^,]*)/),f=a.match(/minimum-scale\s*=\s*([^,]*)/),c=a.match(/maximum-scale\s*=\s*([^,]*)/),p=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]!="undefined"&&(r.width=o[1]),u&&u.length&&typeof u[1]!="undefined"&&(r.height=u[1]),l&&l.length&&typeof l[1]!="undefined"&&(r.scale=l[1]),f&&f.length&&typeof f[1]!="undefined"&&(r.minimum=f[1]),c&&c.length&&typeof c[1]!="undefined"&&(r.maximum=c[1]),p&&p.length&&typeof p[1]!="undefined"&&(r.scalable=p[1])}return s=ES(e||{},r),e&&(s.width&&i.push("width="+s.width),s.height&&i.push("height="+s.height),s.scale&&i.push("initial-scale="+s.scale),s.scalable==="no"?(i.push("minimum-scale="+s.scale),i.push("maximum-scale="+s.scale),i.push("user-scalable="+s.scalable)):(s.scalable&&i.push("user-scalable="+s.scalable),s.minimum&&i.push("minimum-scale="+s.minimum),s.maximum&&i.push("minimum-scale="+s.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",i.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(oe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver=="undefined"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),n=this.textHeight();(e!=this._size.width||n!=this._size.height)&&(this._size={width:e,height:n},this.onResize&&this.onResize(this._size),this.emit(oe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,n=function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),r=0;r<e.length;r+=1){var i;try{i=e[r].cssRules}catch{return}if(!i)return;for(var s=0;s<i.length;s+=1)if(i[s].media){var a=this.window.matchMedia(i[s].media.mediaText);a.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),n,r=0;r<e.length;r++)n=e[r],typeof n.naturalWidth!="undefined"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,n){var r,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){let s=new Pe(e).toRange(this.document,n);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)r=s.startContainer.getBoundingClientRect(),i.left=r.left,i.top=r.top;else if(Km){let a=s.startContainer,o=new Range;try{a.nodeType===KS?r=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),r=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),r=o.getBoundingClientRect()):r=a.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else r=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(Km){let o=new Range;o.selectNode(a),r=o.getBoundingClientRect()}else r=a.getBoundingClientRect()}return r&&(i.left=r.left,i.top=r.top),i}addStylesheet(e){return new Promise(function(n,r){var i,s=!1;if(!this.document){n(!1);return}if(i=this.document.querySelector("link[href='"+e+"']"),i){n(!0);return}i=this.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(i)}.bind(this))}_getStylesheetNode(e){var n;return e="epubjs-inserted-css-"+(e||""),this.document?(n=this.document.getElementById(e),n||(n=this.document.createElement("style"),n.id=e,this.document.head.appendChild(n)),n):!1}addStylesheetCss(e,n){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(n),r.innerHTML=e,!0}addStylesheetRules(e,n){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var i=0,s=e.length;i<s;i++){var a=1,o=e[i],u=e[i][0],l="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var f=o.length;a<f;a++){var c=o[a];l+=c[0]+":"+c[1]+(c[2]?" !important":"")+`;
`}r.insertRule(u+"{"+l+"}",r.cssRules.length)}else Object.keys(e).forEach(g=>{const w=e[g];if(Array.isArray(w))w.forEach(E=>{const h=Object.keys(E).map(v=>`${v}:${E[v]}`).join(";");r.insertRule(`${g}{${h}}`,r.cssRules.length)});else{const d=Object.keys(w).map(h=>`${h}:${w[h]}`).join(";");r.insertRule(`${g}{${d}}`,r.cssRules.length)}})}addScript(e){return new Promise(function(n,r){var i,s=!1;if(!this.document){n(!1);return}i=this.document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(i)}.bind(this))}addClass(e){var n;!this.document||(n=this.content||this.document.body,n&&n.classList.add(e))}removeClass(e){var n;!this.document||(n=this.content||this.document.body,n&&n.classList.remove(e))}addEventListeners(){!this.document||(this._triggerEvent=this.triggerEvent.bind(this),Xu.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){!this.document||(Xu.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){!this.document||(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){!this.document||(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}.bind(this),250)}triggerSelectedEvent(e){var n,r;e&&e.rangeCount>0&&(n=e.getRangeAt(0),n.collapsed||(r=new Pe(n,this.cfiBase).toString(),this.emit(oe.CONTENTS.SELECTED,r),this.emit(oe.CONTENTS.SELECTED_RANGE,n)))}range(e,n){var r=new Pe(e);return r.toRange(this.document,n)}cfiFromRange(e,n){return new Pe(e,this.cfiBase,n).toString()}cfiFromNode(e,n){return new Pe(e,this.cfiBase,n).toString()}map(e){var n=new Dl(e);return n.section()}size(e,n){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),n>=0&&(this.height(n),r.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,n,r,i,s){let a=Ia("column-axis"),o=Ia("column-gap"),u=Ia("column-width"),l=Ia("column-fill"),c=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&c==="horizontal"&&this.direction(s),this.width(e),this.height(n),this.viewport({width:e,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),c==="vertical"?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(o,i+"px"),this.css(u,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,n,r){var i="scale("+e+")",s="";this.css("transform-origin","top left"),(n>=0||r>=0)&&(s=" translate("+(n||0)+"px, "+(r||0)+"px )"),this.css("transform",i+s)}fit(e,n,r){var i=this.viewport(),s=parseInt(i.width),a=parseInt(i.height),o=e/s,u=n/a,l=o<u?o:u;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",s*l+"px "+a*l+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var f=e-s*l;this.css("margin-left",f+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,n,r,i,s){var a=new Dl(n,s);return a.page(this,e,r,i)}linksHandler(){PS(this.content,e=>{this.emit(oe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let n=Ia("writing-mode");return e&&this.documentElement&&(this.documentElement.style[n]=e),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,n){return navigator.epubReadingSystem={name:e,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}hr(w_.prototype);class HS{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,n,r,i,s,a){let o=encodeURI(n+e),l=new Pe(n).spinePos,f=new E_({type:e,cfiRange:n,data:r,sectionIndex:l,cb:i,className:s,styles:a});return this._annotations[o]=f,l in this._annotationsBySectionIndex?this._annotationsBySectionIndex[l].push(o):this._annotationsBySectionIndex[l]=[o],this.rendition.views().forEach(p=>{f.sectionIndex===p.index&&f.attach(p)}),f}remove(e,n){let r=encodeURI(e+n);if(r in this._annotations){let i=this._annotations[r];if(n&&i.type!==n)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(i.sectionIndex,r),i.sectionIndex===a.index&&i.detach(a)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,n){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==n)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,n,r,i,s){return this.add("highlight",e,n,r,i,s)}underline(e,n,r,i,s){return this.add("underline",e,n,r,i,s)}mark(e,n,r){return this.add("mark",e,n,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].attach(e)})}clear(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].detach(e)})}show(){}hide(){}}class E_{constructor({type:e,cfiRange:n,data:r,sectionIndex:i,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=n,this.data=r,this.sectionIndex=i,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:n,data:r,type:i,mark:s,cb:a,className:o,styles:u}=this,l;return i==="highlight"?l=e.highlight(n,r,a,o,u):i==="underline"?l=e.underline(n,r,a,o,u):i==="mark"&&(l=e.mark(n,r,a)),this.mark=l,this.emit(oe.ANNOTATION.ATTACH,l),l}detach(e){let{cfiRange:n,type:r}=this,i;return e&&(r==="highlight"?i=e.unhighlight(n):r==="underline"?i=e.ununderline(n):r==="mark"&&(i=e.unmark(n))),this.mark=void 0,this.emit(oe.ANNOTATION.DETACH,i),i}text(){}}hr(E_.prototype);var Sr={},ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.createElement=b_;function b_(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}ff.default={createElement:b_};var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.proxyMouse=x_;eu.clone=S_;eu.default={proxyMouse:x_};function x_(t,e){function n(a){for(var o=e.length-1;o>=0;o--){var u=e[o],l=a.clientX,f=a.clientY;if(a.touches&&a.touches.length&&(l=a.touches[0].clientX,f=a.touches[0].clientY),!!VS(u,t,l,f)){u.dispatchEvent(S_(a));break}}}if(t.nodeName==="iframe"||t.nodeName==="IFRAME")try{this.target=t.contentDocument}catch{this.target=t}else this.target=t;for(var r=["mouseup","mousedown","click","touchstart"],i=0;i<r.length;i++){var s=r[i];this.target.addEventListener(s,function(a){return n(a)},!1)}}function S_(t){var e=Object.assign({},t,{bubbles:!1});try{return new MouseEvent(t.type,e)}catch{var n=document.createEvent("MouseEvents");return n.initMouseEvent(t.type,!1,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n}}function VS(t,e,n,r){var i=e.getBoundingClientRect();function s(f,c,p){var g=f.top-i.top,w=f.left-i.left,E=g+f.height,d=w+f.width;return g<=p&&w<=c&&E>p&&d>c}var a=t.getBoundingClientRect();if(!s(a,n,r))return!1;for(var o=t.getClientRects(),u=0,l=o.length;u<l;u++)if(s(o[u],n,r))return!0;return!1}var Pl,vp;Object.defineProperty(Sr,"__esModule",{value:!0});var k_=Sr.Underline=vp=Sr.Highlight=Sr.Mark=Pl=Sr.Pane=void 0,qS=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:t(s,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},cf=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),YS=ff,Co=T_(YS),ZS=eu,XS=T_(ZS);function T_(t){return t&&t.__esModule?t:{default:t}}function C_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function O_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Pl=Sr.Pane=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;hf(this,t),this.target=e,this.element=Co.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),XS.default.proxyMouse(this.target,this.marks),this.container=n,this.container.appendChild(this.element),this.render()}return cf(t,[{key:"addMark",value:function(n){var r=Co.default.createElement("g");return this.element.appendChild(r),n.bind(r,this.container),this.marks.push(n),n.render(),n}},{key:"removeMark",value:function(n){var r=this.marks.indexOf(n);if(r!==-1){var i=n.unbind();this.element.removeChild(i),this.marks.splice(r,1)}}},{key:"render",value:function(){ek(this.element,JS(this.target,this.container));var n=!0,r=!1,i=void 0;try{for(var s=this.marks[Symbol.iterator](),a;!(n=(a=s.next()).done);n=!0){var o=a.value;o.render()}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}]),t}();var GS=Sr.Mark=function(){function t(){hf(this,t),this.element=null}return cf(t,[{key:"bind",value:function(n,r){this.element=n,this.container=r}},{key:"unbind",value:function(){var n=this.element;return this.element=null,n}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(n){!this.element||this.element.dispatchEvent(n)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var n=[],r=this.element.firstChild;r;)n.push(r.getBoundingClientRect()),r=r.nextSibling;return n}},{key:"filteredRanges",value:function(){var n=Array.from(this.range.getClientRects());return n.filter(function(r){for(var i=0;i<n.length;i++){if(n[i]===r)return!0;var s=tk(n[i],r);if(s)return!1}return!0})}}]),t}(),QS=vp=Sr.Highlight=function(t){O_(e,t);function e(n,r,i,s){hf(this,e);var a=C_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.range=n,a.className=r,a.data=i||{},a.attributes=s||{},a}return cf(e,[{key:"bind",value:function(r,i){qS(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this,r,i);for(var s in this.data)this.data.hasOwnProperty(s)&&(this.element.dataset[s]=this.data[s]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&this.element.setAttribute(s,this.attributes[s]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,u=i.length;o<u;o++){var l=i[o],f=Co.default.createElement("rect");f.setAttribute("x",l.left-s.left+a.left),f.setAttribute("y",l.top-s.top+a.top),f.setAttribute("height",l.height),f.setAttribute("width",l.width),r.appendChild(f)}this.element.appendChild(r)}}]),e}(GS);k_=Sr.Underline=function(t){O_(e,t);function e(n,r,i,s){return hf(this,e),C_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r,i,s))}return cf(e,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,u=i.length;o<u;o++){var l=i[o],f=Co.default.createElement("rect");f.setAttribute("x",l.left-s.left+a.left),f.setAttribute("y",l.top-s.top+a.top),f.setAttribute("height",l.height),f.setAttribute("width",l.width),f.setAttribute("fill","none");var c=Co.default.createElement("line");c.setAttribute("x1",l.left-s.left+a.left),c.setAttribute("x2",l.left-s.left+a.left+l.width),c.setAttribute("y1",l.top-s.top+a.top+l.height-1),c.setAttribute("y2",l.top-s.top+a.top+l.height-1),c.setAttribute("stroke-width",1),c.setAttribute("stroke","black"),c.setAttribute("stroke-linecap","square"),r.appendChild(f),r.appendChild(c)}this.element.appendChild(r)}}]),e}(QS);function JS(t,e){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-n.top,left:r.left-n.left,height:t.scrollHeight,width:t.scrollWidth}}function ek(t,e){t.style.setProperty("top",e.top+"px","important"),t.style.setProperty("left",e.left+"px","important"),t.style.setProperty("height",e.height+"px","important"),t.style.setProperty("width",e.width+"px","important")}function tk(t,e){return e.right<=t.right&&e.left>=t.left&&e.top>=t.top&&e.bottom<=t.bottom}class I_{constructor(e,n){this.settings=Wt({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+hp(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Pe,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",e&&e=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=sc(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(r){return this.load(r)}.bind(this)).then(function(){let r=this.contents.writingMode(),i;return this.settings.flow==="scrolled"?i=r.indexOf("vertical")===0?"horizontal":"vertical":i=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(i),this.emit(oe.VIEWS.AXIS,i),this.setWritingMode(r),this.emit(oe.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}.bind(this),function(r){return this.emit(oe.VIEWS.LOAD_ERROR,r),new Promise((i,s)=>{s(r)})}.bind(this)).then(function(){this.emit(oe.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,n){var r=e||this.settings.width,i=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,i):this.settings.axis==="horizontal"?this.lock("height",r,i):this.lock("width",r,i),this.settings.width=r,this.settings.height=i}lock(e,n,r){var i=mh(this.element),s;this.iframe?s=mh(this.iframe):s={width:0,height:0},e=="width"&&pt(n)&&(this.lockedWidth=n-i.width-s.width),e=="height"&&pt(r)&&(this.lockedHeight=r-i.height-s.height),e==="both"&&pt(n)&&pt(r)&&(this.lockedWidth=n-i.width-s.width,this.lockedHeight=r-i.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var n=this.lockedWidth,r=this.lockedHeight,i;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(i=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&i%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||r!=this._height)&&this.reframe(n,r),this._expanding=!1)}reframe(e,n){var r;pt(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),pt(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let i=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?n-this.prevBounds.height:n;r={width:e,height:n,widthDelta:i,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,r),this.emit(oe.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=sc(this.element)}load(e){var n=new De,r=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=function(s){this.onLoad(s,n)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=yh(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction(function(){i.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new w_(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(oe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(oe.CONTENTS.RESIZE,i=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var n=new De;return this.displayed?n.resolve(this):this.render(e).then(function(){this.emit(oe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}.bind(this),function(r){n.reject(r,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(oe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(oe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(e,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(e){}onResize(e,n){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=sc(this.element)),this.elementBounds}highlight(e,n={},r,i="epubjs-hl",s={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(oe.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Pl(this.iframe,this.element));let l=new vp(o,i,n,a),f=this.pane.addMark(l);return this.highlights[e]={mark:f,element:f.element,listeners:[u,r]},f.element.setAttribute("ref",i),f.element.addEventListener("click",u),f.element.addEventListener("touchstart",u),r&&(f.element.addEventListener("click",r),f.element.addEventListener("touchstart",r)),f}underline(e,n={},r,i="epubjs-ul",s={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(oe.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Pl(this.iframe,this.element));let l=new k_(o,i,n,a),f=this.pane.addMark(l);return this.underlines[e]={mark:f,element:f.element,listeners:[u,r]},f.element.setAttribute("ref",i),f.element.addEventListener("click",u),f.element.addEventListener("touchstart",u),r&&(f.element.addEventListener("click",r),f.element.addEventListener("touchstart",r)),f}mark(e,n={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let i=this.contents.range(e);if(!i)return;let s=i.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=l=>{this.emit(oe.VIEWS.MARK_CLICKED,e,n)};i.collapsed&&s.nodeType===1?(i=new Range,i.selectNodeContents(s)):i.collapsed&&(i=new Range,i.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,n&&Object.keys(n).forEach(l=>{u.dataset[l]=n[l]}),r&&(u.addEventListener("click",r),u.addEventListener("touchstart",r)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,i),this.element.appendChild(u),this.marks[e]={element:u,range:i,listeners:[o,r]},a}placeMark(e,n){let r,i,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=n.getBoundingClientRect();r=o.top,i=o.right}else{let o=n.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!s||u.left<s)&&(s=u.left,i=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=u.top)}e.style.top=`${r}px`,e.style.left=`${i}px`}unhighlight(e){let n;e in this.highlights&&(n=this.highlights[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let n;e in this.underlines&&(n=this.underlines[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let n;e in this.marks&&(n=this.marks[e],this.element.removeChild(n.element),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&kS(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}hr(I_.prototype);function nk(){var t="reverse",e=rk();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function rk(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(n),e.appendChild(r),t.appendChild(e),t}function ik(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mp=ik,sk=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,ak=sk,ok=ak,uk=typeof self=="object"&&self&&self.Object===Object&&self,lk=ok||uk||Function("return this")(),R_=lk,fk=R_,ck=function(){return fk.Date.now()},hk=ck,dk=/\s/;function pk(t){for(var e=t.length;e--&&dk.test(t.charAt(e)););return e}var vk=pk,mk=vk,gk=/^\s+/;function yk(t){return t&&t.slice(0,mk(t)+1).replace(gk,"")}var _k=yk,wk=R_,Ek=wk.Symbol,A_=Ek,Hm=A_,N_=Object.prototype,bk=N_.hasOwnProperty,xk=N_.toString,Da=Hm?Hm.toStringTag:void 0;function Sk(t){var e=bk.call(t,Da),n=t[Da];try{t[Da]=void 0;var r=!0}catch{}var i=xk.call(t);return r&&(e?t[Da]=n:delete t[Da]),i}var kk=Sk,Tk=Object.prototype,Ck=Tk.toString;function Ok(t){return Ck.call(t)}var Ik=Ok,Vm=A_,Rk=kk,Ak=Ik,Nk="[object Null]",Dk="[object Undefined]",qm=Vm?Vm.toStringTag:void 0;function Pk(t){return t==null?t===void 0?Dk:Nk:qm&&qm in Object(t)?Rk(t):Ak(t)}var Lk=Pk;function zk(t){return t!=null&&typeof t=="object"}var Mk=zk,Bk=Lk,Fk=Mk,Uk="[object Symbol]";function jk(t){return typeof t=="symbol"||Fk(t)&&Bk(t)==Uk}var Wk=jk,$k=_k,Ym=mp,Kk=Wk,Zm=0/0,Hk=/^[-+]0x[0-9a-f]+$/i,Vk=/^0b[01]+$/i,qk=/^0o[0-7]+$/i,Yk=parseInt;function Zk(t){if(typeof t=="number")return t;if(Kk(t))return Zm;if(Ym(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ym(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$k(t);var n=Vk.test(t);return n||qk.test(t)?Yk(t.slice(2),n?2:8):Hk.test(t)?Zm:+t}var Xk=Zk,Gk=mp,uc=hk,Xm=Xk,Qk="Expected a function",Jk=Math.max,eT=Math.min;function tT(t,e,n){var r,i,s,a,o,u,l=0,f=!1,c=!1,p=!0;if(typeof t!="function")throw new TypeError(Qk);e=Xm(e)||0,Gk(n)&&(f=!!n.leading,c="maxWait"in n,s=c?Jk(Xm(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function g(x){var T=r,I=i;return r=i=void 0,l=x,a=t.apply(I,T),a}function w(x){return l=x,o=setTimeout(h,e),f?g(x):a}function E(x){var T=x-u,I=x-l,A=e-T;return c?eT(A,s-I):A}function d(x){var T=x-u,I=x-l;return u===void 0||T>=e||T<0||c&&I>=s}function h(){var x=uc();if(d(x))return v(x);o=setTimeout(h,E(x))}function v(x){return o=void 0,p&&r?g(x):(r=i=void 0,a)}function y(){o!==void 0&&clearTimeout(o),l=0,r=u=i=o=void 0}function b(){return o===void 0?a:v(uc())}function _(){var x=uc(),T=d(x);if(r=arguments,i=this,u=x,T){if(o===void 0)return w(u);if(c)return clearTimeout(o),o=setTimeout(h,e),g(u)}return o===void 0&&(o=setTimeout(h,e)),a}return _.cancel=y,_.flush=b,_}var D_=tT,nT=D_,rT=mp,iT="Expected a function";function sT(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iT);return rT(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nT(t,e,{leading:r,maxWait:e,trailing:i})}var aT=sT;class oT{constructor(e){this.settings=e||{},this.id="epubjs-container-"+hp(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let n=e.height,r=e.width,i=e.overflow||!1,s=e.axis||"vertical",a=e.direction;Wt(this.settings,e),e.height&&pt(e.height)&&(n=e.height+"px"),e.width&&pt(e.width)&&(r=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),r&&(o.style.width=r),n&&(o.style.height=n),i&&(i==="scroll"&&s==="vertical"?(o.style["overflow-y"]=i,o.style["overflow-x"]="hidden"):i==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=i):o.style.overflow=i),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(e),n}getElement(e){var n;if(_S(e)?n=e:typeof e=="string"&&(n=document.getElementById(e)),!n)throw new Error("Not an Element");return n}attachTo(e){var n=this.getElement(e),r;if(!!n)return this.settings.hidden?r=this.wrapper:r=this.container,n.appendChild(r),this.element=n,n}getContainer(){return this.container}onResize(e){(!pt(this.settings.width)||!pt(this.settings.height))&&(this.resizeFunc=aT(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,n){var r;let i=e||this.settings.width,s=n||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):pt(e)?this.container.style.width=e+"px":this.container.style.width=e,n===null?(r=r||this.element.getBoundingClientRect(),r.height&&(n=r.height,this.container.style.height=n+"px")):pt(n)?this.container.style.height=n+"px":this.container.style.height=n,pt(e)||(e=this.container.clientWidth),pt(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=gh(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return i||(e=a.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(n=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?gh():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,n){var r="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(i+=a+":"+s[a]+";")}),this.sheet.insertRule(r+e+" {"+i+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class uT{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,n){return this._views.splice(n,0,e),this.container&&(n<this.container.children.length?this.container.insertBefore(e.element,this.container.children[n]):this.container.appendChild(e.element)),this.length++,e}remove(e){var n=this._views.indexOf(e);n>-1&&this._views.splice(n,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,n=this.length;if(!!this.length){for(var r=0;r<n;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var n,r=this.length,i=0;i<r;i++)if(n=this._views[i],n.displayed&&n.section.index==e.index)return n}displayed(){for(var e=[],n,r=this.length,i=0;i<r;i++)n=this._views[i],n.displayed&&e.push(n);return e}show(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class Ll{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new dp(this),this.settings=Wt(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Wt(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,n){let r=e.tagName;typeof this.settings.fullsize=="undefined"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=nk(),this.stage=new oT({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new uT(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",function(n){this.destroy()}.bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(oe.MANAGERS.ORIENTATION_CHANGE,n)}.bind(this),500)}onResized(e){this.resize()}resize(e,n,r){let i=this.stage.size(e,n);if(this.winBounds=gh(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(oe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,n){return new this.View(e,Wt(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(e,n,r){let i;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||n.index===0)return;if(i=n.next(),i&&!i.properties.includes("page-spread-left"))return r.call(this,i)}}display(e,n){var r=new De,i=r.promise;(n===e.href||pt(n))&&(n=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=s.width();this.scrollTo(o.left+u,o.top,!0)}if(n){let u=s.locationOf(n),l=s.width();this.moveTo(u,l)}return r.resolve(),i}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then(function(o){if(n){let u=o.locationOf(n),l=o.width();this.moveTo(u,l)}}.bind(this),o=>{r.reject(o)}).then(function(){return this.handleNextPrePaginated(a,e,this.add)}.bind(this)).then(function(){this.views.show(),r.resolve()}.bind(this)),i}afterDisplayed(e){this.emit(oe.MANAGERS.ADDED,e)}afterResized(e){this.emit(oe.MANAGERS.RESIZE,e.section)}moveTo(e,n){var r=0,i=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),i=Math.floor(e.top/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-n),this.scrollTo(r,i,!0)}add(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(oe.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(oe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}append(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(oe.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(oe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}prepend(e,n){var r=this.createView(e,n);return r.on(oe.VIEWS.RESIZED,i=>{this.counter(i)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(oe.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(oe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,n;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(i=!0),this.append(e,i).then(function(){return this.handleNextPrePaginated(i,e,this.append)}.bind(this),s=>s).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e,n;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(i=!0),this.prepend(e,i).then(function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}.bind(this),s=>s).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=n.height<window.innerHeight?n.height:window.innerHeight,i=n.width<window.innerWidth?n.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=s?window.scrollY:window.scrollX),e.map(l=>{let{index:f,href:c}=l.section,p=l.position(),g=l.width(),w=l.height(),E,d,h,v;s?(E=a+n.top-p.top+o,d=E+r-o,v=this.layout.count(w,r).pages,h=r):(E=a+n.left-p.left+o,d=E+i-o,v=this.layout.count(g,i).pages,h=i);let y=Math.ceil(E/h),b=[],_=Math.ceil(d/h);if(this.settings.direction==="rtl"&&!s){let I=y;y=v-_,_=v-I}b=[];for(var x=y;x<=_;x++){let I=x+1;b.push(I)}let T=this.mapping.page(l.contents,l.section.cfiBase,E,d);return{index:f,href:c,pages:b,totalPages:v,mapping:T}})}paginatedLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=0,i=0;return this.settings.fullsize&&(r=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,l,f=a.position(),c=a.width(),p,g,w;this.settings.direction==="rtl"?(l=n.right-r,w=Math.min(Math.abs(l-f.left),this.layout.width)-i,g=f.width-(f.right-l)-i,p=g-w):(l=n.left+r,w=Math.min(f.right-l,this.layout.width)-i,p=l-f.left+i,g=p+w),i+=w;let E=this.mapping.page(a.contents,a.section.cfiBase,p,g),d=this.layout.count(c).pages,h=Math.floor(p/this.layout.pageWidth),v=[],y=Math.floor(g/this.layout.pageWidth);if(h<0&&(h=0,y=y+1),this.settings.direction==="rtl"){let _=h;h=d-y,y=d-_}for(var b=h+1;b<=y;b++){let _=b;v.push(_)}return{index:o,href:u,pages:v,totalPages:d,mapping:E}})}isVisible(e,n,r,i){var s=e.position(),a=i||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-n&&s.left<a.right+r?!0:this.settings.axis==="vertical"&&s.bottom>a.top-n&&s.top<a.bottom+r}visible(){for(var e=this.bounds(),n=this.views.displayed(),r=n.length,i=[],s,a,o=0;o<r;o++)a=n[o],s=this.isVisible(a,0,0,e),s===!0&&i.push(a);return i}scrollBy(e,n,r){let i=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,n*i):(e&&(this.container.scrollLeft+=e*i),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(e,n,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,n):(this.container.scrollLeft=e,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let e,n;this.settings.fullsize?(e=window.scrollY,n=window.scrollX):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(oe.MANAGERS.SCROLL,{top:e,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(oe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){!this.stage||(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Dl(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,n){!n&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Dl(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,n="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(n){const r=n&&n.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}hr(Ll.prototype);const lT=Math.PI/2,fT={easeOutSine:function(t){return Math.sin(t*lT)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInCubic:function(t){return Math.pow(t,3)}};class Eh{constructor(e,n){this.settings=Wt({duration:80,minVelocity:.2,minDistance:10,easing:fT.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(oe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(oe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let n=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{n.on(r,i=>this.triggerViewEvent(i,n))})}triggerViewEvent(e,n){this.emit(e.type,e,n)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:n,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:n,screenY:r}=e.touches[0],i=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&i<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,r=Math.abs(n),i=this.endTime-this.startTime,s=n/i,a=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return e%n!==0}snap(e=0){let n=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,i=Math.round(n/r)*r;return e&&(i+=e*r),this.smoothScrollTo(i)}smoothScrollTo(e){const n=new De,r=this.scrollLeft,i=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const u=this.now(),l=Math.min(1,(u-i)/s);if(a(l),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}l<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(r+(e-r)*l,0)):(this.scrollTo(e,0),this.snapping=!1,n.resolve())}return o.call(this),n.promise}scrollTo(e=0,n=0){this.fullsize?window.scroll(e,n):(this.scroller.scrollLeft=e,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){!this.scroller||(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}hr(Eh.prototype);class cT extends Ll{constructor(e){super(e);this.name="continuous",this.settings=Wt(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Wt(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,n){return Ll.prototype.display.call(this,e,n).then(function(){return this.fill()}.bind(this))}fill(e){var n=e||new De;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(n):n.resolve()}),n.promise}moveTo(e){var n=0,r=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(n>0||r>0)&&this.scrollBy(n,r,!0)}afterResized(e){this.emit(oe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var n=this.createView(e);return this.views.append(n),n.on(oe.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(oe.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(oe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(e){var n=this.createView(e);return n.on(oe.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(oe.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(oe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(e){var n=this.createView(e);return n.on(oe.VIEWS.RESIZED,r=>{this.counter(r),n.expanded=!0}),n.on(oe.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(oe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var n=this.bounds(),r=this.views.all(),i=r.length,s=typeof e!="undefined"?e:this.settings.offset||0,a,o,u=new De,l=[],f=0;f<i;f++)if(o=r[f],a=this.isVisible(o,s,s,n),a===!0)if(o.displayed)o.show();else{let c=o.display(this.request).then(function(p){p.show()},p=>{o.hide()});l.push(c)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return l.length?Promise.all(l).catch(c=>{u.reject(c)}):(u.resolve(),u.promise)}check(e,n){var r=new De,i=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),n&&!s&&(a=n);var o=this._bounds;let u=s?this.scrollLeft:this.scrollTop,l=s?Math.floor(o.width):o.height,f=s?this.container.scrollWidth:this.container.scrollHeight,c=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",p=this.settings.rtlScrollType,g=this.settings.direction==="rtl";this.settings.fullsize?(s&&g&&p==="negative"||!s&&g&&p==="default")&&(u=u*-1):(g&&p==="default"&&c==="horizontal"&&(u=f-l-u),g&&p==="negative"&&c==="horizontal"&&(u=u*-1));let w=()=>{let y=this.views.first(),b=y&&y.section.prev();b&&i.push(this.prepend(b))},E=()=>{let y=this.views.last(),b=y&&y.section.next();b&&i.push(this.append(b))},d=u+l+a,h=u-a;d>=f&&E(),h<0&&w();let v=i.map(y=>y.display(this.request));return i.length?Promise.all(v).then(()=>this.check()).then(()=>this.update(a),y=>y):(this.q.enqueue(function(){this.update()}.bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new De,n=this.views.displayed(),r=n[0],i=n[n.length-1],s=this.views.indexOf(r),a=this.views.indexOf(i),o=this.views.slice(0,s),u=this.views.slice(a+1),l=0;l<o.length-1;l++)this.erase(o[l],o);for(var f=1;f<u.length;f++)this.erase(u[f]);return e.resolve(),e.promise}erase(e,n){var r,i;this.settings.fullsize?(r=window.scrollY,i=window.scrollX):(r=this.container.scrollTop,i=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),n&&(this.settings.axis==="vertical"?this.scrollTo(0,r-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(i+Math.floor(s.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",function(n){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Eh(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=h_;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=D_(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,n,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,n=window.scrollX*r):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(oe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(oe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Eh(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class P_{constructor(e,n){this.settings=Wt(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Wt(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Kn(this),this.hooks.serialize=new Kn(this),this.hooks.content=new Kn(this),this.hooks.unloaded=new Kn(this),this.hooks.layout=new Kn(this),this.hooks.render=new Kn(this),this.hooks.show=new Kn(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new WS(this),this.annotations=new HS(this),this.epubcfi=new Pe,this.q=new dp(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new De,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var n;return typeof e=="string"&&e==="default"?n=Ll:typeof e=="string"&&e==="continuous"?n=cT:n=e,n}requireView(e){var n;return typeof e=="string"&&e==="iframe"?n=I_:n=e,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(oe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(oe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(oe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(oe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(oe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(oe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(oe.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(!!this.book){this.epubcfi.isCfiString(e);var n=new De,r=n.promise,i;return this.displaying=n,this.book.locations.length()&&wS(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),i=this.book.spine.get(e),i?(this.manager.display(i,e).then(()=>{n.resolve(i),this.displaying=void 0,this.emit(oe.RENDITION.DISPLAYED,i),this.reportLocation()},s=>{this.emit(oe.RENDITION.DISPLAY_ERROR,s)}),r):(n.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(oe.VIEWS.MARK_CLICKED,(n,r)=>this.triggerMarkEvent(n,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(oe.RENDITION.RENDERED,e.section,e)}):this.emit(oe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(oe.RENDITION.REMOVED,e.section,e)})}onResized(e,n){this.emit(oe.RENDITION.RESIZED,{width:e.width,height:e.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(e){this.emit(oe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,n,r){e&&(this.settings.width=e),n&&(this.settings.height=n),this.manager.resize(e,n,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var n,r=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,l=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:r,spread:i,orientation:s,flow:a,viewport:o,minSpreadWidth:u,direction:l},n}flow(e){var n=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(n="scrolled"),(e==="auto"||e==="paginated")&&(n="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new y_(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(oe.LAYOUT.UPDATED,(n,r)=>{this.emit(oe.RENDITION.LAYOUT,n,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,n){this.settings.spread=e,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(e,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then(function(i){let s=this.located(i);!s||!s.start||!s.end||(this.location=s,this.emit(oe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(oe.RENDITION.RELOCATED,this.location))}.bind(this));else if(r){let i=this.located(r);if(!i||!i.start||!i.end)return;this.location=i,this.emit(oe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(oe.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then(function(n){return this.located(n)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let n=e[0],r=e[e.length-1],i={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},s=this.book.locations.locationFromCfi(n.mapping.start),a=this.book.locations.locationFromCfi(r.mapping.end);s!=null&&(i.start.location=s,i.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(i.end.location=a,i.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(n.mapping.start),u=this.book.pageList.pageFromCfi(r.mapping.end);return o!=-1&&(i.start.page=o),u!=-1&&(i.end.page=u),r.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),n.index===this.book.spine.first().index&&i.start.displayed.page===1&&(i.atStart=!0),i}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Xu.forEach(n=>{e.on(n,r=>this.triggerViewEvent(r,e))}),e.on(oe.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,e))}triggerViewEvent(e,n){this.emit(e.type,e,n)}triggerSelectedEvent(e,n){this.emit(oe.RENDITION.SELECTED,e,n)}triggerMarkEvent(e,n,r){this.emit(oe.RENDITION.MARK_CLICKED,e,n,r)}getRange(e,n){var r=new Pe(e),i=this.manager.visible().filter(function(s){if(r.spinePos===s.index)return!0});if(i.length)return i[0].contents.range(r,n)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let n=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,i=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(oe.CONTENTS.LINK_CLICKED,n=>{let r=this.book.path.relative(n);this.display(r)})}injectStylesheet(e,n){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,n){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,n){let r=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),r&&i.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(i)}}hr(P_.prototype);var L_={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(l,f){if(!i[l]){if(!r[l]){var c=typeof Vr=="function"&&Vr;if(!f&&c)return c(l,!0);if(o)return o(l,!0);var p=new Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p}var g=i[l]={exports:{}};r[l][0].call(g.exports,function(w){var E=r[l][1][w];return a(E||w)},g,g.exports,n,r,i,s)}return i[l].exports}for(var o=typeof Vr=="function"&&Vr,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var l=[],f,c,p,g,w,E,d,h=0,v=u.length,y=v,b=s.getTypeOf(u)!=="string";h<u.length;)y=v-h,b?(f=u[h++],c=h<v?u[h++]:0,p=h<v?u[h++]:0):(f=u.charCodeAt(h++),c=h<v?u.charCodeAt(h++):0,p=h<v?u.charCodeAt(h++):0),g=f>>2,w=(f&3)<<4|c>>4,E=y>1?(c&15)<<2|p>>6:64,d=y>2?p&63:64,l.push(o.charAt(g)+o.charAt(w)+o.charAt(E)+o.charAt(d));return l.join("")},i.decode=function(u){var l,f,c,p,g,w,E,d=0,h=0,v="data:";if(u.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");var y=u.length*3/4;if(u.charAt(u.length-1)===o.charAt(64)&&y--,u.charAt(u.length-2)===o.charAt(64)&&y--,y%1!==0)throw new Error("Invalid base64 input, bad content length.");var b;for(a.uint8array?b=new Uint8Array(y|0):b=new Array(y|0);d<u.length;)p=o.indexOf(u.charAt(d++)),g=o.indexOf(u.charAt(d++)),w=o.indexOf(u.charAt(d++)),E=o.indexOf(u.charAt(d++)),l=p<<2|g>>4,f=(g&15)<<4|w>>2,c=(w&3)<<6|E,b[h++]=l,w!==64&&(b[h++]=f),E!==64&&(b[h++]=c);return b}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function l(f,c,p,g,w){this.compressedSize=f,this.uncompressedSize=c,this.crc32=p,this.compression=g,this.compressedContent=w}l.prototype={getContentWorker:function(){var f=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(f,c,p){return f.pipe(new o).pipe(new u("uncompressedSize")).pipe(c.compressWorker(p)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},r.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(a){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils");function a(){for(var f,c=[],p=0;p<256;p++){f=p;for(var g=0;g<8;g++)f=f&1?3988292384^f>>>1:f>>>1;c[p]=f}return c}var o=a();function u(f,c,p,g){var w=o,E=g+p;f=f^-1;for(var d=g;d<E;d++)f=f>>>8^w[(f^c[d])&255];return f^-1}function l(f,c,p,g){var w=o,E=g+p;f=f^-1;for(var d=g;d<E;d++)f=f>>>8^w[(f^c.charCodeAt(d))&255];return f^-1}r.exports=function(c,p){if(typeof c=="undefined"||!c.length)return 0;var g=s.getTypeOf(c)!=="string";return g?u(p|0,c,c.length,0):l(p|0,c,c.length,0)}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;typeof Promise!="undefined"?s=Promise:s=n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",a=n("pako"),o=n("./utils"),u=n("./stream/GenericWorker"),l=s?"uint8array":"array";i.magic="\b\0";function f(c,p){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=p,this.meta={}}o.inherits(f,u),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,c.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(p){c.push({data:p,meta:c.meta})}},i.compressWorker=function(c){return new f("Deflate",c)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker"),o=n("../utf8"),u=n("../crc32"),l=n("../signature"),f=function(h,v){var y="",b;for(b=0;b<v;b++)y+=String.fromCharCode(h&255),h=h>>>8;return y},c=function(h,v){var y=h;return h||(y=v?16893:33204),(y&65535)<<16},p=function(h,v){return(h||0)&63},g=function(h,v,y,b,_,x){var T=h.file,I=h.compression,A=x!==o.utf8encode,z=s.transformTo("string",x(T.name)),W=s.transformTo("string",o.utf8encode(T.name)),F=T.comment,H=s.transformTo("string",x(F)),fe=s.transformTo("string",o.utf8encode(F)),X=W.length!==T.name.length,ie=fe.length!==F.length,se,ae,_e="",ke="",q="",Y=T.dir,ue=T.date,de={crc32:0,compressedSize:0,uncompressedSize:0};(!v||y)&&(de.crc32=h.crc32,de.compressedSize=h.compressedSize,de.uncompressedSize=h.uncompressedSize);var Te=0;v&&(Te|=8),!A&&(X||ie)&&(Te|=2048);var Ue=0,Me=0;Y&&(Ue|=16),_==="UNIX"?(Me=798,Ue|=c(T.unixPermissions,Y)):(Me=20,Ue|=p(T.dosPermissions)),se=ue.getUTCHours(),se=se<<6,se=se|ue.getUTCMinutes(),se=se<<5,se=se|ue.getUTCSeconds()/2,ae=ue.getUTCFullYear()-1980,ae=ae<<4,ae=ae|ue.getUTCMonth()+1,ae=ae<<5,ae=ae|ue.getUTCDate(),X&&(ke=f(1,1)+f(u(z),4)+W,_e+="up"+f(ke.length,2)+ke),ie&&(q=f(1,1)+f(u(H),4)+fe,_e+="uc"+f(q.length,2)+q);var xe="";xe+=`
\0`,xe+=f(Te,2),xe+=I.magic,xe+=f(se,2),xe+=f(ae,2),xe+=f(de.crc32,4),xe+=f(de.compressedSize,4),xe+=f(de.uncompressedSize,4),xe+=f(z.length,2),xe+=f(_e.length,2);var He=l.LOCAL_FILE_HEADER+xe+z+_e,ot=l.CENTRAL_FILE_HEADER+f(Me,2)+xe+f(H.length,2)+"\0\0\0\0"+f(Ue,4)+f(b,4)+z+_e+H;return{fileRecord:He,dirRecord:ot}},w=function(h,v,y,b,_){var x="",T=s.transformTo("string",_(b));return x=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(h,2)+f(h,2)+f(v,4)+f(y,4)+f(T.length,2)+T,x},E=function(h){var v="";return v=l.DATA_DESCRIPTOR+f(h.crc32,4)+f(h.compressedSize,4)+f(h.uncompressedSize,4),v};function d(h,v,y,b){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(d,a),d.prototype.push=function(h){var v=h.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,a.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-b-1))/y:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var y=g(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,y=g(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:E(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-h,b=w(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(y){v.processChunk(y)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(y){v.error(y)}),this},d.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},d.prototype.error=function(h){var v=this._sources;if(!a.prototype.error.call(this,h))return!1;for(var y=0;y<v.length;y++)try{v[y].error(h)}catch{}return!0},d.prototype.lock=function(){a.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker"),o=function(u,l){var f=u||l,c=s[f];if(!c)throw new Error(f+" is not a valid compression method !");return c};i.generateWorker=function(u,l,f){var c=new a(l.streamFiles,f,l.platform,l.encodeFileName),p=0;try{u.forEach(function(g,w){p++;var E=o(w.options.compression,l.compression),d=w.options.compressionOptions||l.compressionOptions||{},h=w.dir,v=w.date;w._compressWorker(E,d).withStreamInfo("file",{name:g,dir:h,date:v,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(c)}),c.entriesCount=p}catch(g){c.error(g)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}s.prototype=n("./object"),s.prototype.loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.7.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),u=n("./zipEntries"),l=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function c(p){return new a.Promise(function(g,w){var E=p.decompressed.getContentWorker().pipe(new l);E.on("error",function(d){w(d)}).on("end",function(){E.streamInfo.crc32!==p.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(p,g){var w=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(E){var d=new u(g);return d.load(E),d}).then(function(d){var h=[a.Promise.resolve(d)],v=d.files;if(g.checkCRC32)for(var y=0;y<v.length;y++)h.push(c(v[y]));return a.Promise.all(h)}).then(function(d){for(var h=d.shift(),v=h.files,y=0;y<v.length;y++){var b=v[y];w.file(b.fileNameStr,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:g.createFolders})}return h.zipComment.length&&(w.comment=h.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(u,l){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}s.inherits(o,a),o.prototype._bindStream=function(u){var l=this;this._stream=u,u.pause(),u.on("data",function(f){l.push({data:f,meta:{percent:0}})}).on("error",function(f){l.isPaused?this.generatedError=f:l.error(f)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable,a=n("../utils");a.inherits(o,s);function o(u,l,f){s.call(this,l),this._helper=u;var c=this;u.on("data",function(p,g){c.push(p)||c._helper.pause(),f&&f(g)}).on("error",function(p){c.emit("error",p)}).on("end",function(){c.push(null)})}o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){var s=n("./utf8"),a=n("./utils"),o=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),l=n("./defaults"),f=n("./compressedObject"),c=n("./zipObject"),p=n("./generate"),g=n("./nodejsUtils"),w=n("./nodejs/NodejsStreamInputAdapter"),E=function(_,x,T){var I=a.getTypeOf(x),A,z=a.extend(T||{},l);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&z.unixPermissions&16384&&(z.dir=!0),z.dosPermissions&&z.dosPermissions&16&&(z.dir=!0),z.dir&&(_=h(_)),z.createFolders&&(A=d(_))&&v.call(this,A,!0);var W=I==="string"&&z.binary===!1&&z.base64===!1;(!T||typeof T.binary=="undefined")&&(z.binary=!W);var F=x instanceof f&&x.uncompressedSize===0;(F||z.dir||!x||x.length===0)&&(z.base64=!1,z.binary=!0,x="",z.compression="STORE",I="string");var H=null;x instanceof f||x instanceof o?H=x:g.isNode&&g.isStream(x)?H=new w(_,x):H=a.prepareContent(_,x,z.binary,z.optimizedBinaryString,z.base64);var fe=new c(_,H,z);this.files[_]=fe},d=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var x=_.lastIndexOf("/");return x>0?_.substring(0,x):""},h=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},v=function(_,x){return x=typeof x!="undefined"?x:l.createFolders,_=h(_),this.files[_]||E.call(this,_,null,{dir:!0,createFolders:x}),this.files[_]};function y(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var x,T,I;for(x in this.files)I=this.files[x],T=x.slice(this.root.length,x.length),T&&x.slice(0,this.root.length)===this.root&&_(T,I)},filter:function(_){var x=[];return this.forEach(function(T,I){_(T,I)&&x.push(I)}),x},file:function(_,x,T){if(arguments.length===1)if(y(_)){var I=_;return this.filter(function(z,W){return!W.dir&&I.test(z)})}else{var A=this.files[this.root+_];return A&&!A.dir?A:null}else _=this.root+_,E.call(this,_,x,T);return this},folder:function(_){if(!_)return this;if(y(_))return this.filter(function(A,z){return z.dir&&_.test(A)});var x=this.root+_,T=v.call(this,x),I=this.clone();return I.root=T.name,I},remove:function(_){_=this.root+_;var x=this.files[_];if(x||(_.slice(-1)!=="/"&&(_+="/"),x=this.files[_]),x&&!x.dir)delete this.files[_];else for(var T=this.filter(function(A,z){return z.name.slice(0,_.length)===_}),I=0;I<T.length;I++)delete this.files[T[I].name];return this},generate:function(_){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var x,T={};try{if(T=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),T.type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),(T.platform==="darwin"||T.platform==="freebsd"||T.platform==="linux"||T.platform==="sunos")&&(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var I=T.comment||this.comment||"";x=p.generateWorker(this,T,I)}catch(A){x=new o("error"),x.error(A)}return new u(x,T.type||"string",T.mimeType)},generateAsync:function(_,x){return this.generateInternalStream(_).accumulate(x)},generateNodeStream:function(_,x){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(x)}};r.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader"),a=n("../utils");function o(u){s.call(this,u);for(var l=0;l<this.data.length;l++)u[l]=u[l]&255}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var l=u.charCodeAt(0),f=u.charCodeAt(1),c=u.charCodeAt(2),p=u.charCodeAt(3),g=this.length-4;g>=0;--g)if(this.data[g]===l&&this.data[g+1]===f&&this.data[g+2]===c&&this.data[g+3]===p)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var l=u.charCodeAt(0),f=u.charCodeAt(1),c=u.charCodeAt(2),p=u.charCodeAt(3),g=this.readData(4);return l===g[0]&&f===g[1]&&c===g[2]&&p===g[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(o){},readInt:function(o){var u=0,l;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(o){},lastIndexOfSignature:function(o){},readAndCheckSignature:function(o){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader"),a=n("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader"),a=n("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){var l=this.readData(4);return u===l},o.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader"),a=n("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),u=n("./StringReader"),l=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(c){var p=s.getTypeOf(c);return s.checkSupport(p),p==="string"&&!a.uint8array?new u(c):p==="nodebuffer"?new l(c):a.uint8array?new f(s.transformTo("uint8array",c)):new o(s.transformTo("array",c))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(o,s),o.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32"),o=n("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(u,s),u.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(o,a),o.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}a.prototype.processChunk.call(this,u)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker"),o=16*1024;function u(l){a.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){f.dataIsReady=!0,f.data=c,f.max=c&&c.length||0,f.type=s.getTypeOf(c),f.isPaused||f._tickAndRepeat()},function(c){f.error(c)})}s.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=o,f=null,c=Math.min(this.max,this.index+l);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,c);break;case"uint8array":f=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":f=this.data.slice(this.index,c);break}return this.index=c,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(u){o.processChunk(u)}),a.on("end",function(){o.end()}),a.on("error",function(u){o.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(a)||(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),u=n("../base64"),l=n("../support"),f=n("../external"),c=null;if(l.nodestream)try{c=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(d,h,v){switch(d){case"blob":return s.newBlob(s.transformTo("arraybuffer",h),v);case"base64":return u.encode(h);default:return s.transformTo(d,h)}}function g(d,h){var v,y=0,b=null,_=0;for(v=0;v<h.length;v++)_+=h[v].length;switch(d){case"string":return h.join("");case"array":return Array.prototype.concat.apply([],h);case"uint8array":for(b=new Uint8Array(_),v=0;v<h.length;v++)b.set(h[v],y),y+=h[v].length;return b;case"nodebuffer":return Buffer.concat(h);default:throw new Error("concat : unsupported type '"+d+"'")}}function w(d,h){return new f.Promise(function(v,y){var b=[],_=d._internalType,x=d._outputType,T=d._mimeType;d.on("data",function(I,A){b.push(I),h&&h(A)}).on("error",function(I){b=[],y(I)}).on("end",function(){try{var I=p(x,g(_,b),T);v(I)}catch(A){y(A)}b=[]}).resume()})}function E(d,h,v){var y=h;switch(h){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string";break}try{this._internalType=y,this._outputType=h,this._mimeType=v,s.checkSupport(y),this._worker=d.pipe(new a(y)),d.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}E.prototype={accumulate:function(d){return w(this,d)},on:function(d,h){var v=this;return d==="data"?this._worker.on(d,function(y){h.call(v,y.data,y.meta)}):this._worker.on(d,function(){s.delay(h,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},r.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),u=n("./stream/GenericWorker"),l=new Array(256),f=0;f<256;f++)l[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;l[254]=l[254]=1;var c=function(d){var h,v,y,b,_,x=d.length,T=0;for(b=0;b<x;b++)v=d.charCodeAt(b),(v&64512)===55296&&b+1<x&&(y=d.charCodeAt(b+1),(y&64512)===56320&&(v=65536+(v-55296<<10)+(y-56320),b++)),T+=v<128?1:v<2048?2:v<65536?3:4;for(a.uint8array?h=new Uint8Array(T):h=new Array(T),_=0,b=0;_<T;b++)v=d.charCodeAt(b),(v&64512)===55296&&b+1<x&&(y=d.charCodeAt(b+1),(y&64512)===56320&&(v=65536+(v-55296<<10)+(y-56320),b++)),v<128?h[_++]=v:v<2048?(h[_++]=192|v>>>6,h[_++]=128|v&63):v<65536?(h[_++]=224|v>>>12,h[_++]=128|v>>>6&63,h[_++]=128|v&63):(h[_++]=240|v>>>18,h[_++]=128|v>>>12&63,h[_++]=128|v>>>6&63,h[_++]=128|v&63);return h},p=function(d,h){var v;for(h=h||d.length,h>d.length&&(h=d.length),v=h-1;v>=0&&(d[v]&192)===128;)v--;return v<0||v===0?h:v+l[d[v]]>h?v:h},g=function(d){var h,v,y,b,_=d.length,x=new Array(_*2);for(v=0,h=0;h<_;){if(y=d[h++],y<128){x[v++]=y;continue}if(b=l[y],b>4){x[v++]=65533,h+=b-1;continue}for(y&=b===2?31:b===3?15:7;b>1&&h<_;)y=y<<6|d[h++]&63,b--;if(b>1){x[v++]=65533;continue}y<65536?x[v++]=y:(y-=65536,x[v++]=55296|y>>10&1023,x[v++]=56320|y&1023)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),s.applyFromCharCode(x)};i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):c(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(h=s.transformTo(a.uint8array?"uint8array":"array",h),g(h))};function w(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(w,u),w.prototype.processChunk=function(d){var h=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=h;h=new Uint8Array(v.length+this.leftOver.length),h.set(this.leftOver,0),h.set(v,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var y=p(h),b=h;y!==h.length&&(a.uint8array?(b=h.subarray(0,y),this.leftOver=h.subarray(y,h.length)):(b=h.slice(0,y),this.leftOver=h.slice(y,h.length))),this.push({data:i.utf8decode(b),meta:d.meta})},w.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=w;function E(){u.call(this,"utf-8 encode")}s.inherits(E,u),E.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),u=n("set-immediate-shim"),l=n("./external");function f(h){var v=null;return s.uint8array?v=new Uint8Array(h.length):v=new Array(h.length),p(h,v)}i.newBlob=function(h,v){i.checkSupport("blob");try{return new Blob([h],{type:v})}catch{try{var y=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,b=new y;return b.append(h),b.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(h){return h}function p(h,v){for(var y=0;y<h.length;++y)v[y]=h.charCodeAt(y)&255;return v}var g={stringifyByChunk:function(h,v,y){var b=[],_=0,x=h.length;if(x<=y)return String.fromCharCode.apply(null,h);for(;_<x;)v==="array"||v==="nodebuffer"?b.push(String.fromCharCode.apply(null,h.slice(_,Math.min(_+y,x)))):b.push(String.fromCharCode.apply(null,h.subarray(_,Math.min(_+y,x)))),_+=y;return b.join("")},stringifyByChar:function(h){for(var v="",y=0;y<h.length;y++)v+=String.fromCharCode(h[y]);return v},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function w(h){var v=65536,y=i.getTypeOf(h),b=!0;if(y==="uint8array"?b=g.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=g.applyCanBeUsed.nodebuffer),b)for(;v>1;)try{return g.stringifyByChunk(h,y,v)}catch{v=Math.floor(v/2)}return g.stringifyByChar(h)}i.applyFromCharCode=w;function E(h,v){for(var y=0;y<h.length;y++)v[y]=h[y];return v}var d={};d.string={string:c,array:function(h){return p(h,new Array(h.length))},arraybuffer:function(h){return d.string.uint8array(h).buffer},uint8array:function(h){return p(h,new Uint8Array(h.length))},nodebuffer:function(h){return p(h,o.allocBuffer(h.length))}},d.array={string:w,array:c,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},d.arraybuffer={string:function(h){return w(new Uint8Array(h))},array:function(h){return E(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:c,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},d.uint8array={string:w,array:function(h){return E(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:c,nodebuffer:function(h){return o.newBufferFrom(h)}},d.nodebuffer={string:w,array:function(h){return E(h,new Array(h.length))},arraybuffer:function(h){return d.nodebuffer.uint8array(h).buffer},uint8array:function(h){return E(h,new Uint8Array(h.length))},nodebuffer:c},i.transformTo=function(h,v){if(v||(v=""),!h)return v;i.checkSupport(h);var y=i.getTypeOf(v),b=d[y][h](v);return b},i.getTypeOf=function(h){if(typeof h=="string")return"string";if(Object.prototype.toString.call(h)==="[object Array]")return"array";if(s.nodebuffer&&o.isBuffer(h))return"nodebuffer";if(s.uint8array&&h instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&h instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(h){var v=s[h.toLowerCase()];if(!v)throw new Error(h+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(h){var v="",y,b;for(b=0;b<(h||"").length;b++)y=h.charCodeAt(b),v+="\\x"+(y<16?"0":"")+y.toString(16).toUpperCase();return v},i.delay=function(h,v,y){u(function(){h.apply(y||null,v||[])})},i.inherits=function(h,v){var y=function(){};y.prototype=v.prototype,h.prototype=new y},i.extend=function(){var h={},v,y;for(v=0;v<arguments.length;v++)for(y in arguments[v])arguments[v].hasOwnProperty(y)&&typeof h[y]=="undefined"&&(h[y]=arguments[v][y]);return h},i.prepareContent=function(h,v,y,b,_){var x=l.Promise.resolve(v).then(function(T){var I=s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1);return I&&typeof FileReader!="undefined"?new l.Promise(function(A,z){var W=new FileReader;W.onload=function(F){A(F.target.result)},W.onerror=function(F){z(F.target.error)},W.readAsArrayBuffer(T)}):T});return x.then(function(T){var I=i.getTypeOf(T);return I?(I==="arraybuffer"?T=i.transformTo("uint8array",T):I==="string"&&(_?T=a.decode(T):y&&b!==!0&&(T=f(T))),T):l.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),u=n("./zipEntry");n("./utf8");var l=n("./support");function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(c)+")")}},isSignature:function(c,p){var g=this.reader.index;this.reader.setIndex(c);var w=this.reader.readString(4),E=w===p;return this.reader.setIndex(g),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),p=l.uint8array?"uint8array":"array",g=a.transformTo(p,c);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c=this.zip64EndOfCentralSize-44,p=0,g,w,E;p<c;)g=this.reader.readInt(2),w=this.reader.readInt(4),E=this.reader.readData(w),this.zip64ExtensibleData[g]={id:g,length:w,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,p;for(c=0;c<this.files.length;c++)p=this.files[c],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)c=new u({zip64:this.zip64},this.loadOptions),c.readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0){var p=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw p?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(c);var g=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),c<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var E=g-w;if(E>0)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(c){this.reader=s(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),u=n("./crc32"),l=n("./utf8"),f=n("./compressions"),c=n("./support"),p=0,g=3,w=function(d){for(var h in f)if(!!f.hasOwnProperty(h)&&f[h].magic===d)return f[h];return null};function E(d,h){this.options=d,this.loadOptions=h}E.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(d){var h,v;if(d.skip(22),this.fileNameLength=d.readInt(2),v=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(h=w(this.compressionMethod),h===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,h,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var h=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(h),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),d===p&&(this.dosPermissions=this.externalFileAttributes&63),d===g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(d){if(!!this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(d){var h=d.index+this.extraFieldsLength,v,y,b;for(this.extraFields||(this.extraFields={});d.index+4<h;)v=d.readInt(2),y=d.readInt(2),b=d.readData(y),this.extraFields[v]={id:v,length:y,value:b};d.setIndex(h)},handleUTF8:function(){var d=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var v=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var h=s(d.value);return h.readInt(1)!==1||u(this.fileName)!==h.readInt(4)?null:l.utf8decode(h.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var h=s(d.value);return h.readInt(1)!==1||u(this.fileComment)!==h.readInt(4)?null:l.utf8decode(h.readData(d.length-5))}return null}},r.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),o=n("./utf8"),u=n("./compressedObject"),l=n("./stream/GenericWorker"),f=function(w,E,d){this.name=w,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=E,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}};f.prototype={internalStream:function(w){var E=null,d="string";try{if(!w)throw new Error("No output type specified.");d=w.toLowerCase();var h=d==="string"||d==="text";(d==="binarystring"||d==="text")&&(d="string"),E=this._decompressWorker();var v=!this._dataBinary;v&&!h&&(E=E.pipe(new o.Utf8EncodeWorker)),!v&&h&&(E=E.pipe(new o.Utf8DecodeWorker))}catch(y){E=new l("error"),E.error(y)}return new s(E,d,"")},async:function(w,E){return this.internalStream(w).accumulate(E)},nodeStream:function(w,E){return this.internalStream(w||"nodebuffer").toNodejsStream(E)},_compressWorker:function(w,E){if(this._data instanceof u&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(d,w,E)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<c.length;g++)f.prototype[c[g]]=p;r.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,l=new a(w),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var c=new s.MessageChannel;c.port1.onmessage=w,o=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var d=s.document.createElement("script");d.onreadystatechange=function(){w(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:o=function(){setTimeout(w,0)};var p,g=[];function w(){p=!0;for(var d,h,v=g.length;v;){for(h=g,g=[],d=-1;++d<v;)h[d]();v=g.length}p=!1}r.exports=E;function E(d){g.push(d)===1&&!p&&o()}}).call(this,typeof Vn!="undefined"?Vn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];r.exports=c;function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}c.prototype.finally=function(_){if(typeof _!="function")return this;var x=this.constructor;return this.then(T,I);function T(A){function z(){return A}return x.resolve(_()).then(z)}function I(A){function z(){throw A}return x.resolve(_()).then(z)}},c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,x){if(typeof _!="function"&&this.state===l||typeof x!="function"&&this.state===u)return this;var T=new this.constructor(a);if(this.state!==f){var I=this.state===l?_:x;g(T,I,this.outcome)}else this.queue.push(new p(T,_,x));return T};function p(_,x,T){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},p.prototype.otherCallFulfilled=function(_){g(this.promise,this.onFulfilled,_)},p.prototype.callRejected=function(_){o.reject(this.promise,_)},p.prototype.otherCallRejected=function(_){g(this.promise,this.onRejected,_)};function g(_,x,T){s(function(){var I;try{I=x(T)}catch(A){return o.reject(_,A)}I===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,I)})}o.resolve=function(_,x){var T=d(w,x);if(T.status==="error")return o.reject(_,T.value);var I=T.value;if(I)E(_,I);else{_.state=l,_.outcome=x;for(var A=-1,z=_.queue.length;++A<z;)_.queue[A].callFulfilled(x)}return _},o.reject=function(_,x){_.state=u,_.outcome=x;for(var T=-1,I=_.queue.length;++T<I;)_.queue[T].callRejected(x);return _};function w(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function E(_,x){var T=!1;function I(F){T||(T=!0,o.reject(_,F))}function A(F){T||(T=!0,o.resolve(_,F))}function z(){x(A,I)}var W=d(z);W.status==="error"&&I(W.value)}function d(_,x){var T={};try{T.value=_(x),T.status="success"}catch(I){T.status="error",T.value=I}return T}c.resolve=h;function h(_){return _ instanceof this?_:o.resolve(new this(a),_)}c.reject=v;function v(_){var x=new this(a);return o.reject(x,_)}c.all=y;function y(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,I=!1;if(!T)return this.resolve([]);for(var A=new Array(T),z=0,W=-1,F=new this(a);++W<T;)H(_[W],W);return F;function H(fe,X){x.resolve(fe).then(ie,function(se){I||(I=!0,o.reject(F,se))});function ie(se){A[X]=se,++z===T&&!I&&(I=!0,o.resolve(F,A))}}}c.race=b;function b(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,I=!1;if(!T)return this.resolve([]);for(var A=-1,z=new this(a);++A<T;)W(_[A]);return z;function W(F){x.resolve(F).then(function(H){I||(I=!0,o.resolve(z,H))},function(H){I||(I=!0,o.reject(z,H))})}}},{immediate:36}],38:[function(n,r,i){var s=n("./lib/utils/common").assign,a=n("./lib/deflate"),o=n("./lib/inflate"),u=n("./lib/zlib/constants"),l={};s(l,a,o,u),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),u=n("./zlib/messages"),l=n("./zlib/zstream"),f=Object.prototype.toString,c=0,p=4,g=0,w=1,E=2,d=-1,h=0,v=8;function y(T){if(!(this instanceof y))return new y(T);this.options=a.assign({level:d,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},T||{});var I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(A!==g)throw new Error(u[A]);if(I.header&&s.deflateSetHeader(this.strm,I.header),I.dictionary){var z;if(typeof I.dictionary=="string"?z=o.string2buf(I.dictionary):f.call(I.dictionary)==="[object ArrayBuffer]"?z=new Uint8Array(I.dictionary):z=I.dictionary,A=s.deflateSetDictionary(this.strm,z),A!==g)throw new Error(u[A]);this._dict_set=!0}}y.prototype.push=function(T,I){var A=this.strm,z=this.options.chunkSize,W,F;if(this.ended)return!1;F=I===~~I?I:I===!0?p:c,typeof T=="string"?A.input=o.string2buf(T):f.call(T)==="[object ArrayBuffer]"?A.input=new Uint8Array(T):A.input=T,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(z),A.next_out=0,A.avail_out=z),W=s.deflate(A,F),W!==w&&W!==g)return this.onEnd(W),this.ended=!0,!1;(A.avail_out===0||A.avail_in===0&&(F===p||F===E))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((A.avail_in>0||A.avail_out===0)&&W!==w);return F===p?(W=s.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===g):(F===E&&(this.onEnd(g),A.avail_out=0),!0)},y.prototype.onData=function(T){this.chunks.push(T)},y.prototype.onEnd=function(T){T===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function b(T,I){var A=new y(I);if(A.push(T,!0),A.err)throw A.msg||u[A.err];return A.result}function _(T,I){return I=I||{},I.raw=!0,b(T,I)}function x(T,I){return I=I||{},I.gzip=!0,b(T,I)}i.Deflate=y,i.deflate=b,i.deflateRaw=_,i.gzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),u=n("./zlib/constants"),l=n("./zlib/messages"),f=n("./zlib/zstream"),c=n("./zlib/gzheader"),p=Object.prototype.toString;function g(d){if(!(this instanceof g))return new g(d);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},d||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(d&&d.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15)===0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,h.windowBits);if(v!==u.Z_OK)throw new Error(l[v]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}g.prototype.push=function(d,h){var v=this.strm,y=this.options.chunkSize,b=this.options.dictionary,_,x,T,I,A,z,W=!1;if(this.ended)return!1;x=h===~~h?h:h===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof d=="string"?v.input=o.binstring2buf(d):p.call(d)==="[object ArrayBuffer]"?v.input=new Uint8Array(d):v.input=d,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new a.Buf8(y),v.next_out=0,v.avail_out=y),_=s.inflate(v,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&b&&(typeof b=="string"?z=o.string2buf(b):p.call(b)==="[object ArrayBuffer]"?z=new Uint8Array(b):z=b,_=s.inflateSetDictionary(this.strm,z)),_===u.Z_BUF_ERROR&&W===!0&&(_=u.Z_OK,W=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;v.next_out&&(v.avail_out===0||_===u.Z_STREAM_END||v.avail_in===0&&(x===u.Z_FINISH||x===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(T=o.utf8border(v.output,v.next_out),I=v.next_out-T,A=o.buf2string(v.output,T),v.next_out=I,v.avail_out=y-I,I&&a.arraySet(v.output,v.output,T,I,0),this.onData(A)):this.onData(a.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(W=!0)}while((v.avail_in>0||v.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(x=u.Z_FINISH),x===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(x===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),v.avail_out=0),!0)},g.prototype.onData=function(d){this.chunks.push(d)},g.prototype.onEnd=function(d){d===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function w(d,h){var v=new g(h);if(v.push(d,!0),v.err)throw v.msg||l[v.err];return v.result}function E(d,h){return h=h||{},h.raw=!0,w(d,h)}i.Inflate=g,i.inflate=w,i.inflateRaw=E,i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var f=l.shift();if(!!f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])}}return u},i.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var a={arraySet:function(u,l,f,c,p){if(l.subarray&&u.subarray){u.set(l.subarray(f,f+c),p);return}for(var g=0;g<c;g++)u[p+g]=l[f+g]},flattenChunks:function(u){var l,f,c,p,g,w;for(c=0,l=0,f=u.length;l<f;l++)c+=u[l].length;for(w=new Uint8Array(c),p=0,l=0,f=u.length;l<f;l++)g=u[l],w.set(g,p),p+=g.length;return w}},o={arraySet:function(u,l,f,c,p){for(var g=0;g<c;g++)u[p+g]=l[f+g]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new s.Buf8(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,i.string2buf=function(c){var p,g,w,E,d,h=c.length,v=0;for(E=0;E<h;E++)g=c.charCodeAt(E),(g&64512)===55296&&E+1<h&&(w=c.charCodeAt(E+1),(w&64512)===56320&&(g=65536+(g-55296<<10)+(w-56320),E++)),v+=g<128?1:g<2048?2:g<65536?3:4;for(p=new s.Buf8(v),d=0,E=0;d<v;E++)g=c.charCodeAt(E),(g&64512)===55296&&E+1<h&&(w=c.charCodeAt(E+1),(w&64512)===56320&&(g=65536+(g-55296<<10)+(w-56320),E++)),g<128?p[d++]=g:g<2048?(p[d++]=192|g>>>6,p[d++]=128|g&63):g<65536?(p[d++]=224|g>>>12,p[d++]=128|g>>>6&63,p[d++]=128|g&63):(p[d++]=240|g>>>18,p[d++]=128|g>>>12&63,p[d++]=128|g>>>6&63,p[d++]=128|g&63);return p};function f(c,p){if(p<65537&&(c.subarray&&o||!c.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(c,p));for(var g="",w=0;w<p;w++)g+=String.fromCharCode(c[w]);return g}i.buf2binstring=function(c){return f(c,c.length)},i.binstring2buf=function(c){for(var p=new s.Buf8(c.length),g=0,w=p.length;g<w;g++)p[g]=c.charCodeAt(g);return p},i.buf2string=function(c,p){var g,w,E,d,h=p||c.length,v=new Array(h*2);for(w=0,g=0;g<h;){if(E=c[g++],E<128){v[w++]=E;continue}if(d=u[E],d>4){v[w++]=65533,g+=d-1;continue}for(E&=d===2?31:d===3?15:7;d>1&&g<h;)E=E<<6|c[g++]&63,d--;if(d>1){v[w++]=65533;continue}E<65536?v[w++]=E:(E-=65536,v[w++]=55296|E>>10&1023,v[w++]=56320|E&1023)}return f(v,w)},i.utf8border=function(c,p){var g;for(p=p||c.length,p>c.length&&(p=c.length),g=p-1;g>=0&&(c[g]&192)===128;)g--;return g<0||g===0?p:g+u[c[g]]>p?g:p}},{"./common":41}],43:[function(n,r,i){function s(a,o,u,l){for(var f=a&65535|0,c=a>>>16&65535|0,p=0;u!==0;){p=u>2e3?2e3:u,u-=p;do f=f+o[l++]|0,c=c+f|0;while(--p);f%=65521,c%=65521}return f|c<<16|0}r.exports=s},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){function s(){for(var u,l=[],f=0;f<256;f++){u=f;for(var c=0;c<8;c++)u=u&1?3988292384^u>>>1:u>>>1;l[f]=u}return l}var a=s();function o(u,l,f,c){var p=a,g=c+f;u^=-1;for(var w=c;w<g;w++)u=u>>>8^p[(u^l[w])&255];return u^-1}r.exports=o},{}],46:[function(n,r,i){var s=n("../utils/common"),a=n("./trees"),o=n("./adler32"),u=n("./crc32"),l=n("./messages"),f=0,c=1,p=3,g=4,w=5,E=0,d=1,h=-2,v=-3,y=-5,b=-1,_=1,x=2,T=3,I=4,A=0,z=2,W=8,F=9,H=15,fe=8,X=29,ie=256,se=ie+1+X,ae=30,_e=19,ke=2*se+1,q=15,Y=3,ue=258,de=ue+Y+1,Te=32,Ue=42,Me=69,xe=73,He=91,ot=103,je=113,tt=666,ze=1,kt=2,ct=3,en=4,Be=3;function wt(m,j){return m.msg=l[j],j}function Pn(m){return(m<<1)-(m>4?9:0)}function Lt(m){for(var j=m.length;--j>=0;)m[j]=0}function Rt(m){var j=m.state,$=j.pending;$>m.avail_out&&($=m.avail_out),$!==0&&(s.arraySet(m.output,j.pending_buf,j.pending_out,$,m.next_out),m.next_out+=$,j.pending_out+=$,m.total_out+=$,m.avail_out-=$,j.pending-=$,j.pending===0&&(j.pending_out=0))}function Ve(m,j){a._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,j),m.block_start=m.strstart,Rt(m.strm)}function Ce(m,j){m.pending_buf[m.pending++]=j}function Vt(m,j){m.pending_buf[m.pending++]=j>>>8&255,m.pending_buf[m.pending++]=j&255}function vr(m,j,$,k){var D=m.avail_in;return D>k&&(D=k),D===0?0:(m.avail_in-=D,s.arraySet(j,m.input,m.next_in,D,$),m.state.wrap===1?m.adler=o(m.adler,j,D,$):m.state.wrap===2&&(m.adler=u(m.adler,j,D,$)),m.next_in+=D,m.total_in+=D,D)}function Ln(m,j){var $=m.max_chain_length,k=m.strstart,D,U,me=m.prev_length,le=m.nice_match,he=m.strstart>m.w_size-de?m.strstart-(m.w_size-de):0,Ie=m.window,Bn=m.w_mask,nt=m.prev,Re=m.strstart+ue,ht=Ie[k+me-1],Tt=Ie[k+me];m.prev_length>=m.good_match&&($>>=2),le>m.lookahead&&(le=m.lookahead);do if(D=j,!(Ie[D+me]!==Tt||Ie[D+me-1]!==ht||Ie[D]!==Ie[k]||Ie[++D]!==Ie[k+1])){k+=2,D++;do;while(Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&Ie[++k]===Ie[++D]&&k<Re);if(U=ue-(Re-k),k=Re-ue,U>me){if(m.match_start=j,me=U,U>=le)break;ht=Ie[k+me-1],Tt=Ie[k+me]}}while((j=nt[j&Bn])>he&&--$!==0);return me<=m.lookahead?me:m.lookahead}function qt(m){var j=m.w_size,$,k,D,U,me;do{if(U=m.window_size-m.lookahead-m.strstart,m.strstart>=j+(j-de)){s.arraySet(m.window,m.window,j,j,0),m.match_start-=j,m.strstart-=j,m.block_start-=j,k=m.hash_size,$=k;do D=m.head[--$],m.head[$]=D>=j?D-j:0;while(--k);k=j,$=k;do D=m.prev[--$],m.prev[$]=D>=j?D-j:0;while(--k);U+=j}if(m.strm.avail_in===0)break;if(k=vr(m.strm,m.window,m.strstart+m.lookahead,U),m.lookahead+=k,m.lookahead+m.insert>=Y)for(me=m.strstart-m.insert,m.ins_h=m.window[me],m.ins_h=(m.ins_h<<m.hash_shift^m.window[me+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[me+Y-1])&m.hash_mask,m.prev[me&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=me,me++,m.insert--,!(m.lookahead+m.insert<Y)););}while(m.lookahead<de&&m.strm.avail_in!==0)}function mr(m,j){var $=65535;for($>m.pending_buf_size-5&&($=m.pending_buf_size-5);;){if(m.lookahead<=1){if(qt(m),m.lookahead===0&&j===f)return ze;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var k=m.block_start+$;if((m.strstart===0||m.strstart>=k)&&(m.lookahead=m.strstart-k,m.strstart=k,Ve(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-de&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=0,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):(m.strstart>m.block_start&&(Ve(m,!1),m.strm.avail_out===0),ze)}function zn(m,j){for(var $,k;;){if(m.lookahead<de){if(qt(m),m.lookahead<de&&j===f)return ze;if(m.lookahead===0)break}if($=0,m.lookahead>=Y&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,$=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),$!==0&&m.strstart-$<=m.w_size-de&&(m.match_length=Ln(m,$)),m.match_length>=Y)if(k=a._tr_tally(m,m.strstart-m.match_start,m.match_length-Y),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=Y){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,$=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else k=a._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(k&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=m.strstart<Y-1?m.strstart:Y-1,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function tn(m,j){for(var $,k,D;;){if(m.lookahead<de){if(qt(m),m.lookahead<de&&j===f)return ze;if(m.lookahead===0)break}if($=0,m.lookahead>=Y&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,$=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=Y-1,$!==0&&m.prev_length<m.max_lazy_match&&m.strstart-$<=m.w_size-de&&(m.match_length=Ln(m,$),m.match_length<=5&&(m.strategy===_||m.match_length===Y&&m.strstart-m.match_start>4096)&&(m.match_length=Y-1)),m.prev_length>=Y&&m.match_length<=m.prev_length){D=m.strstart+m.lookahead-Y,k=a._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-Y),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=D&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+Y-1])&m.hash_mask,$=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=Y-1,m.strstart++,k&&(Ve(m,!1),m.strm.avail_out===0))return ze}else if(m.match_available){if(k=a._tr_tally(m,0,m.window[m.strstart-1]),k&&Ve(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return ze}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(k=a._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<Y-1?m.strstart:Y-1,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function gr(m,j){for(var $,k,D,U,me=m.window;;){if(m.lookahead<=ue){if(qt(m),m.lookahead<=ue&&j===f)return ze;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=Y&&m.strstart>0&&(D=m.strstart-1,k=me[D],k===me[++D]&&k===me[++D]&&k===me[++D])){U=m.strstart+ue;do;while(k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&k===me[++D]&&D<U);m.match_length=ue-(U-D),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=Y?($=a._tr_tally(m,1,m.match_length-Y),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):($=a._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),$&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=0,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function Mn(m,j){for(var $;;){if(m.lookahead===0&&(qt(m),m.lookahead===0)){if(j===f)return ze;break}if(m.match_length=0,$=a._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,$&&(Ve(m,!1),m.strm.avail_out===0))return ze}return m.insert=0,j===g?(Ve(m,!0),m.strm.avail_out===0?ct:en):m.last_lit&&(Ve(m,!1),m.strm.avail_out===0)?ze:kt}function Et(m,j,$,k,D){this.good_length=m,this.max_lazy=j,this.nice_length=$,this.max_chain=k,this.func=D}var nn;nn=[new Et(0,0,0,0,mr),new Et(4,4,8,4,zn),new Et(4,5,16,8,zn),new Et(4,6,32,32,zn),new Et(4,4,16,16,tn),new Et(8,16,32,32,tn),new Et(8,16,128,128,tn),new Et(8,32,128,256,tn),new Et(32,128,258,1024,tn),new Et(32,258,258,4096,tn)];function Fr(m){m.window_size=2*m.w_size,Lt(m.head),m.max_lazy_match=nn[m.level].max_lazy,m.good_match=nn[m.level].good_length,m.nice_match=nn[m.level].nice_length,m.max_chain_length=nn[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=Y-1,m.match_available=0,m.ins_h=0}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(ke*2),this.dyn_dtree=new s.Buf16((2*ae+1)*2),this.bl_tree=new s.Buf16((2*_e+1)*2),Lt(this.dyn_ltree),Lt(this.dyn_dtree),Lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(q+1),this.heap=new s.Buf16(2*se+1),Lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*se+1),Lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(m){var j;return!m||!m.state?wt(m,h):(m.total_in=m.total_out=0,m.data_type=z,j=m.state,j.pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?Ue:je,m.adler=j.wrap===2?0:1,j.last_flush=f,a._tr_init(j),E)}function J(m){var j=Z(m);return j===E&&Fr(m.state),j}function ce(m,j){return!m||!m.state||m.state.wrap!==2?h:(m.state.gzhead=j,E)}function P(m,j,$,k,D,U){if(!m)return h;var me=1;if(j===b&&(j=6),k<0?(me=0,k=-k):k>15&&(me=2,k-=16),D<1||D>F||$!==W||k<8||k>15||j<0||j>9||U<0||U>I)return wt(m,h);k===8&&(k=9);var le=new O;return m.state=le,le.strm=m,le.wrap=me,le.gzhead=null,le.w_bits=k,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=D+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+Y-1)/Y),le.window=new s.Buf8(le.w_size*2),le.head=new s.Buf16(le.hash_size),le.prev=new s.Buf16(le.w_size),le.lit_bufsize=1<<D+6,le.pending_buf_size=le.lit_bufsize*4,le.pending_buf=new s.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=(1+2)*le.lit_bufsize,le.level=j,le.strategy=U,le.method=$,J(m)}function K(m,j){return P(m,j,W,H,fe,A)}function S(m,j){var $,k,D,U;if(!m||!m.state||j>w||j<0)return m?wt(m,h):h;if(k=m.state,!m.output||!m.input&&m.avail_in!==0||k.status===tt&&j!==g)return wt(m,m.avail_out===0?y:h);if(k.strm=m,$=k.last_flush,k.last_flush=j,k.status===Ue)if(k.wrap===2)m.adler=0,Ce(k,31),Ce(k,139),Ce(k,8),k.gzhead?(Ce(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Ce(k,k.gzhead.time&255),Ce(k,k.gzhead.time>>8&255),Ce(k,k.gzhead.time>>16&255),Ce(k,k.gzhead.time>>24&255),Ce(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Ce(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Ce(k,k.gzhead.extra.length&255),Ce(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(m.adler=u(m.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=Me):(Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,k.level===9?2:k.strategy>=x||k.level<2?4:0),Ce(k,Be),k.status=je);else{var me=W+(k.w_bits-8<<4)<<8,le=-1;k.strategy>=x||k.level<2?le=0:k.level<6?le=1:k.level===6?le=2:le=3,me|=le<<6,k.strstart!==0&&(me|=Te),me+=31-me%31,k.status=je,Vt(k,me),k.strstart!==0&&(Vt(k,m.adler>>>16),Vt(k,m.adler&65535)),m.adler=1}if(k.status===Me)if(k.gzhead.extra){for(D=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),Rt(m),D=k.pending,k.pending===k.pending_buf_size));)Ce(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=xe)}else k.status=xe;if(k.status===xe)if(k.gzhead.name){D=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),Rt(m),D=k.pending,k.pending===k.pending_buf_size)){U=1;break}k.gzindex<k.gzhead.name.length?U=k.gzhead.name.charCodeAt(k.gzindex++)&255:U=0,Ce(k,U)}while(U!==0);k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),U===0&&(k.gzindex=0,k.status=He)}else k.status=He;if(k.status===He)if(k.gzhead.comment){D=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),Rt(m),D=k.pending,k.pending===k.pending_buf_size)){U=1;break}k.gzindex<k.gzhead.comment.length?U=k.gzhead.comment.charCodeAt(k.gzindex++)&255:U=0,Ce(k,U)}while(U!==0);k.gzhead.hcrc&&k.pending>D&&(m.adler=u(m.adler,k.pending_buf,k.pending-D,D)),U===0&&(k.status=ot)}else k.status=ot;if(k.status===ot&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&Rt(m),k.pending+2<=k.pending_buf_size&&(Ce(k,m.adler&255),Ce(k,m.adler>>8&255),m.adler=0,k.status=je)):k.status=je),k.pending!==0){if(Rt(m),m.avail_out===0)return k.last_flush=-1,E}else if(m.avail_in===0&&Pn(j)<=Pn($)&&j!==g)return wt(m,y);if(k.status===tt&&m.avail_in!==0)return wt(m,y);if(m.avail_in!==0||k.lookahead!==0||j!==f&&k.status!==tt){var he=k.strategy===x?Mn(k,j):k.strategy===T?gr(k,j):nn[k.level].func(k,j);if((he===ct||he===en)&&(k.status=tt),he===ze||he===ct)return m.avail_out===0&&(k.last_flush=-1),E;if(he===kt&&(j===c?a._tr_align(k):j!==w&&(a._tr_stored_block(k,0,0,!1),j===p&&(Lt(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),Rt(m),m.avail_out===0))return k.last_flush=-1,E}return j!==g?E:k.wrap<=0?d:(k.wrap===2?(Ce(k,m.adler&255),Ce(k,m.adler>>8&255),Ce(k,m.adler>>16&255),Ce(k,m.adler>>24&255),Ce(k,m.total_in&255),Ce(k,m.total_in>>8&255),Ce(k,m.total_in>>16&255),Ce(k,m.total_in>>24&255)):(Vt(k,m.adler>>>16),Vt(k,m.adler&65535)),Rt(m),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?E:d)}function G(m){var j;return!m||!m.state?h:(j=m.state.status,j!==Ue&&j!==Me&&j!==xe&&j!==He&&j!==ot&&j!==je&&j!==tt?wt(m,h):(m.state=null,j===je?wt(m,v):E))}function we(m,j){var $=j.length,k,D,U,me,le,he,Ie,Bn;if(!m||!m.state||(k=m.state,me=k.wrap,me===2||me===1&&k.status!==Ue||k.lookahead))return h;for(me===1&&(m.adler=o(m.adler,j,$,0)),k.wrap=0,$>=k.w_size&&(me===0&&(Lt(k.head),k.strstart=0,k.block_start=0,k.insert=0),Bn=new s.Buf8(k.w_size),s.arraySet(Bn,j,$-k.w_size,k.w_size,0),j=Bn,$=k.w_size),le=m.avail_in,he=m.next_in,Ie=m.input,m.avail_in=$,m.next_in=0,m.input=j,qt(k);k.lookahead>=Y;){D=k.strstart,U=k.lookahead-(Y-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[D+Y-1])&k.hash_mask,k.prev[D&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=D,D++;while(--U);k.strstart=D,k.lookahead=Y-1,qt(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=Y-1,k.match_available=0,m.next_in=he,m.input=Ie,m.avail_in=le,k.wrap=me,E}i.deflateInit=K,i.deflateInit2=P,i.deflateReset=J,i.deflateResetKeep=Z,i.deflateSetHeader=ce,i.deflate=S,i.deflateEnd=G,i.deflateSetDictionary=we,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=s},{}],48:[function(n,r,i){var s=30,a=12;r.exports=function(u,l){var f,c,p,g,w,E,d,h,v,y,b,_,x,T,I,A,z,W,F,H,fe,X,ie,se,ae;f=u.state,c=u.next_in,se=u.input,p=c+(u.avail_in-5),g=u.next_out,ae=u.output,w=g-(l-u.avail_out),E=g+(u.avail_out-257),d=f.dmax,h=f.wsize,v=f.whave,y=f.wnext,b=f.window,_=f.hold,x=f.bits,T=f.lencode,I=f.distcode,A=(1<<f.lenbits)-1,z=(1<<f.distbits)-1;e:do{x<15&&(_+=se[c++]<<x,x+=8,_+=se[c++]<<x,x+=8),W=T[_&A];t:for(;;){if(F=W>>>24,_>>>=F,x-=F,F=W>>>16&255,F===0)ae[g++]=W&65535;else if(F&16){H=W&65535,F&=15,F&&(x<F&&(_+=se[c++]<<x,x+=8),H+=_&(1<<F)-1,_>>>=F,x-=F),x<15&&(_+=se[c++]<<x,x+=8,_+=se[c++]<<x,x+=8),W=I[_&z];n:for(;;){if(F=W>>>24,_>>>=F,x-=F,F=W>>>16&255,F&16){if(fe=W&65535,F&=15,x<F&&(_+=se[c++]<<x,x+=8,x<F&&(_+=se[c++]<<x,x+=8)),fe+=_&(1<<F)-1,fe>d){u.msg="invalid distance too far back",f.mode=s;break e}if(_>>>=F,x-=F,F=g-w,fe>F){if(F=fe-F,F>v&&f.sane){u.msg="invalid distance too far back",f.mode=s;break e}if(X=0,ie=b,y===0){if(X+=h-F,F<H){H-=F;do ae[g++]=b[X++];while(--F);X=g-fe,ie=ae}}else if(y<F){if(X+=h+y-F,F-=y,F<H){H-=F;do ae[g++]=b[X++];while(--F);if(X=0,y<H){F=y,H-=F;do ae[g++]=b[X++];while(--F);X=g-fe,ie=ae}}}else if(X+=y-F,F<H){H-=F;do ae[g++]=b[X++];while(--F);X=g-fe,ie=ae}for(;H>2;)ae[g++]=ie[X++],ae[g++]=ie[X++],ae[g++]=ie[X++],H-=3;H&&(ae[g++]=ie[X++],H>1&&(ae[g++]=ie[X++]))}else{X=g-fe;do ae[g++]=ae[X++],ae[g++]=ae[X++],ae[g++]=ae[X++],H-=3;while(H>2);H&&(ae[g++]=ae[X++],H>1&&(ae[g++]=ae[X++]))}}else if((F&64)===0){W=I[(W&65535)+(_&(1<<F)-1)];continue n}else{u.msg="invalid distance code",f.mode=s;break e}break}}else if((F&64)===0){W=T[(W&65535)+(_&(1<<F)-1)];continue t}else if(F&32){f.mode=a;break e}else{u.msg="invalid literal/length code",f.mode=s;break e}break}}while(c<p&&g<E);H=x>>3,c-=H,x-=H<<3,_&=(1<<x)-1,u.next_in=c,u.next_out=g,u.avail_in=c<p?5+(p-c):5-(c-p),u.avail_out=g<E?257+(E-g):257-(g-E),f.hold=_,f.bits=x}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),u=n("./inffast"),l=n("./inftrees"),f=0,c=1,p=2,g=4,w=5,E=6,d=0,h=1,v=2,y=-2,b=-3,_=-4,x=-5,T=8,I=1,A=2,z=3,W=4,F=5,H=6,fe=7,X=8,ie=9,se=10,ae=11,_e=12,ke=13,q=14,Y=15,ue=16,de=17,Te=18,Ue=19,Me=20,xe=21,He=22,ot=23,je=24,tt=25,ze=26,kt=27,ct=28,en=29,Be=30,wt=31,Pn=32,Lt=852,Rt=592,Ve=15,Ce=Ve;function Vt(P){return(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24)}function vr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ln(P){var K;return!P||!P.state?y:(K=P.state,P.total_in=P.total_out=K.total=0,P.msg="",K.wrap&&(P.adler=K.wrap&1),K.mode=I,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new s.Buf32(Lt),K.distcode=K.distdyn=new s.Buf32(Rt),K.sane=1,K.back=-1,d)}function qt(P){var K;return!P||!P.state?y:(K=P.state,K.wsize=0,K.whave=0,K.wnext=0,Ln(P))}function mr(P,K){var S,G;return!P||!P.state||(G=P.state,K<0?(S=0,K=-K):(S=(K>>4)+1,K<48&&(K&=15)),K&&(K<8||K>15))?y:(G.window!==null&&G.wbits!==K&&(G.window=null),G.wrap=S,G.wbits=K,qt(P))}function zn(P,K){var S,G;return P?(G=new vr,P.state=G,G.window=null,S=mr(P,K),S!==d&&(P.state=null),S):y}function tn(P){return zn(P,Ce)}var gr=!0,Mn,Et;function nn(P){if(gr){var K;for(Mn=new s.Buf32(512),Et=new s.Buf32(32),K=0;K<144;)P.lens[K++]=8;for(;K<256;)P.lens[K++]=9;for(;K<280;)P.lens[K++]=7;for(;K<288;)P.lens[K++]=8;for(l(c,P.lens,0,288,Mn,0,P.work,{bits:9}),K=0;K<32;)P.lens[K++]=5;l(p,P.lens,0,32,Et,0,P.work,{bits:5}),gr=!1}P.lencode=Mn,P.lenbits=9,P.distcode=Et,P.distbits=5}function Fr(P,K,S,G){var we,m=P.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new s.Buf8(m.wsize)),G>=m.wsize?(s.arraySet(m.window,K,S-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(we=m.wsize-m.wnext,we>G&&(we=G),s.arraySet(m.window,K,S-G,we,m.wnext),G-=we,G?(s.arraySet(m.window,K,S-G,G,0),m.wnext=G,m.whave=m.wsize):(m.wnext+=we,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=we))),0}function O(P,K){var S,G,we,m,j,$,k,D,U,me,le,he,Ie,Bn,nt=0,Re,ht,Tt,zt,es,ts,ut,rn,bt=new s.Buf8(4),Fn,En,cu=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return y;S=P.state,S.mode===_e&&(S.mode=ke),j=P.next_out,we=P.output,k=P.avail_out,m=P.next_in,G=P.input,$=P.avail_in,D=S.hold,U=S.bits,me=$,le=k,rn=d;e:for(;;)switch(S.mode){case I:if(S.wrap===0){S.mode=ke;break}for(;U<16;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(S.wrap&2&&D===35615){S.check=0,bt[0]=D&255,bt[1]=D>>>8&255,S.check=o(S.check,bt,2,0),D=0,U=0,S.mode=A;break}if(S.flags=0,S.head&&(S.head.done=!1),!(S.wrap&1)||(((D&255)<<8)+(D>>8))%31){P.msg="incorrect header check",S.mode=Be;break}if((D&15)!==T){P.msg="unknown compression method",S.mode=Be;break}if(D>>>=4,U-=4,ut=(D&15)+8,S.wbits===0)S.wbits=ut;else if(ut>S.wbits){P.msg="invalid window size",S.mode=Be;break}S.dmax=1<<ut,P.adler=S.check=1,S.mode=D&512?se:_e,D=0,U=0;break;case A:for(;U<16;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(S.flags=D,(S.flags&255)!==T){P.msg="unknown compression method",S.mode=Be;break}if(S.flags&57344){P.msg="unknown header flags set",S.mode=Be;break}S.head&&(S.head.text=D>>8&1),S.flags&512&&(bt[0]=D&255,bt[1]=D>>>8&255,S.check=o(S.check,bt,2,0)),D=0,U=0,S.mode=z;case z:for(;U<32;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}S.head&&(S.head.time=D),S.flags&512&&(bt[0]=D&255,bt[1]=D>>>8&255,bt[2]=D>>>16&255,bt[3]=D>>>24&255,S.check=o(S.check,bt,4,0)),D=0,U=0,S.mode=W;case W:for(;U<16;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}S.head&&(S.head.xflags=D&255,S.head.os=D>>8),S.flags&512&&(bt[0]=D&255,bt[1]=D>>>8&255,S.check=o(S.check,bt,2,0)),D=0,U=0,S.mode=F;case F:if(S.flags&1024){for(;U<16;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}S.length=D,S.head&&(S.head.extra_len=D),S.flags&512&&(bt[0]=D&255,bt[1]=D>>>8&255,S.check=o(S.check,bt,2,0)),D=0,U=0}else S.head&&(S.head.extra=null);S.mode=H;case H:if(S.flags&1024&&(he=S.length,he>$&&(he=$),he&&(S.head&&(ut=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,G,m,he,ut)),S.flags&512&&(S.check=o(S.check,G,he,m)),$-=he,m+=he,S.length-=he),S.length))break e;S.length=0,S.mode=fe;case fe:if(S.flags&2048){if($===0)break e;he=0;do ut=G[m+he++],S.head&&ut&&S.length<65536&&(S.head.name+=String.fromCharCode(ut));while(ut&&he<$);if(S.flags&512&&(S.check=o(S.check,G,he,m)),$-=he,m+=he,ut)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=X;case X:if(S.flags&4096){if($===0)break e;he=0;do ut=G[m+he++],S.head&&ut&&S.length<65536&&(S.head.comment+=String.fromCharCode(ut));while(ut&&he<$);if(S.flags&512&&(S.check=o(S.check,G,he,m)),$-=he,m+=he,ut)break e}else S.head&&(S.head.comment=null);S.mode=ie;case ie:if(S.flags&512){for(;U<16;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(D!==(S.check&65535)){P.msg="header crc mismatch",S.mode=Be;break}D=0,U=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),P.adler=S.check=0,S.mode=_e;break;case se:for(;U<32;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}P.adler=S.check=Vt(D),D=0,U=0,S.mode=ae;case ae:if(S.havedict===0)return P.next_out=j,P.avail_out=k,P.next_in=m,P.avail_in=$,S.hold=D,S.bits=U,v;P.adler=S.check=1,S.mode=_e;case _e:if(K===w||K===E)break e;case ke:if(S.last){D>>>=U&7,U-=U&7,S.mode=kt;break}for(;U<3;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}switch(S.last=D&1,D>>>=1,U-=1,D&3){case 0:S.mode=q;break;case 1:if(nn(S),S.mode=Me,K===E){D>>>=2,U-=2;break e}break;case 2:S.mode=de;break;case 3:P.msg="invalid block type",S.mode=Be}D>>>=2,U-=2;break;case q:for(D>>>=U&7,U-=U&7;U<32;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if((D&65535)!==(D>>>16^65535)){P.msg="invalid stored block lengths",S.mode=Be;break}if(S.length=D&65535,D=0,U=0,S.mode=Y,K===E)break e;case Y:S.mode=ue;case ue:if(he=S.length,he){if(he>$&&(he=$),he>k&&(he=k),he===0)break e;s.arraySet(we,G,m,he,j),$-=he,m+=he,k-=he,j+=he,S.length-=he;break}S.mode=_e;break;case de:for(;U<14;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(S.nlen=(D&31)+257,D>>>=5,U-=5,S.ndist=(D&31)+1,D>>>=5,U-=5,S.ncode=(D&15)+4,D>>>=4,U-=4,S.nlen>286||S.ndist>30){P.msg="too many length or distance symbols",S.mode=Be;break}S.have=0,S.mode=Te;case Te:for(;S.have<S.ncode;){for(;U<3;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}S.lens[cu[S.have++]]=D&7,D>>>=3,U-=3}for(;S.have<19;)S.lens[cu[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,Fn={bits:S.lenbits},rn=l(f,S.lens,0,19,S.lencode,0,S.work,Fn),S.lenbits=Fn.bits,rn){P.msg="invalid code lengths set",S.mode=Be;break}S.have=0,S.mode=Ue;case Ue:for(;S.have<S.nlen+S.ndist;){for(;nt=S.lencode[D&(1<<S.lenbits)-1],Re=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(Re<=U);){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(Tt<16)D>>>=Re,U-=Re,S.lens[S.have++]=Tt;else{if(Tt===16){for(En=Re+2;U<En;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(D>>>=Re,U-=Re,S.have===0){P.msg="invalid bit length repeat",S.mode=Be;break}ut=S.lens[S.have-1],he=3+(D&3),D>>>=2,U-=2}else if(Tt===17){for(En=Re+3;U<En;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}D>>>=Re,U-=Re,ut=0,he=3+(D&7),D>>>=3,U-=3}else{for(En=Re+7;U<En;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}D>>>=Re,U-=Re,ut=0,he=11+(D&127),D>>>=7,U-=7}if(S.have+he>S.nlen+S.ndist){P.msg="invalid bit length repeat",S.mode=Be;break}for(;he--;)S.lens[S.have++]=ut}}if(S.mode===Be)break;if(S.lens[256]===0){P.msg="invalid code -- missing end-of-block",S.mode=Be;break}if(S.lenbits=9,Fn={bits:S.lenbits},rn=l(c,S.lens,0,S.nlen,S.lencode,0,S.work,Fn),S.lenbits=Fn.bits,rn){P.msg="invalid literal/lengths set",S.mode=Be;break}if(S.distbits=6,S.distcode=S.distdyn,Fn={bits:S.distbits},rn=l(p,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,Fn),S.distbits=Fn.bits,rn){P.msg="invalid distances set",S.mode=Be;break}if(S.mode=Me,K===E)break e;case Me:S.mode=xe;case xe:if($>=6&&k>=258){P.next_out=j,P.avail_out=k,P.next_in=m,P.avail_in=$,S.hold=D,S.bits=U,u(P,le),j=P.next_out,we=P.output,k=P.avail_out,m=P.next_in,G=P.input,$=P.avail_in,D=S.hold,U=S.bits,S.mode===_e&&(S.back=-1);break}for(S.back=0;nt=S.lencode[D&(1<<S.lenbits)-1],Re=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(Re<=U);){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(ht&&(ht&240)===0){for(zt=Re,es=ht,ts=Tt;nt=S.lencode[ts+((D&(1<<zt+es)-1)>>zt)],Re=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(zt+Re<=U);){if($===0)break e;$--,D+=G[m++]<<U,U+=8}D>>>=zt,U-=zt,S.back+=zt}if(D>>>=Re,U-=Re,S.back+=Re,S.length=Tt,ht===0){S.mode=ze;break}if(ht&32){S.back=-1,S.mode=_e;break}if(ht&64){P.msg="invalid literal/length code",S.mode=Be;break}S.extra=ht&15,S.mode=He;case He:if(S.extra){for(En=S.extra;U<En;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}S.length+=D&(1<<S.extra)-1,D>>>=S.extra,U-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=ot;case ot:for(;nt=S.distcode[D&(1<<S.distbits)-1],Re=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(Re<=U);){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if((ht&240)===0){for(zt=Re,es=ht,ts=Tt;nt=S.distcode[ts+((D&(1<<zt+es)-1)>>zt)],Re=nt>>>24,ht=nt>>>16&255,Tt=nt&65535,!(zt+Re<=U);){if($===0)break e;$--,D+=G[m++]<<U,U+=8}D>>>=zt,U-=zt,S.back+=zt}if(D>>>=Re,U-=Re,S.back+=Re,ht&64){P.msg="invalid distance code",S.mode=Be;break}S.offset=Tt,S.extra=ht&15,S.mode=je;case je:if(S.extra){for(En=S.extra;U<En;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}S.offset+=D&(1<<S.extra)-1,D>>>=S.extra,U-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){P.msg="invalid distance too far back",S.mode=Be;break}S.mode=tt;case tt:if(k===0)break e;if(he=le-k,S.offset>he){if(he=S.offset-he,he>S.whave&&S.sane){P.msg="invalid distance too far back",S.mode=Be;break}he>S.wnext?(he-=S.wnext,Ie=S.wsize-he):Ie=S.wnext-he,he>S.length&&(he=S.length),Bn=S.window}else Bn=we,Ie=j-S.offset,he=S.length;he>k&&(he=k),k-=he,S.length-=he;do we[j++]=Bn[Ie++];while(--he);S.length===0&&(S.mode=xe);break;case ze:if(k===0)break e;we[j++]=S.length,k--,S.mode=xe;break;case kt:if(S.wrap){for(;U<32;){if($===0)break e;$--,D|=G[m++]<<U,U+=8}if(le-=k,P.total_out+=le,S.total+=le,le&&(P.adler=S.check=S.flags?o(S.check,we,le,j-le):a(S.check,we,le,j-le)),le=k,(S.flags?D:Vt(D))!==S.check){P.msg="incorrect data check",S.mode=Be;break}D=0,U=0}S.mode=ct;case ct:if(S.wrap&&S.flags){for(;U<32;){if($===0)break e;$--,D+=G[m++]<<U,U+=8}if(D!==(S.total&4294967295)){P.msg="incorrect length check",S.mode=Be;break}D=0,U=0}S.mode=en;case en:rn=h;break e;case Be:rn=b;break e;case wt:return _;case Pn:default:return y}return P.next_out=j,P.avail_out=k,P.next_in=m,P.avail_in=$,S.hold=D,S.bits=U,(S.wsize||le!==P.avail_out&&S.mode<Be&&(S.mode<kt||K!==g))&&Fr(P,P.output,P.next_out,le-P.avail_out),me-=P.avail_in,le-=P.avail_out,P.total_in+=me,P.total_out+=le,S.total+=le,S.wrap&&le&&(P.adler=S.check=S.flags?o(S.check,we,le,P.next_out-le):a(S.check,we,le,P.next_out-le)),P.data_type=S.bits+(S.last?64:0)+(S.mode===_e?128:0)+(S.mode===Me||S.mode===Y?256:0),(me===0&&le===0||K===g)&&rn===d&&(rn=x),rn}function Z(P){if(!P||!P.state)return y;var K=P.state;return K.window&&(K.window=null),P.state=null,d}function J(P,K){var S;return!P||!P.state||(S=P.state,(S.wrap&2)===0)?y:(S.head=K,K.done=!1,d)}function ce(P,K){var S=K.length,G,we,m;return!P||!P.state||(G=P.state,G.wrap!==0&&G.mode!==ae)?y:G.mode===ae&&(we=1,we=a(we,K,S,0),we!==G.check)?b:(m=Fr(P,K,S,S),m?(G.mode=wt,_):(G.havedict=1,d))}i.inflateReset=qt,i.inflateReset2=mr,i.inflateResetKeep=Ln,i.inflateInit=tn,i.inflateInit2=zn,i.inflate=O,i.inflateEnd=Z,i.inflateGetHeader=J,i.inflateSetDictionary=ce,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=15,o=852,u=592,l=0,f=1,c=2,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,v,y,b,_,x,T,I){var A=I.bits,z=0,W=0,F=0,H=0,fe=0,X=0,ie=0,se=0,ae=0,_e=0,ke,q,Y,ue,de,Te=null,Ue=0,Me,xe=new s.Buf16(a+1),He=new s.Buf16(a+1),ot=null,je=0,tt,ze,kt;for(z=0;z<=a;z++)xe[z]=0;for(W=0;W<b;W++)xe[v[y+W]]++;for(fe=A,H=a;H>=1&&xe[H]===0;H--);if(fe>H&&(fe=H),H===0)return _[x++]=1<<24|64<<16|0,_[x++]=1<<24|64<<16|0,I.bits=1,0;for(F=1;F<H&&xe[F]===0;F++);for(fe<F&&(fe=F),se=1,z=1;z<=a;z++)if(se<<=1,se-=xe[z],se<0)return-1;if(se>0&&(h===l||H!==1))return-1;for(He[1]=0,z=1;z<a;z++)He[z+1]=He[z]+xe[z];for(W=0;W<b;W++)v[y+W]!==0&&(T[He[v[y+W]]++]=W);if(h===l?(Te=ot=T,Me=19):h===f?(Te=p,Ue-=257,ot=g,je-=257,Me=256):(Te=w,ot=E,Me=-1),_e=0,W=0,z=F,de=x,X=fe,ie=0,Y=-1,ae=1<<fe,ue=ae-1,h===f&&ae>o||h===c&&ae>u)return 1;for(;;){tt=z-ie,T[W]<Me?(ze=0,kt=T[W]):T[W]>Me?(ze=ot[je+T[W]],kt=Te[Ue+T[W]]):(ze=32+64,kt=0),ke=1<<z-ie,q=1<<X,F=q;do q-=ke,_[de+(_e>>ie)+q]=tt<<24|ze<<16|kt|0;while(q!==0);for(ke=1<<z-1;_e&ke;)ke>>=1;if(ke!==0?(_e&=ke-1,_e+=ke):_e=0,W++,--xe[z]===0){if(z===H)break;z=v[y+T[W]]}if(z>fe&&(_e&ue)!==Y){for(ie===0&&(ie=fe),de+=F,X=z-ie,se=1<<X;X+ie<H&&(se-=xe[X+ie],!(se<=0));)X++,se<<=1;if(ae+=1<<X,h===f&&ae>o||h===c&&ae>u)return 1;Y=_e&ue,_[Y]=fe<<24|X<<16|de-x|0}}return _e!==0&&(_[de+_e]=z-ie<<24|64<<16|0),I.bits=fe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=4,o=0,u=1,l=2;function f(O){for(var Z=O.length;--Z>=0;)O[Z]=0}var c=0,p=1,g=2,w=3,E=258,d=29,h=256,v=h+1+d,y=30,b=19,_=2*v+1,x=15,T=16,I=7,A=256,z=16,W=17,F=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],fe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=512,ae=new Array((v+2)*2);f(ae);var _e=new Array(y*2);f(_e);var ke=new Array(se);f(ke);var q=new Array(E-w+1);f(q);var Y=new Array(d);f(Y);var ue=new Array(y);f(ue);function de(O,Z,J,ce,P){this.static_tree=O,this.extra_bits=Z,this.extra_base=J,this.elems=ce,this.max_length=P,this.has_stree=O&&O.length}var Te,Ue,Me;function xe(O,Z){this.dyn_tree=O,this.max_code=0,this.stat_desc=Z}function He(O){return O<256?ke[O]:ke[256+(O>>>7)]}function ot(O,Z){O.pending_buf[O.pending++]=Z&255,O.pending_buf[O.pending++]=Z>>>8&255}function je(O,Z,J){O.bi_valid>T-J?(O.bi_buf|=Z<<O.bi_valid&65535,ot(O,O.bi_buf),O.bi_buf=Z>>T-O.bi_valid,O.bi_valid+=J-T):(O.bi_buf|=Z<<O.bi_valid&65535,O.bi_valid+=J)}function tt(O,Z,J){je(O,J[Z*2],J[Z*2+1])}function ze(O,Z){var J=0;do J|=O&1,O>>>=1,J<<=1;while(--Z>0);return J>>>1}function kt(O){O.bi_valid===16?(ot(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):O.bi_valid>=8&&(O.pending_buf[O.pending++]=O.bi_buf&255,O.bi_buf>>=8,O.bi_valid-=8)}function ct(O,Z){var J=Z.dyn_tree,ce=Z.max_code,P=Z.stat_desc.static_tree,K=Z.stat_desc.has_stree,S=Z.stat_desc.extra_bits,G=Z.stat_desc.extra_base,we=Z.stat_desc.max_length,m,j,$,k,D,U,me=0;for(k=0;k<=x;k++)O.bl_count[k]=0;for(J[O.heap[O.heap_max]*2+1]=0,m=O.heap_max+1;m<_;m++)j=O.heap[m],k=J[J[j*2+1]*2+1]+1,k>we&&(k=we,me++),J[j*2+1]=k,!(j>ce)&&(O.bl_count[k]++,D=0,j>=G&&(D=S[j-G]),U=J[j*2],O.opt_len+=U*(k+D),K&&(O.static_len+=U*(P[j*2+1]+D)));if(me!==0){do{for(k=we-1;O.bl_count[k]===0;)k--;O.bl_count[k]--,O.bl_count[k+1]+=2,O.bl_count[we]--,me-=2}while(me>0);for(k=we;k!==0;k--)for(j=O.bl_count[k];j!==0;)$=O.heap[--m],!($>ce)&&(J[$*2+1]!==k&&(O.opt_len+=(k-J[$*2+1])*J[$*2],J[$*2+1]=k),j--)}}function en(O,Z,J){var ce=new Array(x+1),P=0,K,S;for(K=1;K<=x;K++)ce[K]=P=P+J[K-1]<<1;for(S=0;S<=Z;S++){var G=O[S*2+1];G!==0&&(O[S*2]=ze(ce[G]++,G))}}function Be(){var O,Z,J,ce,P,K=new Array(x+1);for(J=0,ce=0;ce<d-1;ce++)for(Y[ce]=J,O=0;O<1<<H[ce];O++)q[J++]=ce;for(q[J-1]=ce,P=0,ce=0;ce<16;ce++)for(ue[ce]=P,O=0;O<1<<fe[ce];O++)ke[P++]=ce;for(P>>=7;ce<y;ce++)for(ue[ce]=P<<7,O=0;O<1<<fe[ce]-7;O++)ke[256+P++]=ce;for(Z=0;Z<=x;Z++)K[Z]=0;for(O=0;O<=143;)ae[O*2+1]=8,O++,K[8]++;for(;O<=255;)ae[O*2+1]=9,O++,K[9]++;for(;O<=279;)ae[O*2+1]=7,O++,K[7]++;for(;O<=287;)ae[O*2+1]=8,O++,K[8]++;for(en(ae,v+1,K),O=0;O<y;O++)_e[O*2+1]=5,_e[O*2]=ze(O,5);Te=new de(ae,H,h+1,v,x),Ue=new de(_e,fe,0,y,x),Me=new de(new Array(0),X,0,b,I)}function wt(O){var Z;for(Z=0;Z<v;Z++)O.dyn_ltree[Z*2]=0;for(Z=0;Z<y;Z++)O.dyn_dtree[Z*2]=0;for(Z=0;Z<b;Z++)O.bl_tree[Z*2]=0;O.dyn_ltree[A*2]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function Pn(O){O.bi_valid>8?ot(O,O.bi_buf):O.bi_valid>0&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function Lt(O,Z,J,ce){Pn(O),ce&&(ot(O,J),ot(O,~J)),s.arraySet(O.pending_buf,O.window,Z,J,O.pending),O.pending+=J}function Rt(O,Z,J,ce){var P=Z*2,K=J*2;return O[P]<O[K]||O[P]===O[K]&&ce[Z]<=ce[J]}function Ve(O,Z,J){for(var ce=O.heap[J],P=J<<1;P<=O.heap_len&&(P<O.heap_len&&Rt(Z,O.heap[P+1],O.heap[P],O.depth)&&P++,!Rt(Z,ce,O.heap[P],O.depth));)O.heap[J]=O.heap[P],J=P,P<<=1;O.heap[J]=ce}function Ce(O,Z,J){var ce,P,K=0,S,G;if(O.last_lit!==0)do ce=O.pending_buf[O.d_buf+K*2]<<8|O.pending_buf[O.d_buf+K*2+1],P=O.pending_buf[O.l_buf+K],K++,ce===0?tt(O,P,Z):(S=q[P],tt(O,S+h+1,Z),G=H[S],G!==0&&(P-=Y[S],je(O,P,G)),ce--,S=He(ce),tt(O,S,J),G=fe[S],G!==0&&(ce-=ue[S],je(O,ce,G)));while(K<O.last_lit);tt(O,A,Z)}function Vt(O,Z){var J=Z.dyn_tree,ce=Z.stat_desc.static_tree,P=Z.stat_desc.has_stree,K=Z.stat_desc.elems,S,G,we=-1,m;for(O.heap_len=0,O.heap_max=_,S=0;S<K;S++)J[S*2]!==0?(O.heap[++O.heap_len]=we=S,O.depth[S]=0):J[S*2+1]=0;for(;O.heap_len<2;)m=O.heap[++O.heap_len]=we<2?++we:0,J[m*2]=1,O.depth[m]=0,O.opt_len--,P&&(O.static_len-=ce[m*2+1]);for(Z.max_code=we,S=O.heap_len>>1;S>=1;S--)Ve(O,J,S);m=K;do S=O.heap[1],O.heap[1]=O.heap[O.heap_len--],Ve(O,J,1),G=O.heap[1],O.heap[--O.heap_max]=S,O.heap[--O.heap_max]=G,J[m*2]=J[S*2]+J[G*2],O.depth[m]=(O.depth[S]>=O.depth[G]?O.depth[S]:O.depth[G])+1,J[S*2+1]=J[G*2+1]=m,O.heap[1]=m++,Ve(O,J,1);while(O.heap_len>=2);O.heap[--O.heap_max]=O.heap[1],ct(O,Z),en(J,we,O.bl_count)}function vr(O,Z,J){var ce,P=-1,K,S=Z[0*2+1],G=0,we=7,m=4;for(S===0&&(we=138,m=3),Z[(J+1)*2+1]=65535,ce=0;ce<=J;ce++)K=S,S=Z[(ce+1)*2+1],!(++G<we&&K===S)&&(G<m?O.bl_tree[K*2]+=G:K!==0?(K!==P&&O.bl_tree[K*2]++,O.bl_tree[z*2]++):G<=10?O.bl_tree[W*2]++:O.bl_tree[F*2]++,G=0,P=K,S===0?(we=138,m=3):K===S?(we=6,m=3):(we=7,m=4))}function Ln(O,Z,J){var ce,P=-1,K,S=Z[0*2+1],G=0,we=7,m=4;for(S===0&&(we=138,m=3),ce=0;ce<=J;ce++)if(K=S,S=Z[(ce+1)*2+1],!(++G<we&&K===S)){if(G<m)do tt(O,K,O.bl_tree);while(--G!==0);else K!==0?(K!==P&&(tt(O,K,O.bl_tree),G--),tt(O,z,O.bl_tree),je(O,G-3,2)):G<=10?(tt(O,W,O.bl_tree),je(O,G-3,3)):(tt(O,F,O.bl_tree),je(O,G-11,7));G=0,P=K,S===0?(we=138,m=3):K===S?(we=6,m=3):(we=7,m=4)}}function qt(O){var Z;for(vr(O,O.dyn_ltree,O.l_desc.max_code),vr(O,O.dyn_dtree,O.d_desc.max_code),Vt(O,O.bl_desc),Z=b-1;Z>=3&&O.bl_tree[ie[Z]*2+1]===0;Z--);return O.opt_len+=3*(Z+1)+5+5+4,Z}function mr(O,Z,J,ce){var P;for(je(O,Z-257,5),je(O,J-1,5),je(O,ce-4,4),P=0;P<ce;P++)je(O,O.bl_tree[ie[P]*2+1],3);Ln(O,O.dyn_ltree,Z-1),Ln(O,O.dyn_dtree,J-1)}function zn(O){var Z=4093624447,J;for(J=0;J<=31;J++,Z>>>=1)if(Z&1&&O.dyn_ltree[J*2]!==0)return o;if(O.dyn_ltree[9*2]!==0||O.dyn_ltree[10*2]!==0||O.dyn_ltree[13*2]!==0)return u;for(J=32;J<h;J++)if(O.dyn_ltree[J*2]!==0)return u;return o}var tn=!1;function gr(O){tn||(Be(),tn=!0),O.l_desc=new xe(O.dyn_ltree,Te),O.d_desc=new xe(O.dyn_dtree,Ue),O.bl_desc=new xe(O.bl_tree,Me),O.bi_buf=0,O.bi_valid=0,wt(O)}function Mn(O,Z,J,ce){je(O,(c<<1)+(ce?1:0),3),Lt(O,Z,J,!0)}function Et(O){je(O,p<<1,3),tt(O,A,ae),kt(O)}function nn(O,Z,J,ce){var P,K,S=0;O.level>0?(O.strm.data_type===l&&(O.strm.data_type=zn(O)),Vt(O,O.l_desc),Vt(O,O.d_desc),S=qt(O),P=O.opt_len+3+7>>>3,K=O.static_len+3+7>>>3,K<=P&&(P=K)):P=K=J+5,J+4<=P&&Z!==-1?Mn(O,Z,J,ce):O.strategy===a||K===P?(je(O,(p<<1)+(ce?1:0),3),Ce(O,ae,_e)):(je(O,(g<<1)+(ce?1:0),3),mr(O,O.l_desc.max_code+1,O.d_desc.max_code+1,S+1),Ce(O,O.dyn_ltree,O.dyn_dtree)),wt(O),ce&&Pn(O)}function Fr(O,Z,J){return O.pending_buf[O.d_buf+O.last_lit*2]=Z>>>8&255,O.pending_buf[O.d_buf+O.last_lit*2+1]=Z&255,O.pending_buf[O.l_buf+O.last_lit]=J&255,O.last_lit++,Z===0?O.dyn_ltree[J*2]++:(O.matches++,Z--,O.dyn_ltree[(q[J]+h+1)*2]++,O.dyn_dtree[He(Z)*2]++),O.last_lit===O.lit_bufsize-1}i._tr_init=gr,i._tr_stored_block=Mn,i._tr_flush_block=nn,i._tr_tally=Fr,i._tr_align=Et},{"../utils/common":41}],53:[function(n,r,i){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=s},{}],54:[function(n,r,i){r.exports=typeof setImmediate=="function"?setImmediate:function(){var a=[].slice.apply(arguments);a.splice(1,0,0),setTimeout.apply(null,a)}},{}]},{},[10])(10)})})(L_);var hT=L_.exports;class dT{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new hT}catch{throw new Error("JSZip lib not loaded")}}open(e,n){return this.zip.loadAsync(e,{base64:n})}openUrl(e,n){return To(e,"binary").then(function(r){return this.zip.loadAsync(r,{base64:n})}.bind(this))}request(e,n){var r=new De,i,s=new Nr(e);return n||(n=s.extension),n=="blob"?i=this.getBlob(e):i=this.getText(e),i?i.then(function(a){let o=this.handleResponse(a,n);r.resolve(o)}.bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):Nl(n)?r=Or(e,"text/xml"):n=="xhtml"?r=Or(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Or(e,"text/html"):r=e,r}getBlob(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||As.lookup(i.name),i.async("uint8array").then(function(s){return new Blob([s],{type:n})})}getText(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return i.async("string").then(function(s){return s})}getBase64(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||As.lookup(i.name),i.async("base64").then(function(s){return"data:"+n+";base64,"+s})}createUrl(e,n){var r=new De,i=window.URL||window.webkitURL||window.mozURL,s,a,o=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(u){s=i.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}.bind(this))),a||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var z_={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(l,f){if(!i[l]){if(!r[l]){var c=typeof Vr=="function"&&Vr;if(!f&&c)return c(l,!0);if(o)return o(l,!0);var p=new Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p}var g=i[l]={exports:{}};r[l][0].call(g.exports,function(w){var E=r[l][1][w];return a(E||w)},g,g.exports,n,r,i,s)}return i[l].exports}for(var o=typeof Vr=="function"&&Vr,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(n,r,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,l=new a(w),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var c=new s.MessageChannel;c.port1.onmessage=w,o=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var d=s.document.createElement("script");d.onreadystatechange=function(){w(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:o=function(){setTimeout(w,0)};var p,g=[];function w(){p=!0;for(var d,h,v=g.length;v;){for(h=g,g=[],d=-1;++d<v;)h[d]();v=g.length}p=!1}r.exports=E;function E(d){g.push(d)===1&&!p&&o()}}).call(this,typeof Vn!="undefined"?Vn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var s=n(1);function a(){}var o={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];r.exports=c;function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,x){if(typeof _!="function"&&this.state===l||typeof x!="function"&&this.state===u)return this;var T=new this.constructor(a);if(this.state!==f){var I=this.state===l?_:x;g(T,I,this.outcome)}else this.queue.push(new p(T,_,x));return T};function p(_,x,T){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},p.prototype.otherCallFulfilled=function(_){g(this.promise,this.onFulfilled,_)},p.prototype.callRejected=function(_){o.reject(this.promise,_)},p.prototype.otherCallRejected=function(_){g(this.promise,this.onRejected,_)};function g(_,x,T){s(function(){var I;try{I=x(T)}catch(A){return o.reject(_,A)}I===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,I)})}o.resolve=function(_,x){var T=d(w,x);if(T.status==="error")return o.reject(_,T.value);var I=T.value;if(I)E(_,I);else{_.state=l,_.outcome=x;for(var A=-1,z=_.queue.length;++A<z;)_.queue[A].callFulfilled(x)}return _},o.reject=function(_,x){_.state=u,_.outcome=x;for(var T=-1,I=_.queue.length;++T<I;)_.queue[T].callRejected(x);return _};function w(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function E(_,x){var T=!1;function I(F){T||(T=!0,o.reject(_,F))}function A(F){T||(T=!0,o.resolve(_,F))}function z(){x(A,I)}var W=d(z);W.status==="error"&&I(W.value)}function d(_,x){var T={};try{T.value=_(x),T.status="success"}catch(I){T.status="error",T.value=I}return T}c.resolve=h;function h(_){return _ instanceof this?_:o.resolve(new this(a),_)}c.reject=v;function v(_){var x=new this(a);return o.reject(x,_)}c.all=y;function y(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,I=!1;if(!T)return this.resolve([]);for(var A=new Array(T),z=0,W=-1,F=new this(a);++W<T;)H(_[W],W);return F;function H(fe,X){x.resolve(fe).then(ie,function(se){I||(I=!0,o.reject(F,se))});function ie(se){A[X]=se,++z===T&&!I&&(I=!0,o.resolve(F,A))}}}c.race=b;function b(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,I=!1;if(!T)return this.resolve([]);for(var A=-1,z=new this(a);++A<T;)W(_[A]);return z;function W(F){x.resolve(F).then(function(H){I||(I=!0,o.resolve(z,H))},function(H){I||(I=!0,o.reject(z,H))})}}},{"1":1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Vn!="undefined"?Vn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function a(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var u=o();function l(){try{if(!u||!u.open)return!1;var C=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),N=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||N)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function f(C,N){C=C||[],N=N||{};try{return new Blob(C,N)}catch(L){if(L.name!=="TypeError")throw L;for(var R=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,M=new R,B=0;B<C.length;B+=1)M.append(C[B]);return M.getBlob(N.type)}}typeof Promise=="undefined"&&n(3);var c=Promise;function p(C,N){N&&C.then(function(R){N(null,R)},function(R){N(R)})}function g(C,N,R){typeof N=="function"&&C.then(N),typeof R=="function"&&C.catch(R)}function w(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",h=void 0,v={},y=Object.prototype.toString,b="readonly",_="readwrite";function x(C){for(var N=C.length,R=new ArrayBuffer(N),M=new Uint8Array(R),B=0;B<N;B++)M[B]=C.charCodeAt(B);return R}function T(C){return new c(function(N){var R=C.transaction(d,_),M=f([""]);R.objectStore(d).put(M,"key"),R.onabort=function(B){B.preventDefault(),B.stopPropagation(),N(!1)},R.oncomplete=function(){var B=navigator.userAgent.match(/Chrome\/(\d+)/),L=navigator.userAgent.match(/Edge\//);N(L||!B||parseInt(B[1],10)>=43)}}).catch(function(){return!1})}function I(C){return typeof h=="boolean"?c.resolve(h):T(C).then(function(N){return h=N,h})}function A(C){var N=v[C.name],R={};R.promise=new c(function(M,B){R.resolve=M,R.reject=B}),N.deferredOperations.push(R),N.dbReady?N.dbReady=N.dbReady.then(function(){return R.promise}):N.dbReady=R.promise}function z(C){var N=v[C.name],R=N.deferredOperations.pop();if(R)return R.resolve(),R.promise}function W(C,N){var R=v[C.name],M=R.deferredOperations.pop();if(M)return M.reject(N),M.promise}function F(C,N){return new c(function(R,M){if(v[C.name]=v[C.name]||Y(),C.db)if(N)A(C),C.db.close();else return R(C.db);var B=[C.name];N&&B.push(C.version);var L=u.open.apply(u,B);N&&(L.onupgradeneeded=function(V){var Q=L.result;try{Q.createObjectStore(C.storeName),V.oldVersion<=1&&Q.createObjectStore(d)}catch(ee){if(ee.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+V.oldVersion+" to version "+V.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw ee}}),L.onerror=function(V){V.preventDefault(),M(L.error)},L.onsuccess=function(){var V=L.result;V.onversionchange=function(Q){Q.target.close()},R(V),z(C)}})}function H(C){return F(C,!1)}function fe(C){return F(C,!0)}function X(C,N){if(!C.db)return!0;var R=!C.db.objectStoreNames.contains(C.storeName),M=C.version<C.db.version,B=C.version>C.db.version;if(M&&(C.version!==N&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),B||R){if(R){var L=C.db.version+1;L>C.version&&(C.version=L)}return!0}return!1}function ie(C){return new c(function(N,R){var M=new FileReader;M.onerror=R,M.onloadend=function(B){var L=btoa(B.target.result||"");N({__local_forage_encoded_blob:!0,data:L,type:C.type})},M.readAsBinaryString(C)})}function se(C){var N=x(atob(C.data));return f([N],{type:C.type})}function ae(C){return C&&C.__local_forage_encoded_blob}function _e(C){var N=this,R=N._initReady().then(function(){var M=v[N._dbInfo.name];if(M&&M.dbReady)return M.dbReady});return g(R,C,C),R}function ke(C){A(C);for(var N=v[C.name],R=N.forages,M=0;M<R.length;M++){var B=R[M];B._dbInfo.db&&(B._dbInfo.db.close(),B._dbInfo.db=null)}return C.db=null,H(C).then(function(L){return C.db=L,X(C)?fe(C):L}).then(function(L){C.db=N.db=L;for(var V=0;V<R.length;V++)R[V]._dbInfo.db=L}).catch(function(L){throw W(C,L),L})}function q(C,N,R,M){M===void 0&&(M=1);try{var B=C.db.transaction(C.storeName,N);R(null,B)}catch(L){if(M>0&&(!C.db||L.name==="InvalidStateError"||L.name==="NotFoundError"))return c.resolve().then(function(){if(!C.db||L.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),fe(C)}).then(function(){return ke(C).then(function(){q(C,N,R,M-1)})}).catch(R);R(L)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ue(C){var N=this,R={db:null};if(C)for(var M in C)R[M]=C[M];var B=v[R.name];B||(B=Y(),v[R.name]=B),B.forages.push(N),N._initReady||(N._initReady=N.ready,N.ready=_e);var L=[];function V(){return c.resolve()}for(var Q=0;Q<B.forages.length;Q++){var ee=B.forages[Q];ee!==N&&L.push(ee._initReady().catch(V))}var te=B.forages.slice(0);return c.all(L).then(function(){return R.db=B.db,H(R)}).then(function(re){return R.db=re,X(R,N._defaultConfig.version)?fe(R):re}).then(function(re){R.db=B.db=re,N._dbInfo=R;for(var ge=0;ge<te.length;ge++){var Oe=te[ge];Oe!==N&&(Oe._dbInfo.db=R.db,Oe._dbInfo.version=R.version)}})}function de(C,N){var R=this;C=w(C);var M=new c(function(B,L){R.ready().then(function(){q(R._dbInfo,b,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(R._dbInfo.storeName),te=ee.get(C);te.onsuccess=function(){var re=te.result;re===void 0&&(re=null),ae(re)&&(re=se(re)),B(re)},te.onerror=function(){L(te.error)}}catch(re){L(re)}})}).catch(L)});return p(M,N),M}function Te(C,N){var R=this,M=new c(function(B,L){R.ready().then(function(){q(R._dbInfo,b,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(R._dbInfo.storeName),te=ee.openCursor(),re=1;te.onsuccess=function(){var ge=te.result;if(ge){var Oe=ge.value;ae(Oe)&&(Oe=se(Oe));var We=C(Oe,ge.key,re++);We!==void 0?B(We):ge.continue()}else B()},te.onerror=function(){L(te.error)}}catch(ge){L(ge)}})}).catch(L)});return p(M,N),M}function Ue(C,N,R){var M=this;C=w(C);var B=new c(function(L,V){var Q;M.ready().then(function(){return Q=M._dbInfo,y.call(N)==="[object Blob]"?I(Q.db).then(function(ee){return ee?N:ie(N)}):N}).then(function(ee){q(M._dbInfo,_,function(te,re){if(te)return V(te);try{var ge=re.objectStore(M._dbInfo.storeName);ee===null&&(ee=void 0);var Oe=ge.put(ee,C);re.oncomplete=function(){ee===void 0&&(ee=null),L(ee)},re.onabort=re.onerror=function(){var We=Oe.error?Oe.error:Oe.transaction.error;V(We)}}catch(We){V(We)}})}).catch(V)});return p(B,R),B}function Me(C,N){var R=this;C=w(C);var M=new c(function(B,L){R.ready().then(function(){q(R._dbInfo,_,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(R._dbInfo.storeName),te=ee.delete(C);Q.oncomplete=function(){B()},Q.onerror=function(){L(te.error)},Q.onabort=function(){var re=te.error?te.error:te.transaction.error;L(re)}}catch(re){L(re)}})}).catch(L)});return p(M,N),M}function xe(C){var N=this,R=new c(function(M,B){N.ready().then(function(){q(N._dbInfo,_,function(L,V){if(L)return B(L);try{var Q=V.objectStore(N._dbInfo.storeName),ee=Q.clear();V.oncomplete=function(){M()},V.onabort=V.onerror=function(){var te=ee.error?ee.error:ee.transaction.error;B(te)}}catch(te){B(te)}})}).catch(B)});return p(R,C),R}function He(C){var N=this,R=new c(function(M,B){N.ready().then(function(){q(N._dbInfo,b,function(L,V){if(L)return B(L);try{var Q=V.objectStore(N._dbInfo.storeName),ee=Q.count();ee.onsuccess=function(){M(ee.result)},ee.onerror=function(){B(ee.error)}}catch(te){B(te)}})}).catch(B)});return p(R,C),R}function ot(C,N){var R=this,M=new c(function(B,L){if(C<0){B(null);return}R.ready().then(function(){q(R._dbInfo,b,function(V,Q){if(V)return L(V);try{var ee=Q.objectStore(R._dbInfo.storeName),te=!1,re=ee.openKeyCursor();re.onsuccess=function(){var ge=re.result;if(!ge){B(null);return}C===0||te?B(ge.key):(te=!0,ge.advance(C))},re.onerror=function(){L(re.error)}}catch(ge){L(ge)}})}).catch(L)});return p(M,N),M}function je(C){var N=this,R=new c(function(M,B){N.ready().then(function(){q(N._dbInfo,b,function(L,V){if(L)return B(L);try{var Q=V.objectStore(N._dbInfo.storeName),ee=Q.openKeyCursor(),te=[];ee.onsuccess=function(){var re=ee.result;if(!re){M(te);return}te.push(re.key),re.continue()},ee.onerror=function(){B(ee.error)}}catch(re){B(re)}})}).catch(B)});return p(R,C),R}function tt(C,N){N=E.apply(this,arguments);var R=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||R.name,C.storeName=C.storeName||R.storeName);var M=this,B;if(!C.name)B=c.reject("Invalid arguments");else{var L=C.name===R.name&&M._dbInfo.db,V=L?c.resolve(M._dbInfo.db):H(C).then(function(Q){var ee=v[C.name],te=ee.forages;ee.db=Q;for(var re=0;re<te.length;re++)te[re]._dbInfo.db=Q;return Q});C.storeName?B=V.then(function(Q){if(!!Q.objectStoreNames.contains(C.storeName)){var ee=Q.version+1;A(C);var te=v[C.name],re=te.forages;Q.close();for(var ge=0;ge<re.length;ge++){var Oe=re[ge];Oe._dbInfo.db=null,Oe._dbInfo.version=ee}var We=new c(function($e,gt){var dt=u.open(C.name,ee);dt.onerror=function(bn){var da=dt.result;da.close(),gt(bn)},dt.onupgradeneeded=function(){var bn=dt.result;bn.deleteObjectStore(C.storeName)},dt.onsuccess=function(){var bn=dt.result;bn.close(),$e(bn)}});return We.then(function($e){te.db=$e;for(var gt=0;gt<re.length;gt++){var dt=re[gt];dt._dbInfo.db=$e,z(dt._dbInfo)}}).catch(function($e){throw(W(C,$e)||c.resolve()).catch(function(){}),$e})}}):B=V.then(function(Q){A(C);var ee=v[C.name],te=ee.forages;Q.close();for(var re=0;re<te.length;re++){var ge=te[re];ge._dbInfo.db=null}var Oe=new c(function(We,$e){var gt=u.deleteDatabase(C.name);gt.onerror=function(){var dt=gt.result;dt&&dt.close(),$e(gt.error)},gt.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},gt.onsuccess=function(){var dt=gt.result;dt&&dt.close(),We(dt)}});return Oe.then(function(We){ee.db=We;for(var $e=0;$e<te.length;$e++){var gt=te[$e];z(gt._dbInfo)}}).catch(function(We){throw(W(C,We)||c.resolve()).catch(function(){}),We})})}return p(B,N),B}var ze={_driver:"asyncStorage",_initStorage:ue,_support:l(),iterate:Te,getItem:de,setItem:Ue,removeItem:Me,clear:xe,length:He,key:ot,keys:je,dropInstance:tt};function kt(){return typeof openDatabase=="function"}var ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",en="~~local_forage_type~",Be=/^~~local_forage_type~([^~]+)~/,wt="__lfsc__:",Pn=wt.length,Lt="arbf",Rt="blob",Ve="si08",Ce="ui08",Vt="uic8",vr="si16",Ln="si32",qt="ur16",mr="ui32",zn="fl32",tn="fl64",gr=Pn+Lt.length,Mn=Object.prototype.toString;function Et(C){var N=C.length*.75,R=C.length,M,B=0,L,V,Q,ee;C[C.length-1]==="="&&(N--,C[C.length-2]==="="&&N--);var te=new ArrayBuffer(N),re=new Uint8Array(te);for(M=0;M<R;M+=4)L=ct.indexOf(C[M]),V=ct.indexOf(C[M+1]),Q=ct.indexOf(C[M+2]),ee=ct.indexOf(C[M+3]),re[B++]=L<<2|V>>4,re[B++]=(V&15)<<4|Q>>2,re[B++]=(Q&3)<<6|ee&63;return te}function nn(C){var N=new Uint8Array(C),R="",M;for(M=0;M<N.length;M+=3)R+=ct[N[M]>>2],R+=ct[(N[M]&3)<<4|N[M+1]>>4],R+=ct[(N[M+1]&15)<<2|N[M+2]>>6],R+=ct[N[M+2]&63];return N.length%3===2?R=R.substring(0,R.length-1)+"=":N.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function Fr(C,N){var R="";if(C&&(R=Mn.call(C)),C&&(R==="[object ArrayBuffer]"||C.buffer&&Mn.call(C.buffer)==="[object ArrayBuffer]")){var M,B=wt;C instanceof ArrayBuffer?(M=C,B+=Lt):(M=C.buffer,R==="[object Int8Array]"?B+=Ve:R==="[object Uint8Array]"?B+=Ce:R==="[object Uint8ClampedArray]"?B+=Vt:R==="[object Int16Array]"?B+=vr:R==="[object Uint16Array]"?B+=qt:R==="[object Int32Array]"?B+=Ln:R==="[object Uint32Array]"?B+=mr:R==="[object Float32Array]"?B+=zn:R==="[object Float64Array]"?B+=tn:N(new Error("Failed to get type for BinaryArray"))),N(B+nn(M))}else if(R==="[object Blob]"){var L=new FileReader;L.onload=function(){var V=en+C.type+"~"+nn(this.result);N(wt+Rt+V)},L.readAsArrayBuffer(C)}else try{N(JSON.stringify(C))}catch(V){console.error("Couldn't convert value into a JSON string: ",C),N(null,V)}}function O(C){if(C.substring(0,Pn)!==wt)return JSON.parse(C);var N=C.substring(gr),R=C.substring(Pn,gr),M;if(R===Rt&&Be.test(N)){var B=N.match(Be);M=B[1],N=N.substring(B[0].length)}var L=Et(N);switch(R){case Lt:return L;case Rt:return f([L],{type:M});case Ve:return new Int8Array(L);case Ce:return new Uint8Array(L);case Vt:return new Uint8ClampedArray(L);case vr:return new Int16Array(L);case qt:return new Uint16Array(L);case Ln:return new Int32Array(L);case mr:return new Uint32Array(L);case zn:return new Float32Array(L);case tn:return new Float64Array(L);default:throw new Error("Unkown type: "+R)}}var Z={serialize:Fr,deserialize:O,stringToBuffer:Et,bufferToString:nn};function J(C,N,R,M){C.executeSql("CREATE TABLE IF NOT EXISTS "+N.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,M)}function ce(C){var N=this,R={db:null};if(C)for(var M in C)R[M]=typeof C[M]!="string"?C[M].toString():C[M];var B=new c(function(L,V){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(Q){return V(Q)}R.db.transaction(function(Q){J(Q,R,function(){N._dbInfo=R,L()},function(ee,te){V(te)})},V)});return R.serializer=Z,B}function P(C,N,R,M,B,L){C.executeSql(R,M,B,function(V,Q){Q.code===Q.SYNTAX_ERR?V.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[N.storeName],function(ee,te){te.rows.length?L(ee,Q):J(ee,N,function(){ee.executeSql(R,M,B,L)},L)},L):L(V,Q)},L)}function K(C,N){var R=this;C=w(C);var M=new c(function(B,L){R.ready().then(function(){var V=R._dbInfo;V.db.transaction(function(Q){P(Q,V,"SELECT * FROM "+V.storeName+" WHERE key = ? LIMIT 1",[C],function(ee,te){var re=te.rows.length?te.rows.item(0).value:null;re&&(re=V.serializer.deserialize(re)),B(re)},function(ee,te){L(te)})})}).catch(L)});return p(M,N),M}function S(C,N){var R=this,M=new c(function(B,L){R.ready().then(function(){var V=R._dbInfo;V.db.transaction(function(Q){P(Q,V,"SELECT * FROM "+V.storeName,[],function(ee,te){for(var re=te.rows,ge=re.length,Oe=0;Oe<ge;Oe++){var We=re.item(Oe),$e=We.value;if($e&&($e=V.serializer.deserialize($e)),$e=C($e,We.key,Oe+1),$e!==void 0){B($e);return}}B()},function(ee,te){L(te)})})}).catch(L)});return p(M,N),M}function G(C,N,R,M){var B=this;C=w(C);var L=new c(function(V,Q){B.ready().then(function(){N===void 0&&(N=null);var ee=N,te=B._dbInfo;te.serializer.serialize(N,function(re,ge){ge?Q(ge):te.db.transaction(function(Oe){P(Oe,te,"INSERT OR REPLACE INTO "+te.storeName+" (key, value) VALUES (?, ?)",[C,re],function(){V(ee)},function(We,$e){Q($e)})},function(Oe){if(Oe.code===Oe.QUOTA_ERR){if(M>0){V(G.apply(B,[C,ee,R,M-1]));return}Q(Oe)}})})}).catch(Q)});return p(L,R),L}function we(C,N,R){return G.apply(this,[C,N,R,1])}function m(C,N){var R=this;C=w(C);var M=new c(function(B,L){R.ready().then(function(){var V=R._dbInfo;V.db.transaction(function(Q){P(Q,V,"DELETE FROM "+V.storeName+" WHERE key = ?",[C],function(){B()},function(ee,te){L(te)})})}).catch(L)});return p(M,N),M}function j(C){var N=this,R=new c(function(M,B){N.ready().then(function(){var L=N._dbInfo;L.db.transaction(function(V){P(V,L,"DELETE FROM "+L.storeName,[],function(){M()},function(Q,ee){B(ee)})})}).catch(B)});return p(R,C),R}function $(C){var N=this,R=new c(function(M,B){N.ready().then(function(){var L=N._dbInfo;L.db.transaction(function(V){P(V,L,"SELECT COUNT(key) as c FROM "+L.storeName,[],function(Q,ee){var te=ee.rows.item(0).c;M(te)},function(Q,ee){B(ee)})})}).catch(B)});return p(R,C),R}function k(C,N){var R=this,M=new c(function(B,L){R.ready().then(function(){var V=R._dbInfo;V.db.transaction(function(Q){P(Q,V,"SELECT key FROM "+V.storeName+" WHERE id = ? LIMIT 1",[C+1],function(ee,te){var re=te.rows.length?te.rows.item(0).key:null;B(re)},function(ee,te){L(te)})})}).catch(L)});return p(M,N),M}function D(C){var N=this,R=new c(function(M,B){N.ready().then(function(){var L=N._dbInfo;L.db.transaction(function(V){P(V,L,"SELECT key FROM "+L.storeName,[],function(Q,ee){for(var te=[],re=0;re<ee.rows.length;re++)te.push(ee.rows.item(re).key);M(te)},function(Q,ee){B(ee)})})}).catch(B)});return p(R,C),R}function U(C){return new c(function(N,R){C.transaction(function(M){M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(B,L){for(var V=[],Q=0;Q<L.rows.length;Q++)V.push(L.rows.item(Q).name);N({db:C,storeNames:V})},function(B,L){R(L)})},function(M){R(M)})})}function me(C,N){N=E.apply(this,arguments);var R=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||R.name,C.storeName=C.storeName||R.storeName);var M=this,B;return C.name?B=new c(function(L){var V;C.name===R.name?V=M._dbInfo.db:V=openDatabase(C.name,"","",0),C.storeName?L({db:V,storeNames:[C.storeName]}):L(U(V))}).then(function(L){return new c(function(V,Q){L.db.transaction(function(ee){function te(We){return new c(function($e,gt){ee.executeSql("DROP TABLE IF EXISTS "+We,[],function(){$e()},function(dt,bn){gt(bn)})})}for(var re=[],ge=0,Oe=L.storeNames.length;ge<Oe;ge++)re.push(te(L.storeNames[ge]));c.all(re).then(function(){V()}).catch(function(We){Q(We)})},function(ee){Q(ee)})})}):B=c.reject("Invalid arguments"),p(B,N),B}var le={_driver:"webSQLStorage",_initStorage:ce,_support:kt(),iterate:S,getItem:K,setItem:we,removeItem:m,clear:j,length:$,key:k,keys:D,dropInstance:me};function he(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ie(C,N){var R=C.name+"/";return C.storeName!==N.storeName&&(R+=C.storeName+"/"),R}function Bn(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function nt(){return!Bn()||localStorage.length>0}function Re(C){var N=this,R={};if(C)for(var M in C)R[M]=C[M];return R.keyPrefix=Ie(C,N._defaultConfig),nt()?(N._dbInfo=R,R.serializer=Z,c.resolve()):c.reject()}function ht(C){var N=this,R=N.ready().then(function(){for(var M=N._dbInfo.keyPrefix,B=localStorage.length-1;B>=0;B--){var L=localStorage.key(B);L.indexOf(M)===0&&localStorage.removeItem(L)}});return p(R,C),R}function Tt(C,N){var R=this;C=w(C);var M=R.ready().then(function(){var B=R._dbInfo,L=localStorage.getItem(B.keyPrefix+C);return L&&(L=B.serializer.deserialize(L)),L});return p(M,N),M}function zt(C,N){var R=this,M=R.ready().then(function(){for(var B=R._dbInfo,L=B.keyPrefix,V=L.length,Q=localStorage.length,ee=1,te=0;te<Q;te++){var re=localStorage.key(te);if(re.indexOf(L)===0){var ge=localStorage.getItem(re);if(ge&&(ge=B.serializer.deserialize(ge)),ge=C(ge,re.substring(V),ee++),ge!==void 0)return ge}}});return p(M,N),M}function es(C,N){var R=this,M=R.ready().then(function(){var B=R._dbInfo,L;try{L=localStorage.key(C)}catch{L=null}return L&&(L=L.substring(B.keyPrefix.length)),L});return p(M,N),M}function ts(C){var N=this,R=N.ready().then(function(){for(var M=N._dbInfo,B=localStorage.length,L=[],V=0;V<B;V++){var Q=localStorage.key(V);Q.indexOf(M.keyPrefix)===0&&L.push(Q.substring(M.keyPrefix.length))}return L});return p(R,C),R}function ut(C){var N=this,R=N.keys().then(function(M){return M.length});return p(R,C),R}function rn(C,N){var R=this;C=w(C);var M=R.ready().then(function(){var B=R._dbInfo;localStorage.removeItem(B.keyPrefix+C)});return p(M,N),M}function bt(C,N,R){var M=this;C=w(C);var B=M.ready().then(function(){N===void 0&&(N=null);var L=N;return new c(function(V,Q){var ee=M._dbInfo;ee.serializer.serialize(N,function(te,re){if(re)Q(re);else try{localStorage.setItem(ee.keyPrefix+C,te),V(L)}catch(ge){(ge.name==="QuotaExceededError"||ge.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Q(ge),Q(ge)}})})});return p(B,R),B}function Fn(C,N){if(N=E.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var R=this.config();C.name=C.name||R.name,C.storeName=C.storeName||R.storeName}var M=this,B;return C.name?B=new c(function(L){C.storeName?L(Ie(C,M._defaultConfig)):L(C.name+"/")}).then(function(L){for(var V=localStorage.length-1;V>=0;V--){var Q=localStorage.key(V);Q.indexOf(L)===0&&localStorage.removeItem(Q)}}):B=c.reject("Invalid arguments"),p(B,N),B}var En={_driver:"localStorageWrapper",_initStorage:Re,_support:he(),iterate:zt,getItem:Tt,setItem:bt,removeItem:rn,clear:ht,length:ut,key:es,keys:ts,dropInstance:Fn},cu=function(N,R){return N===R||typeof N=="number"&&typeof R=="number"&&isNaN(N)&&isNaN(R)},v1=function(N,R){for(var M=N.length,B=0;B<M;){if(cu(N[B],R))return!0;B++}return!1},ev=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},ha={},tv={},ns={INDEXEDDB:ze,WEBSQL:le,LOCALSTORAGE:En},m1=[ns.INDEXEDDB._driver,ns.WEBSQL._driver,ns.LOCALSTORAGE._driver],hu=["dropInstance"],Of=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(hu),g1={description:"",driver:m1.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function y1(C,N){C[N]=function(){var R=arguments;return C.ready().then(function(){return C[N].apply(C,R)})}}function If(){for(var C=1;C<arguments.length;C++){var N=arguments[C];if(N)for(var R in N)N.hasOwnProperty(R)&&(ev(N[R])?arguments[0][R]=N[R].slice():arguments[0][R]=N[R])}return arguments[0]}var _1=function(){function C(N){a(this,C);for(var R in ns)if(ns.hasOwnProperty(R)){var M=ns[R],B=M._driver;this[R]=B,ha[B]||this.defineDriver(M)}this._defaultConfig=If({},g1),this._config=If({},this._defaultConfig,N),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(R){if((typeof R=="undefined"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var M in R){if(M==="storeName"&&(R[M]=R[M].replace(/\W/g,"_")),M==="version"&&typeof R[M]!="number")return new Error("Database version must be a number.");this._config[M]=R[M]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},C.prototype.defineDriver=function(R,M,B){var L=new c(function(V,Q){try{var ee=R._driver,te=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){Q(te);return}for(var re=Of.concat("_initStorage"),ge=0,Oe=re.length;ge<Oe;ge++){var We=re[ge],$e=!v1(hu,We);if(($e||R[We])&&typeof R[We]!="function"){Q(te);return}}var gt=function(){for(var da=function(b1){return function(){var x1=new Error("Method "+b1+" is not implemented by the current driver"),nv=c.reject(x1);return p(nv,arguments[arguments.length-1]),nv}},Rf=0,E1=hu.length;Rf<E1;Rf++){var Af=hu[Rf];R[Af]||(R[Af]=da(Af))}};gt();var dt=function(da){ha[ee]&&console.info("Redefining LocalForage driver: "+ee),ha[ee]=R,tv[ee]=da,V()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(dt,Q):dt(!!R._support):dt(!0)}catch(bn){Q(bn)}});return g(L,M,B),L},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(R,M,B){var L=ha[R]?c.resolve(ha[R]):c.reject(new Error("Driver not found."));return g(L,M,B),L},C.prototype.getSerializer=function(R){var M=c.resolve(Z);return g(M,R),M},C.prototype.ready=function(R){var M=this,B=M._driverSet.then(function(){return M._ready===null&&(M._ready=M._initDriver()),M._ready});return g(B,R,R),B},C.prototype.setDriver=function(R,M,B){var L=this;ev(R)||(R=[R]);var V=this._getSupportedDrivers(R);function Q(){L._config.driver=L.driver()}function ee(ge){return L._extend(ge),Q(),L._ready=L._initStorage(L._config),L._ready}function te(ge){return function(){var Oe=0;function We(){for(;Oe<ge.length;){var $e=ge[Oe];return Oe++,L._dbInfo=null,L._ready=null,L.getDriver($e).then(ee).catch(We)}Q();var gt=new Error("No available storage method found.");return L._driverSet=c.reject(gt),L._driverSet}return We()}}var re=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=re.then(function(){var ge=V[0];return L._dbInfo=null,L._ready=null,L.getDriver(ge).then(function(Oe){L._driver=Oe._driver,Q(),L._wrapLibraryMethodsWithReady(),L._initDriver=te(V)})}).catch(function(){Q();var ge=new Error("No available storage method found.");return L._driverSet=c.reject(ge),L._driverSet}),g(this._driverSet,M,B),this._driverSet},C.prototype.supports=function(R){return!!tv[R]},C.prototype._extend=function(R){If(this,R)},C.prototype._getSupportedDrivers=function(R){for(var M=[],B=0,L=R.length;B<L;B++){var V=R[B];this.supports(V)&&M.push(V)}return M},C.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,M=Of.length;R<M;R++)y1(this,Of[R])},C.prototype.createInstance=function(R){return new C(R)},C}(),w1=new _1;r.exports=w1},{"3":3}]},{},[4])(4)})})(z_);var Gm=z_.exports;class M_{constructor(e,n,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=n||To,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof Gm=="undefined"&&(e=Gm),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(e,n){let r=e.resources.map(i=>{let{href:s}=i,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||n?this.requester(a,"binary").then(l=>this.storage.setItem(o,l)):u)});return Promise.all(r)}put(e,n,r){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(s=>s||this.requester(e,"binary",n,r).then(a=>this.storage.setItem(i,a)))}request(e,n,r,i){return this.online?this.requester(e,n,r,i).then(s=>(this.put(e),s)):this.retrieve(e,n)}retrieve(e,n){new De;var r,i=new Nr(e);return n||(n=i.extension),n=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(s=>{var a=new De,o;return s?(o=this.handleResponse(s,n),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):Nl(n)?r=Or(e,"text/xml"):n=="xhtml"?r=Or(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Or(e,"text/html"):r=e,r}getBlob(e,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(i){if(!!i)return n=n||As.lookup(e),new Blob([i],{type:n})})}getText(e,n){let r=window.encodeURIComponent(e);return n=n||As.lookup(e),this.storage.getItem(r).then(function(i){var s=new De,a=new FileReader,o;if(!!i)return o=new Blob([i],{type:n}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,n),s.promise})}getBase64(e,n){let r=window.encodeURIComponent(e);return n=n||As.lookup(e),this.storage.getItem(r).then(i=>{var s=new De,a=new FileReader,o;if(!!i)return o=new Blob([i],{type:n}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,n),s.promise})}createUrl(e,n){var r=new De,i=window.URL||window.webkitURL||window.mozURL,s,a,o=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(u){s=i.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}.bind(this))),a||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}hr(M_.prototype);class lc{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const n=Ze(e,"display_options");return n?(di(n,"option").forEach(i=>{let s="";switch(i.childNodes.length&&(s=i.childNodes[0].nodeValue),i.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const Qm="META-INF/container.xml",pT="META-INF/com.apple.ibooks.display-options.xml",jn={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class vT{constructor(e,n){typeof n=="undefined"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(n=e,e=void 0),this.settings=Wt(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Wt(this.settings,n),this.opening=new De,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new De,spine:new De,metadata:new De,cover:new De,navigation:new De,pageList:new De,resources:new De,displayOptions:new De},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||To,this.spine=new zS,this.locations=new g_(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var i=new Error("Cannot load book at "+e);this.emit(oe.BOOK.OPEN_FAILED,i)})}open(e,n){var r,i=n||this.determineType(e);return i===jn.BINARY?(this.archived=!0,this.url=new $n("/",""),r=this.openEpub(e)):i===jn.BASE64?(this.archived=!0,this.url=new $n("/",""),r=this.openEpub(e,i)):i===jn.EPUB?(this.archived=!0,this.url=new $n("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==jn.OPF?(this.url=new $n(e),r=this.openPackaging(this.url.Path.toString())):i==jn.MANIFEST?(this.url=new $n(e),r=this.openManifest(this.url.Path.toString())):(this.url=new $n(e),r=this.openContainer(Qm).then(this.openPackaging.bind(this))),r}openEpub(e,n){return this.unarchive(e,n||this.settings.encoding).then(()=>this.openContainer(Qm)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(n=>(this.container=new MS(n),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new Nr(e),this.load(e).then(n=>(this.packaging=new $m(n),this.unpack(this.packaging)))}openManifest(e){return this.path=new Nr(e),this.load(e).then(n=>(this.packaging=new $m,this.packaging.load(n),this.unpack(this.packaging)))}load(e){var n=this.resolve(e);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,n){if(!!e){var r=e,i=e.indexOf("://")>-1;return i?e:(this.path&&(r=this.path.resolve(e)),n!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var n=e;return e?(this.settings.canonical?n=this.settings.canonical(e):n=this.resolve(e,!0),n):""}determineType(e){var n,r,i;if(this.settings.encoding==="base64")return jn.BASE64;if(typeof e!="string")return jn.BINARY;if(n=new $n(e),r=n.path(),i=r.extension,i&&(i=i.replace(/\?.*$/,"")),!i)return jn.DIRECTORY;if(i==="epub")return jn.EPUB;if(i==="opf")return jn.OPF;if(i==="json")return jn.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(pT)).then(n=>{this.displayOptions=new lc(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new lc,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new lc,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new jS(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let n=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((i,s)=>{this.navigation=new ac(r),e.pageList&&(this.pageList=new oc(e.pageList)),i(this.navigation)}):n?this.load(n,"xml").then(i=>(this.navigation=new ac(i),this.pageList=new oc(i),this.navigation)):new Promise((i,s)=>{this.navigation=new ac,this.pageList=new oc,i(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,n){return this.rendition=new P_(this,n),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,n){return this.archive=new dT,this.archive.open(e,n)}store(e){let n=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,i=this.settings.requestMethod||To.bind(this);return this.storage=new M_(e,i,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new $n("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,n)=>{n.output=this.resources.substitute(e,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var n=new Pe(e),r=this.spine.get(n.spinePos),i=this.load.bind(this);return r?r.load(i).then(function(s){var a=n.toRange(r.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var n=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${pp}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}hr(vT.prototype);typeof global!="undefined"&&(global.EPUBJS_VERSION=pp);var df="delete",Ge=5,Tn=1<<Ge,Zt=Tn-1,Ne={};function bh(){return{value:!1}}function Cn(t){t&&(t.value=!0)}function gp(){}function Us(t){return t.size===void 0&&(t.size=t.__iterate(B_)),t.size}function pi(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?Us(t)+e:e}function B_(){return!0}function pf(t,e,n){return(t===0&&!U_(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function tu(t,e){return F_(t,e,0)}function vf(t,e){return F_(t,e,e)}function F_(t,e,n){return t===void 0?n:U_(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function U_(t){return t<0||t===0&&1/t===-1/0}var j_="@@__IMMUTABLE_ITERABLE__@@";function fn(t){return Boolean(t&&t[j_])}var W_="@@__IMMUTABLE_KEYED__@@";function at(t){return Boolean(t&&t[W_])}var $_="@@__IMMUTABLE_INDEXED__@@";function ln(t){return Boolean(t&&t[$_])}function mf(t){return at(t)||ln(t)}var mt=function(e){return fn(e)?e:_n(e)},Jn=function(t){function e(n){return at(n)?n:bi(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mt),Xi=function(t){function e(n){return ln(n)?n:er(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mt),ta=function(t){function e(n){return fn(n)&&!mf(n)?n:ia(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mt);mt.Keyed=Jn;mt.Indexed=Xi;mt.Set=ta;var K_="@@__IMMUTABLE_SEQ__@@";function yp(t){return Boolean(t&&t[K_])}var mT="@@__IMMUTABLE_RECORD__@@";function _p(t){return Boolean(t&&t[mT])}function Br(t){return fn(t)||_p(t)}var na="@@__IMMUTABLE_ORDERED__@@";function Zn(t){return Boolean(t&&t[na])}var nu=0,Gn=1,Qn=2,xh=typeof Symbol=="function"&&Symbol.iterator,H_="@@iterator",wp=xh||H_,Fe=function(e){this.next=e};Fe.prototype.toString=function(){return"[Iterator]"};Fe.KEYS=nu;Fe.VALUES=Gn;Fe.ENTRIES=Qn;Fe.prototype.inspect=Fe.prototype.toSource=function(){return this.toString()};Fe.prototype[wp]=function(){return this};function it(t,e,n,r){var i=t===0?e:t===1?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function cn(){return{value:void 0,done:!0}}function V_(t){return Array.isArray(t)?!0:!!gf(t)}function Jm(t){return t&&typeof t.next=="function"}function Sh(t){var e=gf(t);return e&&e.call(t)}function gf(t){var e=t&&(xh&&t[xh]||t[H_]);if(typeof e=="function")return e}function gT(t){var e=gf(t);return e&&e===t.entries}function yT(t){var e=gf(t);return e&&e===t.keys}var ra=Object.prototype.hasOwnProperty;function q_(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var _n=function(t){function e(n){return n==null?bp():Br(n)?n.toSeq():wT(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,i){var s=this._cache;if(s){for(var a=s.length,o=0;o!==a;){var u=s[i?a-++o:o++];if(r(u[1],u[0],this)===!1)break}return o}return this.__iterateUncached(r,i)},e.prototype.__iterator=function(r,i){var s=this._cache;if(s){var a=s.length,o=0;return new Fe(function(){if(o===a)return cn();var u=s[i?a-++o:o++];return it(r,u[0],u[1])})}return this.__iteratorUncached(r,i)},e}(mt),bi=function(t){function e(n){return n==null?bp().toKeyedSeq():fn(n)?at(n)?n.toSeq():n.fromEntrySeq():_p(n)?n.toSeq():Y_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(_n),er=function(t){function e(n){return n==null?bp():fn(n)?at(n)?n.entrySeq():n.toIndexedSeq():_p(n)?n.toSeq().entrySeq():Z_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(_n),ia=function(t){function e(n){return(fn(n)&&!mf(n)?n:er(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(_n);_n.isSeq=yp;_n.Keyed=bi;_n.Set=ia;_n.Indexed=er;_n.prototype[K_]=!0;var ji=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this.has(r)?this._array[pi(this,r)]:i},e.prototype.__iterate=function(r,i){for(var s=this._array,a=s.length,o=0;o!==a;){var u=i?a-++o:o++;if(r(s[u],u,this)===!1)break}return o},e.prototype.__iterator=function(r,i){var s=this._array,a=s.length,o=0;return new Fe(function(){if(o===a)return cn();var u=i?a-++o:o++;return it(r,u,s[u])})},e}(er),Ep=function(t){function e(n){var r=Object.keys(n);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},e.prototype.has=function(r){return ra.call(this._object,r)},e.prototype.__iterate=function(r,i){for(var s=this._object,a=this._keys,o=a.length,u=0;u!==o;){var l=a[i?o-++u:u++];if(r(s[l],l,this)===!1)break}return u},e.prototype.__iterator=function(r,i){var s=this._object,a=this._keys,o=a.length,u=0;return new Fe(function(){if(u===o)return cn();var l=a[i?o-++u:u++];return it(r,l,s[l])})},e}(bi);Ep.prototype[na]=!0;var _T=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var s=this._collection,a=Sh(s),o=0;if(Jm(a))for(var u;!(u=a.next()).done&&r(u.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=this._collection,a=Sh(s);if(!Jm(a))return new Fe(cn);var o=0;return new Fe(function(){var u=a.next();return u.done?u:it(r,o++,u.value)})},e}(er),eg;function bp(){return eg||(eg=new ji([]))}function Y_(t){var e=xp(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Ep(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Z_(t){var e=xp(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function wT(t){var e=xp(t);if(e)return gT(t)?e.fromEntrySeq():yT(t)?e.toSetSeq():e;if(typeof t=="object")return new Ep(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function xp(t){return q_(t)?new ji(t):V_(t)?new _T(t):void 0}var X_="@@__IMMUTABLE_MAP__@@";function Sp(t){return Boolean(t&&t[X_])}function G_(t){return Sp(t)&&Zn(t)}function tg(t){return Boolean(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function gn(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(tg(t)&&tg(e)&&t.equals(e))}var Pa=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,i=n&65535;return r*i+((e>>>16)*i+r*(n>>>16)<<16>>>0)|0};function yf(t){return t>>>1&1073741824|t&3221225471}var ET=Object.prototype.valueOf;function mn(t){if(t==null)return ng(t);if(typeof t.hashCode=="function")return yf(t.hashCode(t));var e=CT(t);if(e==null)return ng(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return bT(e);case"string":return e.length>OT?xT(e):kh(e);case"object":case"function":return kT(e);case"symbol":return ST(e);default:if(typeof e.toString=="function")return kh(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function ng(t){return t===null?1108378658:1108378659}function bT(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return yf(e)}function xT(t){var e=hc[t];return e===void 0&&(e=kh(t),cc===IT&&(cc=0,hc={}),cc++,hc[t]=e),e}function kh(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return yf(e)}function ST(t){var e=sg[t];return e!==void 0||(e=Q_(),sg[t]=e),e}function kT(t){var e;if(Th&&(e=Ch.get(t),e!==void 0)||(e=t[Si],e!==void 0)||!ig&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Si],e!==void 0||(e=TT(t),e!==void 0)))return e;if(e=Q_(),Th)Ch.set(t,e);else{if(rg!==void 0&&rg(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(ig)Object.defineProperty(t,Si,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Si]=e;else if(t.nodeType!==void 0)t[Si]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var rg=Object.isExtensible,ig=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function TT(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function CT(t){return t.valueOf!==ET&&typeof t.valueOf=="function"?t.valueOf(t):t}function Q_(){var t=++fc;return fc&1073741824&&(fc=0),t}var Th=typeof WeakMap=="function",Ch;Th&&(Ch=new WeakMap);var sg=Object.create(null),fc=0,Si="__immutablehash__";typeof Symbol=="function"&&(Si=Symbol(Si));var OT=16,IT=255,cc=0,hc={},_f=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this._iter.get(r,i)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,i=kp(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},e.prototype.map=function(r,i){var s=this,a=rw(this,r,i);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(r,i)}),a},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a,o){return r(a,o,s)},i)},e.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},e}(bi);_f.prototype[na]=!0;var J_=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this,a=0;return i&&Us(this),this._iter.__iterate(function(o){return r(o,i?s.size-++a:a++,s)},i)},e.prototype.__iterator=function(r,i){var s=this,a=this._iter.__iterator(Gn,i),o=0;return i&&Us(this),new Fe(function(){var u=a.next();return u.done?u:it(r,i?s.size-++o:o++,u.value,u)})},e}(er),ew=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Gn,i);return new Fe(function(){var a=s.next();return a.done?a:it(r,a.value,a.value,a)})},e}(ia),tw=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){if(a){og(a);var o=fn(a);return r(o?a.get(1):a[1],o?a.get(0):a[0],s)}},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Gn,i);return new Fe(function(){for(;;){var a=s.next();if(a.done)return a;var o=a.value;if(o){og(o);var u=fn(o);return it(r,u?o.get(0):o[0],u?o.get(1):o[1],a)}}})},e}(bi);J_.prototype.cacheResult=_f.prototype.cacheResult=ew.prototype.cacheResult=tw.prototype.cacheResult=Cp;function nw(t){var e=dr(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=Cp,e.__iterateUncached=function(n,r){var i=this;return t.__iterate(function(s,a){return n(a,s,i)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===Qn){var i=t.__iterator(n,r);return new Fe(function(){var s=i.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return t.__iterator(n===Gn?nu:Gn,r)},e}function rw(t,e,n){var r=dr(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(i,s){var a=t.get(i,Ne);return a===Ne?s:e.call(n,a,i,t)},r.__iterateUncached=function(i,s){var a=this;return t.__iterate(function(o,u,l){return i(e.call(n,o,u,l),u,a)!==!1},s)},r.__iteratorUncached=function(i,s){var a=t.__iterator(Qn,s);return new Fe(function(){var o=a.next();if(o.done)return o;var u=o.value,l=u[0];return it(i,l,e.call(n,u[1],l,t),o)})},r}function kp(t,e){var n=this,r=dr(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=nw(t);return i.reverse=function(){return t.flip()},i}),r.get=function(i,s){return t.get(e?i:-1-i,s)},r.has=function(i){return t.has(e?i:-1-i)},r.includes=function(i){return t.includes(i)},r.cacheResult=Cp,r.__iterate=function(i,s){var a=this,o=0;return s&&Us(t),t.__iterate(function(u,l){return i(u,e?l:s?a.size-++o:o++,a)},!s)},r.__iterator=function(i,s){var a=0;s&&Us(t);var o=t.__iterator(Qn,!s);return new Fe(function(){var u=o.next();if(u.done)return u;var l=u.value;return it(i,e?l[0]:s?n.size-++a:a++,l[1],u)})},r}function iw(t,e,n,r){var i=dr(t);return r&&(i.has=function(s){var a=t.get(s,Ne);return a!==Ne&&!!e.call(n,a,s,t)},i.get=function(s,a){var o=t.get(s,Ne);return o!==Ne&&e.call(n,o,s,t)?o:a}),i.__iterateUncached=function(s,a){var o=this,u=0;return t.__iterate(function(l,f,c){if(e.call(n,l,f,c))return u++,s(l,r?f:u-1,o)},a),u},i.__iteratorUncached=function(s,a){var o=t.__iterator(Qn,a),u=0;return new Fe(function(){for(;;){var l=o.next();if(l.done)return l;var f=l.value,c=f[0],p=f[1];if(e.call(n,p,c,t))return it(s,r?c:u++,p,l)}})},i}function RT(t,e,n){var r=aa().asMutable();return t.__iterate(function(i,s){r.update(e.call(n,i,s,t),0,function(a){return a+1})}),r.asImmutable()}function AT(t,e,n){var r=at(t),i=(Zn(t)?Pr():aa()).asMutable();t.__iterate(function(a,o){i.update(e.call(n,a,o,t),function(u){return u=u||[],u.push(r?[o,a]:a),u})});var s=ow(t);return i.map(function(a){return Ye(t,s(a))}).asImmutable()}function Tp(t,e,n,r){var i=t.size;if(pf(e,n,i))return t;var s=tu(e,i),a=vf(n,i);if(s!==s||a!==a)return Tp(t.toSeq().cacheResult(),e,n,r);var o=a-s,u;o===o&&(u=o<0?0:o);var l=dr(t);return l.size=u===0?u:t.size&&u||void 0,!r&&yp(t)&&u>=0&&(l.get=function(f,c){return f=pi(this,f),f>=0&&f<u?t.get(f+s,c):c}),l.__iterateUncached=function(f,c){var p=this;if(u===0)return 0;if(c)return this.cacheResult().__iterate(f,c);var g=0,w=!0,E=0;return t.__iterate(function(d,h){if(!(w&&(w=g++<s)))return E++,f(d,r?h:E-1,p)!==!1&&E!==u}),E},l.__iteratorUncached=function(f,c){if(u!==0&&c)return this.cacheResult().__iterator(f,c);if(u===0)return new Fe(cn);var p=t.__iterator(f,c),g=0,w=0;return new Fe(function(){for(;g++<s;)p.next();if(++w>u)return cn();var E=p.next();return r||f===Gn||E.done?E:f===nu?it(f,w-1,void 0,E):it(f,w-1,E.value[1],E)})},l}function NT(t,e,n){var r=dr(t);return r.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=0;return t.__iterate(function(u,l,f){return e.call(n,u,l,f)&&++o&&i(u,l,a)}),o},r.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(Qn,s),u=!0;return new Fe(function(){if(!u)return cn();var l=o.next();if(l.done)return l;var f=l.value,c=f[0],p=f[1];return e.call(n,p,c,a)?i===Qn?l:it(i,c,p,l):(u=!1,cn())})},r}function sw(t,e,n,r){var i=dr(t);return i.__iterateUncached=function(s,a){var o=this;if(a)return this.cacheResult().__iterate(s,a);var u=!0,l=0;return t.__iterate(function(f,c,p){if(!(u&&(u=e.call(n,f,c,p))))return l++,s(f,r?c:l-1,o)}),l},i.__iteratorUncached=function(s,a){var o=this;if(a)return this.cacheResult().__iterator(s,a);var u=t.__iterator(Qn,a),l=!0,f=0;return new Fe(function(){var c,p,g;do{if(c=u.next(),c.done)return r||s===Gn?c:s===nu?it(s,f++,void 0,c):it(s,f++,c.value[1],c);var w=c.value;p=w[0],g=w[1],l&&(l=e.call(n,g,p,o))}while(l);return s===Qn?c:it(s,p,g,c)})},i}function DT(t,e){var n=at(t),r=[t].concat(e).map(function(a){return fn(a)?n&&(a=Jn(a)):a=n?Y_(a):Z_(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(r.length===0)return t;if(r.length===1){var i=r[0];if(i===t||n&&at(i)||ln(t)&&ln(i))return i}var s=new ji(r);return n?s=s.toKeyedSeq():ln(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=r.reduce(function(a,o){if(a!==void 0){var u=o.size;if(u!==void 0)return a+u}},0),s}function aw(t,e,n){var r=dr(t);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var a=0,o=!1;function u(l,f){l.__iterate(function(c,p){return(!e||f<e)&&fn(c)?u(c,f+1):(a++,i(c,n?p:a-1,r)===!1&&(o=!0)),!o},s)}return u(t,0),a},r.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(i,s),o=[],u=0;return new Fe(function(){for(;a;){var l=a.next();if(l.done!==!1){a=o.pop();continue}var f=l.value;if(i===Qn&&(f=f[1]),(!e||o.length<e)&&fn(f))o.push(a),a=f.__iterator(i,s);else return n?l:it(i,u++,f,l)}return cn()})},r}function PT(t,e,n){var r=ow(t);return t.toSeq().map(function(i,s){return r(e.call(n,i,s,t))}).flatten(!0)}function LT(t,e){var n=dr(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,i){var s=this,a=0;return t.__iterate(function(o){return(!a||r(e,a++,s)!==!1)&&r(o,a++,s)!==!1},i),a},n.__iteratorUncached=function(r,i){var s=t.__iterator(Gn,i),a=0,o;return new Fe(function(){return(!o||a%2)&&(o=s.next(),o.done)?o:a%2?it(r,a++,e):it(r,a++,o.value,o)})},n}function js(t,e,n){e||(e=uw);var r=at(t),i=0,s=t.toSeq().map(function(a,o){return[o,a,i++,n?n(a,o,t):a]}).valueSeq().toArray();return s.sort(function(a,o){return e(a[3],o[3])||a[2]-o[2]}).forEach(r?function(a,o){s[o].length=2}:function(a,o){s[o]=a[1]}),r?bi(s):ln(t)?er(s):ia(s)}function Cu(t,e,n){if(e||(e=uw),n){var r=t.toSeq().map(function(i,s){return[i,n(i,s,t)]}).reduce(function(i,s){return ag(e,i[1],s[1])?s:i});return r&&r[0]}return t.reduce(function(i,s){return ag(e,i,s)?s:i})}function ag(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function Ou(t,e,n,r){var i=dr(t),s=new ji(n).map(function(a){return a.size});return i.size=r?s.max():s.min(),i.__iterate=function(a,o){for(var u=this.__iterator(Gn,o),l,f=0;!(l=u.next()).done&&a(l.value,f++,this)!==!1;);return f},i.__iteratorUncached=function(a,o){var u=n.map(function(c){return c=mt(c),Sh(o?c.reverse():c)}),l=0,f=!1;return new Fe(function(){var c;return f||(c=u.map(function(p){return p.next()}),f=r?c.every(function(p){return p.done}):c.some(function(p){return p.done})),f?cn():it(a,l++,e.apply(null,c.map(function(p){return p.value})))})},i}function Ye(t,e){return t===e?t:yp(t)?e:t.constructor(e)}function og(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ow(t){return at(t)?Jn:ln(t)?Xi:ta}function dr(t){return Object.create((at(t)?bi:ln(t)?er:ia).prototype)}function Cp(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):_n.prototype.cacheResult.call(this)}function uw(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function ir(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function lw(t,e){if(!t)throw new Error(e)}function On(t){lw(t!==1/0,"Cannot perform this action with an infinite size.")}function fw(t){if(q_(t)&&typeof t!="string")return t;if(Zn(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var zT=Object.prototype.toString;function MT(t){if(!t||typeof t!="object"||zT.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function vi(t){return typeof t=="object"&&(Br(t)||Array.isArray(t)||MT(t))}function zl(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function BT(t,e){return Br(t)?t.has(e):vi(t)&&ra.call(t,e)}function cw(t,e,n){return Br(t)?t.get(e,n):BT(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Ml(t){if(Array.isArray(t))return ir(t);var e={};for(var n in t)ra.call(t,n)&&(e[n]=t[n]);return e}function FT(t,e){if(!vi(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Br(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!ra.call(t,e))return t;var n=Ml(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function UT(t,e,n){if(!vi(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Br(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(ra.call(t,e)&&n===t[e])return t;var r=Ml(t);return r[e]=n,r}function sa(t,e,n,r){r||(r=n,n=void 0);var i=hw(Br(t),t,fw(e),0,n,r);return i===Ne?n:i}function hw(t,e,n,r,i,s){var a=e===Ne;if(r===n.length){var o=a?i:e,u=s(o);return u===o?e:u}if(!a&&!vi(e))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(zl)+"]: "+e);var l=n[r],f=a?Ne:cw(e,l,Ne),c=hw(f===Ne?t:Br(f),f,n,r+1,i,s);return c===f?e:c===Ne?FT(e,l):UT(a?t?Hn():{}:e,l,c)}function jT(t,e,n){return sa(t,e,Ne,function(){return n})}function dw(t,e){return jT(this,t,e)}function WT(t,e){return sa(t,e,function(){return Ne})}function pw(t){return WT(this,t)}function vw(t,e,n,r){return sa(t,[e],n,r)}function mw(t,e,n){return arguments.length===1?t(this):vw(this,t,e,n)}function gw(t,e,n){return sa(this,t,e,n)}function $T(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return yw(this,t)}function KT(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return yw(this,e,t)}function yw(t,e,n){for(var r=[],i=0;i<e.length;i++){var s=Jn(e[i]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?t.constructor(r[0]):t.withMutations(function(a){for(var o=n?function(l,f){vw(a,f,Ne,function(c){return c===Ne?l:n(c,l,f)})}:function(l,f){a.set(f,l)},u=0;u<r.length;u++)r[u].forEach(o)})}function Op(t,e,n){return Ip(t,e,HT(n))}function Ip(t,e,n){if(!vi(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Br(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,s=r?Xi:Jn,a=r?function(u){i===t&&(i=Ml(i)),i.push(u)}:function(u,l){var f=ra.call(i,l),c=f&&n?n(i[l],u,l):u;(!f||c!==i[l])&&(i===t&&(i=Ml(i)),i[l]=c)},o=0;o<e.length;o++)s(e[o]).forEach(a);return i}function HT(t){function e(n,r,i){return vi(n)&&vi(r)&&VT(n,r)?Ip(n,[r],e):t?t(n,r,i):r}return e}function VT(t,e){var n=_n(t),r=_n(e);return ln(n)===ln(r)&&at(n)===at(r)}function qT(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Op(this,t)}function YT(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Op(this,e,t)}function _w(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return sa(this,t,Hn(),function(r){return Ip(r,e)})}function ww(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return sa(this,t,Hn(),function(r){return Op(r,e)})}function wf(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Ef(){return this.__ownerID?this:this.__ensureOwner(new gp)}function bf(){return this.__ensureOwner()}function Rp(){return this.__altered}var aa=function(t){function e(n){return n==null?Hn():Sp(n)&&!Zn(n)?n:Hn().withMutations(function(r){var i=t(n);On(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return Hn().withMutations(function(s){for(var a=0;a<r.length;a+=2){if(a+1>=r.length)throw new Error("Missing value for key: "+r[a]);s.set(r[a],r[a+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},e.prototype.set=function(r,i){return fg(this,r,i)},e.prototype.remove=function(r){return fg(this,r,Ne)},e.prototype.deleteAll=function(r){var i=mt(r);return i.size===0?this:this.withMutations(function(s){i.forEach(function(a){return s.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Hn()},e.prototype.sort=function(r){return Pr(js(this,r))},e.prototype.sortBy=function(r,i){return Pr(js(this,i,r))},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){a.forEach(function(o,u){a.set(u,r.call(i,o,u,s))})})},e.prototype.__iterator=function(r,i){return new ZT(this,r,i)},e.prototype.__iterate=function(r,i){var s=this,a=0;return this._root&&this._root.iterate(function(o){return a++,r(o[1],o[0],s)},i),a},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Ap(this.size,this._root,r,this.__hash):this.size===0?Hn():(this.__ownerID=r,this.__altered=!1,this)},e}(Jn);aa.isMap=Sp;var et=aa.prototype;et[X_]=!0;et[df]=et.remove;et.removeAll=et.deleteAll;et.setIn=dw;et.removeIn=et.deleteIn=pw;et.update=mw;et.updateIn=gw;et.merge=et.concat=$T;et.mergeWith=KT;et.mergeDeep=qT;et.mergeDeepWith=YT;et.mergeIn=_w;et.mergeDeepIn=ww;et.withMutations=wf;et.wasAltered=Rp;et.asImmutable=bf;et["@@transducer/init"]=et.asMutable=Ef;et["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};et["@@transducer/result"]=function(t){return t.asImmutable()};var Oo=function(e,n){this.ownerID=e,this.entries=n};Oo.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,o=s.length;a<o;a++)if(gn(r,s[a][0]))return s[a][1];return i};Oo.prototype.update=function(e,n,r,i,s,a,o){for(var u=s===Ne,l=this.entries,f=0,c=l.length;f<c&&!gn(i,l[f][0]);f++);var p=f<c;if(p?l[f][1]===s:u)return this;if(Cn(o),(u||!p)&&Cn(a),!(u&&l.length===1)){if(!p&&!u&&l.length>=tC)return XT(e,l,i,s);var g=e&&e===this.ownerID,w=g?l:ir(l);return p?u?f===c-1?w.pop():w[f]=w.pop():w[f]=[i,s]:w.push([i,s]),g?(this.entries=w,this):new Oo(e,w)}};var Ws=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};Ws.prototype.get=function(e,n,r,i){n===void 0&&(n=mn(r));var s=1<<((e===0?n:n>>>e)&Zt),a=this.bitmap;return(a&s)===0?i:this.nodes[Ew(a&s-1)].get(e+Ge,n,r,i)};Ws.prototype.update=function(e,n,r,i,s,a,o){r===void 0&&(r=mn(i));var u=(n===0?r:r>>>n)&Zt,l=1<<u,f=this.bitmap,c=(f&l)!==0;if(!c&&s===Ne)return this;var p=Ew(f&l-1),g=this.nodes,w=c?g[p]:void 0,E=Np(w,e,n+Ge,r,i,s,a,o);if(E===w)return this;if(!c&&E&&g.length>=nC)return QT(e,g,f,u,E);if(c&&!E&&g.length===2&&cg(g[p^1]))return g[p^1];if(c&&E&&g.length===1&&cg(E))return E;var d=e&&e===this.ownerID,h=c?E?f:f^l:f|l,v=c?E?bw(g,p,E,d):eC(g,p,d):JT(g,p,E,d);return d?(this.bitmap=h,this.nodes=v,this):new Ws(e,h,v)};var Io=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};Io.prototype.get=function(e,n,r,i){n===void 0&&(n=mn(r));var s=(e===0?n:n>>>e)&Zt,a=this.nodes[s];return a?a.get(e+Ge,n,r,i):i};Io.prototype.update=function(e,n,r,i,s,a,o){r===void 0&&(r=mn(i));var u=(n===0?r:r>>>n)&Zt,l=s===Ne,f=this.nodes,c=f[u];if(l&&!c)return this;var p=Np(c,e,n+Ge,r,i,s,a,o);if(p===c)return this;var g=this.count;if(!c)g++;else if(!p&&(g--,g<rC))return GT(e,f,g,u);var w=e&&e===this.ownerID,E=bw(f,u,p,w);return w?(this.count=g,this.nodes=E,this):new Io(e,g,E)};var $s=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};$s.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,o=s.length;a<o;a++)if(gn(r,s[a][0]))return s[a][1];return i};$s.prototype.update=function(e,n,r,i,s,a,o){r===void 0&&(r=mn(i));var u=s===Ne;if(r!==this.keyHash)return u?this:(Cn(o),Cn(a),Dp(this,e,n,r,[i,s]));for(var l=this.entries,f=0,c=l.length;f<c&&!gn(i,l[f][0]);f++);var p=f<c;if(p?l[f][1]===s:u)return this;if(Cn(o),(u||!p)&&Cn(a),u&&c===2)return new Dr(e,this.keyHash,l[f^1]);var g=e&&e===this.ownerID,w=g?l:ir(l);return p?u?f===c-1?w.pop():w[f]=w.pop():w[f]=[i,s]:w.push([i,s]),g?(this.entries=w,this):new $s(e,this.keyHash,w)};var Dr=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};Dr.prototype.get=function(e,n,r,i){return gn(r,this.entry[0])?this.entry[1]:i};Dr.prototype.update=function(e,n,r,i,s,a,o){var u=s===Ne,l=gn(i,this.entry[0]);if(l?s===this.entry[1]:u)return this;if(Cn(o),u){Cn(a);return}return l?e&&e===this.ownerID?(this.entry[1]=s,this):new Dr(e,this.keyHash,[i,s]):(Cn(a),Dp(this,e,n,mn(i),[i,s]))};Oo.prototype.iterate=$s.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1};Ws.prototype.iterate=Io.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[e?i-r:r];if(s&&s.iterate(t,e)===!1)return!1}};Dr.prototype.iterate=function(t,e){return t(this.entry)};var ZT=function(t){function e(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&ug(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var s=i.node,a=i.index++,o=void 0;if(s.entry){if(a===0)return dc(r,s.entry)}else if(s.entries){if(o=s.entries.length-1,a<=o)return dc(r,s.entries[this._reverse?o-a:a])}else if(o=s.nodes.length-1,a<=o){var u=s.nodes[this._reverse?o-a:a];if(u){if(u.entry)return dc(r,u.entry);i=this._stack=ug(u,i)}continue}i=this._stack=this._stack.__prev}return cn()},e}(Fe);function dc(t,e){return it(t,e[0],e[1])}function ug(t,e){return{node:t,index:0,__prev:e}}function Ap(t,e,n,r){var i=Object.create(et);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var lg;function Hn(){return lg||(lg=Ap(0))}function fg(t,e,n){var r,i;if(t._root){var s=bh(),a=bh();if(r=Np(t._root,t.__ownerID,0,void 0,e,n,s,a),!a.value)return t;i=t.size+(s.value?n===Ne?-1:1:0)}else{if(n===Ne)return t;i=1,r=new Oo(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Ap(i,r):Hn()}function Np(t,e,n,r,i,s,a,o){return t?t.update(e,n,r,i,s,a,o):s===Ne?t:(Cn(o),Cn(a),new Dr(e,r,[i,s]))}function cg(t){return t.constructor===Dr||t.constructor===$s}function Dp(t,e,n,r,i){if(t.keyHash===r)return new $s(e,r,[t.entry,i]);var s=(n===0?t.keyHash:t.keyHash>>>n)&Zt,a=(n===0?r:r>>>n)&Zt,o,u=s===a?[Dp(t,e,n+Ge,r,i)]:(o=new Dr(e,r,i),s<a?[t,o]:[o,t]);return new Ws(e,1<<s|1<<a,u)}function XT(t,e,n,r){t||(t=new gp);for(var i=new Dr(t,mn(n),[n,r]),s=0;s<e.length;s++){var a=e[s];i=i.update(t,0,void 0,a[0],a[1])}return i}function GT(t,e,n,r){for(var i=0,s=0,a=new Array(n),o=0,u=1,l=e.length;o<l;o++,u<<=1){var f=e[o];f!==void 0&&o!==r&&(i|=u,a[s++]=f)}return new Ws(t,i,a)}function QT(t,e,n,r,i){for(var s=0,a=new Array(Tn),o=0;n!==0;o++,n>>>=1)a[o]=n&1?e[s++]:void 0;return a[r]=i,new Io(t,s+1,a)}function Ew(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function bw(t,e,n,r){var i=r?t:ir(t);return i[e]=n,i}function JT(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var s=new Array(i),a=0,o=0;o<i;o++)o===e?(s[o]=n,a=-1):s[o]=t[o+a];return s}function eC(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),s=0,a=0;a<r;a++)a===e&&(s=1),i[a]=t[a+s];return i}var tC=Tn/4,nC=Tn/2,rC=Tn/4,xw="@@__IMMUTABLE_LIST__@@";function Sw(t){return Boolean(t&&t[xw])}var Pp=function(t){function e(n){var r=Gu();if(n==null)return r;if(Sw(n))return n;var i=t(n),s=i.size;return s===0?r:(On(s),s>0&&s<Tn?Ro(0,s,Ge,null,new oi(i.toArray())):r.withMutations(function(a){a.setSize(s),i.forEach(function(o,u){return a.set(u,o)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,i){if(r=pi(this,r),r>=0&&r<this.size){r+=this._origin;var s=kw(this,r);return s&&s.array[r&Zt]}return i},e.prototype.set=function(r,i){return iC(this,r,i)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,i){return this.splice(r,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ge,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Gu()},e.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(s){$r(s,0,i+r.length);for(var a=0;a<r.length;a++)s.set(i+a,r[a])})},e.prototype.pop=function(){return $r(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){$r(i,-r.length);for(var s=0;s<r.length;s++)i.set(s,r[s])})},e.prototype.shift=function(){return $r(this,1)},e.prototype.concat=function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++){var a=r[s],o=t(typeof a!="string"&&V_(a)?a:[a]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(l){return l.forEach(function(f){return u.push(f)})})})},e.prototype.setSize=function(r){return $r(this,0,r)},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){for(var o=0;o<s.size;o++)a.set(o,r.call(i,a.get(o),o,s))})},e.prototype.slice=function(r,i){var s=this.size;return pf(r,i,s)?this:$r(this,tu(r,s),vf(i,s))},e.prototype.__iterator=function(r,i){var s=i?this.size:0,a=hg(this,i);return new Fe(function(){var o=a();return o===io?cn():it(r,i?--s:s++,o)})},e.prototype.__iterate=function(r,i){for(var s=i?this.size:0,a=hg(this,i),o;(o=a())!==io&&r(o,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Ro(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Gu():(this.__ownerID=r,this.__altered=!1,this)},e}(Xi);Pp.isList=Sw;var _t=Pp.prototype;_t[xw]=!0;_t[df]=_t.remove;_t.merge=_t.concat;_t.setIn=dw;_t.deleteIn=_t.removeIn=pw;_t.update=mw;_t.updateIn=gw;_t.mergeIn=_w;_t.mergeDeepIn=ww;_t.withMutations=wf;_t.wasAltered=Rp;_t.asImmutable=bf;_t["@@transducer/init"]=_t.asMutable=Ef;_t["@@transducer/step"]=function(t,e){return t.push(e)};_t["@@transducer/result"]=function(t){return t.asImmutable()};var oi=function(e,n){this.array=e,this.ownerID=n};oi.prototype.removeBefore=function(e,n,r){if(r===n?1<<n:this.array.length===0)return this;var i=r>>>n&Zt;if(i>=this.array.length)return new oi([],e);var s=i===0,a;if(n>0){var o=this.array[i];if(a=o&&o.removeBefore(e,n-Ge,r),a===o&&s)return this}if(s&&!a)return this;var u=Ks(this,e);if(!s)for(var l=0;l<i;l++)u.array[l]=void 0;return a&&(u.array[i]=a),u};oi.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var i=r-1>>>n&Zt;if(i>=this.array.length)return this;var s;if(n>0){var a=this.array[i];if(s=a&&a.removeAfter(e,n-Ge,r),s===a&&i===this.array.length-1)return this}var o=Ks(this,e);return o.array.splice(i+1),s&&(o.array[i]=s),o};var io={};function hg(t,e){var n=t._origin,r=t._capacity,i=Ao(r),s=t._tail;return a(t._root,t._level,0);function a(l,f,c){return f===0?o(l,c):u(l,f,c)}function o(l,f){var c=f===i?s&&s.array:l&&l.array,p=f>n?0:n-f,g=r-f;return g>Tn&&(g=Tn),function(){if(p===g)return io;var w=e?--g:p++;return c&&c[w]}}function u(l,f,c){var p,g=l&&l.array,w=c>n?0:n-c>>f,E=(r-c>>f)+1;return E>Tn&&(E=Tn),function(){for(;;){if(p){var d=p();if(d!==io)return d;p=null}if(w===E)return io;var h=e?--E:w++;p=a(g&&g[h],f-Ge,c+(h<<f))}}}}function Ro(t,e,n,r,i,s,a){var o=Object.create(_t);return o.size=e-t,o._origin=t,o._capacity=e,o._level=n,o._root=r,o._tail=i,o.__ownerID=s,o.__hash=a,o.__altered=!1,o}var dg;function Gu(){return dg||(dg=Ro(0,0,Ge))}function iC(t,e,n){if(e=pi(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?$r(a,e).set(0,n):$r(a,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,s=bh();return e>=Ao(t._capacity)?r=Oh(r,t.__ownerID,0,e,n,s):i=Oh(i,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ro(t._origin,t._capacity,t._level,i,r):t}function Oh(t,e,n,r,i,s){var a=r>>>n&Zt,o=t&&a<t.array.length;if(!o&&i===void 0)return t;var u;if(n>0){var l=t&&t.array[a],f=Oh(l,e,n-Ge,r,i,s);return f===l?t:(u=Ks(t,e),u.array[a]=f,u)}return o&&t.array[a]===i?t:(s&&Cn(s),u=Ks(t,e),i===void 0&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function Ks(t,e){return e&&t&&e===t.ownerID?t:new oi(t?t.array.slice():[],e)}function kw(t,e){if(e>=Ao(t._capacity))return t._tail;if(e<1<<t._level+Ge){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&Zt],r-=Ge;return n}}function $r(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new gp,i=t._origin,s=t._capacity,a=i+e,o=n===void 0?s:n<0?s+n:i+n;if(a===i&&o===s)return t;if(a>=o)return t.clear();for(var u=t._level,l=t._root,f=0;a+f<0;)l=new oi(l&&l.array.length?[void 0,l]:[],r),u+=Ge,f+=1<<u;f&&(a+=f,i+=f,o+=f,s+=f);for(var c=Ao(s),p=Ao(o);p>=1<<u+Ge;)l=new oi(l&&l.array.length?[l]:[],r),u+=Ge;var g=t._tail,w=p<c?kw(t,o-1):p>c?new oi([],r):g;if(g&&p>c&&a<s&&g.array.length){l=Ks(l,r);for(var E=l,d=u;d>Ge;d-=Ge){var h=c>>>d&Zt;E=E.array[h]=Ks(E.array[h],r)}E.array[c>>>Ge&Zt]=g}if(o<s&&(w=w&&w.removeAfter(r,0,o)),a>=p)a-=p,o-=p,u=Ge,l=null,w=w&&w.removeBefore(r,0,a);else if(a>i||p<c){for(f=0;l;){var v=a>>>u&Zt;if(v!==p>>>u&Zt)break;v&&(f+=(1<<u)*v),u-=Ge,l=l.array[v]}l&&a>i&&(l=l.removeBefore(r,u,a-f)),l&&p<c&&(l=l.removeAfter(r,u,p-f)),f&&(a-=f,o-=f)}return t.__ownerID?(t.size=o-a,t._origin=a,t._capacity=o,t._level=u,t._root=l,t._tail=w,t.__hash=void 0,t.__altered=!0,t):Ro(a,o,u,l,w)}function Ao(t){return t<Tn?0:t-1>>>Ge<<Ge}var Pr=function(t){function e(n){return n==null?Ua():G_(n)?n:Ua().withMutations(function(r){var i=Jn(n);On(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,i){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ua()},e.prototype.set=function(r,i){return vg(this,r,i)},e.prototype.remove=function(r){return vg(this,r,Ne)},e.prototype.__iterate=function(r,i){var s=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],s)},i)},e.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?Lp(i,s,r,this.__hash):this.size===0?Ua():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=s,this)},e}(aa);Pr.isOrderedMap=G_;Pr.prototype[na]=!0;Pr.prototype[df]=Pr.prototype.remove;function Lp(t,e,n,r){var i=Object.create(Pr.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var pg;function Ua(){return pg||(pg=Lp(Hn(),Gu()))}function vg(t,e,n){var r=t._map,i=t._list,s=r.get(e),a=s!==void 0,o,u;if(n===Ne){if(!a)return t;i.size>=Tn&&i.size>=r.size*2?(u=i.filter(function(l,f){return l!==void 0&&s!==f}),o=u.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),t.__ownerID&&(o.__ownerID=u.__ownerID=t.__ownerID)):(o=r.remove(e),u=s===i.size-1?i.pop():i.set(s,void 0))}else if(a){if(n===i.get(s)[1])return t;o=r,u=i.set(s,[e,n])}else o=r.set(e,i.size),u=i.set(i.size,[e,n]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=u,t.__hash=void 0,t.__altered=!0,t):Lp(o,u)}var Tw="@@__IMMUTABLE_STACK__@@";function Ih(t){return Boolean(t&&t[Tw])}var zp=function(t){function e(n){return n==null?Iu():Ih(n)?n:Iu().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,i){var s=this._head;for(r=pi(this,r);s&&r--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:r[a],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):ja(i,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&Ih(r))return r;On(r.size);var i=this.size,s=this._head;return r.__iterate(function(a){i++,s={value:a,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):ja(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Iu()},e.prototype.slice=function(r,i){if(pf(r,i,this.size))return this;var s=tu(r,this.size),a=vf(i,this.size);if(a!==this.size)return t.prototype.slice.call(this,r,i);for(var o=this.size-s,u=this._head;s--;)u=u.next;return this.__ownerID?(this.size=o,this._head=u,this.__hash=void 0,this.__altered=!0,this):ja(o,u)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?ja(this.size,this._head,r,this.__hash):this.size===0?Iu():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,i){var s=this;if(i)return new ji(this.toArray()).__iterate(function(u,l){return r(u,l,s)},i);for(var a=0,o=this._head;o&&r(o.value,a++,this)!==!1;)o=o.next;return a},e.prototype.__iterator=function(r,i){if(i)return new ji(this.toArray()).__iterator(r,i);var s=0,a=this._head;return new Fe(function(){if(a){var o=a.value;return a=a.next,it(r,s++,o)}return cn()})},e}(Xi);zp.isStack=Ih;var Gt=zp.prototype;Gt[Tw]=!0;Gt.shift=Gt.pop;Gt.unshift=Gt.push;Gt.unshiftAll=Gt.pushAll;Gt.withMutations=wf;Gt.wasAltered=Rp;Gt.asImmutable=bf;Gt["@@transducer/init"]=Gt.asMutable=Ef;Gt["@@transducer/step"]=function(t,e){return t.unshift(e)};Gt["@@transducer/result"]=function(t){return t.asImmutable()};function ja(t,e,n,r){var i=Object.create(Gt);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var mg;function Iu(){return mg||(mg=ja(0))}var Cw="@@__IMMUTABLE_SET__@@";function Mp(t){return Boolean(t&&t[Cw])}function Ow(t){return Mp(t)&&Zn(t)}function Iw(t,e){if(t===e)return!0;if(!fn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||at(t)!==at(e)||ln(t)!==ln(e)||Zn(t)!==Zn(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!mf(t);if(Zn(t)){var r=t.entries();return e.every(function(u,l){var f=r.next().value;return f&&gn(f[1],u)&&(n||gn(f[0],l))})&&r.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var a=!0,o=e.__iterate(function(u,l){if(n?!t.has(u):i?!gn(u,t.get(l,Ne)):!gn(t.get(l,Ne),u))return a=!1,!1});return a&&t.size===o}function Gi(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Rh(t){if(!t||typeof t!="object")return t;if(!fn(t)){if(!vi(t))return t;t=_n(t)}if(at(t)){var e={};return t.__iterate(function(r,i){e[i]=Rh(r)}),e}var n=[];return t.__iterate(function(r){n.push(Rh(r))}),n}var xf=function(t){function e(n){return n==null?Wa():Mp(n)&&!Zn(n)?n:Wa().withMutations(function(r){var i=t(n);On(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Jn(r).keySeq())},e.intersect=function(r){return r=mt(r).toArray(),r.length?Dt.intersect.apply(e(r.pop()),r):Wa()},e.union=function(r){return r=mt(r).toArray(),r.length?Dt.union.apply(e(r.pop()),r):Wa()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return Ru(this,this._map.set(r,r))},e.prototype.remove=function(r){return Ru(this,this._map.remove(r))},e.prototype.clear=function(){return Ru(this,this._map.clear())},e.prototype.map=function(r,i){var s=this,a=!1,o=Ru(this,this._map.mapEntries(function(u){var l=u[1],f=r.call(i,l,l,s);return f!==l&&(a=!0),[f,f]},i));return a?o:this},e.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var a=0;a<r.length;a++)t(r[a]).forEach(function(o){return s.add(o)})})},e.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.every(function(o){return o.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(o){a.remove(o)})})},e.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.some(function(o){return o.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(o){a.remove(o)})})},e.prototype.sort=function(r){return No(js(this,r))},e.prototype.sortBy=function(r,i){return No(js(this,i,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,i){var s=this;return this._map.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},e}(ta);xf.isSet=Mp;var Dt=xf.prototype;Dt[Cw]=!0;Dt[df]=Dt.remove;Dt.merge=Dt.concat=Dt.union;Dt.withMutations=wf;Dt.asImmutable=bf;Dt["@@transducer/init"]=Dt.asMutable=Ef;Dt["@@transducer/step"]=function(t,e){return t.add(e)};Dt["@@transducer/result"]=function(t){return t.asImmutable()};Dt.__empty=Wa;Dt.__make=Rw;function Ru(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function Rw(t,e){var n=Object.create(Dt);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var gg;function Wa(){return gg||(gg=Rw(Hn()))}var sC=function(t){function e(n,r,i){if(!(this instanceof e))return new e(n,r,i);if(lw(i!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),i=i===void 0?1:Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(pc)return pc;pc=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,i){return this.has(r)?this._start+pi(this,r)*this._step:i},e.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(r,i){return pf(r,i,this.size)?this:(r=tu(r,this.size),i=vf(i,this.size),i<=r?new e(0,0):new e(this.get(r,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,i){for(var s=this.size,a=this._step,o=i?this._start+(s-1)*a:this._start,u=0;u!==s&&r(o,i?s-++u:u++,this)!==!1;)o+=i?-a:a;return u},e.prototype.__iterator=function(r,i){var s=this.size,a=this._step,o=i?this._start+(s-1)*a:this._start,u=0;return new Fe(function(){if(u===s)return cn();var l=o;return o+=i?-a:a,it(r,i?s-++u:u++,l)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:Iw(this,r)},e}(er),pc;function Aw(t,e,n){for(var r=fw(e),i=0;i!==r.length;)if(t=cw(t,r[i++],Ne),t===Ne)return n;return t}function aC(t,e){return Aw(this,t,e)}function oC(t,e){return Aw(t,e,Ne)!==Ne}function uC(t){return oC(this,t)}function Nw(){On(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}mt.isIterable=fn;mt.isKeyed=at;mt.isIndexed=ln;mt.isAssociative=mf;mt.isOrdered=Zn;mt.Iterator=Fe;Gi(mt,{toArray:function(){On(this.size);var e=new Array(this.size||0),n=at(this),r=0;return this.__iterate(function(i,s){e[r++]=n?[s,i]:i}),e},toIndexedSeq:function(){return new J_(this)},toJS:function(){return Rh(this)},toKeyedSeq:function(){return new _f(this,!0)},toMap:function(){return aa(this.toKeyedSeq())},toObject:Nw,toOrderedMap:function(){return Pr(this.toKeyedSeq())},toOrderedSet:function(){return No(at(this)?this.valueSeq():this)},toSet:function(){return xf(at(this)?this.valueSeq():this)},toSetSeq:function(){return new ew(this)},toSeq:function(){return ln(this)?this.toIndexedSeq():at(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return zp(at(this)?this.valueSeq():this)},toList:function(){return Pp(at(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Ye(this,DT(this,e))},includes:function(e){return this.some(function(n){return gn(n,e)})},entries:function(){return this.__iterator(Qn)},every:function(e,n){On(this.size);var r=!0;return this.__iterate(function(i,s,a){if(!e.call(n,i,s,a))return r=!1,!1}),r},filter:function(e,n){return Ye(this,iw(this,e,n,!0))},find:function(e,n,r){var i=this.findEntry(e,n);return i?i[1]:r},forEach:function(e,n){return On(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){On(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=e,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(nu)},map:function(e,n){return Ye(this,rw(this,e,n))},reduce:function(e,n,r){return yg(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return yg(this,e,n,r,arguments.length<2,!0)},reverse:function(){return Ye(this,kp(this,!0))},slice:function(e,n){return Ye(this,Tp(this,e,n,!0))},some:function(e,n){return!this.every(Au(e),n)},sort:function(e){return Ye(this,js(this,e))},values:function(){return this.__iterator(Gn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return Us(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return RT(this,e,n)},equals:function(e){return Iw(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ji(e._cache);var n=e.toSeq().map(fC).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(Au(e),n)},findEntry:function(e,n,r){var i=r;return this.__iterate(function(s,a,o){if(e.call(n,s,a,o))return i=[a,s],!1}),i},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(B_,null,e)},flatMap:function(e,n){return Ye(this,PT(this,e,n))},flatten:function(e){return Ye(this,aw(this,e,!0))},fromEntrySeq:function(){return new tw(this)},get:function(e,n){return this.find(function(r,i){return gn(i,e)},void 0,n)},getIn:aC,groupBy:function(e,n){return AT(this,e,n)},has:function(e){return this.get(e,Ne)!==Ne},hasIn:uC,isSubset:function(e){return e=typeof e.includes=="function"?e:mt(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:mt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return gn(n,e)})},keySeq:function(){return this.toSeq().map(lC).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Cu(this,e)},maxBy:function(e,n){return Cu(this,n,e)},min:function(e){return Cu(this,e?_g(e):Eg)},minBy:function(e,n){return Cu(this,n?_g(n):Eg,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return Ye(this,sw(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(Au(e),n)},sortBy:function(e,n){return Ye(this,js(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return Ye(this,NT(this,e,n))},takeUntil:function(e,n){return this.takeWhile(Au(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=cC(this))}});var hn=mt.prototype;hn[j_]=!0;hn[wp]=hn.values;hn.toJSON=hn.toArray;hn.__toStringMapper=zl;hn.inspect=hn.toSource=function(){return this.toString()};hn.chain=hn.flatMap;hn.contains=hn.includes;Gi(Jn,{flip:function(){return Ye(this,nw(this))},mapEntries:function(e,n){var r=this,i=0;return Ye(this,this.toSeq().map(function(s,a){return e.call(n,[a,s],i++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return Ye(this,this.toSeq().flip().map(function(i,s){return e.call(n,i,s,r)}).flip())}});var ru=Jn.prototype;ru[W_]=!0;ru[wp]=hn.entries;ru.toJSON=Nw;ru.__toStringMapper=function(t,e){return zl(e)+": "+zl(t)};Gi(Xi,{toKeyedSeq:function(){return new _f(this,!1)},filter:function(e,n){return Ye(this,iw(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return Ye(this,kp(this,!1))},slice:function(e,n){return Ye(this,Tp(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=tu(e,e<0?this.count():this.size);var i=this.slice(0,e);return Ye(this,r===1?i:i.concat(ir(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Ye(this,aw(this,e,!1))},get:function(e,n){return e=pi(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,i){return i===e},void 0,n)},has:function(e){return e=pi(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Ye(this,LT(this,e))},interleave:function(){var e=[this].concat(ir(arguments)),n=Ou(this.toSeq(),er.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),Ye(this,r)},keySeq:function(){return sC(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return Ye(this,sw(this,e,n,!1))},zip:function(){var e=[this].concat(ir(arguments));return Ye(this,Ou(this,wg,e))},zipAll:function(){var e=[this].concat(ir(arguments));return Ye(this,Ou(this,wg,e,!0))},zipWith:function(e){var n=ir(arguments);return n[0]=this,Ye(this,Ou(this,e,n))}});var oa=Xi.prototype;oa[$_]=!0;oa[na]=!0;Gi(ta,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Hs=ta.prototype;Hs.has=hn.includes;Hs.contains=Hs.includes;Hs.keys=Hs.values;Gi(bi,ru);Gi(er,oa);Gi(ia,Hs);function yg(t,e,n,r,i,s){return On(t.size),t.__iterate(function(a,o,u){i?(i=!1,n=a):n=e.call(r,n,a,o,u)},s),n}function lC(t,e){return e}function fC(t,e){return[e,t]}function Au(t){return function(){return!t.apply(this,arguments)}}function _g(t){return function(){return-t.apply(this,arguments)}}function wg(){return ir(arguments)}function Eg(t,e){return t<e?1:t>e?-1:0}function cC(t){if(t.size===1/0)return 0;var e=Zn(t),n=at(t),r=e?1:0,i=t.__iterate(n?e?function(s,a){r=31*r+bg(mn(s),mn(a))|0}:function(s,a){r=r+bg(mn(s),mn(a))|0}:e?function(s){r=31*r+mn(s)|0}:function(s){r=r+mn(s)|0});return hC(i,r)}function hC(t,e){return e=Pa(e,3432918353),e=Pa(e<<15|e>>>-15,461845907),e=Pa(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Pa(e^e>>>16,2246822507),e=Pa(e^e>>>13,3266489909),e=yf(e^e>>>16),e}function bg(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var No=function(t){function e(n){return n==null?Ah():Ow(n)?n:Ah().withMutations(function(r){var i=ta(n);On(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Jn(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(xf);No.isOrderedSet=Ow;var Qi=No.prototype;Qi[na]=!0;Qi.zip=oa.zip;Qi.zipWith=oa.zipWith;Qi.zipAll=oa.zipAll;Qi.__empty=Ah;Qi.__make=Dw;function Dw(t,e){var n=Object.create(Qi);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var xg;function Ah(){return xg||(xg=Dw(Ua()))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ae=function(){return Ae=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ae.apply(this,arguments)};function Nh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Qe=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,yt=Object.keys,Ut=Array.isArray;typeof Promise!="undefined"&&!Qe.Promise&&(Qe.Promise=Promise);function Qt(t,e){return typeof e!="object"||yt(e).forEach(function(n){t[n]=e[n]}),t}var Do=Object.getPrototypeOf,dC={}.hasOwnProperty;function Nn(t,e){return dC.call(t,e)}function Vs(t,e){typeof e=="function"&&(e=e(Do(t))),(typeof Reflect=="undefined"?yt:Reflect.ownKeys)(e).forEach(function(n){Lr(t,n,e[n])})}var Pw=Object.defineProperty;function Lr(t,e,n,r){Pw(t,e,Qt(n&&Nn(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ua(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Lr(t.prototype,"constructor",t),{extend:Vs.bind(null,t.prototype)}}}}var pC=Object.getOwnPropertyDescriptor;function Bp(t,e){var n=pC(t,e),r;return n||(r=Do(t))&&Bp(r,e)}var vC=[].slice;function Sf(t,e,n){return vC.call(t,e,n)}function Lw(t,e){return e(t)}function $a(t){if(!t)throw new Error("Assertion Failed")}function zw(t){Qe.setImmediate?setImmediate(t):setTimeout(t,0)}function Mw(t,e){return t.reduce(function(n,r,i){var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function mC(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function Ir(t,e){if(Nn(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=Ir(t,e[r]);n.push(s)}return n}var a=e.indexOf(".");if(a!==-1){var o=t[e.substr(0,a)];return o===void 0?void 0:Ir(o,e.substr(a+1))}}function Xn(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){$a(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)Xn(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var a=e.substr(0,s),o=e.substr(s+1);if(o==="")n===void 0?Ut(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var u=t[a];u||(u=t[a]={}),Xn(u,o,n)}}else n===void 0?Ut(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function gC(t,e){typeof e=="string"?Xn(t,e,void 0):"length"in e&&[].map.call(e,function(n){Xn(t,n,void 0)})}function Bw(t){var e={};for(var n in t)Nn(t,n)&&(e[n]=t[n]);return e}var yC=[].concat;function Fw(t){return yC.apply([],t)}var Uw="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Fw([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return Qe[t]}),_C=Uw.map(function(t){return Qe[t]});Mw(Uw,function(t){return[t,!0]});var Kr=null;function iu(t){Kr=typeof WeakMap!="undefined"&&new WeakMap;var e=Dh(t);return Kr=null,e}function Dh(t){if(!t||typeof t!="object")return t;var e=Kr&&Kr.get(t);if(e)return e;if(Ut(t)){e=[],Kr&&Kr.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Dh(t[n]))}else if(_C.indexOf(t.constructor)>=0)e=t;else{var i=Do(t);e=i===Object.prototype?{}:Object.create(i),Kr&&Kr.set(t,e);for(var s in t)Nn(t,s)&&(e[s]=Dh(t[s]))}return e}var wC={}.toString;function Ph(t){return wC.call(t).slice(8,-1)}var Lh=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",EC=typeof Lh=="symbol"?function(t){var e;return t!=null&&(e=t[Lh])&&e.apply(t)}:function(){return null},ds={};function Er(t){var e,n,r,i;if(arguments.length===1){if(Ut(t))return t.slice();if(this===ds&&typeof t=="string")return[t];if(i=EC(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var Fp=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pr=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jw(t,e){pr=t,Ww=e}var Ww=function(){return!0},bC=!new Error("").stack;function Ji(){if(bC)try{throw Ji.arguments,new Error}catch(t){return t}return new Error}function zh(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Ww).map(function(r){return`
`+r}).join("")):""}var xC=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],$w=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Up=xC.concat($w),SC={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function la(t,e){this._e=Ji(),this.name=t,this.message=e}ua(la).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+zh(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Kw(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Bl(t,e,n,r){this._e=Ji(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Kw(t,e)}ua(Bl).from(la);function so(t,e){this._e=Ji(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=Kw(t,e)}ua(so).from(la);var jp=Up.reduce(function(t,e){return t[e]=e+"Error",t},{}),kC=la,Ee=Up.reduce(function(t,e){var n=e+"Error";function r(i,s){this._e=Ji(),this.name=n,i?typeof i=="string"?(this.message=""+i+(s?`
 `+s:""),this.inner=s||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=SC[e]||n,this.inner=null)}return ua(r).from(kC),t[e]=r,t},{});Ee.Syntax=SyntaxError;Ee.Type=TypeError;Ee.Range=RangeError;var Sg=$w.reduce(function(t,e){return t[e+"Error"]=Ee[e],t},{});function TC(t,e){if(!t||t instanceof la||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Sg[t.name])return t;var n=new Sg[t.name](e||t.message,t);return"stack"in t&&Lr(n,"stack",{get:function(){return this.inner.stack}}),n}var kf=Up.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Ee[e]),t},{});kf.ModifyError=Bl;kf.DexieError=la;kf.BulkError=so;function Ke(){}function su(t){return t}function CC(t,e){return t==null||t===su?e:function(n){return e(t(n))}}function Wi(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function OC(t,e){return t===Ke?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Wi(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Wi(i,this.onerror):i),s!==void 0?s:n}}function IC(t,e){return t===Ke?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Wi(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Wi(r,this.onerror):r)}}function RC(t,e){return t===Ke?e:function(n){var r=t.apply(this,arguments);Qt(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Wi(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Wi(s,this.onerror):s),r===void 0?a===void 0?void 0:a:Qt(r,a)}}function AC(t,e){return t===Ke?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Wp(t,e){return t===Ke?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}var Po={},NC=100,DC=20,Hw=100,$p=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,Do(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Do(e),t]}(),Mh=$p[0],Fl=$p[1],Bh=$p[2],Vw=Fl&&Fl.then,Qu=Mh&&Mh.constructor,Kp=!!Bh,Fh=!1,PC=Bh?function(){Bh.then(Nu)}:Qe.setImmediate?setImmediate.bind(null,Nu):Qe.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Nu(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Nu,0)},Lo=function(t,e){Ka.push([t,e]),Ul&&(PC(),Ul=!1)},Uh=!0,Ul=!0,Pi=[],Ju=[],jh=null,Wh=su,Ns={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Cg,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{Cg(t[0],t[1])}catch{}})}},ye=Ns,Ka=[],Li=0,el=[];function pe(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ke,this._lib=!1;var e=this._PSD=ye;if(pr&&(this._stackHolder=Ji(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Po)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Kh(this,this._value);return}this._state=null,this._value=null,++e.ref,Yw(this,t)}var $h={get:function(){var t=ye,e=jl;function n(r,i){var s=this,a=!t.global&&(t!==ye||e!==jl),o=a&&!zr(),u=new pe(function(l,f){Hp(s,new qw($l(r,t,a,o),$l(i,t,a,o),l,f,t))});return pr&&Gw(u,this),u}return n.prototype=Po,n},set:function(t){Lr(this,"then",t&&t.prototype===Po?$h:{get:function(){return t},set:$h.set})}};Vs(pe.prototype,{then:$h,_then:function(t,e){Hp(this,new qw(null,null,t,e,ye))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):tl(r)}):this.then(null,function(r){return r&&r.name===e?n(r):tl(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),tl(e)})},stack:{get:function(){if(this._stack)return this._stack;try{Fh=!0;var t=Xw(this,[],DC),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Fh=!1}}},timeout:function(t,e){var n=this;return t<1/0?new pe(function(r,i){var s=setTimeout(function(){return i(new Ee.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,s))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&Lr(pe.prototype,Symbol.toStringTag,"Dexie.Promise");Ns.env=Qw();function qw(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}Vs(pe,{all:function(){var t=Er.apply(null,arguments).map(Wl);return new pe(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,s){return pe.resolve(i).then(function(a){t[s]=a,--r||e(t)},n)})})},resolve:function(t){if(t instanceof pe)return t;if(t&&typeof t.then=="function")return new pe(function(n,r){t.then(n,r)});var e=new pe(Po,!0,t);return Gw(e,jh),e},reject:tl,race:function(){var t=Er.apply(null,arguments).map(Wl);return new pe(function(e,n){t.map(function(r){return pe.resolve(r).then(e,n)})})},PSD:{get:function(){return ye},set:function(t){return ye=t}},totalEchoes:{get:function(){return jl}},newPSD:mi,usePSD:ca,scheduler:{get:function(){return Lo},set:function(t){Lo=t}},rejectionMapper:{get:function(){return Wh},set:function(t){Wh=t}},follow:function(t,e){return new pe(function(n,r){return mi(function(i,s){var a=ye;a.unhandleds=[],a.onunhandled=s,a.finalize=Wi(function(){var o=this;zC(function(){o.unhandleds.length===0?i():s(o.unhandleds[0])})},a.finalize),t()},e,n,r)})}});Qu&&(Qu.allSettled&&Lr(pe,"allSettled",function(){var t=Er.apply(null,arguments).map(Wl);return new pe(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,s){return pe.resolve(i).then(function(a){return r[s]={status:"fulfilled",value:a}},function(a){return r[s]={status:"rejected",reason:a}}).then(function(){return--n||e(r)})})})}),Qu.any&&typeof AggregateError!="undefined"&&Lr(pe,"any",function(){var t=Er.apply(null,arguments).map(Wl);return new pe(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(s,a){return pe.resolve(s).then(function(o){return e(o)},function(o){i[a]=o,--r||n(new AggregateError(i))})})})}));function Yw(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&au();n&&typeof n.then=="function"?Yw(t,function(i,s){n instanceof pe?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,Zw(t)),r&&ou()}},Kh.bind(null,t))}catch(n){Kh(t,n)}}function Kh(t,e){if(Ju.push(e),t._state===null){var n=t._lib&&au();e=Wh(e),t._state=!1,t._value=e,pr&&e!==null&&typeof e=="object"&&!e._promise&&mC(function(){var r=Bp(e,"stack");e._promise=t,Lr(e,"stack",{get:function(){return Fh?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),MC(t),Zw(t),n&&ou()}}function Zw(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Hp(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Li===0&&(++Li,Lo(function(){--Li===0&&Vp()},[]))}function Hp(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Li,Lo(LC,[n,t,e])}function LC(t,e,n){try{jh=e;var r,i=e._value;e._state?r=t(i):(Ju.length&&(Ju=[]),r=t(i),Ju.indexOf(i)===-1&&BC(e)),n.resolve(r)}catch(s){n.reject(s)}finally{jh=null,--Li===0&&Vp(),--n.psd.ref||n.psd.finalize()}}function Xw(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,s,a;i!=null?(s=i.name||"Error",a=i.message||i,r=zh(i,0)):(s=i,a=""),e.push(s+(a?": "+a:"")+r)}return pr&&(r=zh(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&Xw(t._prev,e,n)),e}function Gw(t,e){var n=e?e._numPrev+1:0;n<NC&&(t._prev=e,t._numPrev=n)}function Nu(){au()&&ou()}function au(){var t=Uh;return Uh=!1,Ul=!1,t}function ou(){var t,e,n;do for(;Ka.length>0;)for(t=Ka,Ka=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Ka.length>0);Uh=!0,Ul=!0}function Vp(){var t=Pi;Pi=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=el.slice(0),n=e.length;n;)e[--n]()}function zC(t){function e(){t(),el.splice(el.indexOf(e),1)}el.push(e),++Li,Lo(function(){--Li===0&&Vp()},[])}function MC(t){Pi.some(function(e){return e._value===t._value})||Pi.push(t)}function BC(t){for(var e=Pi.length;e;)if(Pi[--e]._value===t._value){Pi.splice(e,1);return}}function tl(t){return new pe(Po,!1,t)}function rt(t,e){var n=ye;return function(){var r=au(),i=ye;try{return gi(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{gi(i,!1),r&&ou()}}}var Bt={awaits:0,echoes:0,id:0},FC=0,nl=[],vc=0,jl=0,UC=0;function mi(t,e,n,r){var i=ye,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++UC;var a=Ns.env;s.env=Kp?{Promise:pe,PromiseProp:{value:pe,configurable:!0,writable:!0},all:pe.all,race:pe.race,allSettled:pe.allSettled,any:pe.any,resolve:pe.resolve,reject:pe.reject,nthen:kg(a.nthen,s),gthen:kg(a.gthen,s)}:{},e&&Qt(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=ca(s,t,n,r);return s.ref===0&&s.finalize(),o}function fa(){return Bt.id||(Bt.id=++FC),++Bt.awaits,Bt.echoes+=Hw,Bt.id}function zr(){return Bt.awaits?(--Bt.awaits===0&&(Bt.id=0),Bt.echoes=Bt.awaits*Hw,!0):!1}(""+Vw).indexOf("[native code]")===-1&&(fa=zr=Ke);function Wl(t){return Bt.echoes&&t&&t.constructor===Qu?(fa(),t.then(function(e){return zr(),e},function(e){return zr(),St(e)})):t}function jC(t){++jl,(!Bt.echoes||--Bt.echoes===0)&&(Bt.echoes=Bt.id=0),nl.push(ye),gi(t,!0)}function WC(){var t=nl[nl.length-1];nl.pop(),gi(t,!1)}function gi(t,e){var n=ye;if((e?Bt.echoes&&(!vc++||t!==ye):vc&&(!--vc||t!==ye))&&Jw(e?jC.bind(null,t):WC),t!==ye&&(ye=t,n===Ns&&(Ns.env=Qw()),Kp)){var r=Ns.env.Promise,i=t.env;Fl.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(Qe,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Qw(){var t=Qe.Promise;return Kp?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Qe,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Fl.then,gthen:t.prototype.then}:{}}function ca(t,e,n,r,i){var s=ye;try{return gi(t,!0),e(n,r,i)}finally{gi(s,!1)}}function Jw(t){Vw.call(Mh,t)}function $l(t,e,n,r){return typeof t!="function"?t:function(){var i=ye;n&&fa(),gi(e,!0);try{return t.apply(this,arguments)}finally{gi(i,!1),r&&Jw(zr)}}}function kg(t,e){return function(n,r){return t.call(this,$l(n,e),$l(r,e))}}var Tg="unhandledrejection";function Cg(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(Qe.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Tg,!0,!0),Qt(r,i)):Qe.CustomEvent&&(r=new CustomEvent(Tg,{detail:i}),Qt(r,i)),r&&Qe.dispatchEvent&&(dispatchEvent(r),!Qe.PromiseRejectionEvent&&Qe.onunhandledrejection))try{Qe.onunhandledrejection(r)}catch{}pr&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var St=pe.reject;function Hh(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!ye.letThrough&&!t._vip){if(t._state.openComplete)return St(new Ee.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return St(new Ee.DatabaseClosed);t.open().catch(Ke)}return t._state.dbReadyPromise.then(function(){return Hh(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===jp.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return Hh(t,e,n,r)})):St(s)}return i._promise(e,function(s,a){return mi(function(){return ye.trans=i,r(s,a,i)})}).then(function(s){return i._completion.then(function(){return s})})}}var Og="3.2.1",Ni=String.fromCharCode(65535),Vh=-1/0,yr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",e1="String expected.",ao=[],Tf=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),$C=Tf,KC=Tf,t1=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Cf="__dbnames",mc="readonly",gc="readwrite";function $i(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var n1={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Du(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=iu(e),delete e[t]),e}:function(e){return e}}var HC=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||ye.trans,s=this.name;function a(u,l,f){if(!f.schema[s])throw new Ee.NotFound("Table "+s+" not part of transaction");return n(f.idbtrans,f)}var o=au();try{return i&&i.db===this.db?i===ye.trans?i._promise(e,a,r):mi(function(){return i._promise(e,a,r)},{trans:i,transless:ye.transless||ye}):Hh(this.db,e,[this.name],a)}finally{o&&ou()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(s){return r.hook.reading.fire(s)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Ut(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=yt(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(c){return f.keyPath.indexOf(c)>=0})&&f.keyPath.every(function(c){return n.indexOf(c)>=0})})[0];if(r&&this.db._maxKey!==Ni)return this.where(r.name).equals(r.keyPath.map(function(f){return e[f]}));!r&&pr&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,s=this.db._deps.indexedDB;function a(f,c){try{return s.cmp(f,c)===0}catch{return!1}}var o=n.reduce(function(f,c){var p=f[0],g=f[1],w=i[c],E=e[c];return[p||w,p||!w?$i(g,w&&w.multi?function(d){var h=Ir(d,c);return Ut(h)&&h.some(function(v){return a(E,v)})}:function(d){return a(E,Ir(d,c))}):g]},[null,null]),u=o[0],l=o[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Ut(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var s in r)if(Nn(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){Qt(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,a=i.keyPath,o=e;return a&&s&&(o=Du(a)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[o]})}).then(function(u){return u.numFailures?pe.reject(u.failures[0]):u.lastResult}).then(function(u){if(a)try{Xn(e,a,u)}catch{}return u})},t.prototype.update=function(e,n){if(typeof e=="object"&&!Ut(e)){var r=Ir(e,this.schema.primKey.keyPath);if(r===void 0)return St(new Ee.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?yt(n).forEach(function(i){Xn(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,a=i.keyPath,o=e;return a&&s&&(o=Du(a)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[o],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?pe.reject(u.failures[0]):u.lastResult}).then(function(u){if(a)try{Xn(e,a,u)}catch{}return u})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?pe.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:n1})}).then(function(n){return n.numFailures?pe.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(s){return n.hook.reading.fire(s)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,l=u.auto,f=u.keyPath;if(f&&s)throw new Ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,p=f&&l?e.map(Du(f)):e;return i.core.mutate({trans:o,type:"add",keys:s,values:p,wantResults:a}).then(function(g){var w=g.numFailures,E=g.results,d=g.lastResult,h=g.failures,v=a?E:d;if(w===0)return v;throw new so(i.name+".bulkAdd(): "+w+" of "+c+" operations failed",h)})})},t.prototype.bulkPut=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,l=u.auto,f=u.keyPath;if(f&&s)throw new Ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,p=f&&l?e.map(Du(f)):e;return i.core.mutate({trans:o,type:"put",keys:s,values:p,wantResults:a}).then(function(g){var w=g.numFailures,E=g.results,d=g.lastResult,h=g.failures,v=a?E:d;if(w===0)return v;throw new so(i.name+".bulkPut(): "+w+" of "+c+" operations failed",h)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var s=i.numFailures,a=i.lastResult,o=i.failures;if(s===0)return a;throw new so(n.name+".bulkDelete(): "+s+" of "+r+" operations failed",o)})},t}();function uu(t){var e={},n=function(o,u){if(u){for(var l=arguments.length,f=new Array(l-1);--l;)f[l-1]=arguments[l];return e[o].subscribe.apply(null,f),t}else if(typeof o=="string")return e[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,u,l){if(typeof o=="object")return a(o);u||(u=AC),l||(l=Ke);var f={subscribers:[],fire:l,subscribe:function(c){f.subscribers.indexOf(c)===-1&&(f.subscribers.push(c),f.fire=u(f.fire,c))},unsubscribe:function(c){f.subscribers=f.subscribers.filter(function(p){return p!==c}),f.fire=f.subscribers.reduce(u,l)}};return e[o]=n[o]=f,f}function a(o){yt(o).forEach(function(u){var l=o[u];if(Ut(l))s(u,o[u][0],o[u][1]);else if(l==="asap")var f=s(u,su,function(){for(var p=arguments.length,g=new Array(p);p--;)g[p]=arguments[p];f.subscribers.forEach(function(w){zw(function(){w.apply(null,g)})})});else throw new Ee.InvalidArgument("Invalid event config")})}}function lu(t,e){return ua(e).from({prototype:t}),e}function VC(t){return lu(HC.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:uu(null,{creating:[OC,Ke],reading:[CC,su],updating:[RC,Ke],deleting:[IC,Ke]})})}function ls(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function yc(t,e){t.filter=$i(t.filter,e)}function _c(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return $i(r(),e())}:e,t.justLimit=n&&!r}function qC(t,e){t.isMatch=$i(t.isMatch,e)}function rl(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new Ee.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ig(t,e,n){var r=rl(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Pu(t,e,n,r){var i=t.replayFilter?$i(t.filter,t.replayFilter()):t.filter;if(t.or){var s={},a=function(o,u,l){if(!i||i(u,l,function(p){return u.stop(p)},function(p){return u.fail(p)})){var f=u.primaryKey,c=""+f;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(f)),Nn(s,c)||(s[c]=!0,e(o,u,l))}};return Promise.all([t.or._iterate(a,n),Rg(Ig(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}else return Rg(Ig(t,r,n),$i(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Rg(t,e,n,r){var i=r?function(a,o,u){return n(r(a),o,u)}:n,s=rt(i);return t.then(function(a){if(a)return a.start(function(){var o=function(){return a.continue()};(!e||e(a,function(u){return o=u},function(u){a.stop(u),o=Ke},function(u){a.fail(u),o=Ke}))&&s(a.value,a,function(u){return o=u}),o()})})}function Yt(t,e){try{var n=Ag(t),r=Ag(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return ZC(Ng(t),Ng(e));case"Array":return YC(t,e)}}catch{}return NaN}function YC(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s){var a=Yt(t[s],e[s]);if(a!==0)return a}return n===r?0:n<r?-1:1}function ZC(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s)if(t[s]!==e[s])return t[s]<e[s]?-1:1;return n===r?0:n<r?-1:1}function Ag(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=Ph(t);return n==="ArrayBuffer"?"binary":n}function Ng(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var XC=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,St.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,St.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=$i(n.algorithm,e)},t.prototype._iterate=function(e,n){return Pu(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Qt(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return Pu(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,s=i.table.core;if(ls(i,!0))return s.count({trans:r,query:{index:rl(i,s.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var a=0;return Pu(i,function(){return++a,!1},r,s).then(function(){return a})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],s=r.length-1;function a(l,f){return f?a(l[r[f]],f-1):l[i]}var o=this._ctx.dir==="next"?1:-1;function u(l,f){var c=a(l,s),p=a(f,s);return c<p?-o:c>p?o:0}return this.toArray(function(l){return l.sort(u)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&ls(i,!0)&&i.limit>0){var s=i.valueMapper,a=rl(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(u){var l=u.result;return s?l.map(s):l})}else{var o=[];return Pu(i,function(u){return o.push(u)},r,i.table.core).then(function(){return o})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,ls(n)?_c(n,function(){var r=e;return function(i,s){return r===0?!0:r===1?(--r,!1):(s(function(){i.advance(r),r=0}),!1)}}):_c(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),_c(this._ctx,function(){var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this},t.prototype.until=function(e,n){return yc(this._ctx,function(r,i,s){return e(r.value)?(i(s),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return yc(this._ctx,function(n){return e(n.value)}),qC(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&ls(n,!0)&&n.limit>0)return this._read(function(i){var s=rl(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(function(i){var s=i.result;return s}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return yc(this._ctx,function(i){var s=i.primaryKey.toString(),a=Nn(r,s);return r[s]=!0,!a}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var s;if(typeof e=="function")s=e;else{var a=yt(e),o=a.length;s=function(h){for(var v=!1,y=0;y<o;++y){var b=a[y],_=e[b];Ir(h,b)!==_&&(Xn(h,b,_),v=!0)}return v}}var u=r.table.core,l=u.schema.primaryKey,f=l.outbound,c=l.extractKey,p=n.db._options.modifyChunkSize||200,g=[],w=0,E=[],d=function(h,v){var y=v.failures,b=v.numFailures;w+=h-b;for(var _=0,x=yt(y);_<x.length;_++){var T=x[_];g.push(y[T])}};return n.clone().primaryKeys().then(function(h){var v=function(y){var b=Math.min(p,h.length-y);return u.getMany({trans:i,keys:h.slice(y,y+b),cache:"immutable"}).then(function(_){for(var x=[],T=[],I=f?[]:null,A=[],z=0;z<b;++z){var W=_[z],F={value:iu(W),primKey:h[y+z]};s.call(F,F.value,F)!==!1&&(F.value==null?A.push(h[y+z]):!f&&Yt(c(W),c(F.value))!==0?(A.push(h[y+z]),x.push(F.value)):(T.push(F.value),f&&I.push(h[y+z])))}var H=ls(r)&&r.limit===1/0&&(typeof e!="function"||e===wc)&&{index:r.index,range:r.range};return Promise.resolve(x.length>0&&u.mutate({trans:i,type:"add",values:x}).then(function(fe){for(var X in fe.failures)A.splice(parseInt(X),1);d(x.length,fe)})).then(function(){return(T.length>0||H&&typeof e=="object")&&u.mutate({trans:i,type:"put",keys:I,values:T,criteria:H,changeSpec:typeof e!="function"&&e}).then(function(fe){return d(T.length,fe)})}).then(function(){return(A.length>0||H&&e===wc)&&u.mutate({trans:i,type:"delete",keys:A,criteria:H}).then(function(fe){return d(A.length,fe)})}).then(function(){return h.length>y+b&&v(y+p)})})};return v(0).then(function(){if(g.length>0)throw new Bl("Error modifying one or more objects",g,w,E);return h.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return ls(e)&&(e.isPrimKey&&!KC||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(function(a){return e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(function(o){var u=o.failures;o.lastResult,o.results;var l=o.numFailures;if(l)throw new Bl("Could not delete some values",Object.keys(u).map(function(f){return u[f]}),a-l);return a-l})})}):this.modify(wc)},t}(),wc=function(t,e){return e.value=null};function GC(t){return lu(XC.prototype,function(n,r){this.db=t;var i=n1,s=null;if(r)try{i=r()}catch(l){s=l}var a=n._ctx,o=a.table,u=o.hook.reading.fire;this._ctx={table:o,index:a.index,isPrimKey:!a.index||o.schema.primKey.keyPath&&a.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:s,or:a.or,valueMapper:u!==su?u:null}})}function QC(t,e){return t<e?-1:t===e?0:1}function JC(t,e){return t>e?-1:t===e?0:1}function vn(t,e,n){var r=t instanceof i1?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function fs(t){return new t.Collection(t,function(){return r1("")}).limit(0)}function eO(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function tO(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function nO(t,e,n,r,i,s){for(var a=Math.min(t.length,r.length),o=-1,u=0;u<a;++u){var l=e[u];if(l!==r[u])return i(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):i(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):o>=0?t.substr(0,o)+e[o]+n.substr(o+1):null;i(t[u],l)<0&&(o=u)}return a<r.length&&s==="next"?t+n.substr(t.length):a<t.length&&s==="prev"?t.substr(0,n.length):o<0?null:t.substr(0,o)+r[o]+n.substr(o+1)}function Lu(t,e,n,r){var i,s,a,o,u,l,f,c=n.length;if(!n.every(function(E){return typeof E=="string"}))return vn(t,e1);function p(E){i=eO(E),s=tO(E),a=E==="next"?QC:JC;var d=n.map(function(h){return{lower:s(h),upper:i(h)}}).sort(function(h,v){return a(h.lower,v.lower)});o=d.map(function(h){return h.upper}),u=d.map(function(h){return h.lower}),l=E,f=E==="next"?"":r}p("next");var g=new t.Collection(t,function(){return jr(o[0],u[c-1]+r)});g._ondirectionchange=function(E){p(E)};var w=0;return g._addAlgorithm(function(E,d,h){var v=E.key;if(typeof v!="string")return!1;var y=s(v);if(e(y,u,w))return!0;for(var b=null,_=w;_<c;++_){var x=nO(v,y,o[_],u[_],a,l);x===null&&b===null?w=_+1:(b===null||a(b,x)>0)&&(b=x)}return d(b!==null?function(){E.continue(b+f)}:h),!1}),g}function jr(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function r1(t){return{type:1,lower:t,upper:t}}var i1=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?fs(this):new this.Collection(this,function(){return jr(e,n,!r,!i)})}catch{return vn(this,yr)}},t.prototype.equals=function(e){return e==null?vn(this,yr):new this.Collection(this,function(){return r1(e)})},t.prototype.above=function(e){return e==null?vn(this,yr):new this.Collection(this,function(){return jr(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?vn(this,yr):new this.Collection(this,function(){return jr(e,void 0,!1)})},t.prototype.below=function(e){return e==null?vn(this,yr):new this.Collection(this,function(){return jr(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?vn(this,yr):new this.Collection(this,function(){return jr(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?vn(this,e1):this.between(e,e+Ni,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Lu(this,function(n,r){return n.indexOf(r[0])===0},[e],Ni)},t.prototype.equalsIgnoreCase=function(e){return Lu(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=Er.apply(ds,arguments);return e.length===0?fs(this):Lu(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=Er.apply(ds,arguments);return e.length===0?fs(this):Lu(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,Ni)},t.prototype.anyOf=function(){var e=this,n=Er.apply(ds,arguments),r=this._cmp;try{n.sort(r)}catch{return vn(this,yr)}if(n.length===0)return fs(this);var i=new this.Collection(this,function(){return jr(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?e._ascending:e._descending,n.sort(r)};var s=0;return i._addAlgorithm(function(a,o,u){for(var l=a.key;r(l,n[s])>0;)if(++s,s===n.length)return o(u),!1;return r(l,n[s])===0?!0:(o(function(){a.continue(n[s])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[Vh,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=Er.apply(ds,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return vn(this,yr)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[Vh,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,s=this._ascending,a=this._descending,o=this._min,u=this._max;if(e.length===0)return fs(this);if(!e.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&s(_[0],_[1])<=0}))return vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ee.InvalidArgument);var l=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function c(_,x){for(var T=0,I=_.length;T<I;++T){var A=_[T];if(i(x[0],A[1])<0&&i(x[1],A[0])>0){A[0]=o(A[0],x[0]),A[1]=u(A[1],x[1]);break}}return T===I&&_.push(x),_}var p=s;function g(_,x){return p(_[0],x[0])}var w;try{w=e.reduce(c,[]),w.sort(g)}catch{return vn(this,yr)}var E=0,d=f?function(_){return s(_,w[E][1])>0}:function(_){return s(_,w[E][1])>=0},h=l?function(_){return a(_,w[E][0])>0}:function(_){return a(_,w[E][0])>=0};function v(_){return!d(_)&&!h(_)}var y=d,b=new this.Collection(this,function(){return jr(w[0][0],w[w.length-1][1],!l,!f)});return b._ondirectionchange=function(_){_==="next"?(y=d,p=s):(y=h,p=a),w.sort(g)},b._addAlgorithm(function(_,x,T){for(var I=_.key;y(I);)if(++E,E===w.length)return x(T),!1;return v(I)?!0:(r._cmp(I,w[E][1])===0||r._cmp(I,w[E][0])===0||x(function(){p===s?_.continue(w[E][0]):_.continue(w[E][1])}),!1)}),b},t.prototype.startsWithAnyOf=function(){var e=Er.apply(ds,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?fs(this):this.inAnyRange(e.map(function(n){return[n,n+Ni]})):vn(this,"startsWithAnyOf() only works with strings")},t}();function rO(t){return lu(i1.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var s=t._deps.indexedDB;if(!s)throw new Ee.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=function(a,o){return s.cmp(o,a)},this._max=function(a,o){return s.cmp(a,o)>0?a:o},this._min=function(a,o){return s.cmp(a,o)<0?a:o},this._IDBKeyRange=t._deps.IDBKeyRange})}function nr(t){return rt(function(e){return zo(e),t(e.target.error),!1})}function zo(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Mo="storagemutated",Gr="x-storagemutated-1",yi=uu(null,Mo),iO=function(){function t(){}return t.prototype._lock=function(){return $a(!ye.global),++this._reculock,this._reculock===1&&!ye.global&&(ye.lockOwnerFor=this),this},t.prototype._unlock=function(){if($a(!ye.global),--this._reculock===0)for(ye.global||(ye.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ca(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if($a(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new Ee.DatabaseClosed(i);case"MissingAPIError":throw new Ee.MissingAPI(i.message,i);default:throw new Ee.OpenFailed(i)}if(!this.active)throw new Ee.TransactionInactive;return $a(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=rt(function(s){zo(s),n._reject(e.error)}),e.onabort=rt(function(s){zo(s),n.active&&n._reject(new Ee.Abort(e.error)),n.active=!1,n.on("abort").fire(s)}),e.oncomplete=rt(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&yi.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return St(new Ee.ReadOnly("Transaction is readonly"));if(!this.active)return St(new Ee.TransactionInactive);if(this._locked())return new pe(function(a,o){i._blockedFuncs.push([function(){i._promise(e,n,r).then(a,o)},ye])});if(r)return mi(function(){var a=new pe(function(o,u){i._lock();var l=n(o,u,i);l&&l.then&&l.then(o,u)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var s=new pe(function(a,o){var u=n(a,o,i);u&&u.then&&u.then(a,o)});return s._lib=!0,s},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=pe.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var s=n._waitingFor;return new pe(function(a,o){r.then(function(u){return n._waitingQueue.push(rt(a.bind(null,u)))},function(u){return n._waitingQueue.push(rt(o.bind(null,u)))}).finally(function(){n._waitingFor===s&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ee.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(Nn(n,e))return n[e];var r=this.schema[e];if(!r)throw new Ee.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function sO(t){return lu(iO.prototype,function(n,r,i,s,a){var o=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=uu(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new pe(function(u,l){o._resolve=u,o._reject=l}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(u){var l=o.active;return o.active=!1,o.on.error.fire(u),o.parent?o.parent._reject(u):l&&o.idbtrans&&o.idbtrans.abort(),St(u)})})}function qh(t,e,n,r,i,s,a){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+s1(e)}}function s1(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function a1(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Mw(n,function(r){return[r.name,r]})}}function aO(t){return t.length===1?t[0]:t}var Bo=function(t){try{return t.only([[]]),Bo=function(){return[[]]},[[]]}catch{return Bo=function(){return Ni},Ni}};function Yh(t){return t==null?function(){}:typeof t=="string"?oO(t):function(e){return Ir(e,t)}}function oO(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return Ir(n,t)}}function Dg(t){return[].slice.call(t)}var uO=0;function oo(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function lO(t,e,n){function r(c,p){var g=Dg(c.objectStoreNames);return{schema:{name:c.name,tables:g.map(function(w){return p.objectStore(w)}).map(function(w){var E=w.keyPath,d=w.autoIncrement,h=Ut(E),v=E==null,y={},b={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:h,keyPath:E,autoIncrement:d,unique:!0,extractKey:Yh(E)},indexes:Dg(w.indexNames).map(function(_){return w.index(_)}).map(function(_){var x=_.name,T=_.unique,I=_.multiEntry,A=_.keyPath,z=Ut(A),W={name:x,compound:z,keyPath:A,unique:T,multiEntry:I,extractKey:Yh(A)};return y[oo(A)]=W,W}),getIndexByKeyPath:function(_){return y[oo(_)]}};return y[":id"]=b.primaryKey,E!=null&&(y[oo(E)]=b.primaryKey),b})},hasGetAll:g.length>0&&"getAll"in p.objectStore(g[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var p=c.lower,g=c.upper,w=c.lowerOpen,E=c.upperOpen,d=p===void 0?g===void 0?null:e.upperBound(g,!!E):g===void 0?e.lowerBound(p,!!w):e.bound(p,g,!!w,!!E);return d}function s(c){var p=c.name;function g(d){var h=d.trans,v=d.type,y=d.keys,b=d.values,_=d.range;return new Promise(function(x,T){x=rt(x);var I=h.objectStore(p),A=I.keyPath==null,z=v==="put"||v==="add";if(!z&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);var W=(y||b||{length:1}).length;if(y&&b&&y.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(W===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});var F,H=[],fe=[],X=0,ie=function(Y){++X,zo(Y)};if(v==="deleteRange"){if(_.type===4)return x({numFailures:X,failures:fe,results:[],lastResult:void 0});_.type===3?H.push(F=I.clear()):H.push(F=I.delete(i(_)))}else{var se=z?A?[b,y]:[b,null]:[y,null],ae=se[0],_e=se[1];if(z)for(var ke=0;ke<W;++ke)H.push(F=_e&&_e[ke]!==void 0?I[v](ae[ke],_e[ke]):I[v](ae[ke])),F.onerror=ie;else for(var ke=0;ke<W;++ke)H.push(F=I[v](ae[ke])),F.onerror=ie}var q=function(Y){var ue=Y.target.result;H.forEach(function(de,Te){return de.error!=null&&(fe[Te]=de.error)}),x({numFailures:X,failures:fe,results:v==="delete"?y:H.map(function(de){return de.result}),lastResult:ue})};F.onerror=function(Y){ie(Y),q(Y)},F.onsuccess=q})}function w(d){var h=d.trans,v=d.values,y=d.query,b=d.reverse,_=d.unique;return new Promise(function(x,T){x=rt(x);var I=y.index,A=y.range,z=h.objectStore(p),W=I.isPrimaryKey?z:z.index(I.name),F=b?_?"prevunique":"prev":_?"nextunique":"next",H=v||!("openKeyCursor"in W)?W.openCursor(i(A),F):W.openKeyCursor(i(A),F);H.onerror=nr(T),H.onsuccess=rt(function(fe){var X=H.result;if(!X){x(null);return}X.___id=++uO,X.done=!1;var ie=X.continue.bind(X),se=X.continuePrimaryKey;se&&(se=se.bind(X));var ae=X.advance.bind(X),_e=function(){throw new Error("Cursor not started")},ke=function(){throw new Error("Cursor not stopped")};X.trans=h,X.stop=X.continue=X.continuePrimaryKey=X.advance=_e,X.fail=rt(T),X.next=function(){var q=this,Y=1;return this.start(function(){return Y--?q.continue():q.stop()}).then(function(){return q})},X.start=function(q){var Y=new Promise(function(de,Te){de=rt(de),H.onerror=nr(Te),X.fail=Te,X.stop=function(Ue){X.stop=X.continue=X.continuePrimaryKey=X.advance=ke,de(Ue)}}),ue=function(){if(H.result)try{q()}catch(de){X.fail(de)}else X.done=!0,X.start=function(){throw new Error("Cursor behind last entry")},X.stop()};return H.onsuccess=rt(function(de){H.onsuccess=ue,ue()}),X.continue=ie,X.continuePrimaryKey=se,X.advance=ae,ue(),Y},x(X)},T)})}function E(d){return function(h){return new Promise(function(v,y){v=rt(v);var b=h.trans,_=h.values,x=h.limit,T=h.query,I=x===1/0?void 0:x,A=T.index,z=T.range,W=b.objectStore(p),F=A.isPrimaryKey?W:W.index(A.name),H=i(z);if(x===0)return v({result:[]});if(d){var fe=_?F.getAll(H,I):F.getAllKeys(H,I);fe.onsuccess=function(ae){return v({result:ae.target.result})},fe.onerror=nr(y)}else{var X=0,ie=_||!("openKeyCursor"in F)?F.openCursor(H):F.openKeyCursor(H),se=[];ie.onsuccess=function(ae){var _e=ie.result;if(!_e)return v({result:se});if(se.push(_?_e.value:_e.primaryKey),++X===x)return v({result:se});_e.continue()},ie.onerror=nr(y)}})}}return{name:p,schema:c,mutate:g,getMany:function(d){var h=d.trans,v=d.keys;return new Promise(function(y,b){y=rt(y);for(var _=h.objectStore(p),x=v.length,T=new Array(x),I=0,A=0,z,W=function(X){var ie=X.target;(T[ie._pos]=ie.result)!=null,++A===I&&y(T)},F=nr(b),H=0;H<x;++H){var fe=v[H];fe!=null&&(z=_.get(v[H]),z._pos=H,z.onsuccess=W,z.onerror=F,++I)}I===0&&y(T)})},get:function(d){var h=d.trans,v=d.key;return new Promise(function(y,b){y=rt(y);var _=h.objectStore(p),x=_.get(v);x.onsuccess=function(T){return y(T.target.result)},x.onerror=nr(b)})},query:E(u),openCursor:w,count:function(d){var h=d.query,v=d.trans,y=h.index,b=h.range;return new Promise(function(_,x){var T=v.objectStore(p),I=y.isPrimaryKey?T:T.index(y.name),A=i(b),z=A?I.count(A):I.count();z.onsuccess=rt(function(W){return _(W.target.result)}),z.onerror=nr(x)})}}}var a=r(t,n),o=a.schema,u=a.hasGetAll,l=o.tables.map(function(c){return s(c)}),f={};return l.forEach(function(c){return f[c.name]=c}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(c){var p=f[c];if(!p)throw new Error("Table '"+c+"' not found");return f[c]},MIN_KEY:-1/0,MAX_KEY:Bo(e),schema:o}}function fO(t,e){return e.reduce(function(n,r){var i=r.create;return Ae(Ae({},n),i(n))},t)}function cO(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var s=fO(lO(e,i,r),t.dbcore);return{dbcore:s}}function qp(t,e){var n=t._novip,r=e.db,i=cO(n._middlewares,r,n._deps,e);n.core=i.dbcore,n.tables.forEach(function(s){var a=s.name;n.core.schema.tables.some(function(o){return o.name===a})&&(s.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=s.core))})}function Kl(t,e,n,r){var i=t._novip;n.forEach(function(s){var a=r[s];e.forEach(function(o){var u=Bp(o,s);(!u||"value"in u&&u.value===void 0)&&(o===i.Transaction.prototype||o instanceof i.Transaction?Lr(o,s,{get:function(){return this.table(s)},set:function(l){Pw(this,s,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[s]=new i.Table(s,a))})})}function Zh(t,e){var n=t._novip;e.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function hO(t,e){return t._cfg.version-e._cfg.version}function dO(t,e,n,r){var i=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);var a=s._reject.bind(s),o=ye.transless||ye;mi(function(){ye.trans=s,ye.transless=o,e===0?(yt(i).forEach(function(u){Yp(n,u,i[u].primKey,i[u].indexes)}),qp(t,n),pe.follow(function(){return t.on.populate.fire(s)}).catch(a)):pO(t,e,s,n).catch(a)})}function pO(t,e,n,r){var i=t._novip,s=[],a=i._versions,o=i._dbSchema=Zp(i,i.idbdb,r),u=!1,l=a.filter(function(c){return c._cfg.version>=e});l.forEach(function(c){s.push(function(){var p=o,g=c._cfg.dbschema;Gh(i,p,r),Gh(i,g,r),o=i._dbSchema=g;var w=o1(p,g);w.add.forEach(function(b){Yp(r,b[0],b[1].primKey,b[1].indexes)}),w.change.forEach(function(b){if(b.recreate)throw new Ee.Upgrade("Not yet support for changing primary key");var _=r.objectStore(b.name);b.add.forEach(function(x){return Xh(_,x)}),b.change.forEach(function(x){_.deleteIndex(x.name),Xh(_,x)}),b.del.forEach(function(x){return _.deleteIndex(x)})});var E=c._cfg.contentUpgrade;if(E&&c._cfg.version>e){qp(i,r),n._memoizedTables={},u=!0;var d=Bw(g);w.del.forEach(function(b){d[b]=p[b]}),Zh(i,[i.Transaction.prototype]),Kl(i,[i.Transaction.prototype],yt(d),d),n.schema=d;var h=Fp(E);h&&fa();var v,y=pe.follow(function(){if(v=E(n),v&&h){var b=zr.bind(null,null);v.then(b,b)}});return v&&typeof v.then=="function"?pe.resolve(v):y.then(function(){return v})}}),s.push(function(p){if(!u||!$C){var g=c._cfg.dbschema;mO(g,p)}Zh(i,[i.Transaction.prototype]),Kl(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return s.length?pe.resolve(s.shift()(n.idbtrans)).then(f):pe.resolve()}return f().then(function(){vO(o,r)})}function o1(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],s=e[r];if(!i)n.add.push([r,s]);else{var a={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Tf)a.recreate=!0,n.change.push(a);else{var o=i.idxByName,u=s.idxByName,l=void 0;for(l in o)u[l]||a.del.push(l);for(l in u){var f=o[l],c=u[l];f?f.src!==c.src&&a.change.push(c):a.add.push(c)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function Yp(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(s){return Xh(i,s)}),i}function vO(t,e){yt(t).forEach(function(n){e.db.objectStoreNames.contains(n)||Yp(e,n,t[n].primKey,t[n].indexes)})}function mO(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function Xh(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Zp(t,e,n){var r={},i=Sf(e.objectStoreNames,0);return i.forEach(function(s){for(var a=n.objectStore(s),o=a.keyPath,u=qh(s1(o),o||"",!1,!1,!!a.autoIncrement,o&&typeof o!="string",!0),l=[],f=0;f<a.indexNames.length;++f){var c=a.index(a.indexNames[f]);o=c.keyPath;var p=qh(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&typeof o!="string",!1);l.push(p)}r[s]=a1(s,u,l)}),r}function gO(t,e,n){var r=t._novip;r.verno=e.version/10;var i=r._dbSchema=Zp(r,e,n);r._storeNames=Sf(e.objectStoreNames,0),Kl(r,[r._allTables],yt(i),i)}function yO(t,e){var n=Zp(t,t.idbdb,e),r=o1(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function Gh(t,e,n){for(var r=t._novip,i=n.db.objectStoreNames,s=0;s<i.length;++s){var a=i[s],o=n.objectStore(a);r._hasGetAll="getAll"in o;for(var u=0;u<o.indexNames.length;++u){var l=o.indexNames[u],f=o.index(l).keyPath,c=typeof f=="string"?f:"["+Sf(f).join("+")+"]";if(e[a]){var p=e[a].idxByName[c];p&&(p.name=l,delete e[a].idxByName[c],e[a].idxByName[l]=p)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Qe.WorkerGlobalScope&&Qe instanceof Qe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function _O(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return qh(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ut(i),n===0)})}var wO=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){yt(e).forEach(function(r){if(e[r]!==null){var i=_O(e[r]),s=i.shift();if(s.multi)throw new Ee.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new Ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Ee.Schema("Index must have a name and cannot be an empty string")}),n[r]=a1(r,s,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Qt(this._cfg.storesSource,e):e;var r=n._versions,i={},s={};return r.forEach(function(a){Qt(i,a._cfg.storesSource),s=a._cfg.dbschema={},a._parseStoresSpec(i,s)}),n._dbSchema=s,Zh(n,[n._allTables,n,n.Transaction.prototype]),Kl(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],yt(s),s),n._storeNames=yt(s),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Wp(this._cfg.contentUpgrade||Ke,e),this},t}();function EO(t){return lu(wO.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Xp(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Hl(Cf,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Gp(t){return t&&typeof t.databases=="function"}function bO(t){var e=t.indexedDB,n=t.IDBKeyRange;return Gp(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Cf})}):Xp(e,n).toCollection().primaryKeys()}function xO(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Gp(n)&&e!==Cf&&Xp(n,r).put({name:e}).catch(Ke)}function SO(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Gp(n)&&e!==Cf&&Xp(n,r).delete(e).catch(Ke)}function Qh(t){return mi(function(){return ye.letThrough=!0,t()})}function kO(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function TO(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?St(e.dbOpenError):t});pr&&(e.openCanceller._stackHolder=Ji()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new Ee.DatabaseClosed("db.open() was cancelled")}var s=e.dbReadyResolve,a=null,o=!1;return pe.race([r,(typeof navigator=="undefined"?pe.resolve():kO()).then(function(){return new pe(function(u,l){if(i(),!n)throw new Ee.MissingAPI;var f=t.name,c=e.autoSchema?n.open(f):n.open(f,Math.round(t.verno*10));if(!c)throw new Ee.MissingAPI;c.onerror=nr(l),c.onblocked=rt(t._fireOnBlocked),c.onupgradeneeded=rt(function(p){if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=zo,a.abort(),c.result.close();var g=n.deleteDatabase(f);g.onsuccess=g.onerror=rt(function(){l(new Ee.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{a.onerror=nr(l);var w=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;o=w<1,t._novip.idbdb=c.result,dO(t,w/10,a,l)}},l),c.onsuccess=rt(function(){a=null;var p=t._novip.idbdb=c.result,g=Sf(p.objectStoreNames);if(g.length>0)try{var w=p.transaction(aO(g),"readonly");e.autoSchema?gO(t,p,w):(Gh(t,t._dbSchema,w),yO(t,w)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),qp(t,w)}catch{}ao.push(t),p.onversionchange=rt(function(E){e.vcFired=!0,t.on("versionchange").fire(E)}),p.onclose=rt(function(E){t.on("close").fire(E)}),o&&xO(t._deps,f),u()},l)})})]).then(function(){return i(),e.onReadyBeingFired=[],pe.resolve(Qh(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(e.onReadyBeingFired.length>0){var l=e.onReadyBeingFired.reduce(Wp,Ke);return e.onReadyBeingFired=[],pe.resolve(Qh(function(){return l(t.vip)})).then(u)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(u){e.dbOpenError=u;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),St(u)}).finally(function(){e.openComplete=!0,s()})}function Jh(t){var e=function(a){return t.next(a)},n=function(a){return t.throw(a)},r=s(e),i=s(n);function s(a){return function(o){var u=a(o),l=u.value;return u.done?l:!l||typeof l.then!="function"?Ut(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return s(e)()}function CO(t,e,n){var r=arguments.length;if(r<2)throw new Ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var s=Fw(i);return[t,s,n]}function u1(t,e,n,r,i){return pe.resolve().then(function(){var s=ye.transless||ye,a=t._createTransaction(e,n,t._dbSchema,r),o={trans:a,transless:s};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===jp.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return u1(t,e,n,null,i)})):St(c)}var u=Fp(i);u&&fa();var l,f=pe.follow(function(){if(l=i.call(a,a),l)if(u){var c=zr.bind(null,null);l.then(c,c)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Jh(l))},o);return(l&&typeof l.then=="function"?pe.resolve(l).then(function(c){return a.active?c:St(new Ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return l})).then(function(c){return r&&a._resolve(),a._completion.then(function(){return c})}).catch(function(c){return a._reject(c),St(c)})})}function zu(t,e,n){for(var r=Ut(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function OO(t){return Ae(Ae({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},s=[];function a(E,d,h){var v=oo(E),y=i[v]=i[v]||[],b=E==null?0:typeof E=="string"?1:E.length,_=d>0,x=Ae(Ae({},h),{isVirtual:_,keyTail:d,keyLength:b,extractKey:Yh(E),unique:!_&&h.unique});if(y.push(x),x.isPrimaryKey||s.push(x),b>1){var T=b===2?E[0]:E.slice(0,b-1);a(T,d+1,h)}return y.sort(function(I,A){return I.keyTail-A.keyTail}),x}var o=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(var u=0,l=r.indexes;u<l.length;u++){var f=l[u];a(f.keyPath,0,f)}function c(E){var d=i[oo(E)];return d&&d[0]}function p(E,d){return{type:E.type===1?2:E.type,lower:zu(E.lower,E.lowerOpen?t.MAX_KEY:t.MIN_KEY,d),lowerOpen:!0,upper:zu(E.upper,E.upperOpen?t.MIN_KEY:t.MAX_KEY,d),upperOpen:!0}}function g(E){var d=E.query.index;return d.isVirtual?Ae(Ae({},E),{query:{index:d,range:p(E.query.range,d.keyTail)}}):E}var w=Ae(Ae({},n),{schema:Ae(Ae({},r),{primaryKey:o,indexes:s,getIndexByKeyPath:c}),count:function(E){return n.count(g(E))},query:function(E){return n.query(g(E))},openCursor:function(E){var d=E.query.index,h=d.keyTail,v=d.isVirtual,y=d.keyLength;if(!v)return n.openCursor(E);function b(_){function x(I){I!=null?_.continue(zu(I,E.reverse?t.MAX_KEY:t.MIN_KEY,h)):E.unique?_.continue(_.key.slice(0,y).concat(E.reverse?t.MIN_KEY:t.MAX_KEY,h)):_.continue()}var T=Object.create(_,{continue:{value:x},continuePrimaryKey:{value:function(I,A){_.continuePrimaryKey(zu(I,t.MAX_KEY,h),A)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var I=_.key;return y===1?I[0]:I.slice(0,y)}},value:{get:function(){return _.value}}});return T}return n.openCursor(g(E)).then(function(_){return _&&b(_)})}});return w}})}var IO={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:OO};function Qp(t,e,n,r){return n=n||{},r=r||"",yt(t).forEach(function(i){if(!Nn(e,i))n[r+i]=void 0;else{var s=t[i],a=e[i];if(typeof s=="object"&&typeof a=="object"&&s&&a){var o=Ph(s),u=Ph(a);o!==u?n[r+i]=e[i]:o==="Object"?Qp(s,a,n,r+i+"."):s!==a&&(n[r+i]=e[i])}else s!==a&&(n[r+i]=e[i])}}),yt(e).forEach(function(i){Nn(t,i)||(n[r+i]=e[i])}),n}function RO(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var AO={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Ae(Ae({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=Ae(Ae({},n),{mutate:function(s){var a=ye.trans,o=a.table(e).hook,u=o.deleting,l=o.creating,f=o.updating;switch(s.type){case"add":if(l.fire===Ke)break;return a._promise("readwrite",function(){return c(s)},!0);case"put":if(l.fire===Ke&&f.fire===Ke)break;return a._promise("readwrite",function(){return c(s)},!0);case"delete":if(u.fire===Ke)break;return a._promise("readwrite",function(){return c(s)},!0);case"deleteRange":if(u.fire===Ke)break;return a._promise("readwrite",function(){return p(s)},!0)}return n.mutate(s);function c(w){var E=ye.trans,d=w.keys||RO(r,w);if(!d)throw new Error("Keys missing");return w=w.type==="add"||w.type==="put"?Ae(Ae({},w),{keys:d}):Ae({},w),w.type!=="delete"&&(w.values=Nh([],w.values,!0)),w.keys&&(w.keys=Nh([],w.keys,!0)),NO(n,w,d).then(function(h){var v=d.map(function(y,b){var _=h[b],x={onerror:null,onsuccess:null};if(w.type==="delete")u.fire.call(x,y,_,E);else if(w.type==="add"||_===void 0){var T=l.fire.call(x,y,w.values[b],E);y==null&&T!=null&&(y=T,w.keys[b]=y,r.outbound||Xn(w.values[b],r.keyPath,y))}else{var I=Qp(_,w.values[b]),A=f.fire.call(x,I,y,_,E);if(A){var z=w.values[b];Object.keys(A).forEach(function(W){Nn(z,W)?z[W]=A[W]:Xn(z,W,A[W])})}}return x});return n.mutate(w).then(function(y){for(var b=y.failures,_=y.results,x=y.numFailures,T=y.lastResult,I=0;I<d.length;++I){var A=_?_[I]:d[I],z=v[I];A==null?z.onerror&&z.onerror(b[I]):z.onsuccess&&z.onsuccess(w.type==="put"&&h[I]?w.values[I]:A)}return{failures:b,results:_,numFailures:x,lastResult:T}}).catch(function(y){return v.forEach(function(b){return b.onerror&&b.onerror(y)}),Promise.reject(y)})})}function p(w){return g(w.trans,w.range,1e4)}function g(w,E,d){return n.query({trans:w,values:!1,query:{index:r,range:E},limit:d}).then(function(h){var v=h.result;return c({type:"delete",keys:v,trans:w}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):v.length<d?{failures:[],numFailures:0,lastResult:void 0}:g(w,Ae(Ae({},E),{lower:v[v.length-1],lowerOpen:!0}),d)})})}}});return i}})}};function NO(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function l1(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,s=0;i<e.keys.length&&s<t.length;++i)Yt(e.keys[i],t[s])===0&&(r.push(n?iu(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}var DO={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Ae(Ae({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=l1(r.keys,r.trans._cache,r.cache==="clone");return i?pe.resolve(i):n.getMany(r).then(function(s){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?iu(s):s},s})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},Ec;function Jp(t){return!("from"in t)}var rr=function(t,e){if(this)Qt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new rr;return t&&"d"in t&&Qt(n,t),n}};Vs(rr.prototype,(Ec={add:function(t){return Uo(this,t),this},addKey:function(t){return Fo(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return Fo(e,n,n)}),this}},Ec[Lh]=function(){return ed(this)},Ec));function Fo(t,e,n){var r=Yt(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Jp(t))return Qt(t,{from:e,to:n,d:1});var i=t.l,s=t.r;if(Yt(n,t.from)<0)return i?Fo(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Pg(t);if(Yt(e,t.to)>0)return s?Fo(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Pg(t);Yt(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),Yt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;i&&!t.l&&Uo(t,i),s&&a&&Uo(t,s)}}function Uo(t,e){function n(r,i){var s=i.from,a=i.to,o=i.l,u=i.r;Fo(r,s,a),o&&n(r,o),u&&n(r,u)}Jp(e)||n(t,e)}function f1(t,e){var n=ed(e),r=n.next();if(r.done)return!1;for(var i=r.value,s=ed(t),a=s.next(i.from),o=a.value;!r.done&&!a.done;){if(Yt(o.from,i.to)<=0&&Yt(o.to,i.from)>=0)return!0;Yt(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(a=s.next(i.from)).value}return!1}function ed(t){var e=Jp(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Yt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Yt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Pg(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var s=i==="r"?"l":"r",a=Ae({},t),o=t[i];t.from=o.from,t.to=o.to,t[i]=o[i],a[i]=o[s],t[s]=a,a.d=Lg(a)}t.d=Lg(t)}function Lg(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var PO={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new rr(t.MIN_KEY,t.MAX_KEY);return Ae(Ae({},t),{table:function(r){var i=t.table(r),s=i.schema,a=s.primaryKey,o=a.extractKey,u=a.outbound,l=Ae(Ae({},i),{mutate:function(p){var g=p.trans,w=g.mutatedParts||(g.mutatedParts={}),E=function(T){var I="idb://"+e+"/"+r+"/"+T;return w[I]||(w[I]=new rr)},d=E(""),h=E(":dels"),v=p.type,y=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[[],p.values]:[],b=y[0],_=y[1],x=p.trans._cache;return i.mutate(p).then(function(T){if(Ut(b)){v!=="delete"&&(b=T.results),d.addKeys(b);var I=l1(b,x);!I&&v!=="add"&&h.addKeys(b),(I||_)&&LO(E,s,I,_)}else if(b){var A={from:b.lower,to:b.upper};h.add(A),d.add(A)}else d.add(n),h.add(n),s.indexes.forEach(function(z){return E(z.name).add(n)});return T})}}),f=function(p){var g,w,E=p.query,d=E.index,h=E.range;return[d,new rr((g=h.lower)!==null&&g!==void 0?g:t.MIN_KEY,(w=h.upper)!==null&&w!==void 0?w:t.MAX_KEY)]},c={get:function(p){return[a,new rr(p.key)]},getMany:function(p){return[a,new rr().addKeys(p.keys)]},count:f,query:f,openCursor:f};return yt(c).forEach(function(p){l[p]=function(g){var w=ye.subscr;if(w){var E=function(x){var T="idb://"+e+"/"+r+"/"+x;return w[T]||(w[T]=new rr)},d=E(""),h=E(":dels"),v=c[p](g),y=v[0],b=v[1];if(E(y.name||"").add(b),!y.isPrimaryKey)if(p==="count")h.add(n);else{var _=p==="query"&&u&&g.values&&i.query(Ae(Ae({},g),{values:!1}));return i[p].apply(this,arguments).then(function(x){if(p==="query"){if(u&&g.values)return _.then(function(z){var W=z.result;return d.addKeys(W),x});var T=g.values?x.result.map(o):x.result;g.values?d.addKeys(T):h.addKeys(T)}else if(p==="openCursor"){var I=x,A=g.values;return I&&Object.create(I,{key:{get:function(){return h.addKey(I.primaryKey),I.key}},primaryKey:{get:function(){var z=I.primaryKey;return h.addKey(z),z}},value:{get:function(){return A&&d.addKey(I.primaryKey),I.value}}})}return x})}}return i[p].apply(this,arguments)}}),l}})}};function LO(t,e,n,r){function i(s){var a=t(s.name||"");function o(l){return l!=null?s.extractKey(l):null}var u=function(l){return s.multiEntry&&Ut(l)?l.forEach(function(f){return a.addKey(f)}):a.addKey(l)};(n||r).forEach(function(l,f){var c=n&&o(n[f]),p=r&&o(r[f]);Yt(c,p)!==0&&(c!=null&&u(c),p!=null&&u(p))})}e.indexes.forEach(i)}var Hl=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=Ae({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var s=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ke,dbReadyPromise:null,cancelOpen:Ke,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new pe(function(o){a.dbReadyResolve=o}),a.openCanceller=new pe(function(o,u){a.cancelOpen=u}),this._state=a,this.name=e,this.on=uu(this,"populate","blocked","versionchange","close",{ready:[Wp,Ke]}),this.on.ready.subscribe=Lw(this.on.ready.subscribe,function(o){return function(u,l){t.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||pe.resolve().then(u),l&&o(u);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(u),l&&o(u);else{o(u);var c=r;l||o(function p(){c.on.ready.unsubscribe(u),c.on.ready.unsubscribe(p)})}})}}),this.Collection=GC(this),this.Table=VC(this),this.Transaction=sO(this),this.Version=EO(this),this.WhereClause=rO(this),this.on("versionchange",function(o){o.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(o){!o.newVersion||o.newVersion<o.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+o.oldVersion/10)}),this._maxKey=Bo(n.IDBKeyRange),this._createTransaction=function(o,u,l,f){return new r.Transaction(o,u,l,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(o){r.on("blocked").fire(o),ao.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(o)})},this.use(IO),this.use(AO),this.use(PO),this.use(DO),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(function(o){return o(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new Ee.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new Ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(hO),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?e():new pe(function(r,i){if(n._state.openComplete)return i(new Ee.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new Ee.DatabaseClosed);return}n.open().catch(Ke)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,s=e.name;s&&this.unuse({stack:n,name:s});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i==null?10:i,name:s}),a.sort(function(o,u){return o.level-u.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(s){return i?s.create!==i:r?s.name!==r:!1})),this},t.prototype.open=function(){return TO(this)},t.prototype._close=function(){var e=this._state,n=ao.indexOf(this);if(n>=0&&ao.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new pe(function(r){e.dbReadyResolve=r}),e.openCanceller=new pe(function(r,i){e.cancelOpen=i})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ee.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new pe(function(i,s){var a=function(){e.close();var o=e._deps.indexedDB.deleteDatabase(e.name);o.onsuccess=rt(function(){SO(e._deps,e.name),i()}),o.onerror=nr(s),o.onblocked=e._fireOnBlocked};if(n)throw new Ee.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return yt(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=CO.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,s=ye.trans;(!s||s.db!==this||e.indexOf("!")!==-1)&&(s=null);var a=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var o,u;try{if(u=n.map(function(f){var c=f instanceof i.Table?f.name:f;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===mc)o=mc;else if(e=="rw"||e==gc)o=gc;else throw new Ee.InvalidArgument("Invalid transaction mode: "+e);if(s){if(s.mode===mc&&o===gc)if(a)s=null;else throw new Ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s&&u.forEach(function(f){if(s&&s.storeNames.indexOf(f)===-1)if(a)s=null;else throw new Ee.SubTransaction("Table "+f+" not included in parent transaction.")}),a&&s&&!s.active&&(s=null)}}catch(f){return s?s._promise(null,function(c,p){p(f)}):St(f)}var l=u1.bind(null,this,o,u,s,r);return s?s._promise(o,l,"lock"):ye.trans?ca(ye.transless,function(){return i._whenReady(l)}):this._whenReady(l)},t.prototype.table=function(e){if(!Nn(this._allTables,e))throw new Ee.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),zO=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",MO=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[zO]=function(){return this},t}();function c1(t,e){return yt(e).forEach(function(n){var r=t[n]||(t[n]=new rr);Uo(r,e[n])}),t}function h1(t){return new MO(function(e){var n=Fp(t);function r(g){n&&fa();var w=function(){return mi(t,{subscr:g,trans:null})},E=ye.trans?ca(ye.transless,w):w();return n&&E.then(zr,zr),E}var i=!1,s={},a={},o={get closed(){return i},unsubscribe:function(){i=!0,yi.storagemutated.unsubscribe(c)}};e.start&&e.start(o);var u=!1,l=!1;function f(){return yt(a).some(function(g){return s[g]&&f1(s[g],a[g])})}var c=function(g){c1(s,g),f()&&p()},p=function(){if(!(u||i)){s={};var g={},w=r(g);l||(yi(Mo,c),l=!0),u=!0,Promise.resolve(w).then(function(E){u=!1,!i&&(f()?p():(s={},a=g,e.next&&e.next(E)))},function(E){u=!1,e.error&&e.error(E),o.unsubscribe()})}};return p(),o})}var td;try{td={indexedDB:Qe.indexedDB||Qe.mozIndexedDB||Qe.webkitIndexedDB||Qe.msIndexedDB,IDBKeyRange:Qe.IDBKeyRange||Qe.webkitIDBKeyRange}}catch{td={indexedDB:null,IDBKeyRange:null}}var ki=Hl;Vs(ki,Ae(Ae({},kf),{delete:function(t){var e=new ki(t,{addons:[]});return e.delete()},exists:function(t){return new ki(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return bO(ki.dependencies).then(t)}catch{return St(new Ee.MissingAPI)}},defineClass:function(){function t(e){Qt(this,e)}return t},ignoreTransaction:function(t){return ye.trans?ca(ye.transless,t):t()},vip:Qh,async:function(t){return function(){try{var e=Jh(t.apply(this,arguments));return!e||typeof e.then!="function"?pe.resolve(e):e}catch(n){return St(n)}}},spawn:function(t,e,n){try{var r=Jh(t.apply(n,e||[]));return!r||typeof r.then!="function"?pe.resolve(r):r}catch(i){return St(i)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(t,e){var n=pe.resolve(typeof t=="function"?ki.ignoreTransaction(t):t).timeout(e||6e4);return ye.trans?ye.trans.waitFor(n):n},Promise:pe,debug:{get:function(){return pr},set:function(t){jw(t,t==="dexie"?function(){return!0}:t1)}},derive:ua,extend:Qt,props:Vs,override:Lw,Events:uu,on:yi,liveQuery:h1,extendObservabilitySet:c1,getByKeyPath:Ir,setByKeyPath:Xn,delByKeyPath:gC,shallowClone:Bw,deepClone:iu,getObjectDiff:Qp,cmp:Yt,asap:zw,minKey:Vh,addons:[],connections:ao,errnames:jp,dependencies:td,semVer:Og,version:Og.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));ki.maxKey=Bo(ki.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(yi(Mo,function(t){if(!kr){var e;Tf?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Gr,!0,!0,t)):e=new CustomEvent(Gr,{detail:t}),kr=!0,dispatchEvent(e),kr=!1}}),addEventListener(Gr,function(t){var e=t.detail;kr||Vl(e)}));function Vl(t){var e=kr;try{kr=!0,yi.storagemutated.fire(t)}finally{kr=e}}var kr=!1;if(typeof BroadcastChannel!="undefined"){var zg=new BroadcastChannel(Gr);yi(Mo,function(t){kr||zg.postMessage(t)}),zg.onmessage=function(t){t.data&&Vl(t.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){yi(Mo,function(t){try{kr||(typeof localStorage!="undefined"&&localStorage.setItem(Gr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&Nh([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:Gr,changedParts:t})}))}catch{}}),addEventListener("storage",function(t){if(t.key===Gr){var e=JSON.parse(t.newValue);e&&Vl(e.changedParts)}});var Mg=self.document&&navigator.serviceWorker;Mg&&Mg.addEventListener("message",BO)}function BO(t){var e=t.data;e&&e.type===Gr&&Vl(e.changedParts)}pe.rejectionMapper=TC;jw(pr,t1);var FO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Dexie:Hl,RangeSet:rr,default:Hl,liveQuery:h1,mergeRanges:Uo,rangesOverlap:f1}),Bg={exports:{}},UO=k1(FO);(function(t,e){(function(n,r){r(e,UO,Se.exports)})(Vn,function(n,r,i){function s(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var a=s(i);function o(f,c,p){var g,w;typeof f=="function"?(g=c||[],w=p):(g=[],w=c);var E=a.default.useRef({hasResult:!1,result:w,error:null}),d=a.default.useReducer(function(y){return y+1},0);d[0];var h=d[1],v=a.default.useMemo(function(){var y=typeof f=="function"?f():f;if(!y||typeof y.subscribe!="function")throw f===y?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!E.current.hasResult)if(typeof y.getValue=="function")E.current.result=y.getValue(),E.current.hasResult=!0;else{var b=y.subscribe(function(_){E.current.result=_,E.current.hasResult=!0});typeof b=="function"?b():b.unsubscribe()}return y},g);if(a.default.useDebugValue(E.current.result),a.default.useEffect(function(){var y=v.subscribe(function(b){var _=E.current;(_.error!==null||_.result!==b)&&(_.error=null,_.result=b,_.hasResult=!0,h())},function(b){var _=E.current;_.error!==b&&(_.error=b,h())});return typeof y=="function"?y:y.unsubscribe.bind(y)},g),E.current.error)throw E.current.error;return E.current.result}function u(f,c,p){return o(function(){return r.liveQuery(f)},c||[],p)}function l(f,c,p){if(!f)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var g;if(arguments.length>=3){if(!("transaction"in f))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof c!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!p||typeof p!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");g=f}else{if(f instanceof r.Dexie)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof f.table=="function"&&typeof f.db=="object")g=f.db,p=f,c=f.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in g))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in g.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return o(function(){return g.cloud.permissions(p,c)},[p.realmId,p.owner,c])}n.useLiveQuery=u,n.useObservable=o,n.usePermissions=l,Object.defineProperty(n,"__esModule",{value:!0})})})(Bg,Bg.exports);var jO={exports:{}},fu={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO=Se.exports,d1=60103;fu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Fg=Symbol.for;d1=Fg("react.element"),fu.Fragment=Fg("react.fragment")}var $O=WO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KO=Object.prototype.hasOwnProperty,HO={key:!0,ref:!0,__self:!0,__source:!0};function p1(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)KO.call(e,r)&&!HO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:d1,type:t,key:s,ref:a,props:i,_owner:$O.current}}fu.jsx=p1;fu.jsxs=p1;jO.exports=fu;export{vT as B,Hl as D,Pp as L,aa as M,qO as R,GO as a,QO as b,L1 as c,Bg as d,z1 as e,XO as f,YO as g,Pb as h,jO as j,Se as r,ZO as u};
